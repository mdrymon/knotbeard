'use strict';

// Dependencies

var Flame = require('../index.js')
var data = require('concurix-waterfalldata').expressExample
//var data = require('concurix-waterfalldata').simpleTest

var xform = require('concurix-waterfalltransform')
if( !data.enhancedVersion ){
  data = xform.enhanceWaterfall(data)
}
//var data = require('../test/level.json')
var waterfalls = data.waterfalls
var fns = data.functions
var wf = waterfalls[7]

var el = document.getElementById('flame-viz')
var flame = new Flame()
flame.init(el, { })


flame.update(wf, fns)


var elNoZoom = document.getElementById('flame-viz-nozoom')
var flameNoZoom = new Flame()
flameNoZoom.init(elNoZoom, {disableZoom: true })


flameNoZoom.update(wf, fns)

window.onresize = function resize(e){
  console.log('got resize event', e)
  flame.resize()
  flameNoZoom.resize()
}
