require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
!function(){function t(t){this.message=t}var e="undefined"!=typeof exports?exports:this,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=new Error,t.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var o,n,a=0,i=r,c="";e.charAt(0|a)||(i="=",a%1);c+=i.charAt(63&o>>8-a%1*8)){if(n=e.charCodeAt(a+=.75),n>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");o=o<<8|n}return c}),e.atob||(e.atob=function(e){if(e=e.replace(/=+$/,""),e.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,n,a=0,i=0,c="";n=e.charAt(i++);~n&&(o=a%4?64*o+n:n,a++%4)?c+=String.fromCharCode(255&o>>(-2*a&6)):0)n=r.indexOf(n);return c})}();
},{}],2:[function(require,module,exports){
function replacer(t,e){return util.isUndefined(e)?""+e:util.isNumber(e)&&!isFinite(e)?e.toString():util.isFunction(e)||util.isRegExp(e)?e.toString():e}function truncate(t,e){return util.isString(t)?t.length<e?t:t.slice(0,e):t}function getMessage(t){return truncate(JSON.stringify(t.actual,replacer),128)+" "+t.operator+" "+truncate(JSON.stringify(t.expected,replacer),128)}function fail(t,e,r,i,s){throw new assert.AssertionError({message:r,actual:t,expected:e,operator:i,stackStartFunction:s})}function ok(t,e){t||fail(t,!0,e,"==",assert.ok)}function _deepEqual(t,e){if(t===e)return!0;if(util.isBuffer(t)&&util.isBuffer(e)){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return util.isDate(t)&&util.isDate(e)?t.getTime()===e.getTime():util.isRegExp(t)&&util.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:util.isObject(t)||util.isObject(e)?objEquiv(t,e):t==e}function isArguments(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function objEquiv(t,e){if(util.isNullOrUndefined(t)||util.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(util.isPrimitive(t)||util.isPrimitive(e))return t===e;var r=isArguments(t),i=isArguments(e);if(r&&!i||!r&&i)return!1;if(r)return t=pSlice.call(t),e=pSlice.call(e),_deepEqual(t,e);var s,n,a=objectKeys(t),u=objectKeys(e);if(a.length!=u.length)return!1;for(a.sort(),u.sort(),n=a.length-1;n>=0;n--)if(a[n]!=u[n])return!1;for(n=a.length-1;n>=0;n--)if(s=a[n],!_deepEqual(t[s],e[s]))return!1;return!0}function expectedException(t,e){return t&&e?"[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e?!0:e.call({},t)===!0?!0:!1:!1}function _throws(t,e,r,i){var s;util.isString(r)&&(i=r,r=null);try{e()}catch(n){s=n}if(i=(r&&r.name?" ("+r.name+").":".")+(i?" "+i:"."),t&&!s&&fail(s,r,"Missing expected exception"+i),!t&&expectedException(s,r)&&fail(s,r,"Got unwanted exception"+i),t&&s&&r&&!expectedException(s,r)||!t&&s)throw s}var util=require("util/"),pSlice=Array.prototype.slice,hasOwn=Object.prototype.hasOwnProperty,assert=module.exports=ok;assert.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var e=t.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var i=r.stack,s=e.name,n=i.indexOf("\n"+s);if(n>=0){var a=i.indexOf("\n",n+1);i=i.substring(a+1)}this.stack=i}}},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function(t,e,r){t!=e&&fail(t,e,r,"==",assert.equal)},assert.notEqual=function(t,e,r){t==e&&fail(t,e,r,"!=",assert.notEqual)},assert.deepEqual=function(t,e,r){_deepEqual(t,e)||fail(t,e,r,"deepEqual",assert.deepEqual)},assert.notDeepEqual=function(t,e,r){_deepEqual(t,e)&&fail(t,e,r,"notDeepEqual",assert.notDeepEqual)},assert.strictEqual=function(t,e,r){t!==e&&fail(t,e,r,"===",assert.strictEqual)},assert.notStrictEqual=function(t,e,r){t===e&&fail(t,e,r,"!==",assert.notStrictEqual)},assert["throws"]=function(t,e,r){_throws.apply(this,[!0].concat(pSlice.call(arguments)))},assert.doesNotThrow=function(t,e){_throws.apply(this,[!1].concat(pSlice.call(arguments)))},assert.ifError=function(t){if(t)throw t};var objectKeys=Object.keys||function(t){var e=[];for(var r in t)hasOwn.call(t,r)&&e.push(r);return e};
},{"util/":594}],3:[function(require,module,exports){
(function (process){
!function(){function n(n){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,n.apply(t,arguments)}}var t,e,r={};t=this,null!=t&&(e=t.async),r.noConflict=function(){return t.async=e,r};var u=Object.prototype.toString,i=Array.isArray||function(n){return"[object Array]"===u.call(n)},c=function(n,t){for(var e=0;e<n.length;e+=1)t(n[e],e,n)},a=function(n,t){if(n.map)return n.map(t);var e=[];return c(n,function(n,r,u){e.push(t(n,r,u))}),e},o=function(n,t,e){return n.reduce?n.reduce(t,e):(c(n,function(n,r,u){e=t(e,n,r,u)}),e)},l=function(n){if(Object.keys)return Object.keys(n);var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t};"undefined"!=typeof process&&process.nextTick?(r.nextTick=process.nextTick,"undefined"!=typeof setImmediate?r.setImmediate=function(n){setImmediate(n)}:r.setImmediate=r.nextTick):"function"==typeof setImmediate?(r.nextTick=function(n){setImmediate(n)},r.setImmediate=r.nextTick):(r.nextTick=function(n){setTimeout(n,0)},r.setImmediate=r.nextTick),r.each=function(t,e,r){function u(n){n?(r(n),r=function(){}):(i+=1,i>=t.length&&r())}if(r=r||function(){},!t.length)return r();var i=0;c(t,function(t){e(t,n(u))})},r.forEach=r.each,r.eachSeries=function(n,t,e){if(e=e||function(){},!n.length)return e();var r=0,u=function(){t(n[r],function(t){t?(e(t),e=function(){}):(r+=1,r>=n.length?e():u())})};u()},r.forEachSeries=r.eachSeries,r.eachLimit=function(n,t,e,r){var u=f(t);u.apply(null,[n,e,r])},r.forEachLimit=r.eachLimit;var f=function(n){return function(t,e,r){if(r=r||function(){},!t.length||0>=n)return r();var u=0,i=0,c=0;!function a(){if(u>=t.length)return r();for(;n>c&&i<t.length;)i+=1,c+=1,e(t[i-1],function(n){n?(r(n),r=function(){}):(u+=1,c-=1,u>=t.length?r():a())})}()}},s=function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[r.each].concat(t))}},p=function(n,t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[f(n)].concat(e))}},d=function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[r.eachSeries].concat(t))}},y=function(n,t,e,r){if(t=a(t,function(n,t){return{index:t,value:n}}),r){var u=[];n(t,function(n,t){e(n.value,function(e,r){u[n.index]=r,t(e)})},function(n){r(n,u)})}else n(t,function(n,t){e(n.value,function(n){t(n)})})};r.map=s(y),r.mapSeries=d(y),r.mapLimit=function(n,t,e,r){return m(t)(n,e,r)};var m=function(n){return p(n,y)};r.reduce=function(n,t,e,u){r.eachSeries(n,function(n,r){e(t,n,function(n,e){t=e,r(n)})},function(n){u(n,t)})},r.inject=r.reduce,r.foldl=r.reduce,r.reduceRight=function(n,t,e,u){var i=a(n,function(n){return n}).reverse();r.reduce(i,t,e,u)},r.foldr=r.reduceRight;var v=function(n,t,e,r){var u=[];t=a(t,function(n,t){return{index:t,value:n}}),n(t,function(n,t){e(n.value,function(e){e&&u.push(n),t()})},function(n){r(a(u.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})};r.filter=s(v),r.filterSeries=d(v),r.select=r.filter,r.selectSeries=r.filterSeries;var h=function(n,t,e,r){var u=[];t=a(t,function(n,t){return{index:t,value:n}}),n(t,function(n,t){e(n.value,function(e){e||u.push(n),t()})},function(n){r(a(u.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})};r.reject=s(h),r.rejectSeries=d(h);var g=function(n,t,e,r){n(t,function(n,t){e(n,function(e){e?(r(n),r=function(){}):t()})},function(n){r()})};r.detect=s(g),r.detectSeries=d(g),r.some=function(n,t,e){r.each(n,function(n,r){t(n,function(n){n&&(e(!0),e=function(){}),r()})},function(n){e(!1)})},r.any=r.some,r.every=function(n,t,e){r.each(n,function(n,r){t(n,function(n){n||(e(!1),e=function(){}),r()})},function(n){e(!0)})},r.all=r.every,r.sortBy=function(n,t,e){r.map(n,function(n,e){t(n,function(t,r){t?e(t):e(null,{value:n,criteria:r})})},function(n,t){if(n)return e(n);var r=function(n,t){var e=n.criteria,r=t.criteria;return r>e?-1:e>r?1:0};e(null,a(t.sort(r),function(n){return n.value}))})},r.auto=function(n,t){t=t||function(){};var e=l(n),u=e.length;if(!u)return t();var a={},f=[],s=function(n){f.unshift(n)},p=function(n){for(var t=0;t<f.length;t+=1)if(f[t]===n)return void f.splice(t,1)},d=function(){u--,c(f.slice(0),function(n){n()})};s(function(){if(!u){var n=t;t=function(){},n(null,a)}}),c(e,function(e){var u=i(n[e])?n[e]:[n[e]],f=function(n){var u=Array.prototype.slice.call(arguments,1);if(u.length<=1&&(u=u[0]),n){var i={};c(l(a),function(n){i[n]=a[n]}),i[e]=u,t(n,i),t=function(){}}else a[e]=u,r.setImmediate(d)},y=u.slice(0,Math.abs(u.length-1))||[],m=function(){return o(y,function(n,t){return n&&a.hasOwnProperty(t)},!0)&&!a.hasOwnProperty(e)};if(m())u[u.length-1](f,a);else{var v=function(){m()&&(p(v),u[u.length-1](f,a))};s(v)}})},r.retry=function(n,t,e){var u=5,i=[];"function"==typeof n&&(e=t,t=n,n=u),n=parseInt(n,10)||u;var c=function(u,c){for(var a=function(n,t){return function(e){n(function(n,r){e(!n||t,{err:n,result:r})},c)}};n;)i.push(a(t,!(n-=1)));r.series(i,function(n,t){t=t[t.length-1],(u||e)(t.err,t.result)})};return e?c():c},r.waterfall=function(n,t){if(t=t||function(){},!i(n)){var e=new Error("First argument to waterfall must be an array of functions");return t(e)}if(!n.length)return t();var u=function(n){return function(e){if(e)t.apply(null,arguments),t=function(){};else{var i=Array.prototype.slice.call(arguments,1),c=n.next();c?i.push(u(c)):i.push(t),r.setImmediate(function(){n.apply(null,i)})}}};u(r.iterator(n))()};var k=function(n,t,e){if(e=e||function(){},i(t))n.map(t,function(n,t){n&&n(function(n){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),t.call(null,n,e)})},e);else{var r={};n.each(l(t),function(n,e){t[n](function(t){var u=Array.prototype.slice.call(arguments,1);u.length<=1&&(u=u[0]),r[n]=u,e(t)})},function(n){e(n,r)})}};r.parallel=function(n,t){k({map:r.map,each:r.each},n,t)},r.parallelLimit=function(n,t,e){k({map:m(t),each:f(t)},n,e)},r.series=function(n,t){if(t=t||function(){},i(n))r.mapSeries(n,function(n,t){n&&n(function(n){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),t.call(null,n,e)})},t);else{var e={};r.eachSeries(l(n),function(t,r){n[t](function(n){var u=Array.prototype.slice.call(arguments,1);u.length<=1&&(u=u[0]),e[t]=u,r(n)})},function(n){t(n,e)})}},r.iterator=function(n){var t=function(e){var r=function(){return n.length&&n[e].apply(null,arguments),r.next()};return r.next=function(){return e<n.length-1?t(e+1):null},r};return t(0)},r.apply=function(n){var t=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var A=function(n,t,e,r){var u=[];n(t,function(n,t){e(n,function(n,e){u=u.concat(e||[]),t(n)})},function(n){r(n,u)})};r.concat=s(A),r.concatSeries=d(A),r.whilst=function(n,t,e){n()?t(function(u){return u?e(u):void r.whilst(n,t,e)}):e()},r.doWhilst=function(n,t,e){n(function(u){if(u)return e(u);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?r.doWhilst(n,t,e):e()})},r.until=function(n,t,e){n()?e():t(function(u){return u?e(u):void r.until(n,t,e)})},r.doUntil=function(n,t,e){n(function(u){if(u)return e(u);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?e():r.doUntil(n,t,e)})},r.queue=function(t,e){function u(n,t,e,u){return n.started||(n.started=!0),i(t)||(t=[t]),0==t.length?r.setImmediate(function(){n.drain&&n.drain()}):void c(t,function(t){var i={data:t,callback:"function"==typeof u?u:null};e?n.tasks.unshift(i):n.tasks.push(i),n.saturated&&n.tasks.length===n.concurrency&&n.saturated(),r.setImmediate(n.process)})}void 0===e&&(e=1);var a=0,o={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(n,t){u(o,n,!1,t)},kill:function(){o.drain=null,o.tasks=[]},unshift:function(n,t){u(o,n,!0,t)},process:function(){if(!o.paused&&a<o.concurrency&&o.tasks.length){var e=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),a+=1;var r=function(){a-=1,e.callback&&e.callback.apply(e,arguments),o.drain&&o.tasks.length+a===0&&o.drain(),o.process()},u=n(r);t(e.data,u)}},length:function(){return o.tasks.length},running:function(){return a},idle:function(){return o.tasks.length+a===0},pause:function(){o.paused!==!0&&(o.paused=!0)},resume:function(){if(o.paused!==!1){o.paused=!1;for(var n=1;n<=o.concurrency;n++)r.setImmediate(o.process)}}};return o},r.priorityQueue=function(n,t){function e(n,t){return n.priority-t.priority}function u(n,t,e){for(var r=-1,u=n.length-1;u>r;){var i=r+(u-r+1>>>1);e(t,n[i])>=0?r=i:u=i-1}return r}function a(n,t,a,o){return n.started||(n.started=!0),i(t)||(t=[t]),0==t.length?r.setImmediate(function(){n.drain&&n.drain()}):void c(t,function(t){var i={data:t,priority:a,callback:"function"==typeof o?o:null};n.tasks.splice(u(n.tasks,i,e)+1,0,i),n.saturated&&n.tasks.length===n.concurrency&&n.saturated(),r.setImmediate(n.process)})}var o=r.queue(n,t);return o.push=function(n,t,e){a(o,n,t,e)},delete o.unshift,o},r.cargo=function(n,t){var e=!1,u=[],o={tasks:u,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(n,e){i(n)||(n=[n]),c(n,function(n){u.push({data:n,callback:"function"==typeof e?e:null}),o.drained=!1,o.saturated&&u.length===t&&o.saturated()}),r.setImmediate(o.process)},process:function l(){if(!e){if(0===u.length)return o.drain&&!o.drained&&o.drain(),void(o.drained=!0);var r="number"==typeof t?u.splice(0,t):u.splice(0,u.length),i=a(r,function(n){return n.data});o.empty&&o.empty(),e=!0,n(i,function(){e=!1;var n=arguments;c(r,function(t){t.callback&&t.callback.apply(null,n)}),l()})}},length:function(){return u.length},running:function(){return e}};return o};var x=function(n){return function(t){var e=Array.prototype.slice.call(arguments,1);t.apply(null,e.concat([function(t){var e=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[n]&&c(e,function(t){console[n](t)}))}]))}};r.log=x("log"),r.dir=x("dir"),r.memoize=function(n,t){var e={},u={};t=t||function(n){return n};var i=function(){var i=Array.prototype.slice.call(arguments),c=i.pop(),a=t.apply(null,i);a in e?r.nextTick(function(){c.apply(null,e[a])}):a in u?u[a].push(c):(u[a]=[c],n.apply(null,i.concat([function(){e[a]=arguments;var n=u[a];delete u[a];for(var t=0,r=n.length;r>t;t++)n[t].apply(null,arguments)}])))};return i.memo=e,i.unmemoized=n,i},r.unmemoize=function(n){return function(){return(n.unmemoized||n).apply(null,arguments)}},r.times=function(n,t,e){for(var u=[],i=0;n>i;i++)u.push(i);return r.map(u,t,e)},r.timesSeries=function(n,t,e){for(var u=[],i=0;n>i;i++)u.push(i);return r.mapSeries(u,t,e)},r.seq=function(){var n=arguments;return function(){var t=this,e=Array.prototype.slice.call(arguments),u=e.pop();r.reduce(n,e,function(n,e,r){e.apply(t,n.concat([function(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);r(n,t)}]))},function(n,e){u.apply(t,[n].concat(e))})}},r.compose=function(){return r.seq.apply(null,Array.prototype.reverse.call(arguments))};var S=function(n,t){var e=function(){var e=this,r=Array.prototype.slice.call(arguments),u=r.pop();return n(t,function(n,t){n.apply(e,r.concat([t]))},u)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return e.apply(this,r)}return e};r.applyEach=s(S),r.applyEachSeries=d(S),r.forever=function(n,t){function e(r){if(r){if(t)return t(r);throw r}n(e)}e()},"undefined"!=typeof module&&module.exports?module.exports=r:"undefined"!=typeof define&&define.amd?define([],function(){return r}):t.async=r}();
}).call(this,require('_process'))

},{"_process":425}],4:[function(require,module,exports){
var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function r(t){var r=t.charCodeAt(0);return r===h||r===u?62:r===c||r===f?63:o>r?-1:o+10>r?r-o+26+26:i+26>r?r-i:A+26>r?r-A+26:void 0}function e(t){function e(t){i[f++]=t}var n,h,c,o,A,i;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=t.length;A="="===t.charAt(u-2)?2:"="===t.charAt(u-1)?1:0,i=new a(3*t.length/4-A),c=A>0?t.length-4:t.length;var f=0;for(n=0,h=0;c>n;n+=4,h+=3)o=r(t.charAt(n))<<18|r(t.charAt(n+1))<<12|r(t.charAt(n+2))<<6|r(t.charAt(n+3)),e((16711680&o)>>16),e((65280&o)>>8),e(255&o);return 2===A?(o=r(t.charAt(n))<<2|r(t.charAt(n+1))>>4,e(255&o)):1===A&&(o=r(t.charAt(n))<<10|r(t.charAt(n+1))<<4|r(t.charAt(n+2))>>2,e(o>>8&255),e(255&o)),i}function n(t){function r(t){return lookup.charAt(t)}function e(t){return r(t>>18&63)+r(t>>12&63)+r(t>>6&63)+r(63&t)}var n,a,h,c=t.length%3,o="";for(n=0,h=t.length-c;h>n;n+=3)a=(t[n]<<16)+(t[n+1]<<8)+t[n+2],o+=e(a);switch(c){case 1:a=t[t.length-1],o+=r(a>>2),o+=r(a<<4&63),o+="==";break;case 2:a=(t[t.length-2]<<8)+t[t.length-1],o+=r(a>>10),o+=r(a>>4&63),o+=r(a<<2&63),o+="="}return o}var a="undefined"!=typeof Uint8Array?Uint8Array:Array,h="+".charCodeAt(0),c="/".charCodeAt(0),o="0".charCodeAt(0),A="a".charCodeAt(0),i="A".charCodeAt(0),u="-".charCodeAt(0),f="_".charCodeAt(0);t.toByteArray=e,t.fromByteArray=n}("undefined"==typeof exports?this.base64js={}:exports);
},{}],5:[function(require,module,exports){
function Rand(n){this.rand=n}var r;if(module.exports=function(n){return r||(r=new Rand(null)),r.generate(n)},module.exports.Rand=Rand,Rand.prototype.generate=function(n){return this._rand(n)},"object"==typeof window)window.crypto&&window.crypto.getRandomValues?Rand.prototype._rand=function(n){var r=new Uint8Array(n);return window.crypto.getRandomValues(r),r}:window.msCrypto&&window.msCrypto.getRandomValues?Rand.prototype._rand=function(n){var r=new Uint8Array(n);return window.msCrypto.getRandomValues(r),r}:Rand.prototype._rand=function(){throw new Error("Not implemented yet")};else try{var crypto=require("crypto");Rand.prototype._rand=function(n){return crypto.randomBytes(n)}}catch(e){Rand.prototype._rand=function(n){for(var r=new Uint8Array(n),t=0;t<r.length;t++)r[t]=this.rand.getByte();return r}}
},{"crypto":52}],6:[function(require,module,exports){

},{}],7:[function(require,module,exports){
(function (Buffer){
function fixup_uint32(t){var e,i;return e=t>uint_max||0>t?(i=Math.abs(t)%uint_max,0>t?uint_max-i:i):t}function scrub_vec(t){for(var e=0;e<t.length;t++)t[e]=0;return!1}function Global(){this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=[[],[],[],[]],this.INV_SUB_MIX=[[],[],[],[]],this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function bufferToArray(t){for(var e=t.length/4,i=new Array(e),r=-1;++r<e;)i[r]=t.readUInt32BE(4*r);return i}function AES(t){this._key=bufferToArray(t),this._doReset()}var uint_max=Math.pow(2,32);Global.prototype.init=function(){var t,e,i,r,n,S,u,_,o,h;for(t=function(){var t,i;for(i=[],e=t=0;256>t;e=++t)128>e?i.push(e<<1):i.push(e<<1^283);return i}(),n=0,o=0,e=h=0;256>h;e=++h)i=o^o<<1^o<<2^o<<3^o<<4,i=i>>>8^255&i^99,this.SBOX[n]=i,this.INV_SBOX[i]=n,S=t[n],u=t[S],_=t[u],r=257*t[i]^16843008*i,this.SUB_MIX[0][n]=r<<24|r>>>8,this.SUB_MIX[1][n]=r<<16|r>>>16,this.SUB_MIX[2][n]=r<<8|r>>>24,this.SUB_MIX[3][n]=r,r=16843009*_^65537*u^257*S^16843008*n,this.INV_SUB_MIX[0][i]=r<<24|r>>>8,this.INV_SUB_MIX[1][i]=r<<16|r>>>16,this.INV_SUB_MIX[2][i]=r<<8|r>>>24,this.INV_SUB_MIX[3][i]=r,0===n?n=o=1:(n=S^t[t[t[_^S]]],o^=t[t[o]]);return!0};var G=new Global;AES.blockSize=16,AES.prototype.blockSize=AES.blockSize,AES.keySize=32,AES.prototype.keySize=AES.keySize,AES.prototype._doReset=function(){var t,e,i,r,n,S;for(i=this._key,e=i.length,this._nRounds=e+6,n=4*(this._nRounds+1),this._keySchedule=[],r=0;n>r;r++)this._keySchedule[r]=e>r?i[r]:(S=this._keySchedule[r-1],r%e===0?(S=S<<8|S>>>24,S=G.SBOX[S>>>24]<<24|G.SBOX[S>>>16&255]<<16|G.SBOX[S>>>8&255]<<8|G.SBOX[255&S],S^=G.RCON[r/e|0]<<24):e>6&&r%e===4?S=G.SBOX[S>>>24]<<24|G.SBOX[S>>>16&255]<<16|G.SBOX[S>>>8&255]<<8|G.SBOX[255&S]:void 0,this._keySchedule[r-e]^S);for(this._invKeySchedule=[],t=0;n>t;t++)r=n-t,S=this._keySchedule[r-(t%4?0:4)],this._invKeySchedule[t]=4>t||4>=r?S:G.INV_SUB_MIX[0][G.SBOX[S>>>24]]^G.INV_SUB_MIX[1][G.SBOX[S>>>16&255]]^G.INV_SUB_MIX[2][G.SBOX[S>>>8&255]]^G.INV_SUB_MIX[3][G.SBOX[255&S]];return!0},AES.prototype.encryptBlock=function(t){t=bufferToArray(new Buffer(t));var e=this._doCryptBlock(t,this._keySchedule,G.SUB_MIX,G.SBOX),i=new Buffer(16);return i.writeUInt32BE(e[0],0),i.writeUInt32BE(e[1],4),i.writeUInt32BE(e[2],8),i.writeUInt32BE(e[3],12),i},AES.prototype.decryptBlock=function(t){t=bufferToArray(new Buffer(t));var e=[t[3],t[1]];t[1]=e[0],t[3]=e[1];var i=this._doCryptBlock(t,this._invKeySchedule,G.INV_SUB_MIX,G.INV_SBOX),r=new Buffer(16);return r.writeUInt32BE(i[0],0),r.writeUInt32BE(i[3],4),r.writeUInt32BE(i[2],8),r.writeUInt32BE(i[1],12),r},AES.prototype.scrub=function(){scrub_vec(this._keySchedule),scrub_vec(this._invKeySchedule),scrub_vec(this._key)},AES.prototype._doCryptBlock=function(t,e,i,r){var n,S,u,_,o,h,B,s,c;S=t[0]^e[0],u=t[1]^e[1],_=t[2]^e[2],o=t[3]^e[3],n=4;for(var f=1;f<this._nRounds;f++)h=i[0][S>>>24]^i[1][u>>>16&255]^i[2][_>>>8&255]^i[3][255&o]^e[n++],B=i[0][u>>>24]^i[1][_>>>16&255]^i[2][o>>>8&255]^i[3][255&S]^e[n++],s=i[0][_>>>24]^i[1][o>>>16&255]^i[2][S>>>8&255]^i[3][255&u]^e[n++],c=i[0][o>>>24]^i[1][S>>>16&255]^i[2][u>>>8&255]^i[3][255&_]^e[n++],S=h,u=B,_=s,o=c;return h=(r[S>>>24]<<24|r[u>>>16&255]<<16|r[_>>>8&255]<<8|r[255&o])^e[n++],B=(r[u>>>24]<<24|r[_>>>16&255]<<16|r[o>>>8&255]<<8|r[255&S])^e[n++],s=(r[_>>>24]<<24|r[o>>>16&255]<<16|r[S>>>8&255]<<8|r[255&u])^e[n++],c=(r[o>>>24]<<24|r[S>>>16&255]<<16|r[u>>>8&255]<<8|r[255&_])^e[n++],[fixup_uint32(h),fixup_uint32(B),fixup_uint32(s),fixup_uint32(c)]},exports.AES=AES;
}).call(this,require("buffer").Buffer)

},{"buffer":42}],8:[function(require,module,exports){
(function (Buffer){
function StreamCipher(t,e,r,h){if(!(this instanceof StreamCipher))return new StreamCipher(t,e,r);Transform.call(this),this._finID=Buffer.concat([r,new Buffer([0,0,0,1])]),r=Buffer.concat([r,new Buffer([0,0,0,2])]),this._cipher=new aes.AES(e),this._prev=new Buffer(r.length),this._cache=new Buffer(""),this._secCache=new Buffer(""),this._decrypt=h,this._alen=0,this._len=0,r.copy(this._prev),this._mode=t;var i=new Buffer(4);i.fill(0),this._ghash=new GHASH(this._cipher.encryptBlock(i)),this._authTag=null,this._called=!1}function xorTest(t,e){var r=0;t.length!==e.length&&r++;for(var h=Math.min(t.length,e.length),i=-1;++i<h;)r+=t[i]^e[i];return r}var aes=require("./aes"),Transform=require("cipher-base"),inherits=require("inherits"),GHASH=require("./ghash"),xor=require("buffer-xor");inherits(StreamCipher,Transform),module.exports=StreamCipher,StreamCipher.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;16>e&&(e=new Buffer(e),e.fill(0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r},StreamCipher.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=xor(this._ghash["final"](8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt){if(xorTest(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data")}else this._authTag=t;this._cipher.scrub()},StreamCipher.prototype.getAuthTag=function(){if(!this._decrypt&&Buffer.isBuffer(this._authTag))return this._authTag;throw new Error("Attempting to get auth tag in unsupported state")},StreamCipher.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},StreamCipher.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length};
}).call(this,require("buffer").Buffer)

},{"./aes":7,"./ghash":12,"buffer":42,"buffer-xor":41,"cipher-base":44,"inherits":98}],9:[function(require,module,exports){
function getCiphers(){return Object.keys(modes)}var ciphers=require("./encrypter");exports.createCipher=exports.Cipher=ciphers.createCipher,exports.createCipheriv=exports.Cipheriv=ciphers.createCipheriv;var deciphers=require("./decrypter");exports.createDecipher=exports.Decipher=deciphers.createDecipher,exports.createDecipheriv=exports.Decipheriv=deciphers.createDecipheriv;var modes=require("./modes");exports.listCiphers=exports.getCiphers=getCiphers;
},{"./decrypter":10,"./encrypter":11,"./modes":13}],10:[function(require,module,exports){
(function (Buffer){
function Decipher(e,r,t){return this instanceof Decipher?(Transform.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new aes.AES(r),this._prev=new Buffer(t.length),t.copy(this._prev),this._mode=e,void(this._autopadding=!0)):new Decipher(e,r,t)}function Splitter(){return this instanceof Splitter?void(this.cache=new Buffer("")):new Splitter}function unpad(e){for(var r=e[15],t=-1;++t<r;)if(e[t+(16-r)]!==r)throw new Error("unable to decrypt data");return 16!==r?e.slice(0,16-r):void 0}function createDecipheriv(e,r,t){var i=modes[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=new Buffer(t)),"string"==typeof r&&(r=new Buffer(r)),r.length!==i.key/8)throw new TypeError("invalid key length "+r.length);if(t.length!==i.iv)throw new TypeError("invalid iv length "+t.length);return"stream"===i.type?new StreamCipher(modelist[i.mode],r,t,!0):"auth"===i.type?new AuthCipher(modelist[i.mode],r,t,!0):new Decipher(modelist[i.mode],r,t)}function createDecipher(e,r){var t=modes[e.toLowerCase()];if(!t)throw new TypeError("invalid suite type");var i=ebtk(r,!1,t.key,t.iv);return createDecipheriv(e,i.key,i.iv)}var aes=require("./aes"),Transform=require("cipher-base"),inherits=require("inherits"),modes=require("./modes"),StreamCipher=require("./streamCipher"),AuthCipher=require("./authCipher"),ebtk=require("evp_bytestokey");inherits(Decipher,Transform),Decipher.prototype._update=function(e){this._cache.add(e);for(var r,t,i=[];r=this._cache.get(this._autopadding);)t=this._mode.decrypt(this,r),i.push(t);return Buffer.concat(i)},Decipher.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return unpad(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},Decipher.prototype.setAutoPadding=function(e){this._autopadding=!!e},Splitter.prototype.add=function(e){this.cache=Buffer.concat([this.cache,e])},Splitter.prototype.get=function(e){var r;if(e){if(this.cache.length>16)return r=this.cache.slice(0,16),this.cache=this.cache.slice(16),r}else if(this.cache.length>=16)return r=this.cache.slice(0,16),this.cache=this.cache.slice(16),r;return null},Splitter.prototype.flush=function(){return this.cache.length?this.cache:void 0};var modelist={ECB:require("./modes/ecb"),CBC:require("./modes/cbc"),CFB:require("./modes/cfb"),CFB8:require("./modes/cfb8"),CFB1:require("./modes/cfb1"),OFB:require("./modes/ofb"),CTR:require("./modes/ctr"),GCM:require("./modes/ctr")};exports.createDecipher=createDecipher,exports.createDecipheriv=createDecipheriv;
}).call(this,require("buffer").Buffer)

},{"./aes":7,"./authCipher":8,"./modes":13,"./modes/cbc":14,"./modes/cfb":15,"./modes/cfb1":16,"./modes/cfb8":17,"./modes/ctr":18,"./modes/ecb":19,"./modes/ofb":20,"./streamCipher":21,"buffer":42,"cipher-base":44,"evp_bytestokey":85,"inherits":98}],11:[function(require,module,exports){
(function (Buffer){
function Cipher(e,r,t){return this instanceof Cipher?(Transform.call(this),this._cache=new Splitter,this._cipher=new aes.AES(r),this._prev=new Buffer(t.length),t.copy(this._prev),this._mode=e,void(this._autopadding=!0)):new Cipher(e,r,t)}function Splitter(){return this instanceof Splitter?void(this.cache=new Buffer("")):new Splitter}function createCipheriv(e,r,t){var i=modes[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=new Buffer(t)),"string"==typeof r&&(r=new Buffer(r)),r.length!==i.key/8)throw new TypeError("invalid key length "+r.length);if(t.length!==i.iv)throw new TypeError("invalid iv length "+t.length);return"stream"===i.type?new StreamCipher(modelist[i.mode],r,t):"auth"===i.type?new AuthCipher(modelist[i.mode],r,t):new Cipher(modelist[i.mode],r,t)}function createCipher(e,r){var t=modes[e.toLowerCase()];if(!t)throw new TypeError("invalid suite type");var i=ebtk(r,!1,t.key,t.iv);return createCipheriv(e,i.key,i.iv)}var aes=require("./aes"),Transform=require("cipher-base"),inherits=require("inherits"),modes=require("./modes"),ebtk=require("evp_bytestokey"),StreamCipher=require("./streamCipher"),AuthCipher=require("./authCipher");inherits(Cipher,Transform),Cipher.prototype._update=function(e){this._cache.add(e);for(var r,t,i=[];r=this._cache.get();)t=this._mode.encrypt(this,r),i.push(t);return Buffer.concat(i)},Cipher.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if("10101010101010101010101010101010"!==e.toString("hex"))throw this._cipher.scrub(),new Error("data not multiple of block length")},Cipher.prototype.setAutoPadding=function(e){this._autopadding=!!e},Splitter.prototype.add=function(e){this.cache=Buffer.concat([this.cache,e])},Splitter.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},Splitter.prototype.flush=function(){for(var e=16-this.cache.length,r=new Buffer(e),t=-1;++t<e;)r.writeUInt8(e,t);var i=Buffer.concat([this.cache,r]);return i};var modelist={ECB:require("./modes/ecb"),CBC:require("./modes/cbc"),CFB:require("./modes/cfb"),CFB8:require("./modes/cfb8"),CFB1:require("./modes/cfb1"),OFB:require("./modes/ofb"),CTR:require("./modes/ctr"),GCM:require("./modes/ctr")};exports.createCipheriv=createCipheriv,exports.createCipher=createCipher;
}).call(this,require("buffer").Buffer)

},{"./aes":7,"./authCipher":8,"./modes":13,"./modes/cbc":14,"./modes/cfb":15,"./modes/cfb1":16,"./modes/cfb8":17,"./modes/ctr":18,"./modes/ecb":19,"./modes/ofb":20,"./streamCipher":21,"buffer":42,"cipher-base":44,"evp_bytestokey":85,"inherits":98}],12:[function(require,module,exports){
(function (Buffer){
function GHASH(t){this.h=t,this.state=new Buffer(16),this.state.fill(0),this.cache=new Buffer("")}function toArray(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function fromArray(t){t=t.map(fixup_uint32);var r=new Buffer(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r}function fixup_uint32(t){var r,e;return r=t>uint_max||0>t?(e=Math.abs(t)%uint_max,0>t?uint_max-e:e):t}function xor(t,r){return[t[0]^r[0],t[1]^r[1],t[2]^r[2],t[3]^r[3]]}var zeros=new Buffer(16);zeros.fill(0),module.exports=GHASH,GHASH.prototype.ghash=function(t){for(var r=-1;++r<t.length;)this.state[r]^=t[r];this._multiply()},GHASH.prototype._multiply=function(){for(var t,r,e,i=toArray(this.h),a=[0,0,0,0],n=-1;++n<128;){for(r=0!==(this.state[~~(n/8)]&1<<7-n%8),r&&(a=xor(a,i)),e=0!==(1&i[3]),t=3;t>0;t--)i[t]=i[t]>>>1|(1&i[t-1])<<31;i[0]=i[0]>>>1,e&&(i[0]=i[0]^225<<24)}this.state=fromArray(a)},GHASH.prototype.update=function(t){this.cache=Buffer.concat([this.cache,t]);for(var r;this.cache.length>=16;)r=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(r)},GHASH.prototype["final"]=function(t,r){return this.cache.length&&this.ghash(Buffer.concat([this.cache,zeros],16)),this.ghash(fromArray([0,t,0,r])),this.state};var uint_max=Math.pow(2,32);
}).call(this,require("buffer").Buffer)

},{"buffer":42}],13:[function(require,module,exports){
exports["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},exports["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},exports["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},exports["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},exports["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},exports["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},exports.aes128=exports["aes-128-cbc"],exports.aes192=exports["aes-192-cbc"],exports.aes256=exports["aes-256-cbc"],exports["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},exports["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},exports["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},exports["aes-128-cfb8"]={cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},exports["aes-192-cfb8"]={cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},exports["aes-256-cfb8"]={cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},exports["aes-128-cfb1"]={cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},exports["aes-192-cfb1"]={cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},exports["aes-256-cfb1"]={cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},exports["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},exports["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},exports["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},exports["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},exports["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},exports["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},exports["aes-128-gcm"]={cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},exports["aes-192-gcm"]={cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},exports["aes-256-gcm"]={cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"};
},{}],14:[function(require,module,exports){
var xor=require("buffer-xor");exports.encrypt=function(r,e){var p=xor(e,r._prev);return r._prev=r._cipher.encryptBlock(p),r._prev},exports.decrypt=function(r,e){var p=r._prev;r._prev=e;var c=r._cipher.decryptBlock(e);return xor(c,p)};
},{"buffer-xor":41}],15:[function(require,module,exports){
(function (Buffer){
function encryptStart(e,r,c){var t=r.length,n=xor(r,e._cache);return e._cache=e._cache.slice(t),e._prev=Buffer.concat([e._prev,c?r:n]),n}var xor=require("buffer-xor");exports.encrypt=function(e,r,c){for(var t,n=new Buffer("");r.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=new Buffer("")),!(e._cache.length<=r.length)){n=Buffer.concat([n,encryptStart(e,r,c)]);break}t=e._cache.length,n=Buffer.concat([n,encryptStart(e,r.slice(0,t),c)]),r=r.slice(t)}return n};
}).call(this,require("buffer").Buffer)

},{"buffer":42,"buffer-xor":41}],16:[function(require,module,exports){
(function (Buffer){
function encryptByte(r,e,n){for(var t,f,c,u=-1,o=8,p=0;++u<o;)t=r._cipher.encryptBlock(r._prev),f=e&1<<7-u?128:0,c=t[0]^f,p+=(128&c)>>u%8,r._prev=shiftIn(r._prev,n?f:c);return p}function shiftIn(r,e){var n=r.length,t=-1,f=new Buffer(r.length);for(r=Buffer.concat([r,new Buffer([e])]);++t<n;)f[t]=r[t]<<1|r[t+1]>>7;return f}exports.encrypt=function(r,e,n){for(var t=e.length,f=new Buffer(t),c=-1;++c<t;)f[c]=encryptByte(r,e[c],n);return f};
}).call(this,require("buffer").Buffer)

},{"buffer":42}],17:[function(require,module,exports){
(function (Buffer){
function encryptByte(e,r,n){var t=e._cipher.encryptBlock(e._prev),c=t[0]^r;return e._prev=Buffer.concat([e._prev.slice(1),new Buffer([n?r:c])]),c}exports.encrypt=function(e,r,n){for(var t=r.length,c=new Buffer(t),f=-1;++f<t;)c[f]=encryptByte(e,r[f],n);return c};
}).call(this,require("buffer").Buffer)

},{"buffer":42}],18:[function(require,module,exports){
(function (Buffer){
function incr32(e){for(var r,c=e.length;c--;){if(r=e.readUInt8(c),255!==r){r++,e.writeUInt8(r,c);break}e.writeUInt8(0,c)}}function getBlock(e){var r=e._cipher.encryptBlock(e._prev);return incr32(e._prev),r}var xor=require("buffer-xor");exports.encrypt=function(e,r){for(;e._cache.length<r.length;)e._cache=Buffer.concat([e._cache,getBlock(e)]);var c=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),xor(r,c)};
}).call(this,require("buffer").Buffer)

},{"buffer":42,"buffer-xor":41}],19:[function(require,module,exports){
exports.encrypt=function(r,c){return r._cipher.encryptBlock(c)},exports.decrypt=function(r,c){return r._cipher.decryptBlock(c)};
},{}],20:[function(require,module,exports){
(function (Buffer){
function getBlock(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}var xor=require("buffer-xor");exports.encrypt=function(e,c){for(;e._cache.length<c.length;)e._cache=Buffer.concat([e._cache,getBlock(e)]);var r=e._cache.slice(0,c.length);return e._cache=e._cache.slice(c.length),xor(c,r)};
}).call(this,require("buffer").Buffer)

},{"buffer":42,"buffer-xor":41}],21:[function(require,module,exports){
(function (Buffer){
function StreamCipher(e,r,t,i){return this instanceof StreamCipher?(Transform.call(this),this._cipher=new aes.AES(r),this._prev=new Buffer(t.length),this._cache=new Buffer(""),this._secCache=new Buffer(""),this._decrypt=i,t.copy(this._prev),void(this._mode=e)):new StreamCipher(e,r,t)}var aes=require("./aes"),Transform=require("cipher-base"),inherits=require("inherits");inherits(StreamCipher,Transform),module.exports=StreamCipher,StreamCipher.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},StreamCipher.prototype._final=function(){this._cipher.scrub()};
}).call(this,require("buffer").Buffer)

},{"./aes":7,"buffer":42,"cipher-base":44,"inherits":98}],22:[function(require,module,exports){
function createCipher(e,r){var s,i;if(e=e.toLowerCase(),aesModes[e])s=aesModes[e].key,i=aesModes[e].iv;else{if(!desModes[e])throw new TypeError("invalid suite type");s=8*desModes[e].key,i=desModes[e].iv}var t=ebtk(r,!1,s,i);return createCipheriv(e,t.key,t.iv)}function createDecipher(e,r){var s,i;if(e=e.toLowerCase(),aesModes[e])s=aesModes[e].key,i=aesModes[e].iv;else{if(!desModes[e])throw new TypeError("invalid suite type");s=8*desModes[e].key,i=desModes[e].iv}var t=ebtk(r,!1,s,i);return createDecipheriv(e,t.key,t.iv)}function createCipheriv(e,r,s){if(e=e.toLowerCase(),aesModes[e])return aes.createCipheriv(e,r,s);if(desModes[e])return new DES({key:r,iv:s,mode:e});throw new TypeError("invalid suite type")}function createDecipheriv(e,r,s){if(e=e.toLowerCase(),aesModes[e])return aes.createDecipheriv(e,r,s);if(desModes[e])return new DES({key:r,iv:s,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}function getCiphers(){return Object.keys(desModes).concat(aes.getCiphers())}var ebtk=require("evp_bytestokey"),aes=require("browserify-aes/browser"),DES=require("browserify-des"),desModes=require("browserify-des/modes"),aesModes=require("browserify-aes/modes");exports.createCipher=exports.Cipher=createCipher,exports.createCipheriv=exports.Cipheriv=createCipheriv,exports.createDecipher=exports.Decipher=createDecipher,exports.createDecipheriv=exports.Decipheriv=createDecipheriv,exports.listCiphers=exports.getCiphers=getCiphers;
},{"browserify-aes/browser":9,"browserify-aes/modes":13,"browserify-des":23,"browserify-des/modes":24,"evp_bytestokey":85}],23:[function(require,module,exports){
(function (Buffer){
function DES(e){CipherBase.call(this);var s,d=e.mode.toLowerCase(),t=modes[d];s=e.decrypt?"decrypt":"encrypt";var r=e.key;("des-ede"===d||"des-ede-cbc"===d)&&(r=Buffer.concat([r,r.slice(0,8)]));var i=e.iv;this._des=t.create({key:r,iv:i,type:s})}var CipherBase=require("cipher-base"),des=require("des.js"),inherits=require("inherits"),modes={"des-ede3-cbc":des.CBC.instantiate(des.EDE),"des-ede3":des.EDE,"des-ede-cbc":des.CBC.instantiate(des.EDE),"des-ede":des.EDE,"des-cbc":des.CBC.instantiate(des.DES),"des-ecb":des.DES};modes.des=modes["des-cbc"],modes.des3=modes["des-ede3-cbc"],module.exports=DES,inherits(DES,CipherBase),DES.prototype._update=function(e){return new Buffer(this._des.update(e))},DES.prototype._final=function(){return new Buffer(this._des["final"]())};
}).call(this,require("buffer").Buffer)

},{"buffer":42,"cipher-base":44,"des.js":55,"inherits":98}],24:[function(require,module,exports){
exports["des-ecb"]={key:8,iv:0},exports["des-cbc"]=exports.des={key:8,iv:8},exports["des-ede3-cbc"]=exports.des3={key:24,iv:8},exports["des-ede3"]={key:24,iv:0},exports["des-ede-cbc"]={key:16,iv:8},exports["des-ede"]={key:16,iv:0};
},{}],25:[function(require,module,exports){
(function (Buffer){
function blind(e){var n=getr(e),r=n.toRed(bn.mont(e.modulus)).redPow(new bn(e.publicExponent)).fromRed();return{blinder:r,unblinder:n.invm(e.modulus)}}function crt(e,n){var r=blind(n),o=n.modulus.byteLength(),u=(bn.mont(n.modulus),new bn(e).mul(r.blinder).umod(n.modulus)),m=u.toRed(bn.mont(n.prime1)),d=u.toRed(bn.mont(n.prime2)),t=n.coefficient,i=n.prime1,b=n.prime2,l=m.redPow(n.exponent1),s=d.redPow(n.exponent2);l=l.fromRed(),s=s.fromRed();var p=l.isub(s).imul(t).umod(i);return p.imul(b),s.iadd(p),new Buffer(s.imul(r.unblinder).umod(n.modulus).toArray(!1,o))}function getr(e){for(var n=e.modulus.byteLength(),r=new bn(randomBytes(n));r.cmp(e.modulus)>=0||!r.umod(e.prime1)||!r.umod(e.prime2);)r=new bn(randomBytes(n));return r}var bn=require("bn.js"),randomBytes=require("randombytes");module.exports=crt,crt.getr=getr;
}).call(this,require("buffer").Buffer)

},{"bn.js":26,"buffer":42,"randombytes":437}],26:[function(require,module,exports){
!function(t,i){"use strict";function r(t,i){if(!t)throw new Error(i||"Assertion failed")}function h(t,i){t.super_=i;var r=function(){};r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,i,r){return null!==t&&"object"==typeof t&&Array.isArray(t.words)?t:(this.negative=0,this.words=null,this.length=0,this.red=null,void(null!==t&&(("le"===i||"be"===i)&&(r=i,i=10),this._init(t||0,i||10,r||"be"))))}function e(t,i,r){for(var h=0,n=Math.min(t.length,r),e=i;n>e;e++){var s=t.charCodeAt(e)-48;h<<=4,h|=s>=49&&54>=s?s-49+10:s>=17&&22>=s?s-17+10:15&s}return h}function s(t,i,r,h){for(var n=0,e=Math.min(t.length,r),s=i;e>s;s++){var o=t.charCodeAt(s)-48;n*=h,n+=o>=49?o-49+10:o>=17?o-17+10:o}return n}function o(t){for(var i=new Array(t.bitLength()),r=0;r<i.length;r++){var h=r/26|0,n=r%26;i[r]=(t.words[h]&1<<n)>>>n}return i}function u(t,i,r){r.negative=i.negative^t.negative;var h=t.length+i.length|0;r.length=h,h=h-1|0;var n=0|t.words[0],e=0|i.words[0],s=n*e,o=67108863&s,u=s/67108864|0;r.words[0]=o;for(var a=1;h>a;a++){for(var l=u>>>26,m=67108863&u,f=Math.min(a,i.length-1),d=Math.max(0,a-t.length+1);f>=d;d++){var p=a-d|0;n=0|t.words[p],e=0|i.words[d],s=n*e+m,l+=s/67108864|0,m=67108863&s}r.words[a]=0|m,u=0|l}return 0!==u?r.words[a]=0|u:r.length--,r.strip()}function a(t,i,r){r.negative=i.negative^t.negative,r.length=t.length+i.length;for(var h=0,n=0,e=0;e<r.length-1;e++){var s=n;n=0;for(var o=67108863&h,u=Math.min(e,i.length-1),a=Math.max(0,e-t.length+1);u>=a;a++){var l=e-a,m=0|t.words[l],f=0|i.words[a],d=m*f,p=67108863&d;s=s+(d/67108864|0)|0,p=p+o|0,o=67108863&p,s=s+(p>>>26)|0,n+=s>>>26,s&=67108863}r.words[e]=o,h=s,s=n}return 0!==h?r.words[e]=h:r.length--,r.strip()}function l(t,i,r){var h=new m;return h.mulp(t,i,r)}function m(t,i){this.x=t,this.y=i}function f(t,i){this.name=t,this.p=new n(i,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function d(){f.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function p(){f.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){f.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){f.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function g(t){if("string"==typeof t){var i=n._prime(t);this.m=i.p,this.prime=i}else this.m=t,this.prime=null}function c(t){g.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof t?t.exports=n:i.BN=n,n.BN=n,n.wordSize=26,n.max=function(t,i){return t.cmp(i)>0?t:i},n.min=function(t,i){return t.cmp(i)<0?t:i},n.prototype._init=function(t,i,h){if("number"==typeof t)return this._initNumber(t,i,h);if("object"==typeof t)return this._initArray(t,i,h);"hex"===i&&(i=16),r(i===(0|i)&&i>=2&&36>=i),t=t.toString().replace(/\s+/g,"");var n=0;"-"===t[0]&&n++,16===i?this._parseHex(t,n):this._parseBase(t,i,n),"-"===t[0]&&(this.negative=1),this.strip(),"le"===h&&this._initArray(this.toArray(),i,h)},n.prototype._initNumber=function(t,i,h){0>t&&(this.negative=1,t=-t),67108864>t?(this.words=[67108863&t],this.length=1):4503599627370496>t?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(9007199254740992>t),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===h&&this._initArray(this.toArray(),i,h)},n.prototype._initArray=function(t,i,h){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var e,s,o=0;if("be"===h)for(n=t.length-1,e=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[e]|=s<<o&67108863,this.words[e+1]=s>>>26-o&67108863,o+=24,o>=26&&(o-=26,e++);else if("le"===h)for(n=0,e=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[e]|=s<<o&67108863,this.words[e+1]=s>>>26-o&67108863,o+=24,o>=26&&(o-=26,e++);return this.strip()},n.prototype._parseHex=function(t,i){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var h,n,s=0;for(r=t.length-6,h=0;r>=i;r-=6)n=e(t,r,r+6),this.words[h]|=n<<s&67108863,this.words[h+1]|=n>>>26-s&4194303,s+=24,s>=26&&(s-=26,h++);r+6!==i&&(n=e(t,i,r+6),this.words[h]|=n<<s&67108863,this.words[h+1]|=n>>>26-s&4194303),this.strip()},n.prototype._parseBase=function(t,i,r){this.words=[0],this.length=1;for(var h=0,n=1;67108863>=n;n*=i)h++;h--,n=n/i|0;for(var e=t.length-r,o=e%h,u=Math.min(e,e-o)+r,a=0,l=r;u>l;l+=h)a=s(t,l,l+h,i),this.imuln(n),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==o){var m=1;for(a=s(t,l,t.length,i),l=0;o>l;l++)m*=i;this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}},n.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(t,i){t=t||10,i=0|i||1;var h;if(16===t||"hex"===t){h="";for(var n=0,e=0,s=0;s<this.length;s++){var o=this.words[s],u=(16777215&(o<<n|e)).toString(16);e=o>>>24-n&16777215,h=0!==e||s!==this.length-1?w[6-u.length]+u+h:u+h,n+=2,n>=26&&(n-=26,s--)}for(0!==e&&(h=e.toString(16)+h);h.length%i!==0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}if(t===(0|t)&&t>=2&&36>=t){var a=y[t],l=b[t];h="";var m=this.clone();for(m.negative=0;!m.isZero();){var f=m.modn(l).toString(t);m=m.idivn(l),h=m.isZero()?f+h:w[a-f.length]+f+h}for(this.isZero()&&(h="0"+h);h.length%i!==0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){return r(this.bitLength()<=53,"Number can only safely store up to 53 bits"),parseInt(this.toString(),10)},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toArray=function(t,i){var h=this.byteLength(),n=i||Math.max(1,h);r(n>=h,"byte array longer than desired length"),r(n>0,"Requested array length <= 0"),this.strip();var e,s,o="le"===t,u=new Array(n),a=this.clone();if(o){for(s=0;!a.isZero();s++)e=a.andln(255),a.iushrn(8),u[s]=e;for(;n>s;s++)u[s]=0}else{for(s=0;n-h>s;s++)u[s]=0;for(s=0;!a.isZero();s++)e=a.andln(255),a.iushrn(8),u[n-s-1]=e}return u},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var i=t,r=0;return i>=4096&&(r+=13,i>>>=13),i>=64&&(r+=7,i>>>=7),i>=8&&(r+=4,i>>>=4),i>=2&&(r+=2,i>>>=2),r+i},n.prototype._zeroBits=function(t){if(0===t)return 26;var i=t,r=0;return 0===(8191&i)&&(r+=13,i>>>=13),0===(127&i)&&(r+=7,i>>>=7),0===(15&i)&&(r+=4,i>>>=4),0===(3&i)&&(r+=2,i>>>=2),0===(1&i)&&r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return 26*(this.length-1)+i},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var r=this._zeroBits(this.words[i]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){if(this.isZero())return this.clone();var t=this.clone();return t.negative=1^this.negative,t},n.prototype.ineg=function(){return this.negative^=1,this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this.strip()},n.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var i;i=this.length>t.length?t:this;for(var r=0;r<i.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=i.length,this.strip()},n.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var i,r;this.length>t.length?(i=this,r=t):(i=t,r=this);for(var h=0;h<r.length;h++)this.words[h]=i.words[h]^r.words[h];if(this!==i)for(;h<i.length;h++)this.words[h]=i.words[h];return this.length=i.length,this.strip()},n.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);for(var i=0|Math.ceil(t/26),h=t%26;this.length<i;)this.words[this.length++]=0;h>0&&i--;for(var n=0;i>n;n++)this.words[n]=67108863&~this.words[n];return h>0&&(this.words[n]=~this.words[n]&67108863>>26-h),this.strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,i){r("number"==typeof t&&t>=0);for(var h=t/26|0,n=t%26;this.length<=h;)this.words[this.length++]=0;return i?this.words[h]=this.words[h]|1<<n:this.words[h]=this.words[h]&~(1<<n),this.strip()},n.prototype.iadd=function(t){var i;if(0!==this.negative&&0===t.negative)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();var r,h;this.length>t.length?(r=this,h=t):(r=t,h=this);for(var n=0,e=0;e<h.length;e++)i=(0|r.words[e])+(0|h.words[e])+n,this.words[e]=67108863&i,n=i>>>26;for(;0!==n&&e<r.length;e++)i=(0|r.words[e])+n,this.words[e]=67108863&i,n=i>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;e<r.length;e++)this.words[e]=r.words[e];return this},n.prototype.add=function(t){var i;return 0!==t.negative&&0===this.negative?(t.negative=0,i=this.sub(t),t.negative^=1,i):0===t.negative&&0!==this.negative?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;var h,n;r>0?(h=this,n=t):(h=t,n=this);for(var e=0,s=0;s<n.length;s++)i=(0|h.words[s])-(0|n.words[s])+e,e=i>>26,this.words[s]=67108863&i;for(;0!==e&&s<h.length;s++)i=(0|h.words[s])+e,e=i>>26,this.words[s]=67108863&i;if(0===e&&s<h.length&&h!==this)for(;s<h.length;s++)this.words[s]=h.words[s];return this.length=Math.max(this.length,s),h!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var _=function(t,i,r){var h,n,e,s=t.words,o=i.words,u=r.words,a=0,l=0|s[0],m=8191&l,f=l>>>13,d=0|s[1],p=8191&d,M=d>>>13,v=0|s[2],g=8191&v,c=v>>>13,w=0|s[3],y=8191&w,b=w>>>13,_=0|s[4],k=8191&_,A=_>>>13,S=0|s[5],x=8191&S,R=S>>>13,Z=0|s[6],q=8191&Z,B=Z>>>13,N=0|s[7],I=8191&N,L=N>>>13,E=0|s[8],z=8191&E,O=E>>>13,T=0|s[9],j=8191&T,K=T>>>13,P=0|o[0],F=8191&P,C=P>>>13,D=0|o[1],H=8191&D,J=D>>>13,U=0|o[2],G=8191&U,Q=U>>>13,V=0|o[3],W=8191&V,X=V>>>13,Y=0|o[4],$=8191&Y,tt=Y>>>13,it=0|o[5],rt=8191&it,ht=it>>>13,nt=0|o[6],et=8191&nt,st=nt>>>13,ot=0|o[7],ut=8191&ot,at=ot>>>13,lt=0|o[8],mt=8191&lt,ft=lt>>>13,dt=0|o[9],pt=8191&dt,Mt=dt>>>13;r.length=19,h=Math.imul(m,F),n=Math.imul(m,C),n+=Math.imul(f,F),e=Math.imul(f,C);var vt=a+h+((8191&n)<<13);a=e+(n>>>13)+(vt>>>26),vt&=67108863,h=Math.imul(p,F),n=Math.imul(p,C),n+=Math.imul(M,F),e=Math.imul(M,C),h+=Math.imul(m,H),n+=Math.imul(m,J),n+=Math.imul(f,H),e+=Math.imul(f,J);var gt=a+h+((8191&n)<<13);a=e+(n>>>13)+(gt>>>26),gt&=67108863,h=Math.imul(g,F),n=Math.imul(g,C),n+=Math.imul(c,F),e=Math.imul(c,C),h+=Math.imul(p,H),n+=Math.imul(p,J),n+=Math.imul(M,H),e+=Math.imul(M,J),h+=Math.imul(m,G),n+=Math.imul(m,Q),n+=Math.imul(f,G),e+=Math.imul(f,Q);var ct=a+h+((8191&n)<<13);a=e+(n>>>13)+(ct>>>26),ct&=67108863,h=Math.imul(y,F),n=Math.imul(y,C),n+=Math.imul(b,F),e=Math.imul(b,C),h+=Math.imul(g,H),n+=Math.imul(g,J),n+=Math.imul(c,H),e+=Math.imul(c,J),h+=Math.imul(p,G),n+=Math.imul(p,Q),n+=Math.imul(M,G),e+=Math.imul(M,Q),h+=Math.imul(m,W),n+=Math.imul(m,X),n+=Math.imul(f,W),e+=Math.imul(f,X);var wt=a+h+((8191&n)<<13);a=e+(n>>>13)+(wt>>>26),wt&=67108863,h=Math.imul(k,F),n=Math.imul(k,C),n+=Math.imul(A,F),e=Math.imul(A,C),h+=Math.imul(y,H),n+=Math.imul(y,J),n+=Math.imul(b,H),e+=Math.imul(b,J),h+=Math.imul(g,G),n+=Math.imul(g,Q),n+=Math.imul(c,G),e+=Math.imul(c,Q),h+=Math.imul(p,W),n+=Math.imul(p,X),n+=Math.imul(M,W),e+=Math.imul(M,X),h+=Math.imul(m,$),n+=Math.imul(m,tt),n+=Math.imul(f,$),e+=Math.imul(f,tt);var yt=a+h+((8191&n)<<13);a=e+(n>>>13)+(yt>>>26),yt&=67108863,h=Math.imul(x,F),n=Math.imul(x,C),n+=Math.imul(R,F),e=Math.imul(R,C),h+=Math.imul(k,H),n+=Math.imul(k,J),n+=Math.imul(A,H),e+=Math.imul(A,J),h+=Math.imul(y,G),n+=Math.imul(y,Q),n+=Math.imul(b,G),e+=Math.imul(b,Q),h+=Math.imul(g,W),n+=Math.imul(g,X),n+=Math.imul(c,W),e+=Math.imul(c,X),h+=Math.imul(p,$),n+=Math.imul(p,tt),n+=Math.imul(M,$),e+=Math.imul(M,tt),h+=Math.imul(m,rt),n+=Math.imul(m,ht),n+=Math.imul(f,rt),e+=Math.imul(f,ht);var bt=a+h+((8191&n)<<13);a=e+(n>>>13)+(bt>>>26),bt&=67108863,h=Math.imul(q,F),n=Math.imul(q,C),n+=Math.imul(B,F),e=Math.imul(B,C),h+=Math.imul(x,H),n+=Math.imul(x,J),n+=Math.imul(R,H),e+=Math.imul(R,J),h+=Math.imul(k,G),n+=Math.imul(k,Q),n+=Math.imul(A,G),e+=Math.imul(A,Q),h+=Math.imul(y,W),n+=Math.imul(y,X),n+=Math.imul(b,W),e+=Math.imul(b,X),h+=Math.imul(g,$),n+=Math.imul(g,tt),n+=Math.imul(c,$),e+=Math.imul(c,tt),h+=Math.imul(p,rt),n+=Math.imul(p,ht),n+=Math.imul(M,rt),e+=Math.imul(M,ht),h+=Math.imul(m,et),n+=Math.imul(m,st),n+=Math.imul(f,et),e+=Math.imul(f,st);var _t=a+h+((8191&n)<<13);a=e+(n>>>13)+(_t>>>26),_t&=67108863,h=Math.imul(I,F),n=Math.imul(I,C),n+=Math.imul(L,F),e=Math.imul(L,C),h+=Math.imul(q,H),n+=Math.imul(q,J),n+=Math.imul(B,H),e+=Math.imul(B,J),h+=Math.imul(x,G),n+=Math.imul(x,Q),n+=Math.imul(R,G),e+=Math.imul(R,Q),h+=Math.imul(k,W),n+=Math.imul(k,X),n+=Math.imul(A,W),e+=Math.imul(A,X),h+=Math.imul(y,$),n+=Math.imul(y,tt),n+=Math.imul(b,$),e+=Math.imul(b,tt),h+=Math.imul(g,rt),n+=Math.imul(g,ht),n+=Math.imul(c,rt),e+=Math.imul(c,ht),h+=Math.imul(p,et),n+=Math.imul(p,st),n+=Math.imul(M,et),e+=Math.imul(M,st),h+=Math.imul(m,ut),n+=Math.imul(m,at),n+=Math.imul(f,ut),e+=Math.imul(f,at);var kt=a+h+((8191&n)<<13);a=e+(n>>>13)+(kt>>>26),kt&=67108863,h=Math.imul(z,F),n=Math.imul(z,C),n+=Math.imul(O,F),e=Math.imul(O,C),h+=Math.imul(I,H),n+=Math.imul(I,J),n+=Math.imul(L,H),e+=Math.imul(L,J),h+=Math.imul(q,G),n+=Math.imul(q,Q),n+=Math.imul(B,G),e+=Math.imul(B,Q),h+=Math.imul(x,W),n+=Math.imul(x,X),n+=Math.imul(R,W),e+=Math.imul(R,X),h+=Math.imul(k,$),n+=Math.imul(k,tt),n+=Math.imul(A,$),e+=Math.imul(A,tt),h+=Math.imul(y,rt),n+=Math.imul(y,ht),n+=Math.imul(b,rt),e+=Math.imul(b,ht),h+=Math.imul(g,et),n+=Math.imul(g,st),n+=Math.imul(c,et),e+=Math.imul(c,st),h+=Math.imul(p,ut),n+=Math.imul(p,at),n+=Math.imul(M,ut),e+=Math.imul(M,at),h+=Math.imul(m,mt),n+=Math.imul(m,ft),n+=Math.imul(f,mt),e+=Math.imul(f,ft);var At=a+h+((8191&n)<<13);a=e+(n>>>13)+(At>>>26),At&=67108863,h=Math.imul(j,F),n=Math.imul(j,C),n+=Math.imul(K,F),e=Math.imul(K,C),h+=Math.imul(z,H),n+=Math.imul(z,J),n+=Math.imul(O,H),e+=Math.imul(O,J),h+=Math.imul(I,G),n+=Math.imul(I,Q),n+=Math.imul(L,G),e+=Math.imul(L,Q),h+=Math.imul(q,W),n+=Math.imul(q,X),n+=Math.imul(B,W),e+=Math.imul(B,X),h+=Math.imul(x,$),n+=Math.imul(x,tt),n+=Math.imul(R,$),e+=Math.imul(R,tt),h+=Math.imul(k,rt),n+=Math.imul(k,ht),n+=Math.imul(A,rt),e+=Math.imul(A,ht),h+=Math.imul(y,et),n+=Math.imul(y,st),n+=Math.imul(b,et),e+=Math.imul(b,st),h+=Math.imul(g,ut),n+=Math.imul(g,at),n+=Math.imul(c,ut),e+=Math.imul(c,at),h+=Math.imul(p,mt),n+=Math.imul(p,ft),n+=Math.imul(M,mt),e+=Math.imul(M,ft),h+=Math.imul(m,pt),n+=Math.imul(m,Mt),n+=Math.imul(f,pt),e+=Math.imul(f,Mt);var St=a+h+((8191&n)<<13);a=e+(n>>>13)+(St>>>26),St&=67108863,h=Math.imul(j,H),n=Math.imul(j,J),n+=Math.imul(K,H),e=Math.imul(K,J),h+=Math.imul(z,G),n+=Math.imul(z,Q),n+=Math.imul(O,G),e+=Math.imul(O,Q),h+=Math.imul(I,W),n+=Math.imul(I,X),n+=Math.imul(L,W),e+=Math.imul(L,X),h+=Math.imul(q,$),n+=Math.imul(q,tt),n+=Math.imul(B,$),e+=Math.imul(B,tt),h+=Math.imul(x,rt),n+=Math.imul(x,ht),n+=Math.imul(R,rt),e+=Math.imul(R,ht),h+=Math.imul(k,et),n+=Math.imul(k,st),n+=Math.imul(A,et),e+=Math.imul(A,st),h+=Math.imul(y,ut),n+=Math.imul(y,at),n+=Math.imul(b,ut),e+=Math.imul(b,at),h+=Math.imul(g,mt),n+=Math.imul(g,ft),n+=Math.imul(c,mt),e+=Math.imul(c,ft),h+=Math.imul(p,pt),n+=Math.imul(p,Mt),n+=Math.imul(M,pt),e+=Math.imul(M,Mt);var xt=a+h+((8191&n)<<13);a=e+(n>>>13)+(xt>>>26),xt&=67108863,h=Math.imul(j,G),n=Math.imul(j,Q),n+=Math.imul(K,G),e=Math.imul(K,Q),h+=Math.imul(z,W),n+=Math.imul(z,X),n+=Math.imul(O,W),e+=Math.imul(O,X),h+=Math.imul(I,$),n+=Math.imul(I,tt),n+=Math.imul(L,$),e+=Math.imul(L,tt),h+=Math.imul(q,rt),n+=Math.imul(q,ht),n+=Math.imul(B,rt),e+=Math.imul(B,ht),h+=Math.imul(x,et),n+=Math.imul(x,st),n+=Math.imul(R,et),e+=Math.imul(R,st),h+=Math.imul(k,ut),n+=Math.imul(k,at),n+=Math.imul(A,ut),e+=Math.imul(A,at),h+=Math.imul(y,mt),n+=Math.imul(y,ft),n+=Math.imul(b,mt),e+=Math.imul(b,ft),h+=Math.imul(g,pt),n+=Math.imul(g,Mt),n+=Math.imul(c,pt),e+=Math.imul(c,Mt);var Rt=a+h+((8191&n)<<13);a=e+(n>>>13)+(Rt>>>26),Rt&=67108863,h=Math.imul(j,W),n=Math.imul(j,X),n+=Math.imul(K,W),e=Math.imul(K,X),h+=Math.imul(z,$),n+=Math.imul(z,tt),n+=Math.imul(O,$),e+=Math.imul(O,tt),h+=Math.imul(I,rt),n+=Math.imul(I,ht),n+=Math.imul(L,rt),e+=Math.imul(L,ht),h+=Math.imul(q,et),n+=Math.imul(q,st),n+=Math.imul(B,et),e+=Math.imul(B,st),h+=Math.imul(x,ut),n+=Math.imul(x,at),n+=Math.imul(R,ut),e+=Math.imul(R,at),h+=Math.imul(k,mt),n+=Math.imul(k,ft),n+=Math.imul(A,mt),e+=Math.imul(A,ft),h+=Math.imul(y,pt),n+=Math.imul(y,Mt),n+=Math.imul(b,pt),e+=Math.imul(b,Mt);var Zt=a+h+((8191&n)<<13);a=e+(n>>>13)+(Zt>>>26),Zt&=67108863,h=Math.imul(j,$),n=Math.imul(j,tt),n+=Math.imul(K,$),e=Math.imul(K,tt),h+=Math.imul(z,rt),n+=Math.imul(z,ht),n+=Math.imul(O,rt),e+=Math.imul(O,ht),h+=Math.imul(I,et),n+=Math.imul(I,st),n+=Math.imul(L,et),e+=Math.imul(L,st),h+=Math.imul(q,ut),n+=Math.imul(q,at),n+=Math.imul(B,ut),e+=Math.imul(B,at),h+=Math.imul(x,mt),n+=Math.imul(x,ft),n+=Math.imul(R,mt),e+=Math.imul(R,ft),h+=Math.imul(k,pt),n+=Math.imul(k,Mt),n+=Math.imul(A,pt),e+=Math.imul(A,Mt);var qt=a+h+((8191&n)<<13);a=e+(n>>>13)+(qt>>>26),qt&=67108863,h=Math.imul(j,rt),n=Math.imul(j,ht),n+=Math.imul(K,rt),e=Math.imul(K,ht),h+=Math.imul(z,et),n+=Math.imul(z,st),n+=Math.imul(O,et),e+=Math.imul(O,st),h+=Math.imul(I,ut),n+=Math.imul(I,at),n+=Math.imul(L,ut),e+=Math.imul(L,at),h+=Math.imul(q,mt),n+=Math.imul(q,ft),n+=Math.imul(B,mt),e+=Math.imul(B,ft),h+=Math.imul(x,pt),n+=Math.imul(x,Mt),n+=Math.imul(R,pt),e+=Math.imul(R,Mt);var Bt=a+h+((8191&n)<<13);a=e+(n>>>13)+(Bt>>>26),Bt&=67108863,h=Math.imul(j,et),n=Math.imul(j,st),n+=Math.imul(K,et),e=Math.imul(K,st),h+=Math.imul(z,ut),n+=Math.imul(z,at),n+=Math.imul(O,ut),e+=Math.imul(O,at),h+=Math.imul(I,mt),n+=Math.imul(I,ft),n+=Math.imul(L,mt),e+=Math.imul(L,ft),h+=Math.imul(q,pt),n+=Math.imul(q,Mt),n+=Math.imul(B,pt),e+=Math.imul(B,Mt);var Nt=a+h+((8191&n)<<13);a=e+(n>>>13)+(Nt>>>26),Nt&=67108863,h=Math.imul(j,ut),n=Math.imul(j,at),n+=Math.imul(K,ut),e=Math.imul(K,at),h+=Math.imul(z,mt),n+=Math.imul(z,ft),n+=Math.imul(O,mt),e+=Math.imul(O,ft),h+=Math.imul(I,pt),n+=Math.imul(I,Mt),n+=Math.imul(L,pt),e+=Math.imul(L,Mt);var It=a+h+((8191&n)<<13);a=e+(n>>>13)+(It>>>26),It&=67108863,h=Math.imul(j,mt),n=Math.imul(j,ft),n+=Math.imul(K,mt),e=Math.imul(K,ft),h+=Math.imul(z,pt),n+=Math.imul(z,Mt),n+=Math.imul(O,pt),e+=Math.imul(O,Mt);var Lt=a+h+((8191&n)<<13);a=e+(n>>>13)+(Lt>>>26),Lt&=67108863,h=Math.imul(j,pt),n=Math.imul(j,Mt),n+=Math.imul(K,pt),e=Math.imul(K,Mt);var Et=a+h+((8191&n)<<13);return a=e+(n>>>13)+(Et>>>26),Et&=67108863,u[0]=vt,u[1]=gt,u[2]=ct,u[3]=wt,u[4]=yt,u[5]=bt,u[6]=_t,u[7]=kt,u[8]=At,u[9]=St,u[10]=xt,u[11]=Rt,u[12]=Zt,u[13]=qt,u[14]=Bt,u[15]=Nt,u[16]=It,u[17]=Lt,u[18]=Et,0!==a&&(u[19]=a,r.length++),r};Math.imul||(_=u),n.prototype.mulTo=function(t,i){var r,h=this.length+t.length;return r=10===this.length&&10===t.length?_(this,t,i):63>h?u(this,t,i):1024>h?a(this,t,i):l(this,t,i)},m.prototype.makeRBT=function(t){for(var i=new Array(t),r=n.prototype._countBits(t)-1,h=0;t>h;h++)i[h]=this.revBin(h,r,t);return i},m.prototype.revBin=function(t,i,r){if(0===t||t===r-1)return t;for(var h=0,n=0;i>n;n++)h|=(1&t)<<i-n-1,t>>=1;return h},m.prototype.permute=function(t,i,r,h,n,e){for(var s=0;e>s;s++)h[s]=i[t[s]],n[s]=r[t[s]]},m.prototype.transform=function(t,i,r,h,n,e){this.permute(e,t,i,r,h,n);for(var s=1;n>s;s<<=1)for(var o=s<<1,u=Math.cos(2*Math.PI/o),a=Math.sin(2*Math.PI/o),l=0;n>l;l+=o)for(var m=u,f=a,d=0;s>d;d++){var p=r[l+d],M=h[l+d],v=r[l+d+s],g=h[l+d+s],c=m*v-f*g;g=m*g+f*v,v=c,r[l+d]=p+v,h[l+d]=M+g,r[l+d+s]=p-v,h[l+d+s]=M-g,d!==o&&(c=u*m-a*f,f=u*f+a*m,m=c)}},m.prototype.guessLen13b=function(t,i){var r=1|Math.max(i,t),h=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+h},m.prototype.conjugate=function(t,i,r){if(!(1>=r))for(var h=0;r/2>h;h++){var n=t[h];t[h]=t[r-h-1],t[r-h-1]=n,n=i[h],i[h]=-i[r-h-1],i[r-h-1]=-n}},m.prototype.normalize13b=function(t,i){for(var r=0,h=0;i/2>h;h++){var n=8192*Math.round(t[2*h+1]/i)+Math.round(t[2*h]/i)+r;t[h]=67108863&n,r=67108864>n?0:n/67108864|0}return t},m.prototype.convert13b=function(t,i,h,n){for(var e=0,s=0;i>s;s++)e+=0|t[s],h[2*s]=8191&e,e>>>=13,h[2*s+1]=8191&e,e>>>=13;for(s=2*i;n>s;++s)h[s]=0;r(0===e),r(0===(-8192&e))},m.prototype.stub=function(t){for(var i=new Array(t),r=0;t>r;r++)i[r]=0;return i},m.prototype.mulp=function(t,i,r){var h=2*this.guessLen13b(t.length,i.length),n=this.makeRBT(h),e=this.stub(h),s=new Array(h),o=new Array(h),u=new Array(h),a=new Array(h),l=new Array(h),m=new Array(h),f=r.words;f.length=h,this.convert13b(t.words,t.length,s,h),this.convert13b(i.words,i.length,a,h),this.transform(s,e,o,u,h,n),this.transform(a,e,l,m,h,n);for(var d=0;h>d;d++){var p=o[d]*l[d]-u[d]*m[d];u[d]=o[d]*m[d]+u[d]*l[d],o[d]=p}return this.conjugate(o,u,h),this.transform(o,u,f,e,h,n),this.conjugate(f,e,h),this.normalize13b(f,h),r.negative=t.negative^i.negative,r.length=t.length+i.length,r.strip()},n.prototype.mul=function(t){var i=new n(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},n.prototype.mulf=function(t){var i=new n(null);return i.words=new Array(this.length+t.length),l(this,t,i)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t);for(var i=0,h=0;h<this.length;h++){var n=(0|this.words[h])*t,e=(67108863&n)+(67108863&i);i>>=26,i+=n/67108864|0,i+=e>>>26,this.words[h]=67108863&e}return 0!==i&&(this.words[h]=i,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var i=o(t);if(0===i.length)return new n(1);for(var r=this,h=0;h<i.length&&0===i[h];h++,r=r.sqr());if(++h<i.length)for(var e=r.sqr();h<i.length;h++,e=e.sqr())0!==i[h]&&(r=r.mul(e));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var i,h=t%26,n=(t-h)/26,e=67108863>>>26-h<<26-h;if(0!==h){var s=0;for(i=0;i<this.length;i++){var o=this.words[i]&e,u=(0|this.words[i])-o<<h;this.words[i]=u|s,s=o>>>26-h}s&&(this.words[i]=s,this.length++)}if(0!==n){for(i=this.length-1;i>=0;i--)this.words[i+n]=this.words[i];for(i=0;n>i;i++)this.words[i]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,i,h){r("number"==typeof t&&t>=0);var n;n=i?(i-i%26)/26:0;var e=t%26,s=Math.min((t-e)/26,this.length),o=67108863^67108863>>>e<<e,u=h;if(n-=s,n=Math.max(0,n),u){for(var a=0;s>a;a++)u.words[a]=this.words[a];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,a=0;a<this.length;a++)this.words[a]=this.words[a+s];else this.words[0]=0,this.length=1;var l=0;for(a=this.length-1;a>=0&&(0!==l||a>=n);a--){var m=0|this.words[a];this.words[a]=l<<26-e|m>>>e,l=m&o}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,i,h){return r(0===this.negative),this.iushrn(t,i,h)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var i=t%26,h=(t-i)/26,n=1<<i;if(this.length<=h)return!1;var e=this.words[h];return!!(e&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var i=t%26,h=(t-i)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),0!==i&&h++,this.length=Math.min(h,this.length),0!==i){var n=67108863^67108863>>>i<<i;this.words[this.length-1]&=n}return this.strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),0>t?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),0>t)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,i,h){var n,e=t.length+h;if(this.words.length<e){var s=new Array(e);for(n=0;n<this.length;n++)s[n]=this.words[n];this.words=s}else n=this.length;for(this.length=Math.max(this.length,e);n<this.length;n++)this.words[n]=0;var o,u=0;for(n=0;n<t.length;n++){o=(0|this.words[n+h])+u;var a=(0|t.words[n])*i;o-=67108863&a,u=(o>>26)-(a/67108864|0),this.words[n+h]=67108863&o}for(;n<this.length-h;n++)o=(0|this.words[n+h])+u,u=o>>26,this.words[n+h]=67108863&o;if(0===u)return this.strip();for(r(-1===u),u=0,n=0;n<this.length;n++)o=-(0|this.words[n])+u,u=o>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,i){var r=this.length-t.length,h=this.clone(),e=t,s=0|e.words[e.length-1],o=this._countBits(s);r=26-o,0!==r&&(e=e.ushln(r),h.iushln(r),s=0|e.words[e.length-1]);var u,a=h.length-e.length;if("mod"!==i){u=new n(null),u.length=a+1,u.words=new Array(u.length);for(var l=0;l<u.length;l++)u.words[l]=0}var m=h.clone()._ishlnsubmul(e,1,a);0===m.negative&&(h=m,u&&(u.words[a]=1));for(var f=a-1;f>=0;f--){var d=67108864*(0|h.words[e.length+f])+(0|h.words[e.length+f-1]);for(d=Math.min(d/s|0,67108863),h._ishlnsubmul(e,d,f);0!==h.negative;)d--,h.negative=0,h._ishlnsubmul(e,1,f),h.isZero()||(h.negative^=1);u&&(u.words[f]=d)}return u&&u.strip(),h.strip(),"div"!==i&&0!==r&&h.iushrn(r),{div:u||null,mod:h}},n.prototype.divmod=function(t,i,h){r(!t.isZero());var e,s,o;return 0!==this.negative&&0===t.negative?(o=this.neg().divmod(t,i),"mod"!==i&&(e=o.div.neg()),"div"!==i&&(s=o.mod.neg(),h&&s.neg&&(s=s.add(t))),{div:e,mod:s}):0===this.negative&&0!==t.negative?(o=this.divmod(t.neg(),i),"mod"!==i&&(e=o.div.neg()),{div:e,mod:o.mod}):0!==(this.negative&t.negative)?(o=this.neg().divmod(t.neg(),i),"div"!==i&&(s=o.mod.neg(),h&&s.neg&&(s=s.isub(t))),{div:o.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===i?{div:this.divn(t.words[0]),mod:null}:"mod"===i?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,i)},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var r=0!==i.div.negative?i.mod.isub(t):i.mod,h=t.ushrn(1),n=t.andln(1),e=r.cmp(h);return 0>e||1===n&&0===e?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},n.prototype.modn=function(t){r(67108863>=t);for(var i=(1<<26)%t,h=0,n=this.length-1;n>=0;n--)h=(i*h+(0|this.words[n]))%t;return h},n.prototype.idivn=function(t){r(67108863>=t);for(var i=0,h=this.length-1;h>=0;h--){var n=(0|this.words[h])+67108864*i;this.words[h]=n/t|0,i=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var i=this,h=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e=new n(1),s=new n(0),o=new n(0),u=new n(1),a=0;i.isEven()&&h.isEven();)i.iushrn(1),h.iushrn(1),++a;for(var l=h.clone(),m=i.clone();!i.isZero();){for(var f=0,d=1;0===(i.words[0]&d)&&26>f;++f,d<<=1);if(f>0)for(i.iushrn(f);f-- >0;)(e.isOdd()||s.isOdd())&&(e.iadd(l),s.isub(m)),e.iushrn(1),s.iushrn(1);for(var p=0,M=1;0===(h.words[0]&M)&&26>p;++p,M<<=1);if(p>0)for(h.iushrn(p);p-- >0;)(o.isOdd()||u.isOdd())&&(o.iadd(l),u.isub(m)),o.iushrn(1),u.iushrn(1);i.cmp(h)>=0?(i.isub(h),e.isub(o),s.isub(u)):(h.isub(i),o.isub(e),u.isub(s))}return{a:o,b:u,gcd:h.iushln(a)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var i=this,h=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e=new n(1),s=new n(0),o=h.clone();i.cmpn(1)>0&&h.cmpn(1)>0;){for(var u=0,a=1;0===(i.words[0]&a)&&26>u;++u,a<<=1);if(u>0)for(i.iushrn(u);u-- >0;)e.isOdd()&&e.iadd(o),e.iushrn(1);for(var l=0,m=1;0===(h.words[0]&m)&&26>l;++l,m<<=1);if(l>0)for(h.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(o),s.iushrn(1);i.cmp(h)>=0?(i.isub(h),e.isub(s)):(h.isub(i),s.isub(e))}var f;return f=0===i.cmpn(1)?e:s,f.cmpn(0)<0&&f.iadd(t),f},n.prototype.gcd=function(t){if(this.isZero())return t.clone();if(t.isZero())return this.clone();var i=this.clone(),r=t.clone();i.negative=0,r.negative=0;for(var h=0;i.isEven()&&r.isEven();h++)i.iushrn(1),r.iushrn(1);
for(;;){for(;i.isEven();)i.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=i.cmp(r);if(0>n){var e=i;i=r,r=e}else if(0===n||0===r.cmpn(1))break;i.isub(r)}return r.iushln(h)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0===(1&this.words[0])},n.prototype.isOdd=function(){return 1===(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var i=t%26,h=(t-i)/26,n=1<<i;if(this.length<=h){for(var e=this.length;h+1>e;e++)this.words[e]=0;return this.words[h]|=n,this.length=h+1,this}var s=n;for(e=h;0!==s&&e<this.length;e++){var o=0|this.words[e];o+=s,s=o>>>26,o&=67108863,this.words[e]=o}return 0!==s&&(this.words[e]=s,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var i=0>t;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;this.strip();var h;if(this.length>1)h=1;else{i&&(t=-t),r(67108863>=t,"Number is too big");var n=0|this.words[0];h=n===t?0:t>n?-1:1}return 0!==this.negative&&(h=-h),h},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var i=this.ucmp(t);return 0!==this.negative?-i:i},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,r=this.length-1;r>=0;r--){var h=0|this.words[r],n=0|t.words[r];if(h!==n){n>h?i=-1:h>n&&(i=1);break}}return i},n.red=function(t){return new g(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.ushl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var k={k256:null,p224:null,p192:null,p25519:null};f.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},f.prototype.ireduce=function(t){var i,r=t;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),i=r.bitLength();while(i>this.n);var h=i<this.n?-1:r.ucmp(this.p);return 0===h?(r.words[0]=0,r.length=1):h>0?r.isub(this.p):r.strip(),r},f.prototype.split=function(t,i){t.iushrn(this.n,0,i)},f.prototype.imulK=function(t){return t.imul(this.k)},h(d,f),d.prototype.split=function(t,i){for(var r=4194303,h=Math.min(t.length,9),n=0;h>n;n++)i.words[n]=t.words[n];if(i.length=h,t.length<=9)return t.words[0]=0,void(t.length=1);var e=t.words[9];for(i.words[i.length++]=e&r,n=10;n<t.length;n++){var s=0|t.words[n];t.words[n-10]=(s&r)<<4|e>>>22,e=s}t.words[n-10]=e>>>22,t.length-=9},d.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,r=0;r<t.length;r++){var h=0|t.words[r];i+=977*h,t.words[r]=67108863&i,i=64*h+(i/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},h(p,f),h(M,f),h(v,f),v.prototype.imulK=function(t){for(var i=0,r=0;r<t.length;r++){var h=19*(0|t.words[r])+i,n=67108863&h;h>>>=26,t.words[r]=n,i=h}return 0!==i&&(t.words[t.length++]=i),t},n._prime=function A(t){if(k[t])return k[t];var A;if("k256"===t)A=new d;else if("p224"===t)A=new p;else if("p192"===t)A=new M;else{if("p25519"!==t)throw new Error("Unknown prime "+t);A=new v}return k[t]=A,A},g.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},g.prototype._verify2=function(t,i){r(0===(t.negative|i.negative),"red works only with positives"),r(t.red&&t.red===i.red,"red works only with red numbers")},g.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},g.prototype.neg=function(t){var i=t.clone();return i.negative^=1,i.iadd(this.m)._forceRed(this)},g.prototype.add=function(t,i){this._verify2(t,i);var r=t.add(i);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},g.prototype.iadd=function(t,i){this._verify2(t,i);var r=t.iadd(i);return r.cmp(this.m)>=0&&r.isub(this.m),r},g.prototype.sub=function(t,i){this._verify2(t,i);var r=t.sub(i);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},g.prototype.isub=function(t,i){this._verify2(t,i);var r=t.isub(i);return r.cmpn(0)<0&&r.iadd(this.m),r},g.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},g.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},g.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},g.prototype.isqr=function(t){return this.imul(t,t)},g.prototype.sqr=function(t){return this.mul(t,t)},g.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(r(i%2===1),3===i){var h=this.m.add(new n(1)).iushrn(2);return this.pow(t,h)}for(var e=this.m.subn(1),s=0;!e.isZero()&&0===e.andln(1);)s++,e.iushrn(1);r(!e.isZero());var o=new n(1).toRed(this),u=o.redNeg(),a=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);0!==this.pow(l,a).cmp(u);)l.redIAdd(u);for(var m=this.pow(l,e),f=this.pow(t,e.addn(1).iushrn(1)),d=this.pow(t,e),p=s;0!==d.cmp(o);){for(var M=d,v=0;0!==M.cmp(o);v++)M=M.redSqr();r(p>v);var g=this.pow(m,new n(1).iushln(p-v-1));f=f.redMul(g),m=g.redSqr(),d=d.redMul(m),p=v}return f},g.prototype.invm=function(t){var i=t._invmp(this.m);return 0!==i.negative?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},g.prototype.pow=function(t,i){if(i.isZero())return new n(1);if(0===i.cmpn(1))return t.clone();var r=4,h=new Array(1<<r);h[0]=new n(1).toRed(this),h[1]=t;for(var e=2;e<h.length;e++)h[e]=this.mul(h[e-1],t);var s=h[0],o=0,u=0,a=i.bitLength()%26;for(0===a&&(a=26),e=i.length-1;e>=0;e--){for(var l=i.words[e],m=a-1;m>=0;m--){var f=l>>m&1;s!==h[0]&&(s=this.sqr(s)),0!==f||0!==o?(o<<=1,o|=f,u++,(u===r||0===e&&0===m)&&(s=this.mul(s,h[o]),u=0,o=0)):u=0}a=26}return s},g.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},g.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},n.mont=function(t){return new c(t)},h(c,g),c.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},c.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},c.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(i),h=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(h).iushrn(this.shift),e=n;return n.cmp(this.m)>=0?e=n.isub(this.m):n.cmpn(0)<0&&(e=n.iadd(this.m)),e._forceRed(this)},c.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new n(0)._forceRed(this);var r=t.mul(i),h=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=r.isub(h).iushrn(this.shift),s=e;return e.cmp(this.m)>=0?s=e.isub(this.m):e.cmpn(0)<0&&(s=e.iadd(this.m)),s._forceRed(this)},c.prototype.invm=function(t){var i=this.imod(t._invmp(this.m).mul(this.r2));return i._forceRed(this)}}("undefined"==typeof module||module,this);
},{}],27:[function(require,module,exports){
(function (Buffer){
"use strict";exports["RSA-SHA224"]=exports.sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:new Buffer("302d300d06096086480165030402040500041c","hex")},exports["RSA-SHA256"]=exports.sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:new Buffer("3031300d060960864801650304020105000420","hex")},exports["RSA-SHA384"]=exports.sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:new Buffer("3041300d060960864801650304020205000430","hex")},exports["RSA-SHA512"]=exports.sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:new Buffer("3051300d060960864801650304020305000440","hex")},exports["RSA-SHA1"]={sign:"rsa",hash:"sha1",id:new Buffer("3021300906052b0e03021a05000414","hex")},exports["ecdsa-with-SHA1"]={sign:"ecdsa",hash:"sha1",id:new Buffer("","hex")},exports.DSA=exports["DSA-SHA1"]=exports["DSA-SHA"]={sign:"dsa",hash:"sha1",id:new Buffer("","hex")},exports["DSA-SHA224"]=exports["DSA-WITH-SHA224"]={sign:"dsa",hash:"sha224",id:new Buffer("","hex")},exports["DSA-SHA256"]=exports["DSA-WITH-SHA256"]={sign:"dsa",hash:"sha256",id:new Buffer("","hex")},exports["DSA-SHA384"]=exports["DSA-WITH-SHA384"]={sign:"dsa",hash:"sha384",id:new Buffer("","hex")},exports["DSA-SHA512"]=exports["DSA-WITH-SHA512"]={sign:"dsa",hash:"sha512",id:new Buffer("","hex")},exports["DSA-RIPEMD160"]={sign:"dsa",hash:"rmd160",id:new Buffer("","hex")},exports["RSA-RIPEMD160"]=exports.ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:new Buffer("3021300906052b2403020105000414","hex")},exports["RSA-MD5"]=exports.md5WithRSAEncryption={sign:"rsa",hash:"md5",id:new Buffer("3020300c06082a864886f70d020505000410","hex")};
}).call(this,require("buffer").Buffer)

},{"buffer":42}],28:[function(require,module,exports){
(function (Buffer){
function Sign(e){stream.Writable.call(this);var t=algos[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=createHash(t.hash),this._tag=t.id,this._signType=t.sign}function Verify(e){stream.Writable.call(this);var t=algos[e];if(!t)throw new Error("Unknown message digest");this._hash=createHash(t.hash),this._tag=t.id,this._signType=t.sign}function createSign(e){return new Sign(e)}function createVerify(e){return new Verify(e)}var _algos=require("./algos"),createHash=require("create-hash"),inherits=require("inherits"),sign=require("./sign"),stream=require("stream"),verify=require("./verify"),algos={};Object.keys(_algos).forEach(function(e){algos[e]=algos[e.toLowerCase()]=_algos[e]}),inherits(Sign,stream.Writable),Sign.prototype._write=function(e,t,i){this._hash.update(e),i()},Sign.prototype.update=function(e,t){return"string"==typeof e&&(e=new Buffer(e,t)),this._hash.update(e),this},Sign.prototype.sign=function(e,t){this.end();var i=this._hash.digest(),r=sign(Buffer.concat([this._tag,i]),e,this._hashType,this._signType);return t?r.toString(t):r},inherits(Verify,stream.Writable),Verify.prototype._write=function(e,t,i){this._hash.update(e),i()},Verify.prototype.update=function(e,t){return"string"==typeof e&&(e=new Buffer(e,t)),this._hash.update(e),this},Verify.prototype.verify=function(e,t,i){"string"==typeof t&&(t=new Buffer(t,i)),this.end();var r=this._hash.digest();return verify(t,Buffer.concat([this._tag,r]),e,this._signType)},module.exports={Sign:createSign,Verify:createVerify,createSign:createSign,createVerify:createVerify};
}).call(this,require("buffer").Buffer)

},{"./algos":27,"./sign":31,"./verify":32,"buffer":42,"create-hash":48,"inherits":98,"stream":573}],29:[function(require,module,exports){
"use strict";exports["1.3.132.0.10"]="secp256k1",exports["1.3.132.0.33"]="p224",exports["1.2.840.10045.3.1.1"]="p192",exports["1.2.840.10045.3.1.7"]="p256",exports["1.3.132.0.34"]="p384",exports["1.3.132.0.35"]="p521";
},{}],30:[function(require,module,exports){
arguments[4][26][0].apply(exports,arguments)
},{"dup":26}],31:[function(require,module,exports){
(function (Buffer){
function sign(e,r,t,n){var a=parseKeys(r);if(a.curve){if("ecdsa"!==n)throw new Error("wrong private key type");return ecSign(e,a)}if("dsa"===a.type){if("dsa"!==n)throw new Error("wrong private key type");return dsaSign(e,a,t)}if("rsa"!==n)throw new Error("wrong private key type");for(var i=a.modulus.byteLength(),u=[0,1];e.length+u.length+1<i;)u.push(255);u.push(0);for(var o=-1;++o<e.length;)u.push(e[o]);var c=crt(u,a);return c}function ecSign(e,r){var t=curves[r.curve.join(".")];if(!t)throw new Error("unknown curve "+r.curve.join("."));var n=new EC(t),a=n.genKeyPair();a._importPrivate(r.privateKey);var i=a.sign(e);return new Buffer(i.toDER())}function dsaSign(e,r,t){for(var n,a=r.params.priv_key,i=r.params.p,u=r.params.q,o=r.params.g,c=new BN(0),f=bits2int(e,u).mod(u),s=!1,g=getKey(a,u,e,t);s===!1;)n=makeKey(u,g,t),c=makeR(o,n,i,u),s=n.invm(u).imul(f.add(a.mul(c))).mod(u),s.cmpn(0)||(s=!1,c=new BN(0));return toDER(c,s)}function toDER(e,r){e=e.toArray(),r=r.toArray(),128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r));var t=e.length+r.length+4,n=[48,t,2,e.length];return n=n.concat(e,[2,r.length],r),new Buffer(n)}function getKey(e,r,t,n){if(e=new Buffer(e.toArray()),e.length<r.byteLength()){var a=new Buffer(r.byteLength()-e.length);a.fill(0),e=Buffer.concat([a,e])}var i=t.length,u=bits2octets(t,r),o=new Buffer(i);o.fill(1);var c=new Buffer(i);return c.fill(0),c=createHmac(n,c).update(o).update(new Buffer([0])).update(e).update(u).digest(),o=createHmac(n,c).update(o).digest(),c=createHmac(n,c).update(o).update(new Buffer([1])).update(e).update(u).digest(),o=createHmac(n,c).update(o).digest(),{k:c,v:o}}function bits2int(e,r){var t=new BN(e),n=(e.length<<3)-r.bitLength();return n>0&&t.ishrn(n),t}function bits2octets(e,r){e=bits2int(e,r),e=e.mod(r);var t=new Buffer(e.toArray());if(t.length<r.byteLength()){var n=new Buffer(r.byteLength()-t.length);n.fill(0),t=Buffer.concat([n,t])}return t}function makeKey(e,r,t){var n,a;do{for(n=new Buffer("");8*n.length<e.bitLength();)r.v=createHmac(t,r.k).update(r.v).digest(),n=Buffer.concat([n,r.v]);a=bits2int(n,e),r.k=createHmac(t,r.k).update(r.v).update(new Buffer([0])).digest(),r.v=createHmac(t,r.k).update(r.v).digest()}while(-1!==a.cmp(e));return a}function makeR(e,r,t,n){return e.toRed(BN.mont(t)).redPow(r).fromRed().mod(n)}var createHmac=require("create-hmac"),crt=require("browserify-rsa"),curves=require("./curves"),elliptic=require("elliptic"),parseKeys=require("parse-asn1"),BN=require("bn.js"),EC=elliptic.ec;module.exports=sign,module.exports.getKey=getKey,module.exports.makeKey=makeKey;
}).call(this,require("buffer").Buffer)

},{"./curves":29,"bn.js":30,"browserify-rsa":25,"buffer":42,"create-hmac":51,"elliptic":66,"parse-asn1":407}],32:[function(require,module,exports){
(function (Buffer){
function verify(e,r,t,n){var o=parseKeys(t);if("ec"===o.type){if("ecdsa"!==n)throw new Error("wrong public key type");return ecVerify(e,r,o)}if("dsa"===o.type){if("dsa"!==n)throw new Error("wrong public key type");return dsaVerify(e,r,o)}if("rsa"!==n)throw new Error("wrong public key type");for(var a=o.modulus.byteLength(),i=[1],u=0;r.length+i.length+2<a;)i.push(255),u++;i.push(0);for(var d=-1;++d<r.length;)i.push(r[d]);i=new Buffer(i);var c=BN.mont(o.modulus);e=new BN(e).toRed(c),e=e.redPow(new BN(o.publicExponent)),e=new Buffer(e.fromRed().toArray());var l=0;for(8>u&&(l=1),a=Math.min(e.length,i.length),e.length!==i.length&&(l=1),d=-1;++d<a;)l|=e[d]^i[d];return 0===l}function ecVerify(e,r,t){var n=curves[t.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+t.data.algorithm.curve.join("."));var o=new EC(n),a=t.data.subjectPrivateKey.data;return o.verify(r,e,a)}function dsaVerify(e,r,t){var n=t.data.p,o=t.data.q,a=t.data.g,i=t.data.pub_key,u=parseKeys.signature.decode(e,"der"),d=u.s,c=u.r;checkValue(d,o),checkValue(c,o);var l=BN.mont(n),f=d.invm(o),s=a.toRed(l).redPow(new BN(r).mul(f).mod(o)).fromRed().mul(i.toRed(l).redPow(c.mul(f).mod(o)).fromRed()).mod(n).mod(o);return!s.cmp(c)}function checkValue(e,r){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(r)>=r)throw new Error("invalid sig")}var curves=require("./curves"),elliptic=require("elliptic"),parseKeys=require("parse-asn1"),BN=require("bn.js"),EC=elliptic.ec;module.exports=verify;
}).call(this,require("buffer").Buffer)

},{"./curves":29,"bn.js":30,"buffer":42,"elliptic":66,"parse-asn1":407}],33:[function(require,module,exports){
(function (process,Buffer){
function Zlib(t){if(t<exports.DEFLATE||t>exports.UNZIP)throw new TypeError("Bad argument");this.mode=t,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}function bufferSet(t,e){for(var s=0;s<t.length;s++)this[e+s]=t[s]}var msg=require("pako/lib/zlib/messages"),zstream=require("pako/lib/zlib/zstream"),zlib_deflate=require("pako/lib/zlib/deflate.js"),zlib_inflate=require("pako/lib/zlib/inflate.js"),constants=require("pako/lib/zlib/constants");for(var key in constants)exports[key]=constants[key];exports.NONE=0,exports.DEFLATE=1,exports.INFLATE=2,exports.GZIP=3,exports.GUNZIP=4,exports.DEFLATERAW=5,exports.INFLATERAW=6,exports.UNZIP=7,Zlib.prototype.init=function(t,e,s,i,r){switch(this.windowBits=t,this.level=e,this.memLevel=s,this.strategy=i,(this.mode===exports.GZIP||this.mode===exports.GUNZIP)&&(this.windowBits+=16),this.mode===exports.UNZIP&&(this.windowBits+=32),(this.mode===exports.DEFLATERAW||this.mode===exports.INFLATERAW)&&(this.windowBits=-this.windowBits),this.strm=new zstream,this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:var o=zlib_deflate.deflateInit2(this.strm,this.level,exports.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:case exports.UNZIP:var o=zlib_inflate.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}return o!==exports.Z_OK?void this._error(o):(this.write_in_progress=!1,void(this.init_done=!0))},Zlib.prototype.params=function(){throw new Error("deflateParams Not supported")},Zlib.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===exports.NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},Zlib.prototype.write=function(t,e,s,i,r,o,n){this._writeCheck(),this.write_in_progress=!0;var a=this;return process.nextTick(function(){a.write_in_progress=!1;var p=a._write(t,e,s,i,r,o,n);a.callback(p[0],p[1]),a.pending_close&&a.close()}),this},Zlib.prototype.writeSync=function(t,e,s,i,r,o,n){return this._writeCheck(),this._write(t,e,s,i,r,o,n)},Zlib.prototype._write=function(t,e,s,i,r,o,n){if(this.write_in_progress=!0,t!==exports.Z_NO_FLUSH&&t!==exports.Z_PARTIAL_FLUSH&&t!==exports.Z_SYNC_FLUSH&&t!==exports.Z_FULL_FLUSH&&t!==exports.Z_FINISH&&t!==exports.Z_BLOCK)throw new Error("Invalid flush value");null==e&&(e=new Buffer(0),i=0,s=0),r._set?r.set=r._set:r.set=bufferSet;var a=this.strm;switch(a.avail_in=i,a.input=e,a.next_in=s,a.avail_out=n,a.output=r,a.next_out=o,this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:var p=zlib_deflate.deflate(a,t);break;case exports.UNZIP:case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:var p=zlib_inflate.inflate(a,t);break;default:throw new Error("Unknown mode "+this.mode)}return p!==exports.Z_STREAM_END&&p!==exports.Z_OK&&this._error(p),this.write_in_progress=!1,[a.avail_in,a.avail_out]},Zlib.prototype.close=function(){return this.write_in_progress?void(this.pending_close=!0):(this.pending_close=!1,this.mode===exports.DEFLATE||this.mode===exports.GZIP||this.mode===exports.DEFLATERAW?zlib_deflate.deflateEnd(this.strm):zlib_inflate.inflateEnd(this.strm),void(this.mode=exports.NONE))},Zlib.prototype.reset=function(){switch(this.mode){case exports.DEFLATE:case exports.DEFLATERAW:var t=zlib_deflate.deflateReset(this.strm);break;case exports.INFLATE:case exports.INFLATERAW:var t=zlib_inflate.inflateReset(this.strm)}t!==exports.Z_OK&&this._error(t)},Zlib.prototype._error=function(t){this.onerror(msg[t]+": "+this.strm.msg,t),this.write_in_progress=!1,this.pending_close&&this.close()},exports.Zlib=Zlib;
}).call(this,require('_process'),require("buffer").Buffer)

},{"_process":425,"buffer":42,"pako/lib/zlib/constants":395,"pako/lib/zlib/deflate.js":397,"pako/lib/zlib/inflate.js":399,"pako/lib/zlib/messages":401,"pako/lib/zlib/zstream":403}],34:[function(require,module,exports){
(function (process,Buffer){
function zlibBuffer(e,n,i){function t(){for(var n;null!==(n=e.read());)o.push(n),s+=n.length;e.once("readable",t)}function r(n){e.removeListener("end",f),e.removeListener("readable",t),i(n)}function f(){var n=Buffer.concat(o,s);o=[],i(null,n),e.close()}var o=[],s=0;e.on("error",r),e.on("end",f),e.end(n),t()}function zlibBufferSync(e,n){if("string"==typeof n&&(n=new Buffer(n)),!Buffer.isBuffer(n))throw new TypeError("Not a string or buffer");var i=binding.Z_FINISH;return e._processChunk(n,i)}function Deflate(e){return this instanceof Deflate?void Zlib.call(this,e,binding.DEFLATE):new Deflate(e)}function Inflate(e){return this instanceof Inflate?void Zlib.call(this,e,binding.INFLATE):new Inflate(e)}function Gzip(e){return this instanceof Gzip?void Zlib.call(this,e,binding.GZIP):new Gzip(e)}function Gunzip(e){return this instanceof Gunzip?void Zlib.call(this,e,binding.GUNZIP):new Gunzip(e)}function DeflateRaw(e){return this instanceof DeflateRaw?void Zlib.call(this,e,binding.DEFLATERAW):new DeflateRaw(e)}function InflateRaw(e){return this instanceof InflateRaw?void Zlib.call(this,e,binding.INFLATERAW):new InflateRaw(e)}function Unzip(e){return this instanceof Unzip?void Zlib.call(this,e,binding.UNZIP):new Unzip(e)}function Zlib(e,n){if(this._opts=e=e||{},this._chunkSize=e.chunkSize||exports.Z_DEFAULT_CHUNK,Transform.call(this,e),e.flush&&e.flush!==binding.Z_NO_FLUSH&&e.flush!==binding.Z_PARTIAL_FLUSH&&e.flush!==binding.Z_SYNC_FLUSH&&e.flush!==binding.Z_FULL_FLUSH&&e.flush!==binding.Z_FINISH&&e.flush!==binding.Z_BLOCK)throw new Error("Invalid flush flag: "+e.flush);if(this._flushFlag=e.flush||binding.Z_NO_FLUSH,e.chunkSize&&(e.chunkSize<exports.Z_MIN_CHUNK||e.chunkSize>exports.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<exports.Z_MIN_WINDOWBITS||e.windowBits>exports.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<exports.Z_MIN_LEVEL||e.level>exports.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<exports.Z_MIN_MEMLEVEL||e.memLevel>exports.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=exports.Z_FILTERED&&e.strategy!=exports.Z_HUFFMAN_ONLY&&e.strategy!=exports.Z_RLE&&e.strategy!=exports.Z_FIXED&&e.strategy!=exports.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!Buffer.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new binding.Zlib(n);var i=this;this._hadError=!1,this._binding.onerror=function(e,n){i._binding=null,i._hadError=!0;var t=new Error(e);t.errno=n,t.code=exports.codes[n],i.emit("error",t)};var t=exports.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(t=e.level);var r=exports.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(r=e.strategy),this._binding.init(e.windowBits||exports.Z_DEFAULT_WINDOWBITS,t,e.memLevel||exports.Z_DEFAULT_MEMLEVEL,r,e.dictionary),this._buffer=new Buffer(this._chunkSize),this._offset=0,this._closed=!1,this._level=t,this._strategy=r,this.once("end",this.close)}var Transform=require("_stream_transform"),binding=require("./binding"),util=require("util"),assert=require("assert").ok;binding.Z_MIN_WINDOWBITS=8,binding.Z_MAX_WINDOWBITS=15,binding.Z_DEFAULT_WINDOWBITS=15,binding.Z_MIN_CHUNK=64,binding.Z_MAX_CHUNK=1/0,binding.Z_DEFAULT_CHUNK=16384,binding.Z_MIN_MEMLEVEL=1,binding.Z_MAX_MEMLEVEL=9,binding.Z_DEFAULT_MEMLEVEL=8,binding.Z_MIN_LEVEL=-1,binding.Z_MAX_LEVEL=9,binding.Z_DEFAULT_LEVEL=binding.Z_DEFAULT_COMPRESSION,Object.keys(binding).forEach(function(e){e.match(/^Z/)&&(exports[e]=binding[e])}),exports.codes={Z_OK:binding.Z_OK,Z_STREAM_END:binding.Z_STREAM_END,Z_NEED_DICT:binding.Z_NEED_DICT,Z_ERRNO:binding.Z_ERRNO,Z_STREAM_ERROR:binding.Z_STREAM_ERROR,Z_DATA_ERROR:binding.Z_DATA_ERROR,Z_MEM_ERROR:binding.Z_MEM_ERROR,Z_BUF_ERROR:binding.Z_BUF_ERROR,Z_VERSION_ERROR:binding.Z_VERSION_ERROR},Object.keys(exports.codes).forEach(function(e){exports.codes[exports.codes[e]]=e}),exports.Deflate=Deflate,exports.Inflate=Inflate,exports.Gzip=Gzip,exports.Gunzip=Gunzip,exports.DeflateRaw=DeflateRaw,exports.InflateRaw=InflateRaw,exports.Unzip=Unzip,exports.createDeflate=function(e){return new Deflate(e)},exports.createInflate=function(e){return new Inflate(e)},exports.createDeflateRaw=function(e){return new DeflateRaw(e)},exports.createInflateRaw=function(e){return new InflateRaw(e)},exports.createGzip=function(e){return new Gzip(e)},exports.createGunzip=function(e){return new Gunzip(e)},exports.createUnzip=function(e){return new Unzip(e)},exports.deflate=function(e,n,i){return"function"==typeof n&&(i=n,n={}),zlibBuffer(new Deflate(n),e,i)},exports.deflateSync=function(e,n){return zlibBufferSync(new Deflate(n),e)},exports.gzip=function(e,n,i){return"function"==typeof n&&(i=n,n={}),zlibBuffer(new Gzip(n),e,i)},exports.gzipSync=function(e,n){return zlibBufferSync(new Gzip(n),e)},exports.deflateRaw=function(e,n,i){return"function"==typeof n&&(i=n,n={}),zlibBuffer(new DeflateRaw(n),e,i)},exports.deflateRawSync=function(e,n){return zlibBufferSync(new DeflateRaw(n),e)},exports.unzip=function(e,n,i){return"function"==typeof n&&(i=n,n={}),zlibBuffer(new Unzip(n),e,i)},exports.unzipSync=function(e,n){return zlibBufferSync(new Unzip(n),e)},exports.inflate=function(e,n,i){return"function"==typeof n&&(i=n,n={}),zlibBuffer(new Inflate(n),e,i)},exports.inflateSync=function(e,n){return zlibBufferSync(new Inflate(n),e)},exports.gunzip=function(e,n,i){return"function"==typeof n&&(i=n,n={}),zlibBuffer(new Gunzip(n),e,i)},exports.gunzipSync=function(e,n){return zlibBufferSync(new Gunzip(n),e)},exports.inflateRaw=function(e,n,i){return"function"==typeof n&&(i=n,n={}),zlibBuffer(new InflateRaw(n),e,i)},exports.inflateRawSync=function(e,n){return zlibBufferSync(new InflateRaw(n),e)},util.inherits(Zlib,Transform),Zlib.prototype.params=function(e,n,i){if(e<exports.Z_MIN_LEVEL||e>exports.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(n!=exports.Z_FILTERED&&n!=exports.Z_HUFFMAN_ONLY&&n!=exports.Z_RLE&&n!=exports.Z_FIXED&&n!=exports.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==e||this._strategy!==n){var t=this;this.flush(binding.Z_SYNC_FLUSH,function(){t._binding.params(e,n),t._hadError||(t._level=e,t._strategy=n,i&&i())})}else process.nextTick(i)},Zlib.prototype.reset=function(){return this._binding.reset()},Zlib.prototype._flush=function(e){this._transform(new Buffer(0),"",e)},Zlib.prototype.flush=function(e,n){var i=this._writableState;if(("function"==typeof e||void 0===e&&!n)&&(n=e,e=binding.Z_FULL_FLUSH),i.ended)n&&process.nextTick(n);else if(i.ending)n&&this.once("end",n);else if(i.needDrain){var t=this;this.once("drain",function(){t.flush(n)})}else this._flushFlag=e,this.write(new Buffer(0),"",n)},Zlib.prototype.close=function(e){if(e&&process.nextTick(e),!this._closed){this._closed=!0,this._binding.close();var n=this;process.nextTick(function(){n.emit("close")})}},Zlib.prototype._transform=function(e,n,i){var t,r=this._writableState,f=r.ending||r.ended,o=f&&(!e||r.length===e.length);if(null===!e&&!Buffer.isBuffer(e))return i(new Error("invalid input"));o?t=binding.Z_FINISH:(t=this._flushFlag,e.length>=r.length&&(this._flushFlag=this._opts.flush||binding.Z_NO_FLUSH));this._processChunk(e,t,i)},Zlib.prototype._processChunk=function(e,n,i){function t(u,c){if(!s._hadError){var h=f-c;if(assert(h>=0,"have should not go down"),h>0){var p=s._buffer.slice(s._offset,s._offset+h);s._offset+=h,l?s.push(p):(a.push(p),_+=p.length)}if((0===c||s._offset>=s._chunkSize)&&(f=s._chunkSize,s._offset=0,s._buffer=new Buffer(s._chunkSize)),0===c){if(o+=r-u,r=u,!l)return!0;var d=s._binding.write(n,e,o,r,s._buffer,s._offset,s._chunkSize);return d.callback=t,void(d.buffer=e)}return l?void i():!1}}var r=e&&e.length,f=this._chunkSize-this._offset,o=0,s=this,l="function"==typeof i;if(!l){var u,a=[],_=0;this.on("error",function(e){u=e});do var c=this._binding.writeSync(n,e,o,r,this._buffer,this._offset,f);while(!this._hadError&&t(c[0],c[1]));if(this._hadError)throw u;var h=Buffer.concat(a,_);return this.close(),h}var p=this._binding.write(n,e,o,r,this._buffer,this._offset,f);p.buffer=e,p.callback=t},util.inherits(Deflate,Zlib),util.inherits(Inflate,Zlib),util.inherits(Gzip,Zlib),util.inherits(Gunzip,Zlib),util.inherits(DeflateRaw,Zlib),util.inherits(InflateRaw,Zlib),util.inherits(Unzip,Zlib);
}).call(this,require('_process'),require("buffer").Buffer)

},{"./binding":33,"_process":425,"_stream_transform":40,"assert":2,"buffer":42,"util":594}],35:[function(require,module,exports){
arguments[4][6][0].apply(exports,arguments)
},{"dup":6}],36:[function(require,module,exports){
(function (process){
function Duplex(e){return this instanceof Duplex?(Readable.call(this,e),Writable.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(e)}function onend(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}function forEach(e,t){for(var i=0,r=e.length;r>i;i++)t(e[i],i)}module.exports=Duplex;var objectKeys=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t},util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable"),Writable=require("./_stream_writable");util.inherits(Duplex,Readable),forEach(objectKeys(Writable.prototype),function(e){Duplex.prototype[e]||(Duplex.prototype[e]=Writable.prototype[e])});
}).call(this,require('_process'))

},{"./_stream_readable":37,"./_stream_writable":39,"_process":425,"core-util-is":45,"inherits":98}],37:[function(require,module,exports){
(function (process){
function ReadableState(e,t){var n=require("./_stream_duplex");e=e||{};var r=e.highWaterMark,i=e.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this.decoder=new StringDecoder(e.encoding),this.encoding=e.encoding)}function Readable(e){require("./_stream_duplex");return this instanceof Readable?(this._readableState=new ReadableState(e,this),this.readable=!0,void Stream.call(this)):new Readable(e)}function readableAddChunk(e,t,n,r,i){var a=chunkInvalid(t,n);if(a)e.emit("error",a);else if(util.isNullOrUndefined(n))t.reading=!1,t.ended||onEofChunk(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var d=new Error("stream.push() after EOF");e.emit("error",d)}else if(t.endEmitted&&i){var d=new Error("stream.unshift() after end event");e.emit("error",d)}else!t.decoder||i||r||(n=t.decoder.write(n)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&emitReadable(e)),maybeReadMore(e,t);else i||(t.reading=!1);return needMoreData(t)}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function roundUpToNextPowerOf2(e){if(e>=MAX_HWM)e=MAX_HWM;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function howMuchToRead(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||util.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=roundUpToNextPowerOf2(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function chunkInvalid(e,t){var n=null;return util.isBuffer(t)||util.isString(t)||util.isNullOrUndefined(t)||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function onEofChunk(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,emitReadable(e)}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(debug("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?process.nextTick(function(){emitReadable_(e)}):emitReadable_(e))}function emitReadable_(e){debug("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(function(){maybeReadMore_(e,t)}))}function maybeReadMore_(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(debug("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;debug("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&EE.listenerCount(e,"data")&&(t.flowing=!0,flow(e))}}function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(function(){resume_(e,t)}))}function resume_(e,t){t.resumeScheduled=!1,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;if(debug("flow",t.flowing),t.flowing)do var n=e.read();while(null!==n&&t.flowing)}function fromList(e,t){var n,r=t.buffer,i=t.length,a=!!t.decoder,d=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(d)n=r.shift();else if(!e||e>=i)n=a?r.join(""):Buffer.concat(r,i),r.length=0;else if(e<r[0].length){var o=r[0];n=o.slice(0,e),r[0]=o.slice(e)}else if(e===r[0].length)n=r.shift();else{n=a?"":new Buffer(e);for(var l=0,u=0,s=r.length;s>u&&e>l;u++){var o=r[0],h=Math.min(e-l,o.length);a?n+=o.slice(0,h):o.copy(n,l,0,h),h<o.length?r[0]=o.slice(h):r.shift(),l+=h}}return n}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,process.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function forEach(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}function indexOf(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}module.exports=Readable;var isArray=require("isarray"),Buffer=require("buffer").Buffer;Readable.ReadableState=ReadableState;var EE=require("events").EventEmitter;EE.listenerCount||(EE.listenerCount=function(e,t){return e.listeners(t).length});var Stream=require("stream"),util=require("core-util-is");util.inherits=require("inherits");var StringDecoder,debug=require("util");debug=debug&&debug.debuglog?debug.debuglog("stream"):function(){},util.inherits(Readable,Stream),Readable.prototype.push=function(e,t){var n=this._readableState;return util.isString(e)&&!n.objectMode&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=new Buffer(e,t),t="")),readableAddChunk(this,n,e,t,!1)},Readable.prototype.unshift=function(e){var t=this._readableState;return readableAddChunk(this,t,e,"",!0)},Readable.prototype.setEncoding=function(e){return StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this._readableState.decoder=new StringDecoder(e),this._readableState.encoding=e,this};var MAX_HWM=8388608;Readable.prototype.read=function(e){debug("read",e);var t=this._readableState,n=e;if((!util.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return debug("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(e=howMuchToRead(e,t),0===e&&t.ended)return 0===t.length&&endReadable(this),null;var r=t.needReadable;debug("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,debug("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,debug("reading or ended",r)),r&&(debug("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=howMuchToRead(n,t));var i;return i=e>0?fromList(e,t):null,util.isNull(i)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&endReadable(this),util.isNull(i)||this.emit("data",i),i},Readable.prototype._read=function(e){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(e,t){function n(e){debug("onunpipe"),e===s&&i()}function r(){debug("onend"),e.end()}function i(){debug("cleanup"),e.removeListener("close",o),e.removeListener("finish",l),e.removeListener("drain",g),e.removeListener("error",d),e.removeListener("unpipe",n),s.removeListener("end",r),s.removeListener("end",i),s.removeListener("data",a),!h.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function a(t){debug("ondata");var n=e.write(t);!1===n&&(debug("false write response, pause",s._readableState.awaitDrain),s._readableState.awaitDrain++,s.pause())}function d(t){debug("onerror",t),u(),e.removeListener("error",d),0===EE.listenerCount(e,"error")&&e.emit("error",t)}function o(){e.removeListener("finish",l),u()}function l(){debug("onfinish"),e.removeListener("close",o),u()}function u(){debug("unpipe"),s.unpipe(e)}var s=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,debug("pipe count=%d opts=%j",h.pipesCount,t);var f=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,b=f?r:i;h.endEmitted?process.nextTick(b):s.once("end",b),e.on("unpipe",n);var g=pipeOnDrain(s);return e.on("drain",g),s.on("data",a),e._events&&e._events.error?isArray(e._events.error)?e._events.error.unshift(d):e._events.error=[d,e._events.error]:e.on("error",d),e.once("close",o),e.once("finish",l),e.emit("pipe",s),h.flowing||(debug("pipe resume"),s.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;r>i;i++)n[i].emit("unpipe",this);return this}var i=indexOf(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},Readable.prototype.on=function(e,t){var n=Stream.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var r=this._readableState;if(!r.readableListening)if(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading)r.length&&emitReadable(this,r);else{var i=this;process.nextTick(function(){debug("readable nexttick read 0"),i.read(0)})}}return n},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug("resume"),e.flowing=!0,e.reading||(debug("resume read 0"),this.read(0)),resume(this,e)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(debug("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(debug("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)){var a=r.push(i);a||(n=!0,e.pause())}});for(var i in e)util.isFunction(e[i])&&util.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var a=["error","close","destroy","pause","resume"];return forEach(a,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){debug("wrapped _read",t),n&&(n=!1,e.resume())},r},Readable._fromList=fromList;
}).call(this,require('_process'))

},{"./_stream_duplex":36,"_process":425,"buffer":42,"core-util-is":45,"events":84,"inherits":98,"isarray":100,"stream":573,"string_decoder/":584,"util":6}],38:[function(require,module,exports){
function TransformState(r,t){this.afterTransform=function(r,n){return afterTransform(t,r,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function afterTransform(r,t,n){var e=r._transformState;e.transforming=!1;var i=e.writecb;if(!i)return r.emit("error",new Error("no writecb in Transform class"));e.writechunk=null,e.writecb=null,util.isNullOrUndefined(n)||r.push(n),i&&i(t);var a=r._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&r._read(a.highWaterMark)}function Transform(r){if(!(this instanceof Transform))return new Transform(r);Duplex.call(this,r),this._transformState=new TransformState(r,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){util.isFunction(this._flush)?this._flush(function(r){done(t,r)}):done(t)})}function done(r,t){if(t)return r.emit("error",t);var n=r._writableState,e=r._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(e.transforming)throw new Error("calling transform done when still transforming");return r.push(null)}module.exports=Transform;var Duplex=require("./_stream_duplex"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(Transform,Duplex),Transform.prototype.push=function(r,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,r,t)},Transform.prototype._transform=function(r,t,n){throw new Error("not implemented")},Transform.prototype._write=function(r,t,n){var e=this._transformState;if(e.writecb=n,e.writechunk=r,e.writeencoding=t,!e.transforming){var i=this._readableState;(e.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Transform.prototype._read=function(r){var t=this._transformState;util.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))};
},{"./_stream_duplex":36,"core-util-is":45,"inherits":98}],39:[function(require,module,exports){
(function (process){
function WriteReq(e,i,t){this.chunk=e,this.encoding=i,this.callback=t}function WritableState(e,i){var t=require("./_stream_duplex");e=e||{};var r=e.highWaterMark,n=e.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.objectMode=!!e.objectMode,i instanceof t&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=e.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(i,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function Writable(e){var i=require("./_stream_duplex");return this instanceof Writable||this instanceof i?(this._writableState=new WritableState(e,this),this.writable=!0,void Stream.call(this)):new Writable(e)}function writeAfterEnd(e,i,t){var r=new Error("write after end");e.emit("error",r),process.nextTick(function(){t(r)})}function validChunk(e,i,t,r){var n=!0;if(!(util.isBuffer(t)||util.isString(t)||util.isNullOrUndefined(t)||i.objectMode)){var o=new TypeError("Invalid non-string/buffer chunk");e.emit("error",o),process.nextTick(function(){r(o)}),n=!1}return n}function decodeChunk(e,i,t){return!e.objectMode&&e.decodeStrings!==!1&&util.isString(i)&&(i=new Buffer(i,t)),i}function writeOrBuffer(e,i,t,r,n){t=decodeChunk(i,t,r),util.isBuffer(t)&&(r="buffer");var o=i.objectMode?1:t.length;i.length+=o;var f=i.length<i.highWaterMark;return f||(i.needDrain=!0),i.writing||i.corked?i.buffer.push(new WriteReq(t,r,n)):doWrite(e,i,!1,o,t,r,n),f}function doWrite(e,i,t,r,n,o,f){i.writelen=r,i.writecb=f,i.writing=!0,i.sync=!0,t?e._writev(n,i.onwrite):e._write(n,o,i.onwrite),i.sync=!1}function onwriteError(e,i,t,r,n){t?process.nextTick(function(){i.pendingcb--,n(r)}):(i.pendingcb--,n(r)),e._writableState.errorEmitted=!0,e.emit("error",r)}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,i){var t=e._writableState,r=t.sync,n=t.writecb;if(onwriteStateUpdate(t),i)onwriteError(e,t,r,i,n);else{var o=needFinish(e,t);o||t.corked||t.bufferProcessing||!t.buffer.length||clearBuffer(e,t),r?process.nextTick(function(){afterWrite(e,t,o,n)}):afterWrite(e,t,o,n)}}function afterWrite(e,i,t,r){t||onwriteDrain(e,i),i.pendingcb--,r(),finishMaybe(e,i)}function onwriteDrain(e,i){0===i.length&&i.needDrain&&(i.needDrain=!1,e.emit("drain"))}function clearBuffer(e,i){if(i.bufferProcessing=!0,e._writev&&i.buffer.length>1){for(var t=[],r=0;r<i.buffer.length;r++)t.push(i.buffer[r].callback);i.pendingcb++,doWrite(e,i,!0,i.length,i.buffer,"",function(e){for(var r=0;r<t.length;r++)i.pendingcb--,t[r](e)}),i.buffer=[]}else{for(var r=0;r<i.buffer.length;r++){var n=i.buffer[r],o=n.chunk,f=n.encoding,u=n.callback,s=i.objectMode?1:o.length;if(doWrite(e,i,!1,s,o,f,u),i.writing){r++;break}}r<i.buffer.length?i.buffer=i.buffer.slice(r):i.buffer.length=0}i.bufferProcessing=!1}function needFinish(e,i){return i.ending&&0===i.length&&!i.finished&&!i.writing}function prefinish(e,i){i.prefinished||(i.prefinished=!0,e.emit("prefinish"))}function finishMaybe(e,i){var t=needFinish(e,i);return t&&(0===i.pendingcb?(prefinish(e,i),i.finished=!0,e.emit("finish")):prefinish(e,i)),t}function endWritable(e,i,t){i.ending=!0,finishMaybe(e,i),t&&(i.finished?process.nextTick(t):e.once("finish",t)),i.ended=!0}module.exports=Writable;var Buffer=require("buffer").Buffer;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var Stream=require("stream");util.inherits(Writable,Stream),Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},Writable.prototype.write=function(e,i,t){var r=this._writableState,n=!1;return util.isFunction(i)&&(t=i,i=null),util.isBuffer(e)?i="buffer":i||(i=r.defaultEncoding),util.isFunction(t)||(t=function(){}),r.ended?writeAfterEnd(this,r,t):validChunk(this,r,e,t)&&(r.pendingcb++,n=writeOrBuffer(this,r,e,i,t)),n},Writable.prototype.cork=function(){var e=this._writableState;e.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||clearBuffer(this,e))},Writable.prototype._write=function(e,i,t){t(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,i,t){var r=this._writableState;util.isFunction(e)?(t=e,e=null,i=null):util.isFunction(i)&&(t=i,i=null),util.isNullOrUndefined(e)||this.write(e,i),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||endWritable(this,r,t)};
}).call(this,require('_process'))

},{"./_stream_duplex":36,"_process":425,"buffer":42,"core-util-is":45,"inherits":98,"stream":573}],40:[function(require,module,exports){
module.exports=require("./lib/_stream_transform.js");
},{"./lib/_stream_transform.js":38}],41:[function(require,module,exports){
(function (Buffer){
module.exports=function(e,n){for(var r=Math.min(e.length,n.length),t=new Buffer(r),f=0;r>f;++f)t[f]=e[f]^n[f];return t};
}).call(this,require("buffer").Buffer)

},{"buffer":42}],42:[function(require,module,exports){
(function (global){
"use strict";function typedArraySupport(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(r){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Buffer(t){return this instanceof Buffer?(Buffer.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof t?fromNumber(this,t):"string"==typeof t?fromString(this,t,arguments.length>1?arguments[1]:"utf8"):fromObject(this,t)):arguments.length>1?new Buffer(t,arguments[1]):new Buffer(t)}function fromNumber(t,e){if(t=allocate(t,0>e?0:0|checked(e)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;e>r;r++)t[r]=0;return t}function fromString(t,e,r){("string"!=typeof r||""===r)&&(r="utf8");var n=0|byteLength(e,r);return t=allocate(t,n),t.write(e,r),t}function fromObject(t,e){if(Buffer.isBuffer(e))return fromBuffer(t,e);if(isArray(e))return fromArray(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(e.buffer instanceof ArrayBuffer)return fromTypedArray(t,e);if(e instanceof ArrayBuffer)return fromArrayBuffer(t,e)}return e.length?fromArrayLike(t,e):fromJsonObject(t,e)}function fromBuffer(t,e){var r=0|checked(e.length);return t=allocate(t,r),e.copy(t,0,0,r),t}function fromArray(t,e){var r=0|checked(e.length);t=allocate(t,r);for(var n=0;r>n;n+=1)t[n]=255&e[n];return t}function fromTypedArray(t,e){var r=0|checked(e.length);t=allocate(t,r);for(var n=0;r>n;n+=1)t[n]=255&e[n];return t}function fromArrayBuffer(t,e){return Buffer.TYPED_ARRAY_SUPPORT?(e.byteLength,t=Buffer._augment(new Uint8Array(e))):t=fromTypedArray(t,new Uint8Array(e)),t}function fromArrayLike(t,e){var r=0|checked(e.length);t=allocate(t,r);for(var n=0;r>n;n+=1)t[n]=255&e[n];return t}function fromJsonObject(t,e){var r,n=0;"Buffer"===e.type&&isArray(e.data)&&(r=e.data,n=0|checked(r.length)),t=allocate(t,n);for(var f=0;n>f;f+=1)t[f]=255&r[f];return t}function allocate(t,e){Buffer.TYPED_ARRAY_SUPPORT?(t=Buffer._augment(new Uint8Array(e)),t.__proto__=Buffer.prototype):(t.length=e,t._isBuffer=!0);var r=0!==e&&e<=Buffer.poolSize>>>1;return r&&(t.parent=rootParent),t}function checked(t){if(t>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|t}function SlowBuffer(t,e){if(!(this instanceof SlowBuffer))return new SlowBuffer(t,e);var r=new Buffer(t,e);return delete r.parent,r}function byteLength(t,e){"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(t).length;default:if(n)return utf8ToBytes(t).length;e=(""+e).toLowerCase(),n=!0}}function slowToString(t,e,r){var n=!1;if(e=0|e,r=void 0===r||r===1/0?this.length:0|r,t||(t="utf8"),0>e&&(e=0),r>this.length&&(r=this.length),e>=r)return"";for(;;)switch(t){case"hex":return hexSlice(this,e,r);case"utf8":case"utf-8":return utf8Slice(this,e,r);case"ascii":return asciiSlice(this,e,r);case"binary":return binarySlice(this,e,r);case"base64":return base64Slice(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function hexWrite(t,e,r,n){r=Number(r)||0;var f=t.length-r;n?(n=Number(n),n>f&&(n=f)):n=f;var i=e.length;if(i%2!==0)throw new Error("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;n>o;o++){var u=parseInt(e.substr(2*o,2),16);if(isNaN(u))throw new Error("Invalid hex string");t[r+o]=u}return o}function utf8Write(t,e,r,n){return blitBuffer(utf8ToBytes(e,t.length-r),t,r,n)}function asciiWrite(t,e,r,n){return blitBuffer(asciiToBytes(e),t,r,n)}function binaryWrite(t,e,r,n){return asciiWrite(t,e,r,n)}function base64Write(t,e,r,n){return blitBuffer(base64ToBytes(e),t,r,n)}function ucs2Write(t,e,r,n){return blitBuffer(utf16leToBytes(e,t.length-r),t,r,n)}function base64Slice(t,e,r){return 0===e&&r===t.length?base64.fromByteArray(t):base64.fromByteArray(t.slice(e,r))}function utf8Slice(t,e,r){r=Math.min(t.length,r);for(var n=[],f=e;r>f;){var i=t[f],o=null,u=i>239?4:i>223?3:i>191?2:1;if(r>=f+u){var s,a,h,c;switch(u){case 1:128>i&&(o=i);break;case 2:s=t[f+1],128===(192&s)&&(c=(31&i)<<6|63&s,c>127&&(o=c));break;case 3:s=t[f+1],a=t[f+2],128===(192&s)&&128===(192&a)&&(c=(15&i)<<12|(63&s)<<6|63&a,c>2047&&(55296>c||c>57343)&&(o=c));break;case 4:s=t[f+1],a=t[f+2],h=t[f+3],128===(192&s)&&128===(192&a)&&128===(192&h)&&(c=(15&i)<<18|(63&s)<<12|(63&a)<<6|63&h,c>65535&&1114112>c&&(o=c))}}null===o?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),f+=u}return decodeCodePointsArray(n)}function decodeCodePointsArray(t){var e=t.length;if(MAX_ARGUMENTS_LENGTH>=e)return String.fromCharCode.apply(String,t);for(var r="",n=0;e>n;)r+=String.fromCharCode.apply(String,t.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(t,e,r){var n="";r=Math.min(t.length,r);for(var f=e;r>f;f++)n+=String.fromCharCode(127&t[f]);return n}function binarySlice(t,e,r){var n="";r=Math.min(t.length,r);for(var f=e;r>f;f++)n+=String.fromCharCode(t[f]);return n}function hexSlice(t,e,r){var n=t.length;(!e||0>e)&&(e=0),(!r||0>r||r>n)&&(r=n);for(var f="",i=e;r>i;i++)f+=toHex(t[i]);return f}function utf16leSlice(t,e,r){for(var n=t.slice(e,r),f="",i=0;i<n.length;i+=2)f+=String.fromCharCode(n[i]+256*n[i+1]);return f}function checkOffset(t,e,r){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,e,r,n,f,i){if(!Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>f||i>e)throw new RangeError("value is out of bounds");if(r+n>t.length)throw new RangeError("index out of range")}function objectWriteUInt16(t,e,r,n){0>e&&(e=65535+e+1);for(var f=0,i=Math.min(t.length-r,2);i>f;f++)t[r+f]=(e&255<<8*(n?f:1-f))>>>8*(n?f:1-f)}function objectWriteUInt32(t,e,r,n){0>e&&(e=4294967295+e+1);for(var f=0,i=Math.min(t.length-r,4);i>f;f++)t[r+f]=e>>>8*(n?f:3-f)&255}function checkIEEE754(t,e,r,n,f,i){if(e>f||i>e)throw new RangeError("value is out of bounds");if(r+n>t.length)throw new RangeError("index out of range");if(0>r)throw new RangeError("index out of range")}function writeFloat(t,e,r,n,f){return f||checkIEEE754(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(t,e,r,n,23,4),r+4}function writeDouble(t,e,r,n,f){return f||checkIEEE754(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(t,e,r,n,52,8),r+8}function base64clean(t){if(t=stringtrim(t).replace(INVALID_BASE64_RE,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function stringtrim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function toHex(t){return 16>t?"0"+t.toString(16):t.toString(16)}function utf8ToBytes(t,e){e=e||1/0;for(var r,n=t.length,f=null,i=[],o=0;n>o;o++){if(r=t.charCodeAt(o),r>55295&&57344>r){if(!f){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&i.push(239,191,189);continue}f=r;continue}if(56320>r){(e-=3)>-1&&i.push(239,191,189),f=r;continue}r=(f-55296<<10|r-56320)+65536}else f&&(e-=3)>-1&&i.push(239,191,189);if(f=null,128>r){if((e-=1)<0)break;i.push(r)}else if(2048>r){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(65536>r){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function asciiToBytes(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e}function utf16leToBytes(t,e){for(var r,n,f,i=[],o=0;o<t.length&&!((e-=2)<0);o++)r=t.charCodeAt(o),n=r>>8,f=r%256,i.push(f),i.push(n);return i}function base64ToBytes(t){return base64.toByteArray(base64clean(t))}function blitBuffer(t,e,r,n){for(var f=0;n>f&&!(f+r>=e.length||f>=t.length);f++)e[f+r]=t[f];return f}var base64=require("base64-js"),ieee754=require("ieee754"),isArray=require("isarray");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.poolSize=8192;var rootParent={};Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT?(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array):(Buffer.prototype.length=void 0,Buffer.prototype.parent=void 0),Buffer.isBuffer=function(t){return!(null==t||!t._isBuffer)},Buffer.compare=function(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,f=0,i=Math.min(r,n);i>f&&t[f]===e[f];)++f;return f!==i&&(r=t[f],n=e[f]),n>r?-1:r>n?1:0},Buffer.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(t,e){if(!isArray(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new Buffer(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;r++)e+=t[r].length;var n=new Buffer(e),f=0;for(r=0;r<t.length;r++){var i=t[r];i.copy(n,f),f+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===Buffer.compare(this,t)},Buffer.prototype.inspect=function(){var t="",e=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},Buffer.prototype.compare=function(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:Buffer.compare(this,t)},Buffer.prototype.indexOf=function(t,e){function r(t,e,r){for(var n=-1,f=0;r+f<t.length;f++)if(t[r+f]===e[-1===n?0:f-n]){if(-1===n&&(n=f),f-n+1===e.length)return r+n}else n=-1;return-1}if(e>2147483647?e=2147483647:-2147483648>e&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(0>e&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(Buffer.isBuffer(t))return r(this,t,e);if("number"==typeof t)return Buffer.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):r(this,[t],e);throw new TypeError("val must be string, number or Buffer")},Buffer.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},Buffer.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},Buffer.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0);else{var f=n;n=e,e=0|r,r=f}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(0>r||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return hexWrite(this,t,e,r);case"utf8":case"utf-8":return utf8Write(this,t,e,r);case"ascii":return asciiWrite(this,t,e,r);case"binary":return binaryWrite(this,t,e,r);case"base64":return base64Write(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),t>e&&(e=t);var n;if(Buffer.TYPED_ARRAY_SUPPORT)n=Buffer._augment(this.subarray(t,e));else{var f=e-t;n=new Buffer(f,void 0);for(var i=0;f>i;i++)n[i]=this[i+t]}return n.length&&(n.parent=this.parent||this),n},Buffer.prototype.readUIntLE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=this[t],f=1,i=0;++i<e&&(f*=256);)n+=this[t+i]*f;return n},Buffer.prototype.readUIntBE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=this[t+--e],f=1;e>0&&(f*=256);)n+=this[t+--e]*f;return n},Buffer.prototype.readUInt8=function(t,e){return e||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUInt16LE=function(t,e){return e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUInt16BE=function(t,e){return e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUInt32LE=function(t,e){return e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUInt32BE=function(t,e){return e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readIntLE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=this[t],f=1,i=0;++i<e&&(f*=256);)n+=this[t+i]*f;return f*=128,n>=f&&(n-=Math.pow(2,8*e)),n},Buffer.prototype.readIntBE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=e,f=1,i=this[t+--n];n>0&&(f*=256);)i+=this[t+--n]*f;return f*=128,i>=f&&(i-=Math.pow(2,8*e)),i},Buffer.prototype.readInt8=function(t,e){return e||checkOffset(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Buffer.prototype.readInt16LE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(t,e){return e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function(t,e){return e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!1,52,8)},Buffer.prototype.writeUIntLE=function(t,e,r,n){t=+t,e=0|e,r=0|r,n||checkInt(this,t,e,r,Math.pow(2,8*r),0);var f=1,i=0;for(this[e]=255&t;++i<r&&(f*=256);)this[e+i]=t/f&255;return e+r},Buffer.prototype.writeUIntBE=function(t,e,r,n){t=+t,e=0|e,r=0|r,n||checkInt(this,t,e,r,Math.pow(2,8*r),0);var f=r-1,i=1;for(this[e+f]=255&t;--f>=0&&(i*=256);)this[e+f]=t/i&255;return e+r},Buffer.prototype.writeUInt8=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Buffer.prototype.writeUInt16LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeUInt16BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeUInt32LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeUInt32BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e=0|e,!n){var f=Math.pow(2,8*r-1);checkInt(this,t,e,r,f-1,-f)}var i=0,o=1,u=0>t?1:0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=(t/o>>0)-u&255;return e+r},Buffer.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e=0|e,!n){var f=Math.pow(2,8*r-1);checkInt(this,t,e,r,f-1,-f)}var i=r-1,o=1,u=0>t?1:0;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=(t/o>>0)-u&255;return e+r},Buffer.prototype.writeInt8=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},Buffer.prototype.writeInt16LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeInt16BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeInt32LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeInt32BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeFloatLE=function(t,e,r){return writeFloat(this,t,e,!0,r)},Buffer.prototype.writeFloatBE=function(t,e,r){return writeFloat(this,t,e,!1,r)},Buffer.prototype.writeDoubleLE=function(t,e,r){return writeDouble(this,t,e,!0,r)},Buffer.prototype.writeDoubleBE=function(t,e,r){return writeDouble(this,t,e,!1,r)},Buffer.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&r>n&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var f,i=n-r;if(this===t&&e>r&&n>e)for(f=i-1;f>=0;f--)t[f+e]=this[f+r];else if(1e3>i||!Buffer.TYPED_ARRAY_SUPPORT)for(f=0;i>f;f++)t[f+e]=this[f+r];else t._set(this.subarray(r,r+i),e);return i},Buffer.prototype.fill=function(t,e,r){if(t||(t=0),e||(e=0),r||(r=this.length),e>r)throw new RangeError("end < start");if(r!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>r||r>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof t)for(n=e;r>n;n++)this[n]=t;else{var f=utf8ToBytes(t.toString()),i=f.length;for(n=e;r>n;n++)this[n]=f[n%i]}return this}},Buffer.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(Buffer.TYPED_ARRAY_SUPPORT)return new Buffer(this).buffer;for(var t=new Uint8Array(this.length),e=0,r=t.length;r>e;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var BP=Buffer.prototype;Buffer._augment=function(t){return t.constructor=Buffer,t._isBuffer=!0,t._set=t.set,t.get=BP.get,t.set=BP.set,t.write=BP.write,t.toString=BP.toString,t.toLocaleString=BP.toString,t.toJSON=BP.toJSON,t.equals=BP.equals,t.compare=BP.compare,t.indexOf=BP.indexOf,t.copy=BP.copy,t.slice=BP.slice,t.readUIntLE=BP.readUIntLE,t.readUIntBE=BP.readUIntBE,t.readUInt8=BP.readUInt8,t.readUInt16LE=BP.readUInt16LE,t.readUInt16BE=BP.readUInt16BE,t.readUInt32LE=BP.readUInt32LE,t.readUInt32BE=BP.readUInt32BE,t.readIntLE=BP.readIntLE,t.readIntBE=BP.readIntBE,t.readInt8=BP.readInt8,t.readInt16LE=BP.readInt16LE,t.readInt16BE=BP.readInt16BE,t.readInt32LE=BP.readInt32LE,t.readInt32BE=BP.readInt32BE,t.readFloatLE=BP.readFloatLE,t.readFloatBE=BP.readFloatBE,t.readDoubleLE=BP.readDoubleLE,t.readDoubleBE=BP.readDoubleBE,t.writeUInt8=BP.writeUInt8,t.writeUIntLE=BP.writeUIntLE,t.writeUIntBE=BP.writeUIntBE,t.writeUInt16LE=BP.writeUInt16LE,t.writeUInt16BE=BP.writeUInt16BE,t.writeUInt32LE=BP.writeUInt32LE,t.writeUInt32BE=BP.writeUInt32BE,t.writeIntLE=BP.writeIntLE,t.writeIntBE=BP.writeIntBE,t.writeInt8=BP.writeInt8,t.writeInt16LE=BP.writeInt16LE,t.writeInt16BE=BP.writeInt16BE,t.writeInt32LE=BP.writeInt32LE,t.writeInt32BE=BP.writeInt32BE,t.writeFloatLE=BP.writeFloatLE,t.writeFloatBE=BP.writeFloatBE,t.writeDoubleLE=BP.writeDoubleLE,t.writeDoubleBE=BP.writeDoubleBE,t.fill=BP.fill,t.inspect=BP.inspect,t.toArrayBuffer=BP.toArrayBuffer,t};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"base64-js":4,"ieee754":96,"isarray":43}],43:[function(require,module,exports){
var toString={}.toString;module.exports=Array.isArray||function(r){return"[object Array]"==toString.call(r)};
},{}],44:[function(require,module,exports){
(function (Buffer){
function CipherBase(t){Transform.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this["final"]=this._finalOrDigest,this._decoder=null,this._encoding=null}var Transform=require("stream").Transform,inherits=require("inherits"),StringDecoder=require("string_decoder").StringDecoder;module.exports=CipherBase,inherits(CipherBase,Transform),CipherBase.prototype.update=function(t,e,r){"string"==typeof t&&(t=new Buffer(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(t,e,r){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(n){i=n}finally{r(i)}},CipherBase.prototype._flush=function(t){var e;try{this.push(this._final())}catch(r){e=r}finally{t(e)}},CipherBase.prototype._finalOrDigest=function(t){var e=this._final()||new Buffer("");return t&&(e=this._toString(e,t,!0)),e},CipherBase.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new StringDecoder(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return r&&(i+=this._decoder.end()),i};
}).call(this,require("buffer").Buffer)

},{"buffer":42,"inherits":98,"stream":573,"string_decoder":584}],45:[function(require,module,exports){
(function (Buffer){
function isArray(r){return Array.isArray?Array.isArray(r):"[object Array]"===objectToString(r)}function isBoolean(r){return"boolean"==typeof r}function isNull(r){return null===r}function isNullOrUndefined(r){return null==r}function isNumber(r){return"number"==typeof r}function isString(r){return"string"==typeof r}function isSymbol(r){return"symbol"==typeof r}function isUndefined(r){return void 0===r}function isRegExp(r){return"[object RegExp]"===objectToString(r)}function isObject(r){return"object"==typeof r&&null!==r}function isDate(r){return"[object Date]"===objectToString(r)}function isError(r){return"[object Error]"===objectToString(r)||r instanceof Error}function isFunction(r){return"function"==typeof r}function isPrimitive(r){return null===r||"boolean"==typeof r||"number"==typeof r||"string"==typeof r||"symbol"==typeof r||"undefined"==typeof r}function objectToString(r){return Object.prototype.toString.call(r)}exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=Buffer.isBuffer;
}).call(this,{"isBuffer":require("../../is-buffer/index.js")})

},{"../../is-buffer/index.js":99}],46:[function(require,module,exports){
(function (Buffer){
function ECDH(e){this.curveType=aliases[e],this.curveType||(this.curveType={name:e}),this.curve=new elliptic.ec(this.curveType.name),this.keys=void 0}function formatReturnValue(e,t,r){Array.isArray(e)||(e=e.toArray());var i=new Buffer(e);if(r&&i.length<r){var s=new Buffer(r-i.length);s.fill(0),i=Buffer.concat([s,i])}return t?i.toString(t):i}var elliptic=require("elliptic"),BN=require("bn.js");module.exports=function(e){return new ECDH(e)};var aliases={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};aliases.p224=aliases.secp224r1,aliases.p256=aliases.secp256r1=aliases.prime256v1,aliases.p192=aliases.secp192r1=aliases.prime192v1,aliases.p384=aliases.secp384r1,aliases.p521=aliases.secp521r1,ECDH.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},ECDH.prototype.computeSecret=function(e,t,r){t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t));var i=this.curve.keyFromPublic(e).getPublic(),s=i.mul(this.keys.getPrivate()).getX();return formatReturnValue(s,r,this.curveType.byteLength)},ECDH.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),formatReturnValue(r,e)},ECDH.prototype.getPrivateKey=function(e){return formatReturnValue(this.keys.getPrivate(),e)},ECDH.prototype.setPublicKey=function(e,t){return t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t)),this.keys._importPublic(e),this},ECDH.prototype.setPrivateKey=function(e,t){t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t));var r=new BN(e);return r=r.toString(16),this.keys._importPrivate(r),this};
}).call(this,require("buffer").Buffer)

},{"bn.js":47,"buffer":42,"elliptic":66}],47:[function(require,module,exports){
arguments[4][26][0].apply(exports,arguments)
},{"dup":26}],48:[function(require,module,exports){
(function (Buffer){
"use strict";function HashNoConstructor(s){Base.call(this,"digest"),this._hash=s,this.buffers=[]}function Hash(s){Base.call(this,"digest"),this._hash=s}var inherits=require("inherits"),md5=require("./md5"),rmd160=require("ripemd160"),sha=require("sha.js"),Base=require("cipher-base");inherits(HashNoConstructor,Base),HashNoConstructor.prototype._update=function(s){this.buffers.push(s)},HashNoConstructor.prototype._final=function(){var s=Buffer.concat(this.buffers),t=this._hash(s);return this.buffers=null,t},inherits(Hash,Base),Hash.prototype._update=function(s){this._hash.update(s)},Hash.prototype._final=function(){return this._hash.digest()},module.exports=function(s){return s=s.toLowerCase(),"md5"===s?new HashNoConstructor(md5):"rmd160"===s||"ripemd160"===s?new HashNoConstructor(rmd160):new Hash(sha(s))};
}).call(this,require("buffer").Buffer)

},{"./md5":50,"buffer":42,"cipher-base":44,"inherits":98,"ripemd160":564,"sha.js":566}],49:[function(require,module,exports){
(function (Buffer){
"use strict";function toArray(r,e){if(r.length%intSize!==0){var t=r.length+(intSize-r.length%intSize);r=Buffer.concat([r,zeroBuffer],t)}for(var f=[],n=e?r.readInt32BE:r.readInt32LE,i=0;i<r.length;i+=intSize)f.push(n.call(r,i));return f}function toBuffer(r,e,t){for(var f=new Buffer(e),n=t?f.writeInt32BE:f.writeInt32LE,i=0;i<r.length;i++)n.call(f,r[i],4*i,!0);return f}function hash(r,e,t,f){Buffer.isBuffer(r)||(r=new Buffer(r));var n=e(toArray(r,f),r.length*chrsz);return toBuffer(n,t,f)}var intSize=4,zeroBuffer=new Buffer(intSize);zeroBuffer.fill(0);var chrsz=8;exports.hash=hash;
}).call(this,require("buffer").Buffer)

},{"buffer":42}],50:[function(require,module,exports){
"use strict";function core_md5(d,_){d[_>>5]|=128<<_%32,d[(_+64>>>9<<4)+14]=_;for(var m=1732584193,f=-271733879,i=-1732584194,h=271733878,r=0;r<d.length;r+=16){var g=m,n=f,e=i,a=h;m=md5_ff(m,f,i,h,d[r+0],7,-680876936),h=md5_ff(h,m,f,i,d[r+1],12,-389564586),i=md5_ff(i,h,m,f,d[r+2],17,606105819),f=md5_ff(f,i,h,m,d[r+3],22,-1044525330),m=md5_ff(m,f,i,h,d[r+4],7,-176418897),h=md5_ff(h,m,f,i,d[r+5],12,1200080426),i=md5_ff(i,h,m,f,d[r+6],17,-1473231341),f=md5_ff(f,i,h,m,d[r+7],22,-45705983),m=md5_ff(m,f,i,h,d[r+8],7,1770035416),h=md5_ff(h,m,f,i,d[r+9],12,-1958414417),i=md5_ff(i,h,m,f,d[r+10],17,-42063),f=md5_ff(f,i,h,m,d[r+11],22,-1990404162),m=md5_ff(m,f,i,h,d[r+12],7,1804603682),h=md5_ff(h,m,f,i,d[r+13],12,-40341101),i=md5_ff(i,h,m,f,d[r+14],17,-1502002290),f=md5_ff(f,i,h,m,d[r+15],22,1236535329),m=md5_gg(m,f,i,h,d[r+1],5,-165796510),h=md5_gg(h,m,f,i,d[r+6],9,-1069501632),i=md5_gg(i,h,m,f,d[r+11],14,643717713),f=md5_gg(f,i,h,m,d[r+0],20,-373897302),m=md5_gg(m,f,i,h,d[r+5],5,-701558691),h=md5_gg(h,m,f,i,d[r+10],9,38016083),i=md5_gg(i,h,m,f,d[r+15],14,-660478335),f=md5_gg(f,i,h,m,d[r+4],20,-405537848),m=md5_gg(m,f,i,h,d[r+9],5,568446438),h=md5_gg(h,m,f,i,d[r+14],9,-1019803690),i=md5_gg(i,h,m,f,d[r+3],14,-187363961),f=md5_gg(f,i,h,m,d[r+8],20,1163531501),m=md5_gg(m,f,i,h,d[r+13],5,-1444681467),h=md5_gg(h,m,f,i,d[r+2],9,-51403784),i=md5_gg(i,h,m,f,d[r+7],14,1735328473),f=md5_gg(f,i,h,m,d[r+12],20,-1926607734),m=md5_hh(m,f,i,h,d[r+5],4,-378558),h=md5_hh(h,m,f,i,d[r+8],11,-2022574463),i=md5_hh(i,h,m,f,d[r+11],16,1839030562),f=md5_hh(f,i,h,m,d[r+14],23,-35309556),m=md5_hh(m,f,i,h,d[r+1],4,-1530992060),h=md5_hh(h,m,f,i,d[r+4],11,1272893353),i=md5_hh(i,h,m,f,d[r+7],16,-155497632),f=md5_hh(f,i,h,m,d[r+10],23,-1094730640),m=md5_hh(m,f,i,h,d[r+13],4,681279174),h=md5_hh(h,m,f,i,d[r+0],11,-358537222),i=md5_hh(i,h,m,f,d[r+3],16,-722521979),f=md5_hh(f,i,h,m,d[r+6],23,76029189),m=md5_hh(m,f,i,h,d[r+9],4,-640364487),h=md5_hh(h,m,f,i,d[r+12],11,-421815835),i=md5_hh(i,h,m,f,d[r+15],16,530742520),f=md5_hh(f,i,h,m,d[r+2],23,-995338651),m=md5_ii(m,f,i,h,d[r+0],6,-198630844),h=md5_ii(h,m,f,i,d[r+7],10,1126891415),i=md5_ii(i,h,m,f,d[r+14],15,-1416354905),f=md5_ii(f,i,h,m,d[r+5],21,-57434055),m=md5_ii(m,f,i,h,d[r+12],6,1700485571),h=md5_ii(h,m,f,i,d[r+3],10,-1894986606),i=md5_ii(i,h,m,f,d[r+10],15,-1051523),f=md5_ii(f,i,h,m,d[r+1],21,-2054922799),m=md5_ii(m,f,i,h,d[r+8],6,1873313359),h=md5_ii(h,m,f,i,d[r+15],10,-30611744),i=md5_ii(i,h,m,f,d[r+6],15,-1560198380),f=md5_ii(f,i,h,m,d[r+13],21,1309151649),m=md5_ii(m,f,i,h,d[r+4],6,-145523070),h=md5_ii(h,m,f,i,d[r+11],10,-1120210379),i=md5_ii(i,h,m,f,d[r+2],15,718787259),f=md5_ii(f,i,h,m,d[r+9],21,-343485551),m=safe_add(m,g),f=safe_add(f,n),i=safe_add(i,e),h=safe_add(h,a)}return Array(m,f,i,h)}function md5_cmn(d,_,m,f,i,h){return safe_add(bit_rol(safe_add(safe_add(_,d),safe_add(f,h)),i),m)}function md5_ff(d,_,m,f,i,h,r){return md5_cmn(_&m|~_&f,d,_,i,h,r)}function md5_gg(d,_,m,f,i,h,r){return md5_cmn(_&f|m&~f,d,_,i,h,r)}function md5_hh(d,_,m,f,i,h,r){return md5_cmn(_^m^f,d,_,i,h,r)}function md5_ii(d,_,m,f,i,h,r){return md5_cmn(m^(_|~f),d,_,i,h,r)}function safe_add(d,_){var m=(65535&d)+(65535&_),f=(d>>16)+(_>>16)+(m>>16);return f<<16|65535&m}function bit_rol(d,_){return d<<_|d>>>32-_}var helpers=require("./helpers");module.exports=function(d){return helpers.hash(d,core_md5,16)};
},{"./helpers":49}],51:[function(require,module,exports){
(function (Buffer){
"use strict";function Hmac(t,e){Transform.call(this),t=t.toLowerCase(),"string"==typeof e&&(e=new Buffer(e));var r="sha512"===t||"sha384"===t?128:64;this._alg=t,this._key=e,e.length>r?e=createHash(t).update(e).digest():e.length<r&&(e=Buffer.concat([e,ZEROS],r));for(var a=this._ipad=new Buffer(r),s=this._opad=new Buffer(r),i=0;r>i;i++)a[i]=54^e[i],s[i]=92^e[i];this._hash=createHash(t).update(a)}var createHash=require("create-hash/browser"),inherits=require("inherits"),Transform=require("stream").Transform,ZEROS=new Buffer(128);ZEROS.fill(0),inherits(Hmac,Transform),Hmac.prototype.update=function(t,e){return this._hash.update(t,e),this},Hmac.prototype._transform=function(t,e,r){this._hash.update(t),r()},Hmac.prototype._flush=function(t){this.push(this.digest()),t()},Hmac.prototype.digest=function(t){var e=this._hash.digest();return createHash(this._alg).update(this._opad).update(e).digest(t)},module.exports=function(t,e){return new Hmac(t,e)};
}).call(this,require("buffer").Buffer)

},{"buffer":42,"create-hash/browser":48,"inherits":98,"stream":573}],52:[function(require,module,exports){
"use strict";exports.randomBytes=exports.rng=exports.pseudoRandomBytes=exports.prng=require("randombytes"),exports.createHash=exports.Hash=require("create-hash"),exports.createHmac=exports.Hmac=require("create-hmac");var hashes=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Object.keys(require("browserify-sign/algos")));exports.getHashes=function(){return hashes};var p=require("pbkdf2");exports.pbkdf2=p.pbkdf2,exports.pbkdf2Sync=p.pbkdf2Sync;var aes=require("browserify-cipher");["Cipher","createCipher","Cipheriv","createCipheriv","Decipher","createDecipher","Decipheriv","createDecipheriv","getCiphers","listCiphers"].forEach(function(e){exports[e]=aes[e]});var dh=require("diffie-hellman");["DiffieHellmanGroup","createDiffieHellmanGroup","getDiffieHellman","createDiffieHellman","DiffieHellman"].forEach(function(e){exports[e]=dh[e]});var sign=require("browserify-sign");["createSign","Sign","createVerify","Verify"].forEach(function(e){exports[e]=sign[e]}),exports.createECDH=require("create-ecdh");var publicEncrypt=require("public-encrypt");["publicEncrypt","privateEncrypt","publicDecrypt","privateDecrypt"].forEach(function(e){exports[e]=publicEncrypt[e]}),["createCredentials"].forEach(function(e){exports[e]=function(){throw new Error(["sorry, "+e+" is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))}});
},{"browserify-cipher":22,"browserify-sign":28,"browserify-sign/algos":27,"create-ecdh":46,"create-hash":48,"create-hmac":51,"diffie-hellman":61,"pbkdf2":424,"public-encrypt":426,"randombytes":437}],53:[function(require,module,exports){
function useColors(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function formatArgs(){var o=arguments,e=this.useColors;if(o[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+o[0]+(e?"%c ":" ")+"+"+exports.humanize(this.diff),!e)return o;var r="color: "+this.color;o=[o[0],r,"color: inherit"].concat(Array.prototype.slice.call(o,1));var t=0,s=0;return o[0].replace(/%[a-z%]/g,function(o){"%%"!==o&&(t++,"%c"===o&&(s=t))}),o.splice(s,0,r),o}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(o){try{null==o?exports.storage.removeItem("debug"):exports.storage.debug=o}catch(e){}}function load(){var o;try{o=exports.storage.debug}catch(e){}return o}function localstorage(){try{return window.localStorage}catch(o){}}exports=module.exports=require("./debug"),exports.log=log,exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors,exports.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:localstorage(),exports.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],exports.formatters.j=function(o){return JSON.stringify(o)},exports.enable(load());
},{"./debug":54}],54:[function(require,module,exports){
function selectColor(){return exports.colors[prevColor++%exports.colors.length]}function debug(e){function r(){}function o(){var e=o,r=+new Date,s=r-(prevTime||r);e.diff=s,e.prev=prevTime,e.curr=r,prevTime=r,null==e.useColors&&(e.useColors=exports.useColors()),null==e.color&&e.useColors&&(e.color=selectColor());var t=Array.prototype.slice.call(arguments);t[0]=exports.coerce(t[0]),"string"!=typeof t[0]&&(t=["%o"].concat(t));var n=0;t[0]=t[0].replace(/%([a-z%])/g,function(r,o){if("%%"===r)return r;n++;var s=exports.formatters[o];if("function"==typeof s){var p=t[n];r=s.call(e,p),t.splice(n,1),n--}return r}),"function"==typeof exports.formatArgs&&(t=exports.formatArgs.apply(e,t));var p=o.log||exports.log||console.log.bind(console);p.apply(e,t)}r.enabled=!1,o.enabled=!0;var s=exports.enabled(e)?o:r;return s.namespace=e,s}function enable(e){exports.save(e);for(var r=(e||"").split(/[\s,]+/),o=r.length,s=0;o>s;s++)r[s]&&(e=r[s].replace(/\*/g,".*?"),"-"===e[0]?exports.skips.push(new RegExp("^"+e.substr(1)+"$")):exports.names.push(new RegExp("^"+e+"$")))}function disable(){exports.enable("")}function enabled(e){var r,o;for(r=0,o=exports.skips.length;o>r;r++)if(exports.skips[r].test(e))return!1;for(r=0,o=exports.names.length;o>r;r++)if(exports.names[r].test(e))return!0;return!1}function coerce(e){return e instanceof Error?e.stack||e.message:e}exports=module.exports=debug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.humanize=require("ms"),exports.names=[],exports.skips=[],exports.formatters={};var prevColor=0,prevTime;
},{"ms":391}],55:[function(require,module,exports){
"use strict";exports.utils=require("./des/utils"),exports.Cipher=require("./des/cipher"),exports.DES=require("./des/des"),exports.CBC=require("./des/cbc"),exports.EDE=require("./des/ede");
},{"./des/cbc":56,"./des/cipher":57,"./des/des":58,"./des/ede":59,"./des/utils":60}],56:[function(require,module,exports){
"use strict";function CBCState(t){assert.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var i=0;i<this.iv.length;i++)this.iv[i]=t[i]}function instantiate(t){function i(i){t.call(this,i),this._cbcInit()}inherits(i,t);for(var e=Object.keys(proto),r=0;r<e.length;r++){var n=e[r];i.prototype[n]=proto[n]}return i.create=function(t){return new i(t)},i}var assert=require("minimalistic-assert"),inherits=require("inherits"),proto={};exports.instantiate=instantiate,proto._cbcInit=function(){var t=new CBCState(this.options.iv);this._cbcState=t},proto._update=function(t,i,e,r){var n=this._cbcState,s=this.constructor.super_.prototype,o=n.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)o[a]^=t[i+a];s._update.call(this,o,0,e,r);for(var a=0;a<this.blockSize;a++)o[a]=e[r+a]}else{s._update.call(this,t,i,e,r);for(var a=0;a<this.blockSize;a++)e[r+a]^=o[a];for(var a=0;a<this.blockSize;a++)o[a]=t[i+a]}};
},{"inherits":98,"minimalistic-assert":390}],57:[function(require,module,exports){
"use strict";function Cipher(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var assert=require("minimalistic-assert");module.exports=Cipher,Cipher.prototype._init=function(){},Cipher.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},Cipher.prototype._buffer=function(t,e){for(var r=Math.min(this.buffer.length-this.bufferOff,t.length-e),i=0;r>i;i++)this.buffer[this.bufferOff+i]=t[e+i];return this.bufferOff+=r,r},Cipher.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},Cipher.prototype._updateEncrypt=function(t){var e=0,r=0,i=(this.bufferOff+t.length)/this.blockSize|0,f=new Array(i*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(f,r)));for(var h=t.length-(t.length-e)%this.blockSize;h>e;e+=this.blockSize)this._update(t,e,f,r),r+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return f},Cipher.prototype._updateDecrypt=function(t){for(var e=0,r=0,i=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,f=new Array(i*this.blockSize);i>0;i--)e+=this._buffer(t,e),r+=this._flushBuffer(f,r);return e+=this._buffer(t,e),f},Cipher.prototype["final"]=function(t){var e;t&&(e=this.update(t));var r;return r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(r):r},Cipher.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},Cipher.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},Cipher.prototype._unpad=function(t){return t},Cipher.prototype._finalDecrypt=function(){assert.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)};
},{"minimalistic-assert":390}],58:[function(require,module,exports){
"use strict";function DESState(){this.tmp=new Array(2),this.keys=null}function DES(t){Cipher.call(this,t);var e=new DESState;this._desState=e,this.deriveKeys(e,t.key)}var assert=require("minimalistic-assert"),inherits=require("inherits"),des=require("../des"),utils=des.utils,Cipher=des.Cipher;inherits(DES,Cipher),module.exports=DES,DES.create=function(t){return new DES(t)};var shiftTable=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES.prototype.deriveKeys=function(t,e){t.keys=new Array(32),assert.equal(e.length,this.blockSize,"Invalid key length");var r=utils.readUInt32BE(e,0),s=utils.readUInt32BE(e,4);utils.pc1(r,s,t.tmp,0),r=t.tmp[0],s=t.tmp[1];for(var i=0;i<t.keys.length;i+=2){var n=shiftTable[i>>>1];r=utils.r28shl(r,n),s=utils.r28shl(s,n),utils.pc2(r,s,t.keys,i)}},DES.prototype._update=function(t,e,r,s){var i=this._desState,n=utils.readUInt32BE(t,e),p=utils.readUInt32BE(t,e+4);utils.ip(n,p,i.tmp,0),n=i.tmp[0],p=i.tmp[1],"encrypt"===this.type?this._encrypt(i,n,p,i.tmp,0):this._decrypt(i,n,p,i.tmp,0),n=i.tmp[0],p=i.tmp[1],utils.writeUInt32BE(r,n,s),utils.writeUInt32BE(r,p,s+4)},DES.prototype._pad=function(t,e){for(var r=t.length-e,s=e;s<t.length;s++)t[s]=r;return!0},DES.prototype._unpad=function(t){for(var e=t[t.length-1],r=t.length-e;r<t.length;r++)assert.equal(t[r],e);return t.slice(0,t.length-e)},DES.prototype._encrypt=function(t,e,r,s,i){for(var n=e,p=r,u=0;u<t.keys.length;u+=2){var l=t.keys[u],a=t.keys[u+1];utils.expand(p,t.tmp,0),l^=t.tmp[0],a^=t.tmp[1];var h=utils.substitute(l,a),o=utils.permute(h),y=p;p=(n^o)>>>0,n=y}utils.rip(p,n,s,i)},DES.prototype._decrypt=function(t,e,r,s,i){for(var n=r,p=e,u=t.keys.length-2;u>=0;u-=2){var l=t.keys[u],a=t.keys[u+1];utils.expand(n,t.tmp,0),l^=t.tmp[0],a^=t.tmp[1];var h=utils.substitute(l,a),o=utils.permute(h),y=n;n=(p^o)>>>0,p=y}utils.rip(n,p,s,i)};
},{"../des":55,"inherits":98,"minimalistic-assert":390}],59:[function(require,module,exports){
"use strict";function EDEState(e,t){assert.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),p=t.slice(8,16),i=t.slice(16,24);"encrypt"===e?this.ciphers=[DES.create({type:"encrypt",key:r}),DES.create({type:"decrypt",key:p}),DES.create({type:"encrypt",key:i})]:this.ciphers=[DES.create({type:"decrypt",key:i}),DES.create({type:"encrypt",key:p}),DES.create({type:"decrypt",key:r})]}function EDE(e){Cipher.call(this,e);var t=new EDEState(this.type,this.options.key);this._edeState=t}var assert=require("minimalistic-assert"),inherits=require("inherits"),des=require("../des"),Cipher=des.Cipher,DES=des.DES;inherits(EDE,Cipher),module.exports=EDE,EDE.create=function(e){return new EDE(e)},EDE.prototype._update=function(e,t,r,p){var i=this._edeState;i.ciphers[0]._update(e,t,r,p),i.ciphers[1]._update(r,p,r,p),i.ciphers[2]._update(r,p,r,p)},EDE.prototype._pad=DES.prototype._pad,EDE.prototype._unpad=DES.prototype._unpad;
},{"../des":55,"inherits":98,"minimalistic-assert":390}],60:[function(require,module,exports){
"use strict";exports.readUInt32BE=function(r,o){var t=r[0+o]<<24|r[1+o]<<16|r[2+o]<<8|r[3+o];return t>>>0},exports.writeUInt32BE=function(r,o,t){r[0+t]=o>>>24,r[1+t]=o>>>16&255,r[2+t]=o>>>8&255,r[3+t]=255&o},exports.ip=function(r,o,t,a){for(var e=0,f=0,n=6;n>=0;n-=2){for(var v=0;24>=v;v+=8)e<<=1,e|=o>>>v+n&1;for(var v=0;24>=v;v+=8)e<<=1,e|=r>>>v+n&1}for(var n=6;n>=0;n-=2){for(var v=1;25>=v;v+=8)f<<=1,f|=o>>>v+n&1;for(var v=1;25>=v;v+=8)f<<=1,f|=r>>>v+n&1}t[a+0]=e>>>0,t[a+1]=f>>>0},exports.rip=function(r,o,t,a){for(var e=0,f=0,n=0;4>n;n++)for(var v=24;v>=0;v-=8)e<<=1,e|=o>>>v+n&1,e<<=1,e|=r>>>v+n&1;for(var n=4;8>n;n++)for(var v=24;v>=0;v-=8)f<<=1,f|=o>>>v+n&1,f<<=1,f|=r>>>v+n&1;t[a+0]=e>>>0,t[a+1]=f>>>0},exports.pc1=function(r,o,t,a){for(var e=0,f=0,n=7;n>=5;n--){for(var v=0;24>=v;v+=8)e<<=1,e|=o>>v+n&1;for(var v=0;24>=v;v+=8)e<<=1,e|=r>>v+n&1}for(var v=0;24>=v;v+=8)e<<=1,e|=o>>v+n&1;for(var n=1;3>=n;n++){for(var v=0;24>=v;v+=8)f<<=1,f|=o>>v+n&1;for(var v=0;24>=v;v+=8)f<<=1,f|=r>>v+n&1}for(var v=0;24>=v;v+=8)f<<=1,f|=r>>v+n&1;t[a+0]=e>>>0,t[a+1]=f>>>0},exports.r28shl=function(r,o){return r<<o&268435455|r>>>28-o};var pc2table=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];exports.pc2=function(r,o,t,a){for(var e=0,f=0,n=pc2table.length>>>1,v=0;n>v;v++)e<<=1,e|=r>>>pc2table[v]&1;for(var v=n;v<pc2table.length;v++)f<<=1,f|=o>>>pc2table[v]&1;t[a+0]=e>>>0,t[a+1]=f>>>0},exports.expand=function(r,o,t){var a=0,e=0;a=(1&r)<<5|r>>>27;for(var f=23;f>=15;f-=4)a<<=6,a|=r>>>f&63;for(var f=11;f>=3;f-=4)e|=r>>>f&63,e<<=6;e|=(31&r)<<1|r>>>31,o[t+0]=a>>>0,o[t+1]=e>>>0};var sTable=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];exports.substitute=function(r,o){for(var t=0,a=0;4>a;a++){var e=r>>>18-6*a&63,f=sTable[64*a+e];t<<=4,t|=f}for(var a=0;4>a;a++){var e=o>>>18-6*a&63,f=sTable[256+64*a+e];t<<=4,t|=f}return t>>>0};var permuteTable=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];exports.permute=function(r){for(var o=0,t=0;t<permuteTable.length;t++)o<<=1,o|=r>>>permuteTable[t]&1;return o>>>0},exports.padSplit=function(r,o,t){for(var a=r.toString(2);a.length<o;)a="0"+a;for(var e=[],f=0;o>f;f+=t)e.push(a.slice(f,f+t));return e.join(" ")};
},{}],61:[function(require,module,exports){
(function (Buffer){
function getDiffieHellman(e){var r=new Buffer(primes[e].prime,"hex"),f=new Buffer(primes[e].gen,"hex");return new DH(r,f)}function createDiffieHellman(e,r,f,i){return Buffer.isBuffer(r)||void 0===ENCODINGS[r]?createDiffieHellman(e,"binary",r,f):(r=r||"binary",i=i||"binary",f=f||new Buffer([2]),Buffer.isBuffer(f)||(f=new Buffer(f,i)),"number"==typeof e?new DH(generatePrime(e,f),f,!0):(Buffer.isBuffer(e)||(e=new Buffer(e,r)),new DH(e,f,!0)))}var generatePrime=require("./lib/generatePrime"),primes=require("./lib/primes"),DH=require("./lib/dh"),ENCODINGS={binary:!0,hex:!0,base64:!0};exports.DiffieHellmanGroup=exports.createDiffieHellmanGroup=exports.getDiffieHellman=getDiffieHellman,exports.createDiffieHellman=exports.DiffieHellman=createDiffieHellman;
}).call(this,require("buffer").Buffer)

},{"./lib/dh":62,"./lib/generatePrime":63,"./lib/primes":64,"buffer":42}],62:[function(require,module,exports){
(function (Buffer){
function setPublicKey(e,r){return r=r||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,r)),this._pub=new BN(e),this}function setPrivateKey(e,r){return r=r||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,r)),this._priv=new BN(e),this}function checkPrime(e,r){var t=r.toString("hex"),i=[t,e.toString(16)].join("_");if(i in primeCache)return primeCache[i];var n=0;if(e.isEven()||!primes.simpleSieve||!primes.fermatTest(e)||!millerRabin.test(e))return n+=1,n+="02"===t||"05"===t?8:4,primeCache[i]=n,n;millerRabin.test(e.shrn(1))||(n+=2);var u;switch(t){case"02":e.mod(TWENTYFOUR).cmp(ELEVEN)&&(n+=8);break;case"05":u=e.mod(TEN),u.cmp(THREE)&&u.cmp(SEVEN)&&(n+=8);break;default:n+=4}return primeCache[i]=n,n}function DH(e,r,t){this.setGenerator(r),this.__prime=new BN(e),this._prime=BN.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,t?(this.setPublicKey=setPublicKey,this.setPrivateKey=setPrivateKey):this._primeCode=8}function formatReturnValue(e,r){var t=new Buffer(e.toArray());return r?t.toString(r):t}var BN=require("bn.js"),MillerRabin=require("miller-rabin"),millerRabin=new MillerRabin,TWENTYFOUR=new BN(24),ELEVEN=new BN(11),TEN=new BN(10),THREE=new BN(3),SEVEN=new BN(7),primes=require("./generatePrime"),randomBytes=require("randombytes");module.exports=DH;var primeCache={};Object.defineProperty(DH.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=checkPrime(this.__prime,this.__gen)),this._primeCode}}),DH.prototype.generateKeys=function(){return this._priv||(this._priv=new BN(randomBytes(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},DH.prototype.computeSecret=function(e){e=new BN(e),e=e.toRed(this._prime);var r=e.redPow(this._priv).fromRed(),t=new Buffer(r.toArray()),i=this.getPrime();if(t.length<i.length){var n=new Buffer(i.length-t.length);n.fill(0),t=Buffer.concat([n,t])}return t},DH.prototype.getPublicKey=function(e){return formatReturnValue(this._pub,e)},DH.prototype.getPrivateKey=function(e){return formatReturnValue(this._priv,e)},DH.prototype.getPrime=function(e){return formatReturnValue(this.__prime,e)},DH.prototype.getGenerator=function(e){return formatReturnValue(this._gen,e)},DH.prototype.setGenerator=function(e,r){return r=r||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,r)),this.__gen=e,this._gen=new BN(e),this};
}).call(this,require("buffer").Buffer)

},{"./generatePrime":63,"bn.js":65,"buffer":42,"miller-rabin":388,"randombytes":437}],63:[function(require,module,exports){
function _getPrimes(){if(null!==primes)return primes;var e=1048576,r=[];r[0]=2;for(var i=1,n=3;e>n;n+=2){for(var t=Math.ceil(Math.sqrt(n)),m=0;i>m&&r[m]<=t&&n%r[m]!==0;m++);i!==m&&r[m]<=t||(r[i++]=n)}return primes=r,r}function simpleSieve(e){for(var r=_getPrimes(),i=0;i<r.length;i++)if(0===e.modn(r[i]))return 0===e.cmpn(r[i])?!0:!1;return!0}function fermatTest(e){var r=BN.mont(e);return 0===TWO.toRed(r).redPow(e.subn(1)).fromRed().cmpn(1)}function findPrime(e,r){if(16>e)return new BN(2===r||5===r?[140,123]:[140,39]);r=new BN(r);for(var i,n;;){for(i=new BN(randomBytes(Math.ceil(e/8)));i.bitLength()>e;)i.ishrn(1);if(i.isEven()&&i.iadd(ONE),i.testn(1)||i.iadd(TWO),r.cmp(TWO)){if(!r.cmp(FIVE))for(;i.mod(TEN).cmp(THREE);)i.iadd(FOUR)}else for(;i.mod(TWENTYFOUR).cmp(ELEVEN);)i.iadd(FOUR);if(n=i.shrn(1),simpleSieve(n)&&simpleSieve(i)&&fermatTest(n)&&fermatTest(i)&&millerRabin.test(n)&&millerRabin.test(i))return i}}var randomBytes=require("randombytes");module.exports=findPrime,findPrime.simpleSieve=simpleSieve,findPrime.fermatTest=fermatTest;var BN=require("bn.js"),TWENTYFOUR=new BN(24),MillerRabin=require("miller-rabin"),millerRabin=new MillerRabin,ONE=new BN(1),TWO=new BN(2),FIVE=new BN(5),SIXTEEN=new BN(16),EIGHT=new BN(8),TEN=new BN(10),THREE=new BN(3),SEVEN=new BN(7),ELEVEN=new BN(11),FOUR=new BN(4),TWELVE=new BN(12),primes=null;
},{"bn.js":65,"miller-rabin":388,"randombytes":437}],64:[function(require,module,exports){
module.exports={"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}
},{}],65:[function(require,module,exports){
arguments[4][26][0].apply(exports,arguments)
},{"dup":26}],66:[function(require,module,exports){
"use strict";var elliptic=exports;elliptic.version=require("../package.json").version,elliptic.utils=require("./elliptic/utils"),elliptic.rand=require("brorand"),elliptic.hmacDRBG=require("./elliptic/hmac-drbg"),elliptic.curve=require("./elliptic/curve"),elliptic.curves=require("./elliptic/curves"),elliptic.ec=require("./elliptic/ec"),elliptic.eddsa=require("./elliptic/eddsa");
},{"../package.json":83,"./elliptic/curve":69,"./elliptic/curves":72,"./elliptic/ec":73,"./elliptic/eddsa":76,"./elliptic/hmac-drbg":79,"./elliptic/utils":81,"brorand":5}],67:[function(require,module,exports){
"use strict";function BaseCurve(t,e){this.type=t,this.p=new bn(e.p,16),this.red=e.prime?bn.red(e.prime):bn.mont(this.p),this.zero=new bn(0).toRed(this.red),this.one=new bn(1).toRed(this.red),this.two=new bn(2).toRed(this.red),this.n=e.n&&new bn(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4)}function BasePoint(t,e){this.curve=t,this.type=e,this.precomputed=null}var bn=require("bn.js"),elliptic=require("../../elliptic"),utils=elliptic.utils,getNAF=utils.getNAF,getJSF=utils.getJSF,assert=utils.assert;module.exports=BaseCurve,BaseCurve.prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(t,e){assert(t.precomputed);var n=t._getDoubles(),r=getNAF(e,1),o=(1<<n.step+1)-(n.step%2===0?2:1);o/=3;for(var i=[],s=0;s<r.length;s+=n.step){for(var a=0,e=s+n.step-1;e>=s;e--)a=(a<<1)+r[e];i.push(a)}for(var p=this.jpoint(null,null,null),u=this.jpoint(null,null,null),d=o;d>0;d--){for(var s=0;s<i.length;s++){var a=i[s];a===d?u=u.mixedAdd(n.points[s]):a===-d&&(u=u.mixedAdd(n.points[s].neg()))}p=p.add(u)}return p.toP()},BaseCurve.prototype._wnafMul=function(t,e){var n=4,r=t._getNAFPoints(n);n=r.wnd;for(var o=r.points,i=getNAF(e,n),s=this.jpoint(null,null,null),a=i.length-1;a>=0;a--){for(var e=0;a>=0&&0===i[a];a--)e++;if(a>=0&&e++,s=s.dblp(e),0>a)break;var p=i[a];assert(0!==p),s="affine"===t.type?p>0?s.mixedAdd(o[p-1>>1]):s.mixedAdd(o[-p-1>>1].neg()):p>0?s.add(o[p-1>>1]):s.add(o[-p-1>>1].neg())}return"affine"===t.type?s.toP():s},BaseCurve.prototype._wnafMulAdd=function(t,e,n,r){for(var o=this._wnafT1,i=this._wnafT2,s=this._wnafT3,a=0,p=0;r>p;p++){var u=e[p],d=u._getNAFPoints(t);o[p]=d.wnd,i[p]=d.points}for(var p=r-1;p>=1;p-=2){var l=p-1,h=p;if(1===o[l]&&1===o[h]){var f=[e[l],null,null,e[h]];0===e[l].y.cmp(e[h].y)?(f[1]=e[l].add(e[h]),f[2]=e[l].toJ().mixedAdd(e[h].neg())):0===e[l].y.cmp(e[h].y.redNeg())?(f[1]=e[l].toJ().mixedAdd(e[h]),f[2]=e[l].add(e[h].neg())):(f[1]=e[l].toJ().mixedAdd(e[h]),f[2]=e[l].toJ().mixedAdd(e[h].neg()));var c=[-3,-1,-5,-7,0,7,5,1,3],v=getJSF(n[l],n[h]);a=Math.max(v[0].length,a),s[l]=new Array(a),s[h]=new Array(a);for(var g=0;a>g;g++){var m=0|v[0][g],y=0|v[1][g];s[l][g]=c[3*(m+1)+(y+1)],s[h][g]=0,i[l]=f}}else s[l]=getNAF(n[l],o[l]),s[h]=getNAF(n[h],o[h]),a=Math.max(s[l].length,a),a=Math.max(s[h].length,a)}for(var b=this.jpoint(null,null,null),w=this._wnafT4,p=a;p>=0;p--){for(var A=0;p>=0;){for(var B=!0,g=0;r>g;g++)w[g]=0|s[g][p],0!==w[g]&&(B=!1);if(!B)break;A++,p--}if(p>=0&&A++,b=b.dblp(A),0>p)break;for(var g=0;r>g;g++){var u,_=w[g];0!==_&&(_>0?u=i[g][_-1>>1]:0>_&&(u=i[g][-_-1>>1].neg()),b="affine"===u.type?b.mixedAdd(u):b.add(u))}}for(var p=0;r>p;p++)i[p]=null;return b.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function(){throw new Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(t,e){t=utils.toArray(t,e);var n=this.p.byteLength();if(4===t[0]&&t.length-1===2*n)return this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));if((2===t[0]||3===t[0])&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),3===t[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(t){return this.encode(t,!0)},BasePoint.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},BasePoint.prototype.encode=function(t,e){return utils.encode(this._encode(e),t)},BasePoint.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},BasePoint.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return e?e.points.length>=Math.ceil((t.bitLength()+1)/e.step):!1},BasePoint.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,o=0;e>o;o+=t){for(var i=0;t>i;i++)r=r.dbl();n.push(r)}return{step:t,points:n}},BasePoint.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,r=1===n?null:this.dbl(),o=1;n>o;o++)e[o]=e[o-1].add(r);return{wnd:t,points:e}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(t){for(var e=this,n=0;t>n;n++)e=e.dbl();return e};
},{"../../elliptic":66,"bn.js":82}],68:[function(require,module,exports){
"use strict";function EdwardsCurve(t){this.twisted=1!==(0|t.a),this.mOneA=this.twisted&&-1===(0|t.a),this.extended=this.mOneA,Base.call(this,"edwards",t),this.a=new bn(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new bn(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new bn(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|t.c)}function Point(t,e,r,i,d){Base.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new bn(e,16),this.y=new bn(r,16),this.z=i?new bn(i,16):this.curve.one,this.t=d&&new bn(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var curve=require("../curve"),elliptic=require("../../elliptic"),bn=require("bn.js"),inherits=require("inherits"),Base=curve.base,assert=elliptic.utils.assert;inherits(EdwardsCurve,Base),module.exports=EdwardsCurve,EdwardsCurve.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},EdwardsCurve.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},EdwardsCurve.prototype.jpoint=function(t,e,r,i){return this.point(t,e,r,i)},EdwardsCurve.prototype.pointFromX=function(t,e){t=new bn(t,16),t.red||(t=t.toRed(this.red));var r=t.redSqr(),i=this.c2.redSub(this.a.redMul(r)),d=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=i.redMul(d.redInvm()).redSqrt(),n=s.fromRed().isOdd();return(e&&!n||!e&&n)&&(s=s.redNeg()),this.point(t,s)},EdwardsCurve.prototype.pointFromY=function(t,e){t=new bn(t,16),t.red||(t=t.toRed(this.red));var r=t.redSqr(),i=r.redSub(this.one),d=r.redMul(this.d).redAdd(this.one),s=i.redMul(d.redInvm());if(0===s.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var n=s.redSqrt();if(0!==n.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return n.isOdd()!==e&&(n=n.redNeg()),this.point(n,t)},EdwardsCurve.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),i=e.redMul(this.a).redAdd(r),d=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===i.cmp(d)},inherits(Point,Base.BasePoint),EdwardsCurve.prototype.pointFromJSON=function(t){return Point.fromJSON(this,t)},EdwardsCurve.prototype.point=function(t,e,r,i){return new Point(this,t,e,r,i)},Point.fromJSON=function(t,e){return new Point(t,e[0],e[1],e[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},Point.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(t),d=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),s=i.redAdd(e),n=s.redSub(r),u=i.redSub(e),h=d.redMul(n),o=s.redMul(u),l=d.redMul(u),c=n.redMul(s);return this.curve.point(h,o,c,l)},Point.prototype._projDbl=function(){var t,e,r,i=this.x.redAdd(this.y).redSqr(),d=this.x.redSqr(),s=this.y.redSqr();if(this.curve.twisted){var n=this.curve._mulA(d),u=n.redAdd(s);if(this.zOne)t=i.redSub(d).redSub(s).redMul(u.redSub(this.curve.two)),e=u.redMul(n.redSub(s)),r=u.redSqr().redSub(u).redSub(u);else{var h=this.z.redSqr(),o=u.redSub(h).redISub(h);t=i.redSub(d).redISub(s).redMul(o),e=u.redMul(n.redSub(s)),r=u.redMul(o)}}else{var n=d.redAdd(s),h=this.curve._mulC(this.c.redMul(this.z)).redSqr(),o=n.redSub(h).redSub(h);t=this.curve._mulC(i.redISub(n)).redMul(o),e=this.curve._mulC(n).redMul(d.redISub(s)),r=n.redMul(o)}return this.curve.point(t,e,r)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),d=this.z.redMul(t.z.redAdd(t.z)),s=r.redSub(e),n=d.redSub(i),u=d.redAdd(i),h=r.redAdd(e),o=s.redMul(n),l=u.redMul(h),c=s.redMul(h),p=n.redMul(u);return this.curve.point(o,l,p,c)},Point.prototype._projAdd=function(t){var e,r,i=this.z.redMul(t.z),d=i.redSqr(),s=this.x.redMul(t.x),n=this.y.redMul(t.y),u=this.curve.d.redMul(s).redMul(n),h=d.redSub(u),o=d.redAdd(u),l=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(n),c=i.redMul(h).redMul(l);return this.curve.twisted?(e=i.redMul(o).redMul(n.redSub(this.curve._mulA(s))),r=h.redMul(o)):(e=i.redMul(o).redMul(n.redSub(s)),r=this.curve._mulC(h).redMul(o)),this.curve.point(c,e,r)},Point.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},Point.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},Point.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2)},Point.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add;
},{"../../elliptic":66,"../curve":69,"bn.js":82,"inherits":98}],69:[function(require,module,exports){
"use strict";var curve=exports;curve.base=require("./base"),curve["short"]=require("./short"),curve.mont=require("./mont"),curve.edwards=require("./edwards");
},{"./base":67,"./edwards":68,"./mont":70,"./short":71}],70:[function(require,module,exports){
"use strict";function MontCurve(t){Base.call(this,"mont",t),this.a=new bn(t.a,16).toRed(this.red),this.b=new bn(t.b,16).toRed(this.red),this.i4=new bn(4).toRed(this.red).redInvm(),this.two=new bn(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function Point(t,e,r){Base.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new bn(e,16),this.z=new bn(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var curve=require("../curve"),bn=require("bn.js"),inherits=require("inherits"),Base=curve.base,elliptic=require("../../elliptic"),utils=elliptic.utils;inherits(MontCurve,Base),module.exports=MontCurve,MontCurve.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),i=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e),n=i.redSqrt();return 0===n.redSqr().cmp(i)},inherits(Point,Base.BasePoint),MontCurve.prototype.decodePoint=function(t,e){return this.point(utils.toArray(t,e),1)},MontCurve.prototype.point=function(t,e){return new Point(this,t,e)},MontCurve.prototype.pointFromJSON=function(t){return Point.fromJSON(this,t)},Point.prototype.precompute=function(){},Point.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Point.fromJSON=function(t,e){return new Point(t,e[0],e[1]||t.one)},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Point.prototype.dbl=function(){var t=this.x.redAdd(this.z),e=t.redSqr(),r=this.x.redSub(this.z),i=r.redSqr(),n=e.redSub(i),o=e.redMul(i),u=n.redMul(i.redAdd(this.curve.a24.redMul(n)));return this.curve.point(o,u)},Point.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),n=t.x.redAdd(t.z),o=t.x.redSub(t.z),u=o.redMul(r),d=n.redMul(i),s=e.z.redMul(u.redAdd(d).redSqr()),h=e.x.redMul(u.redISub(d).redSqr());return this.curve.point(s,h)},Point.prototype.mul=function(t){for(var e=t.clone(),r=this,i=this.curve.point(null,null),n=this,o=[];0!==e.cmpn(0);e.iushrn(1))o.push(e.andln(1));for(var u=o.length-1;u>=0;u--)0===o[u]?(r=r.diffAdd(i,n),i=i.dbl()):(i=r.diffAdd(i,n),r=r.dbl());return i},Point.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},Point.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()};
},{"../../elliptic":66,"../curve":69,"bn.js":82,"inherits":98}],71:[function(require,module,exports){
"use strict";function ShortCurve(r){Base.call(this,"short",r),this.a=new bn(r.a,16).toRed(this.red),this.b=new bn(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function Point(r,e,t,d){Base.BasePoint.call(this,r,"affine"),null===e&&null===t?(this.x=null,this.y=null,this.inf=!0):(this.x=new bn(e,16),this.y=new bn(t,16),d&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(r,e,t,d){Base.BasePoint.call(this,r,"jacobian"),null===e&&null===t&&null===d?(this.x=this.curve.one,this.y=this.curve.one,this.z=new bn(0)):(this.x=new bn(e,16),this.y=new bn(t,16),this.z=new bn(d,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var curve=require("../curve"),elliptic=require("../../elliptic"),bn=require("bn.js"),inherits=require("inherits"),Base=curve.base,assert=elliptic.utils.assert;inherits(ShortCurve,Base),module.exports=ShortCurve,ShortCurve.prototype._getEndomorphism=function(r){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,t;if(r.beta)e=new bn(r.beta,16).toRed(this.red);else{var d=this._getEndoRoots(this.p);e=d[0].cmp(d[1])<0?d[0]:d[1],e=e.toRed(this.red)}if(r.lambda)t=new bn(r.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?t=i[0]:(t=i[1],assert(0===this.g.mul(t).x.cmp(this.g.x.redMul(e))))}var n;return n=r.basis?r.basis.map(function(r){return{a:new bn(r.a,16),b:new bn(r.b,16)}}):this._getEndoBasis(t),{beta:e,lambda:t,basis:n}}},ShortCurve.prototype._getEndoRoots=function(r){var e=r===this.p?this.red:bn.mont(r),t=new bn(2).toRed(e).redInvm(),d=t.redNeg(),i=new bn(3).toRed(e).redNeg().redSqrt().redMul(t),n=d.redAdd(i).fromRed(),u=d.redSub(i).fromRed();return[n,u]},ShortCurve.prototype._getEndoBasis=function(r){for(var e,t,d,i,n,u,s,o,h,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),p=r,a=this.n.clone(),b=new bn(1),f=new bn(0),c=new bn(0),S=new bn(1),v=0;0!==p.cmpn(0);){var I=a.div(p);o=a.sub(I.mul(p)),h=c.sub(I.mul(b));var y=S.sub(I.mul(f));if(!d&&o.cmp(l)<0)e=s.neg(),t=b,d=o.neg(),i=h;else if(d&&2===++v)break;s=o,a=p,p=o,c=b,b=h,S=f,f=y}n=o.neg(),u=h;var A=d.sqr().add(i.sqr()),m=n.sqr().add(u.sqr());return m.cmp(A)>=0&&(n=e,u=t),d.negative&&(d=d.neg(),i=i.neg()),n.negative&&(n=n.neg(),u=u.neg()),[{a:d,b:i},{a:n,b:u}]},ShortCurve.prototype._endoSplit=function(r){var e=this.endo.basis,t=e[0],d=e[1],i=d.b.mul(r).divRound(this.n),n=t.b.neg().mul(r).divRound(this.n),u=i.mul(t.a),s=n.mul(d.a),o=i.mul(t.b),h=n.mul(d.b),l=r.sub(u).sub(s),p=o.add(h).neg();return{k1:l,k2:p}},ShortCurve.prototype.pointFromX=function(r,e){r=new bn(r,16),r.red||(r=r.toRed(this.red));var t=r.redSqr().redMul(r).redIAdd(r.redMul(this.a)).redIAdd(this.b),d=t.redSqrt(),i=d.fromRed().isOdd();return(e&&!i||!e&&i)&&(d=d.redNeg()),this.point(r,d)},ShortCurve.prototype.validate=function(r){if(r.inf)return!0;var e=r.x,t=r.y,d=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(d).redIAdd(this.b);return 0===t.redSqr().redISub(i).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function(r,e){for(var t=this._endoWnafT1,d=this._endoWnafT2,i=0;i<r.length;i++){var n=this._endoSplit(e[i]),u=r[i],s=u._getBeta();n.k1.negative&&(n.k1.ineg(),u=u.neg(!0)),n.k2.negative&&(n.k2.ineg(),s=s.neg(!0)),t[2*i]=u,t[2*i+1]=s,d[2*i]=n.k1,d[2*i+1]=n.k2}for(var o=this._wnafMulAdd(1,t,d,2*i),h=0;2*i>h;h++)t[h]=null,d[h]=null;return o},inherits(Point,Base.BasePoint),ShortCurve.prototype.point=function(r,e,t){return new Point(this,r,e,t)},ShortCurve.prototype.pointFromJSON=function(r,e){return Point.fromJSON(this,r,e)},Point.prototype._getBeta=function(){if(this.curve.endo){var r=this.precomputed;if(r&&r.beta)return r.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(r){var t=this.curve,d=function(r){return t.point(r.x.redMul(t.endo.beta),r.y)};r.beta=e,e.precomputed={beta:null,naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(d)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(d)}}}return e}},Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function(r,e,t){function d(e){return r.point(e[0],e[1],t)}"string"==typeof e&&(e=JSON.parse(e));var i=r.point(e[0],e[1],t);if(!e[2])return i;var n=e[2];return i.precomputed={beta:null,doubles:n.doubles&&{step:n.doubles.step,points:[i].concat(n.doubles.points.map(d))},naf:n.naf&&{wnd:n.naf.wnd,points:[i].concat(n.naf.points.map(d))}},i},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return this.inf},Point.prototype.add=function(r){if(this.inf)return r;if(r.inf)return this;if(this.eq(r))return this.dbl();if(this.neg().eq(r))return this.curve.point(null,null);if(0===this.x.cmp(r.x))return this.curve.point(null,null);var e=this.y.redSub(r.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(r.x).redInvm()));var t=e.redSqr().redISub(this.x).redISub(r.x),d=e.redMul(this.x.redSub(t)).redISub(this.y);return this.curve.point(t,d)},Point.prototype.dbl=function(){if(this.inf)return this;var r=this.y.redAdd(this.y);if(0===r.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,t=this.x.redSqr(),d=r.redInvm(),i=t.redAdd(t).redIAdd(t).redIAdd(e).redMul(d),n=i.redSqr().redISub(this.x.redAdd(this.x)),u=i.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,u)},Point.prototype.getX=function(){return this.x.fromRed()},Point.prototype.getY=function(){return this.y.fromRed()},Point.prototype.mul=function(r){return r=new bn(r,16),this._hasDoubles(r)?this.curve._fixedNafMul(this,r):this.curve.endo?this.curve._endoWnafMulAdd([this],[r]):this.curve._wnafMul(this,r)},Point.prototype.mulAdd=function(r,e,t){var d=[this,e],i=[r,t];return this.curve.endo?this.curve._endoWnafMulAdd(d,i):this.curve._wnafMulAdd(1,d,i,2)},Point.prototype.eq=function(r){return this===r||this.inf===r.inf&&(this.inf||0===this.x.cmp(r.x)&&0===this.y.cmp(r.y))},Point.prototype.neg=function(r){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(r&&this.precomputed){var t=this.precomputed,d=function(r){return r.neg()};e.precomputed={naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(d)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(d)}}}return e},Point.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var r=this.curve.jpoint(this.x,this.y,this.curve.one);return r},inherits(JPoint,Base.BasePoint),ShortCurve.prototype.jpoint=function(r,e,t){return new JPoint(this,r,e,t)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var r=this.z.redInvm(),e=r.redSqr(),t=this.x.redMul(e),d=this.y.redMul(e).redMul(r);return this.curve.point(t,d)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(r){if(this.isInfinity())return r;if(r.isInfinity())return this;var e=r.z.redSqr(),t=this.z.redSqr(),d=this.x.redMul(e),i=r.x.redMul(t),n=this.y.redMul(e.redMul(r.z)),u=r.y.redMul(t.redMul(this.z)),s=d.redSub(i),o=n.redSub(u);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=s.redSqr(),l=h.redMul(s),p=d.redMul(h),a=o.redSqr().redIAdd(l).redISub(p).redISub(p),b=o.redMul(p.redISub(a)).redISub(n.redMul(l)),f=this.z.redMul(r.z).redMul(s);return this.curve.jpoint(a,b,f)},JPoint.prototype.mixedAdd=function(r){if(this.isInfinity())return r.toJ();if(r.isInfinity())return this;var e=this.z.redSqr(),t=this.x,d=r.x.redMul(e),i=this.y,n=r.y.redMul(e).redMul(this.z),u=t.redSub(d),s=i.redSub(n);if(0===u.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var o=u.redSqr(),h=o.redMul(u),l=t.redMul(o),p=s.redSqr().redIAdd(h).redISub(l).redISub(l),a=s.redMul(l.redISub(p)).redISub(i.redMul(h)),b=this.z.redMul(u);return this.curve.jpoint(p,a,b)},JPoint.prototype.dblp=function(r){if(0===r)return this;if(this.isInfinity())return this;if(!r)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,t=0;r>t;t++)e=e.dbl();return e}for(var d=this.curve.a,i=this.curve.tinv,n=this.x,u=this.y,s=this.z,o=s.redSqr().redSqr(),h=u.redAdd(u),t=0;r>t;t++){var l=n.redSqr(),p=h.redSqr(),a=p.redSqr(),b=l.redAdd(l).redIAdd(l).redIAdd(d.redMul(o)),f=n.redMul(p),c=b.redSqr().redISub(f.redAdd(f)),S=f.redISub(c),v=b.redMul(S);v=v.redIAdd(v).redISub(a);var I=h.redMul(s);r>t+1&&(o=o.redMul(a)),n=c,s=I,h=v}return this.curve.jpoint(n,h.redMul(i),s)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){var r,e,t;if(this.zOne){var d=this.x.redSqr(),i=this.y.redSqr(),n=i.redSqr(),u=this.x.redAdd(i).redSqr().redISub(d).redISub(n);u=u.redIAdd(u);var s=d.redAdd(d).redIAdd(d),o=s.redSqr().redISub(u).redISub(u),h=n.redIAdd(n);h=h.redIAdd(h),h=h.redIAdd(h),r=o,e=s.redMul(u.redISub(o)).redISub(h),t=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),p=this.y.redSqr(),a=p.redSqr(),b=this.x.redAdd(p).redSqr().redISub(l).redISub(a);b=b.redIAdd(b);var f=l.redAdd(l).redIAdd(l),c=f.redSqr(),S=a.redIAdd(a);S=S.redIAdd(S),S=S.redIAdd(S),r=c.redISub(b).redISub(b),e=f.redMul(b.redISub(r)).redISub(S),t=this.y.redMul(this.z),t=t.redIAdd(t)}return this.curve.jpoint(r,e,t)},JPoint.prototype._threeDbl=function(){var r,e,t;if(this.zOne){var d=this.x.redSqr(),i=this.y.redSqr(),n=i.redSqr(),u=this.x.redAdd(i).redSqr().redISub(d).redISub(n);u=u.redIAdd(u);var s=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),o=s.redSqr().redISub(u).redISub(u);r=o;var h=n.redIAdd(n);h=h.redIAdd(h),h=h.redIAdd(h),e=s.redMul(u.redISub(o)).redISub(h),t=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),p=this.y.redSqr(),a=this.x.redMul(p),b=this.x.redSub(l).redMul(this.x.redAdd(l));b=b.redAdd(b).redIAdd(b);var f=a.redIAdd(a);f=f.redIAdd(f);var c=f.redAdd(f);r=b.redSqr().redISub(c),t=this.y.redAdd(this.z).redSqr().redISub(p).redISub(l);var S=p.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S),e=b.redMul(f.redISub(r)).redISub(S)}return this.curve.jpoint(r,e,t)},JPoint.prototype._dbl=function(){var r=this.curve.a,e=this.x,t=this.y,d=this.z,i=d.redSqr().redSqr(),n=e.redSqr(),u=t.redSqr(),s=n.redAdd(n).redIAdd(n).redIAdd(r.redMul(i)),o=e.redAdd(e);o=o.redIAdd(o);var h=o.redMul(u),l=s.redSqr().redISub(h.redAdd(h)),p=h.redISub(l),a=u.redSqr();a=a.redIAdd(a),a=a.redIAdd(a),a=a.redIAdd(a);var b=s.redMul(p).redISub(a),f=t.redAdd(t).redMul(d);return this.curve.jpoint(l,b,f)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var r=this.x.redSqr(),e=this.y.redSqr(),t=this.z.redSqr(),d=e.redSqr(),i=r.redAdd(r).redIAdd(r),n=i.redSqr(),u=this.x.redAdd(e).redSqr().redISub(r).redISub(d);u=u.redIAdd(u),u=u.redAdd(u).redIAdd(u),u=u.redISub(n);var s=u.redSqr(),o=d.redIAdd(d);o=o.redIAdd(o),o=o.redIAdd(o),o=o.redIAdd(o);var h=i.redIAdd(u).redSqr().redISub(n).redISub(s).redISub(o),l=e.redMul(h);l=l.redIAdd(l),l=l.redIAdd(l);var p=this.x.redMul(s).redISub(l);p=p.redIAdd(p),p=p.redIAdd(p);var a=this.y.redMul(h.redMul(o.redISub(h)).redISub(u.redMul(s)));a=a.redIAdd(a),a=a.redIAdd(a),a=a.redIAdd(a);var b=this.z.redAdd(u).redSqr().redISub(t).redISub(s);return this.curve.jpoint(p,a,b)},JPoint.prototype.mul=function(r,e){return r=new bn(r,e),this.curve._wnafMul(this,r)},JPoint.prototype.eq=function(r){if("affine"===r.type)return this.eq(r.toJ());if(this===r)return!0;var e=this.z.redSqr(),t=r.z.redSqr();if(0!==this.x.redMul(t).redISub(r.x.redMul(e)).cmpn(0))return!1;var d=e.redMul(this.z),i=t.redMul(r.z);return 0===this.y.redMul(i).redISub(r.y.redMul(d)).cmpn(0)},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};
},{"../../elliptic":66,"../curve":69,"bn.js":82,"inherits":98}],72:[function(require,module,exports){
"use strict";function PresetCurve(f){"short"===f.type?this.curve=new elliptic.curve["short"](f):"edwards"===f.type?this.curve=new elliptic.curve.edwards(f):this.curve=new elliptic.curve.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,assert(this.g.validate(),"Invalid curve"),assert(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function defineCurve(f,e){Object.defineProperty(curves,f,{configurable:!0,enumerable:!0,get:function(){var a=new PresetCurve(e);return Object.defineProperty(curves,f,{configurable:!0,enumerable:!0,value:a}),a}})}var curves=exports,hash=require("hash.js"),elliptic=require("../elliptic"),assert=elliptic.utils.assert;curves.PresetCurve=PresetCurve,defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"0",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["9"]}),defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var pre;try{pre=require("./precomputed/secp256k1")}catch(e){pre=void 0}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",pre]});
},{"../elliptic":66,"./precomputed/secp256k1":80,"hash.js":86}],73:[function(require,module,exports){
"use strict";function EC(t){return this instanceof EC?("string"==typeof t&&(assert(elliptic.curves.hasOwnProperty(t),"Unknown curve "+t),t=elliptic.curves[t]),t instanceof elliptic.curves.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),void(this.hash=t.hash||t.curve.hash)):new EC(t)}var bn=require("bn.js"),elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert,KeyPair=require("./key"),Signature=require("./signature");module.exports=EC,EC.prototype.keyPair=function(t){return new KeyPair(this,t)},EC.prototype.keyFromPrivate=function(t,e){return KeyPair.fromPrivate(this,t,e)},EC.prototype.keyFromPublic=function(t,e){return KeyPair.fromPublic(this,t,e)},EC.prototype.genKeyPair=function(t){t||(t={});for(var e=new elliptic.hmacDRBG({hash:this.hash,pers:t.pers,entropy:t.entropy||elliptic.rand(this.hash.hmacStrength),nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new bn(2));;){var i=new bn(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},EC.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},EC.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new bn(t,16));for(var i=this.n.byteLength(),s=e.getPrivate().toArray(),u=s.length;i>u;u++)s.unshift(0);for(var h=t.toArray(),u=h.length;i>u;u++)h.unshift(0);for(var o=new elliptic.hmacDRBG({hash:this.hash,entropy:s,nonce:h}),a=this.n.sub(new bn(1));;){var c=new bn(o.generate(this.n.byteLength()));if(c=this._truncateToN(c,!0),!(c.cmpn(1)<=0||c.cmp(a)>=0)){var v=this.g.mul(c);if(!v.isInfinity()){var p=v.getX(),m=p.umod(this.n);if(0!==m.cmpn(0)){var y=c.invm(this.n).mul(m.mul(e.getPrivate()).iadd(t));if(y=y.umod(this.n),0!==y.cmpn(0)){var l=(v.getY().isOdd()?1:0)|(0!==p.cmp(m)?2:0);return n.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),l^=1),new Signature({r:m,s:y,recoveryParam:l})}}}}}},EC.prototype.verify=function(t,e,r,n){t=this._truncateToN(new bn(t,16)),r=this.keyFromPublic(r,n),e=new Signature(e,"hex");var i=e.r,s=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var u=s.invm(this.n),h=u.mul(t).umod(this.n),o=u.mul(i).umod(this.n),a=this.g.mulAdd(h,r.getPublic(),o);return a.isInfinity()?!1:0===a.getX().umod(this.n).cmp(i)},EC.prototype.recoverPubKey=function(t,e,r,n){assert((3&r)===r,"The recovery param is more than two bits"),e=new Signature(e,n);var i=this.n,s=new bn(t),u=e.r,h=e.s,o=1&r,a=r>>1;if(u.cmp(this.curve.p.umod(this.curve.n))>=0&&a)throw new Error("Unable to find sencond key candinate");u=a?this.curve.pointFromX(u.add(this.curve.n),o):this.curve.pointFromX(u,o);var c=i.sub(s),v=e.r.invm(i);return u.mul(h).add(this.g.mul(c)).mul(v)},EC.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Signature(e,n),null!==e.recoveryParam)return e.recoveryParam;for(var i=0;4>i;i++){var s=this.recoverPubKey(t,e,i);if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};
},{"../../elliptic":66,"./key":74,"./signature":75,"bn.js":82}],74:[function(require,module,exports){
"use strict";function KeyPair(i,t){this.ec=i,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var bn=require("bn.js");module.exports=KeyPair,KeyPair.fromPublic=function(i,t,r){return t instanceof KeyPair?t:new KeyPair(i,{pub:t,pubEnc:r})},KeyPair.fromPrivate=function(i,t,r){return t instanceof KeyPair?t:new KeyPair(i,{priv:t,privEnc:r})},KeyPair.prototype.validate=function(){var i=this.getPublic();return i.isInfinity()?{result:!1,reason:"Invalid public key"}:i.validate()?i.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function(i,t){return"string"==typeof i&&(t=i,i=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,i):this.pub},KeyPair.prototype.getPrivate=function(i){return"hex"===i?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function(i,t){this.priv=new bn(i,t||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair.prototype._importPublic=function(i,t){return i.x||i.y?void(this.pub=this.ec.curve.point(i.x,i.y)):void(this.pub=this.ec.curve.decodePoint(i,t))},KeyPair.prototype.derive=function(i){return i.mul(this.priv).getX()},KeyPair.prototype.sign=function(i,t,r){return this.ec.sign(i,this,t,r)},KeyPair.prototype.verify=function(i,t){return this.ec.verify(i,t,this)},KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};
},{"bn.js":82}],75:[function(require,module,exports){
"use strict";function Signature(t,r){return t instanceof Signature?t:void(this._importDER(t,r)||(assert(t.r&&t.s,"Signature without r or s"),this.r=new bn(t.r,16),this.s=new bn(t.s,16),null!==t.recoveryParam?this.recoveryParam=t.recoveryParam:this.recoveryParam=null))}function Position(){this.place=0}function getLength(t,r){var e=t[r.place++];if(!(128&e))return e;for(var n=15&e,i=0,a=0,c=r.place;n>a;a++,c++)i<<=8,i|=t[c];return r.place=c,i}function rmPadding(t){for(var r=0,e=t.length-1;!t[r]&&!(128&t[r+1])&&e>r;)r++;return 0===r?t:t.slice(r)}function constructLength(t,r){if(128>r)return void t.push(r);var e=1+(Math.log(r)/Math.LN2>>>3);for(t.push(128|e);--e;)t.push(r>>>(e<<3)&255);t.push(r)}var bn=require("bn.js"),elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert;module.exports=Signature,Signature.prototype._importDER=function(t,r){t=utils.toArray(t,r);var e=new Position;if(48!==t[e.place++])return!1;var n=getLength(t,e);if(n+e.place!==t.length)return!1;if(2!==t[e.place++])return!1;var i=getLength(t,e),a=t.slice(e.place,i+e.place);if(e.place+=i,2!==t[e.place++])return!1;var c=getLength(t,e);if(t.length!==c+e.place)return!1;var s=t.slice(e.place,c+e.place);return 0===a[0]&&128&a[1]&&(a=a.slice(1)),0===s[0]&&128&s[1]&&(s=s.slice(1)),this.r=new bn(a),this.s=new bn(s),this.recoveryParam=null,!0},Signature.prototype.toDER=function(t){var r=this.r.toArray(),e=this.s.toArray();for(128&r[0]&&(r=[0].concat(r)),128&e[0]&&(e=[0].concat(e)),r=rmPadding(r),e=rmPadding(e);!(e[0]||128&e[1]);)e=e.slice(1);var n=[2];constructLength(n,r.length),n=n.concat(r),n.push(2),constructLength(n,e.length);var i=n.concat(e),a=[48];return constructLength(a,i.length),a=a.concat(i),utils.encode(a,t)};
},{"../../elliptic":66,"bn.js":82}],76:[function(require,module,exports){
"use strict";function EDDSA(t){if(assert("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(t);var t=elliptic.curves[t].curve;this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=hash.sha512}var hash=require("hash.js"),elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert,parseBytes=utils.parseBytes,KeyPair=require("./key"),Signature=require("./signature");module.exports=EDDSA,EDDSA.prototype.sign=function(t,e){t=parseBytes(t);var i=this.keyFromSecret(e),r=this.hashInt(i.messagePrefix(),t),n=this.g.mul(r),s=this.encodePoint(n),o=this.hashInt(s,i.pubBytes(),t).mul(i.priv()),u=r.add(o).umod(this.curve.n);return this.makeSignature({R:n,S:u,Rencoded:s})},EDDSA.prototype.verify=function(t,e,i){t=parseBytes(t),e=this.makeSignature(e);var r=this.keyFromPublic(i),n=this.hashInt(e.Rencoded(),r.pubBytes(),t),s=this.g.mul(e.S()),o=e.R().add(r.pub().mul(n));return o.eq(s)},EDDSA.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return utils.intFromLE(t.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function(t){return KeyPair.fromPublic(this,t)},EDDSA.prototype.keyFromSecret=function(t){return KeyPair.fromSecret(this,t)},EDDSA.prototype.makeSignature=function(t){return t instanceof Signature?t:new Signature(this,t)},EDDSA.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},EDDSA.prototype.decodePoint=function(t){t=utils.parseBytes(t);var e=t.length-1,i=t.slice(0,e).concat(-129&t[e]),r=0!==(128&t[e]),n=utils.intFromLE(i);return this.curve.pointFromY(n,r)},EDDSA.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function(t){return utils.intFromLE(t)},EDDSA.prototype.isPoint=function(t){return t instanceof this.pointClass};
},{"../../elliptic":66,"./key":77,"./signature":78,"hash.js":86}],77:[function(require,module,exports){
"use strict";function KeyPair(e,t){this.eddsa=e,this._secret=parseBytes(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=parseBytes(t.pub)}var elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert,parseBytes=utils.parseBytes,cachedProperty=utils.cachedProperty;KeyPair.fromPublic=function(e,t){return t instanceof KeyPair?t:new KeyPair(e,{pub:t})},KeyPair.fromSecret=function(e,t){return t instanceof KeyPair?t:new KeyPair(e,{secret:t})},KeyPair.prototype.secret=function(){return this._secret},cachedProperty(KeyPair,function(){return this.eddsa.encodePoint(this.pub())}),cachedProperty(KeyPair,function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),cachedProperty(KeyPair,function(){var e=this.eddsa,t=this.hash(),i=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[i]&=127,r[i]|=64,r}),cachedProperty(KeyPair,function(){return this.eddsa.decodeInt(this.privBytes())}),cachedProperty(KeyPair,function(){return this.eddsa.hash().update(this.secret()).digest()}),cachedProperty(KeyPair,function(){return this.hash().slice(this.eddsa.encodingLength)}),KeyPair.prototype.sign=function(e){return assert(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},KeyPair.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},KeyPair.prototype.getSecret=function(e){return assert(this._secret,"KeyPair is public only"),utils.encode(this.secret(),e)},KeyPair.prototype.getPublic=function(e){return utils.encode(this.pubBytes(),e)},module.exports=KeyPair;
},{"../../elliptic":66}],78:[function(require,module,exports){
"use strict";function Signature(e,t){this.eddsa=e,"object"!=typeof t&&(t=parseBytes(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),assert(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof bn&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}var bn=require("bn.js"),elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert,cachedProperty=utils.cachedProperty,parseBytes=utils.parseBytes;cachedProperty(Signature,function(){return this.eddsa.decodeInt(this.Sencoded())}),cachedProperty(Signature,function(){return this.eddsa.decodePoint(this.Rencoded())}),cachedProperty(Signature,function(){return this.eddsa.encodePoint(this.R())}),cachedProperty(Signature,function(){return this.eddsa.encodeInt(this.S())}),Signature.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Signature.prototype.toHex=function(){return utils.encode(this.toBytes(),"hex").toUpperCase()},module.exports=Signature;
},{"../../elliptic":66,"bn.js":82}],79:[function(require,module,exports){
"use strict";function HmacDRBG(t){if(!(this instanceof HmacDRBG))return new HmacDRBG(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this.reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=utils.toArray(t.entropy,t.entropyEnc),s=utils.toArray(t.nonce,t.nonceEnc),i=utils.toArray(t.pers,t.persEnc);assert(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,s,i)}var hash=require("hash.js"),elliptic=require("../elliptic"),utils=elliptic.utils,assert=utils.assert;module.exports=HmacDRBG,HmacDRBG.prototype._init=function(t,e,s){var i=t.concat(e).concat(s);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(i),this.reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function(){return new hash.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function(t,e,s,i){"string"!=typeof e&&(i=s,s=e,e=null),t=utils.toBuffer(t,e),s=utils.toBuffer(s,i),assert(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(s||[])),this.reseed=1},HmacDRBG.prototype.generate=function(t,e,s,i){if(this.reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(i=s,s=e,e=null),s&&(s=utils.toArray(s,i),this._update(s));for(var h=[];h.length<t;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var r=h.slice(0,t);return this._update(s),this.reseed++,utils.encode(r,e)};
},{"../elliptic":66,"hash.js":86}],80:[function(require,module,exports){
module.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}};
},{}],81:[function(require,module,exports){
"use strict";function toArray(r,t){if(Array.isArray(r))return r.slice();if(!r)return[];var e=[];if("string"!=typeof r){for(var n=0;n<r.length;n++)e[n]=0|r[n];return e}if(t){if("hex"===t){r=r.replace(/[^a-z0-9]+/gi,""),r.length%2!==0&&(r="0"+r);for(var n=0;n<r.length;n+=2)e.push(parseInt(r[n]+r[n+1],16))}}else for(var n=0;n<r.length;n++){var i=r.charCodeAt(n),o=i>>8,s=255&i;o?e.push(o,s):e.push(s)}return e}function zero2(r){return 1===r.length?"0"+r:r}function toHex(r){for(var t="",e=0;e<r.length;e++)t+=zero2(r[e].toString(16));return t}function getNAF(r,t){for(var e=[],n=1<<t+1,i=r.clone();i.cmpn(1)>=0;){var o;if(i.isOdd()){var s=i.andln(n-1);o=s>(n>>1)-1?(n>>1)-s:s,i.isubn(o)}else o=0;e.push(o);for(var u=0!==i.cmpn(0)&&0===i.andln(n-1)?t+1:1,a=1;u>a;a++)e.push(0);i.iushrn(u)}return e}function getJSF(r,t){var e=[[],[]];r=r.clone(),t=t.clone();for(var n=0,i=0;r.cmpn(-n)>0||t.cmpn(-i)>0;){var o=r.andln(3)+n&3,s=t.andln(3)+i&3;3===o&&(o=-1),3===s&&(s=-1);var u;if(0===(1&o))u=0;else{var a=r.andln(7)+n&7;u=3!==a&&5!==a||2!==s?o:-o}e[0].push(u);var l;if(0===(1&s))l=0;else{var a=t.andln(7)+i&7;l=3!==a&&5!==a||2!==o?s:-s}e[1].push(l),2*n===u+1&&(n=1-n),2*i===l+1&&(i=1-i),r.iushrn(1),t.iushrn(1)}return e}function cachedProperty(r,t){var e=t.name,n="_"+e;r.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=t.call(this)}}function parseBytes(r){return"string"==typeof r?utils.toArray(r,"hex"):r}function intFromLE(r){return new bn(r,"hex","le")}var utils=exports,bn=require("bn.js");utils.assert=function(r,t){if(!r)throw new Error(t||"Assertion failed")},utils.toArray=toArray,utils.zero2=zero2,utils.toHex=toHex,utils.encode=function(r,t){return"hex"===t?toHex(r):r},utils.getNAF=getNAF,utils.getJSF=getJSF,utils.cachedProperty=cachedProperty,utils.parseBytes=parseBytes,utils.intFromLE=intFromLE;
},{"bn.js":82}],82:[function(require,module,exports){
arguments[4][26][0].apply(exports,arguments)
},{"dup":26}],83:[function(require,module,exports){
module.exports={"_args":[["elliptic@^6.0.0","c:\\Users\\mx²\\kb\\knotbeard\\node_modules\\browserify-sign"]],"_from":"elliptic@>=6.0.0 <7.0.0","_id":"elliptic@6.0.2","_inCache":true,"_installable":true,"_location":"/elliptic","_nodeVersion":"5.0.0","_npmUser":{"email":"fedor@indutny.com","name":"indutny"},"_npmVersion":"3.3.6","_phantomChildren":{},"_requested":{"name":"elliptic","raw":"elliptic@^6.0.0","rawSpec":"^6.0.0","scope":null,"spec":">=6.0.0 <7.0.0","type":"range"},"_requiredBy":["/browserify-sign","/create-ecdh"],"_resolved":"https://registry.npmjs.org/elliptic/-/elliptic-6.0.2.tgz","_shasum":"219b96cd92aa9885d91d31c1fd42eaa5eb4483a9","_shrinkwrap":null,"_spec":"elliptic@^6.0.0","_where":"c:\\Users\\mx²\\kb\\knotbeard\\node_modules\\browserify-sign","author":{"email":"fedor@indutny.com","name":"Fedor Indutny"},"bugs":{"url":"https://github.com/indutny/elliptic/issues"},"dependencies":{"bn.js":"^4.0.0","brorand":"^1.0.1","hash.js":"^1.0.0","inherits":"^2.0.1"},"description":"EC cryptography","devDependencies":{"browserify":"^3.44.2","coveralls":"^2.11.3","istanbul":"^0.3.17","jscs":"^1.11.3","jshint":"^2.6.0","mocha":"^2.1.0","uglify-js":"^2.4.13"},"directories":{},"dist":{"shasum":"219b96cd92aa9885d91d31c1fd42eaa5eb4483a9","tarball":"http://registry.npmjs.org/elliptic/-/elliptic-6.0.2.tgz"},"files":["lib"],"gitHead":"330106da186712d228d79bc71ae8e7e68565fa9d","homepage":"https://github.com/indutny/elliptic","keywords":["Cryptography","EC","Elliptic","curve"],"license":"MIT","main":"lib/elliptic.js","maintainers":[{"name":"indutny","email":"fedor@indutny.com"}],"name":"elliptic","optionalDependencies":{},"readme":"ERROR: No README data found!","repository":{"type":"git","url":"git+ssh://git@github.com/indutny/elliptic.git"},"scripts":{"coveralls":"cat ./coverage/lcov.info | coveralls","test":"make lint && istanbul test _mocha --reporter=spec test/*-test.js"},"version":"6.0.2"}
},{}],84:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,s,i,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];n.apply(this,i)}else if(isObject(n)){for(s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];for(o=n.slice(),s=o.length,r=0;s>r;r++)o[r].apply(this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned){var n;n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function n(){this.removeListener(e,n),s||(s=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var s=!1;return n.listener=t,this.on(e,n),this},EventEmitter.prototype.removeListener=function(e,t){var n,s,i,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,s=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(r=i;r-- >0;)if(n[r]===t||n[r].listener&&n[r].listener===t){s=r;break}if(0>s)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?isFunction(e._events[t])?1:e._events[t].length:0};
},{}],85:[function(require,module,exports){
(function (Buffer){
function EVP_BytesToKey(e,f,r,u){Buffer.isBuffer(e)||(e=new Buffer(e,"binary")),f&&!Buffer.isBuffer(f)&&(f=new Buffer(f,"binary")),r/=8,u=u||0;for(var i,n,a=0,t=0,B=new Buffer(r),o=new Buffer(u),h=0,s=[];;){if(h++>0&&s.push(i),s.push(e),f&&s.push(f),i=md5(Buffer.concat(s)),s=[],n=0,r>0)for(;;){if(0===r)break;if(n===i.length)break;B[a++]=i[n],r--,n++}if(u>0&&n!==i.length)for(;;){if(0===u)break;if(n===i.length)break;o[t++]=i[n],u--,n++}if(0===r&&0===u)break}for(n=0;n<i.length;n++)i[n]=0;return{key:B,iv:o}}var md5=require("create-hash/md5");module.exports=EVP_BytesToKey;
}).call(this,require("buffer").Buffer)

},{"buffer":42,"create-hash/md5":50}],86:[function(require,module,exports){
var hash=exports;hash.utils=require("./hash/utils"),hash.common=require("./hash/common"),hash.sha=require("./hash/sha"),hash.ripemd=require("./hash/ripemd"),hash.hmac=require("./hash/hmac"),hash.sha1=hash.sha.sha1,hash.sha256=hash.sha.sha256,hash.sha224=hash.sha.sha224,hash.sha384=hash.sha.sha384,hash.sha512=hash.sha.sha512,hash.ripemd160=hash.ripemd.ripemd160;
},{"./hash/common":87,"./hash/hmac":88,"./hash/ripemd":89,"./hash/sha":90,"./hash/utils":91}],87:[function(require,module,exports){
function BlockHash(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var hash=require("../hash"),utils=hash.utils,assert=utils.assert;exports.BlockHash=BlockHash,BlockHash.prototype.update=function(t,i){if(t=utils.toArray(t,i),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var h=t.length%this._delta8;this.pending=t.slice(t.length-h,t.length),0===this.pending.length&&(this.pending=null),t=utils.join32(t,0,t.length-h,this.endian);for(var s=0;s<t.length;s+=this._delta32)this._update(t,s,s+this._delta32)}return this},BlockHash.prototype.digest=function(t){return this.update(this._pad()),assert(null===this.pending),this._digest(t)},BlockHash.prototype._pad=function(){var t=this.pendingTotal,i=this._delta8,h=i-(t+this.padLength)%i,s=new Array(h+this.padLength);s[0]=128;for(var n=1;h>n;n++)s[n]=0;if(t<<=3,"big"===this.endian){for(var e=8;e<this.padLength;e++)s[n++]=0;s[n++]=0,s[n++]=0,s[n++]=0,s[n++]=0,s[n++]=t>>>24&255,s[n++]=t>>>16&255,s[n++]=t>>>8&255,s[n++]=255&t}else{s[n++]=255&t,s[n++]=t>>>8&255,s[n++]=t>>>16&255,s[n++]=t>>>24&255,s[n++]=0,s[n++]=0,s[n++]=0,s[n++]=0;for(var e=8;e<this.padLength;e++)s[n++]=0}return s};
},{"../hash":86}],88:[function(require,module,exports){
function Hmac(t,i,e){return this instanceof Hmac?(this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,void this._init(utils.toArray(i,e))):new Hmac(t,i,e)}var hmac=exports,hash=require("../hash"),utils=hash.utils,assert=utils.assert;module.exports=Hmac,Hmac.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),assert(t.length<=this.blockSize);for(var i=t.length;i<this.blockSize;i++)t.push(0);for(var i=0;i<t.length;i++)t[i]^=54;this.inner=(new this.Hash).update(t);for(var i=0;i<t.length;i++)t[i]^=106;this.outer=(new this.Hash).update(t)},Hmac.prototype.update=function(t,i){return this.inner.update(t,i),this},Hmac.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};
},{"../hash":86}],89:[function(require,module,exports){
function RIPEMD160(){return this instanceof RIPEMD160?(BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.endian="little")):new RIPEMD160}function f(t,h,s,i){return 15>=t?h^s^i:31>=t?h&s|~h&i:47>=t?(h|~s)^i:63>=t?h&i|s&~i:h^(s|~i)}function K(t){return 15>=t?0:31>=t?1518500249:47>=t?1859775393:63>=t?2400959708:2840853838}function Kh(t){return 15>=t?1352829926:31>=t?1548603684:47>=t?1836072691:63>=t?2053994217:0}var hash=require("../hash"),utils=hash.utils,rotl32=utils.rotl32,sum32=utils.sum32,sum32_3=utils.sum32_3,sum32_4=utils.sum32_4,BlockHash=hash.common.BlockHash;utils.inherits(RIPEMD160,BlockHash),exports.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function(t,h){for(var i=this.h[0],u=this.h[1],l=this.h[2],o=this.h[3],e=this.h[4],n=i,m=u,a=l,c=o,_=e,D=0;80>D;D++){var E=sum32(rotl32(sum32_4(i,f(D,u,l,o),t[r[D]+h],K(D)),s[D]),e);i=e,e=o,o=rotl32(l,10),l=u,u=E,E=sum32(rotl32(sum32_4(n,f(79-D,m,a,c),t[rh[D]+h],Kh(D)),sh[D]),_),n=_,_=c,c=rotl32(a,10),a=m,m=E}E=sum32_3(this.h[1],l,c),this.h[1]=sum32_3(this.h[2],o,_),this.h[2]=sum32_3(this.h[3],e,n),this.h[3]=sum32_3(this.h[4],i,m),this.h[4]=sum32_3(this.h[0],u,a),this.h[0]=E},RIPEMD160.prototype._digest=function(t){return"hex"===t?utils.toHex32(this.h,"little"):utils.split32(this.h,"little")};var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];
},{"../hash":86}],90:[function(require,module,exports){
function SHA256(){return this instanceof SHA256?(BlockHash.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,void(this.W=new Array(64))):new SHA256}function SHA224(){return this instanceof SHA224?(SHA256.call(this),void(this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])):new SHA224}function SHA512(){return this instanceof SHA512?(BlockHash.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,void(this.W=new Array(160))):new SHA512}function SHA384(){return this instanceof SHA384?(SHA512.call(this),void(this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428])):new SHA384}function SHA1(){return this instanceof SHA1?(BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.W=new Array(80))):new SHA1}function ch32(t,h,s){return t&h^~t&s}function maj32(t,h,s){return t&h^t&s^h&s}function p32(t,h,s){return t^h^s}function s0_256(t){return rotr32(t,2)^rotr32(t,13)^rotr32(t,22)}function s1_256(t){return rotr32(t,6)^rotr32(t,11)^rotr32(t,25)}function g0_256(t){return rotr32(t,7)^rotr32(t,18)^t>>>3}function g1_256(t){return rotr32(t,17)^rotr32(t,19)^t>>>10}function ft_1(t,h,s,i){return 0===t?ch32(h,s,i):1===t||3===t?p32(h,s,i):2===t?maj32(h,s,i):void 0}function ch64_hi(t,h,s,i,r,o){var u=t&s^~t&r;return 0>u&&(u+=4294967296),u}function ch64_lo(t,h,s,i,r,o){var u=h&i^~h&o;return 0>u&&(u+=4294967296),u}function maj64_hi(t,h,s,i,r,o){var u=t&s^t&r^s&r;return 0>u&&(u+=4294967296),u}function maj64_lo(t,h,s,i,r,o){var u=h&i^h&o^i&o;return 0>u&&(u+=4294967296),u}function s0_512_hi(t,h){var s=rotr64_hi(t,h,28),i=rotr64_hi(h,t,2),r=rotr64_hi(h,t,7),o=s^i^r;return 0>o&&(o+=4294967296),o}function s0_512_lo(t,h){var s=rotr64_lo(t,h,28),i=rotr64_lo(h,t,2),r=rotr64_lo(h,t,7),o=s^i^r;return 0>o&&(o+=4294967296),o}function s1_512_hi(t,h){var s=rotr64_hi(t,h,14),i=rotr64_hi(t,h,18),r=rotr64_hi(h,t,9),o=s^i^r;return 0>o&&(o+=4294967296),o}function s1_512_lo(t,h){var s=rotr64_lo(t,h,14),i=rotr64_lo(t,h,18),r=rotr64_lo(h,t,9),o=s^i^r;return 0>o&&(o+=4294967296),o}function g0_512_hi(t,h){var s=rotr64_hi(t,h,1),i=rotr64_hi(t,h,8),r=shr64_hi(t,h,7),o=s^i^r;return 0>o&&(o+=4294967296),o}function g0_512_lo(t,h){var s=rotr64_lo(t,h,1),i=rotr64_lo(t,h,8),r=shr64_lo(t,h,7),o=s^i^r;return 0>o&&(o+=4294967296),o}function g1_512_hi(t,h){var s=rotr64_hi(t,h,19),i=rotr64_hi(h,t,29),r=shr64_hi(t,h,6),o=s^i^r;return 0>o&&(o+=4294967296),o}function g1_512_lo(t,h){var s=rotr64_lo(t,h,19),i=rotr64_lo(h,t,29),r=shr64_lo(t,h,6),o=s^i^r;return 0>o&&(o+=4294967296),o}var hash=require("../hash"),utils=hash.utils,assert=utils.assert,rotr32=utils.rotr32,rotl32=utils.rotl32,sum32=utils.sum32,sum32_4=utils.sum32_4,sum32_5=utils.sum32_5,rotr64_hi=utils.rotr64_hi,rotr64_lo=utils.rotr64_lo,shr64_hi=utils.shr64_hi,shr64_lo=utils.shr64_lo,sum64=utils.sum64,sum64_hi=utils.sum64_hi,sum64_lo=utils.sum64_lo,sum64_4_hi=utils.sum64_4_hi,sum64_4_lo=utils.sum64_4_lo,sum64_5_hi=utils.sum64_5_hi,sum64_5_lo=utils.sum64_5_lo,BlockHash=hash.common.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],sha1_K=[1518500249,1859775393,2400959708,3395469782];utils.inherits(SHA256,BlockHash),exports.sha256=SHA256,SHA256.blockSize=512,SHA256.outSize=256,SHA256.hmacStrength=192,SHA256.padLength=64,SHA256.prototype._update=function(t,h){for(var s=this.W,i=0;16>i;i++)s[i]=t[h+i];for(;i<s.length;i++)s[i]=sum32_4(g1_256(s[i-2]),s[i-7],g0_256(s[i-15]),s[i-16]);var r=this.h[0],o=this.h[1],u=this.h[2],n=this.h[3],_=this.h[4],e=this.h[5],l=this.h[6],a=this.h[7];assert(this.k.length===s.length);for(var i=0;i<s.length;i++){var c=sum32_5(a,s1_256(_),ch32(_,e,l),this.k[i],s[i]),S=sum32(s0_256(r),maj32(r,o,u));a=l,l=e,e=_,_=sum32(n,c),n=u,u=o,o=r,r=sum32(c,S)}this.h[0]=sum32(this.h[0],r),this.h[1]=sum32(this.h[1],o),this.h[2]=sum32(this.h[2],u),this.h[3]=sum32(this.h[3],n),this.h[4]=sum32(this.h[4],_),this.h[5]=sum32(this.h[5],e),this.h[6]=sum32(this.h[6],l),this.h[7]=sum32(this.h[7],a)},SHA256.prototype._digest=function(t){return"hex"===t?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")},utils.inherits(SHA224,SHA256),exports.sha224=SHA224,SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function(t){return"hex"===t?utils.toHex32(this.h.slice(0,7),"big"):utils.split32(this.h.slice(0,7),"big")},utils.inherits(SHA512,BlockHash),exports.sha512=SHA512,SHA512.blockSize=1024,SHA512.outSize=512,SHA512.hmacStrength=192,SHA512.padLength=128,SHA512.prototype._prepareBlock=function(t,h){for(var s=this.W,i=0;32>i;i++)s[i]=t[h+i];for(;i<s.length;i+=2){var r=g1_512_hi(s[i-4],s[i-3]),o=g1_512_lo(s[i-4],s[i-3]),u=s[i-14],n=s[i-13],_=g0_512_hi(s[i-30],s[i-29]),e=g0_512_lo(s[i-30],s[i-29]),l=s[i-32],a=s[i-31];s[i]=sum64_4_hi(r,o,u,n,_,e,l,a),s[i+1]=sum64_4_lo(r,o,u,n,_,e,l,a)}},SHA512.prototype._update=function(t,h){this._prepareBlock(t,h);var s=this.W,i=this.h[0],r=this.h[1],o=this.h[2],u=this.h[3],n=this.h[4],_=this.h[5],e=this.h[6],l=this.h[7],a=this.h[8],c=this.h[9],S=this.h[10],m=this.h[11],H=this.h[12],A=this.h[13],f=this.h[14],g=this.h[15];assert(this.k.length===s.length);for(var p=0;p<s.length;p+=2){var v=f,k=g,d=s1_512_hi(a,c),b=s1_512_lo(a,c),x=ch64_hi(a,c,S,m,H,A),y=ch64_lo(a,c,S,m,H,A),z=this.k[p],B=this.k[p+1],w=s[p],j=s[p+1],W=sum64_5_hi(v,k,d,b,x,y,z,B,w,j),K=sum64_5_lo(v,k,d,b,x,y,z,B,w,j),v=s0_512_hi(i,r),k=s0_512_lo(i,r),d=maj64_hi(i,r,o,u,n,_),b=maj64_lo(i,r,o,u,n,_),L=sum64_hi(v,k,d,b),q=sum64_lo(v,k,d,b);f=H,g=A,H=S,A=m,S=a,m=c,a=sum64_hi(e,l,W,K),c=sum64_lo(l,l,W,K),e=n,l=_,n=o,_=u,o=i,u=r,i=sum64_hi(W,K,L,q),r=sum64_lo(W,K,L,q)}sum64(this.h,0,i,r),sum64(this.h,2,o,u),sum64(this.h,4,n,_),sum64(this.h,6,e,l),sum64(this.h,8,a,c),sum64(this.h,10,S,m),sum64(this.h,12,H,A),sum64(this.h,14,f,g)},SHA512.prototype._digest=function(t){return"hex"===t?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")},utils.inherits(SHA384,SHA512),exports.sha384=SHA384,SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function(t){return"hex"===t?utils.toHex32(this.h.slice(0,12),"big"):utils.split32(this.h.slice(0,12),"big")},utils.inherits(SHA1,BlockHash),exports.sha1=SHA1,SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function(t,h){for(var s=this.W,i=0;16>i;i++)s[i]=t[h+i];for(;i<s.length;i++)s[i]=rotl32(s[i-3]^s[i-8]^s[i-14]^s[i-16],1);for(var r=this.h[0],o=this.h[1],u=this.h[2],n=this.h[3],_=this.h[4],i=0;i<s.length;i++){var e=~~(i/20),l=sum32_5(rotl32(r,5),ft_1(e,o,u,n),_,s[i],sha1_K[e]);_=n,n=u,u=rotl32(o,30),o=r,r=l}this.h[0]=sum32(this.h[0],r),this.h[1]=sum32(this.h[1],o),this.h[2]=sum32(this.h[2],u),this.h[3]=sum32(this.h[3],n),this.h[4]=sum32(this.h[4],_)},SHA1.prototype._digest=function(t){return"hex"===t?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")};
},{"../hash":86}],91:[function(require,module,exports){
function toArray(r,t){if(Array.isArray(r))return r.slice();if(!r)return[];var n=[];if("string"==typeof r)if(t){if("hex"===t){r=r.replace(/[^a-z0-9]+/gi,""),r.length%2!==0&&(r="0"+r);for(var u=0;u<r.length;u+=2)n.push(parseInt(r[u]+r[u+1],16))}}else for(var u=0;u<r.length;u++){var o=r.charCodeAt(u),e=o>>8,s=255&o;e?n.push(e,s):n.push(s)}else for(var u=0;u<r.length;u++)n[u]=0|r[u];return n}function toHex(r){for(var t="",n=0;n<r.length;n++)t+=zero2(r[n].toString(16));return t}function htonl(r){var t=r>>>24|r>>>8&65280|r<<8&16711680|(255&r)<<24;return t>>>0}function toHex32(r,t){for(var n="",u=0;u<r.length;u++){var o=r[u];"little"===t&&(o=htonl(o)),n+=zero8(o.toString(16))}return n}function zero2(r){return 1===r.length?"0"+r:r}function zero8(r){return 7===r.length?"0"+r:6===r.length?"00"+r:5===r.length?"000"+r:4===r.length?"0000"+r:3===r.length?"00000"+r:2===r.length?"000000"+r:1===r.length?"0000000"+r:r}function join32(r,t,n,u){var o=n-t;assert(o%4===0);for(var e=new Array(o/4),s=0,i=t;s<e.length;s++,i+=4){var l;l="big"===u?r[i]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3]:r[i+3]<<24|r[i+2]<<16|r[i+1]<<8|r[i],e[s]=l>>>0}return e}function split32(r,t){for(var n=new Array(4*r.length),u=0,o=0;u<r.length;u++,o+=4){var e=r[u];"big"===t?(n[o]=e>>>24,n[o+1]=e>>>16&255,n[o+2]=e>>>8&255,n[o+3]=255&e):(n[o+3]=e>>>24,n[o+2]=e>>>16&255,n[o+1]=e>>>8&255,n[o]=255&e)}return n}function rotr32(r,t){return r>>>t|r<<32-t}function rotl32(r,t){return r<<t|r>>>32-t}function sum32(r,t){return r+t>>>0}function sum32_3(r,t,n){return r+t+n>>>0}function sum32_4(r,t,n,u){return r+t+n+u>>>0}function sum32_5(r,t,n,u,o){return r+t+n+u+o>>>0}function assert(r,t){if(!r)throw new Error(t||"Assertion failed")}function sum64(r,t,n,u){var o=r[t],e=r[t+1],s=u+e>>>0,i=(u>s?1:0)+n+o;r[t]=i>>>0,r[t+1]=s}function sum64_hi(r,t,n,u){var o=t+u>>>0,e=(t>o?1:0)+r+n;return e>>>0}function sum64_lo(r,t,n,u){var o=t+u;return o>>>0}function sum64_4_hi(r,t,n,u,o,e,s,i){var l=0,h=t;h=h+u>>>0,l+=t>h?1:0,h=h+e>>>0,l+=e>h?1:0,h=h+i>>>0,l+=i>h?1:0;var _=r+n+o+s+l;return _>>>0}function sum64_4_lo(r,t,n,u,o,e,s,i){var l=t+u+e+i;return l>>>0}function sum64_5_hi(r,t,n,u,o,e,s,i,l,h){var _=0,a=t;a=a+u>>>0,_+=t>a?1:0,a=a+e>>>0,_+=e>a?1:0,a=a+i>>>0,_+=i>a?1:0,a=a+h>>>0,_+=h>a?1:0;var f=r+n+o+s+l+_;return f>>>0}function sum64_5_lo(r,t,n,u,o,e,s,i,l,h){var _=t+u+e+i+h;return _>>>0}function rotr64_hi(r,t,n){var u=t<<32-n|r>>>n;return u>>>0}function rotr64_lo(r,t,n){var u=r<<32-n|t>>>n;return u>>>0}function shr64_hi(r,t,n){return r>>>n}function shr64_lo(r,t,n){var u=r<<32-n|t>>>n;return u>>>0}var utils=exports,inherits=require("inherits");utils.toArray=toArray,utils.toHex=toHex,utils.htonl=htonl,utils.toHex32=toHex32,utils.zero2=zero2,utils.zero8=zero8,utils.join32=join32,utils.split32=split32,utils.rotr32=rotr32,utils.rotl32=rotl32,utils.sum32=sum32,utils.sum32_3=sum32_3,utils.sum32_4=sum32_4,utils.sum32_5=sum32_5,utils.assert=assert,utils.inherits=inherits,exports.sum64=sum64,exports.sum64_hi=sum64_hi,exports.sum64_lo=sum64_lo,exports.sum64_4_hi=sum64_4_hi,exports.sum64_4_lo=sum64_4_lo,exports.sum64_5_hi=sum64_5_hi,exports.sum64_5_lo=sum64_5_lo,exports.rotr64_hi=rotr64_hi,exports.rotr64_lo=rotr64_lo,exports.shr64_hi=shr64_hi,exports.shr64_lo=shr64_lo;
},{"inherits":98}],92:[function(require,module,exports){
var http=module.exports,EventEmitter=require("events").EventEmitter,Request=require("./lib/request"),url=require("url");http.request=function(e,t){"string"==typeof e&&(e=url.parse(e)),e||(e={}),e.host||e.port||(e.port=parseInt(window.location.port,10)),!e.host&&e.hostname&&(e.host=e.hostname),e.protocol||(e.scheme?e.protocol=e.scheme+":":e.protocol=window.location.protocol),e.host||(e.host=window.location.hostname||window.location.host),/:/.test(e.host)&&(e.port||(e.port=e.host.split(":")[1]),e.host=e.host.split(":")[0]),e.port||(e.port="https:"==e.protocol?443:80);var o=new Request(new xhrHttp,e);return t&&o.on("response",t),o},http.get=function(e,t){e.method="GET";var o=http.request(e,t);return o.end(),o},http.Agent=function(){},http.Agent.defaultMaxSockets=4;var xhrHttp=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{var o=new window.ActiveXObject(e[t]);return function(){if(o){var r=o;return o=null,r}return new window.ActiveXObject(e[t])}}catch(r){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();http.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};
},{"./lib/request":93,"events":84,"url":592}],93:[function(require,module,exports){
var Stream=require("stream"),Response=require("./response"),Base64=require("Base64"),inherits=require("inherits"),Request=module.exports=function(e,t){var r=this;r.writable=!0,r.xhr=e,r.body=[],r.uri=(t.protocol||"http:")+"//"+t.host+(t.port?":"+t.port:"")+(t.path||"/"),"undefined"==typeof t.withCredentials&&(t.withCredentials=!0);try{e.withCredentials=t.withCredentials}catch(o){}if(t.responseType)try{e.responseType=t.responseType}catch(o){}if(e.open(t.method||"GET",r.uri,!0),e.onerror=function(e){r.emit("error",new Error("Network error"))},r._headers={},t.headers)for(var s=objectKeys(t.headers),i=0;i<s.length;i++){var n=s[i];if(r.isSafeRequestHeader(n)){var a=t.headers[n];r.setHeader(n,a)}}t.auth&&this.setHeader("Authorization","Basic "+Base64.btoa(t.auth));var h=new Response;h.on("close",function(){r.emit("close")}),h.on("ready",function(){r.emit("response",h)}),h.on("error",function(e){r.emit("error",e)}),e.onreadystatechange=function(){e.__aborted||h.handle(e)}};inherits(Request,Stream),Request.prototype.setHeader=function(e,t){this._headers[e.toLowerCase()]=t},Request.prototype.getHeader=function(e){return this._headers[e.toLowerCase()]},Request.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},Request.prototype.write=function(e){this.body.push(e)},Request.prototype.destroy=function(e){this.xhr.__aborted=!0,this.xhr.abort(),this.emit("close")},Request.prototype.end=function(e){void 0!==e&&this.body.push(e);for(var t=objectKeys(this._headers),r=0;r<t.length;r++){var o=t[r],s=this._headers[o];if(isArray(s))for(var i=0;i<s.length;i++)this.xhr.setRequestHeader(o,s[i]);else this.xhr.setRequestHeader(o,s)}if(0===this.body.length)this.xhr.send("");else if("string"==typeof this.body[0])this.xhr.send(this.body.join(""));else if(isArray(this.body[0])){for(var n=[],r=0;r<this.body.length;r++)n.push.apply(n,this.body[r]);this.xhr.send(n)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(var a=0,r=0;r<this.body.length;r++)a+=this.body[r].length;for(var n=new this.body[0].constructor(a),h=0,r=0;r<this.body.length;r++)for(var d=this.body[r],i=0;i<d.length;i++)n[h++]=d[i];this.xhr.send(n)}else if(isXHR2Compatible(this.body[0]))this.xhr.send(this.body[0]);else{for(var n="",r=0;r<this.body.length;r++)n+=this.body[r].toString();this.xhr.send(n)}},Request.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],Request.prototype.isSafeRequestHeader=function(e){return e?-1===indexOf(Request.unsafeHeaders,e.toLowerCase()):!1};var objectKeys=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1},isXHR2Compatible=function(e){return"undefined"!=typeof Blob&&e instanceof Blob?!0:"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?!0:"undefined"!=typeof FormData&&e instanceof FormData?!0:void 0};
},{"./response":94,"Base64":1,"inherits":98,"stream":573}],94:[function(require,module,exports){
function parseHeaders(e){for(var t=e.getAllResponseHeaders().split(/\r?\n/),s={},r=0;r<t.length;r++){var a=t[r];if(""!==a){var i=a.match(/^([^:]+):\s*(.*)/);if(i){var o=i[1].toLowerCase(),n=i[2];void 0!==s[o]?isArray(s[o])?s[o].push(n):s[o]=[s[o],n]:s[o]=n}else s[a]=!0}}return s}var Stream=require("stream"),util=require("util"),Response=module.exports=function(e){this.offset=0,this.readable=!0};util.inherits(Response,Stream);var capable={streaming:!0,status2:!0};Response.prototype.getResponse=function(e){var t=String(e.responseType).toLowerCase();return"blob"===t?e.responseBlob||e.response:"arraybuffer"===t?e.response:e.responseText},Response.prototype.getHeader=function(e){return this.headers[e.toLowerCase()]},Response.prototype.handle=function(e){if(2===e.readyState&&capable.status2){try{this.statusCode=e.status,this.headers=parseHeaders(e)}catch(t){capable.status2=!1}capable.status2&&this.emit("ready")}else if(capable.streaming&&3===e.readyState){try{this.statusCode||(this.statusCode=e.status,this.headers=parseHeaders(e),this.emit("ready"))}catch(t){}try{this._emitData(e)}catch(t){capable.streaming=!1}}else 4===e.readyState&&(this.statusCode||(this.statusCode=e.status,this.emit("ready")),this._emitData(e),e.error?this.emit("error",this.getResponse(e)):this.emit("end"),this.emit("close"))},Response.prototype._emitData=function(e){var t=this.getResponse(e);return t.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(t,this.offset)),void(this.offset=t.byteLength)):void(t.length>this.offset&&(this.emit("data",t.slice(this.offset)),this.offset=t.length))};var isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};
},{"stream":573,"util":594}],95:[function(require,module,exports){
var http=require("http"),https=module.exports;for(var key in http)http.hasOwnProperty(key)&&(https[key]=http[key]);https.request=function(t,e){return t||(t={}),t.scheme="https",t.protocol="https:",http.request.call(this,t,e)};
},{"http":92}],96:[function(require,module,exports){
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:(s?-1:1)*(1/0);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=0>o||0===o&&0>1/o?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),o+=p+N>=1?n/f:n*Math.pow(2,1-N),o*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],97:[function(require,module,exports){
var indexOf=[].indexOf;module.exports=function(e,n){if(indexOf)return e.indexOf(n);for(var r=0;r<e.length;++r)if(e[r]===n)return r;return-1};
},{}],98:[function(require,module,exports){
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],99:[function(require,module,exports){
module.exports=function(r){return!(null==r||!(r._isBuffer||r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)))};
},{}],100:[function(require,module,exports){
module.exports=Array.isArray||function(r){return"[object Array]"==Object.prototype.toString.call(r)};
},{}],101:[function(require,module,exports){
(function (global){
(function(){function n(n,t){if(n!==t){var r=null===n,e=n===b,u=n===n,i=null===t,o=t===b,f=t===t;if(n>t&&!i||!u||r&&!o&&f||e&&f)return 1;if(t>n&&!r||!f||i&&!e&&u||o&&u)return-1}return 0}function t(n,t,r){for(var e=n.length,u=r?e:-1;r?u--:++u<e;)if(t(n[u],u,n))return u;return-1}function r(n,t,r){if(t!==t)return h(n,r);for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function e(n){return"function"==typeof n||!1}function u(n){return null==n?"":n+""}function i(n,t){for(var r=-1,e=n.length;++r<e&&t.indexOf(n.charAt(r))>-1;);return r}function o(n,t){for(var r=n.length;r--&&t.indexOf(n.charAt(r))>-1;);return r}function f(t,r){return n(t.criteria,r.criteria)||t.index-r.index}function a(t,r,e){for(var u=-1,i=t.criteria,o=r.criteria,f=i.length,a=e.length;++u<f;){var c=n(i[u],o[u]);if(c){if(u>=a)return c;var l=e[u];return c*("asc"===l||l===!0?1:-1)}}return t.index-r.index}function c(n){return qn[n]}function l(n){return Mn[n]}function s(n,t,r){return t?n=Vn[n]:r&&(n=Yn[n]),"\\"+n}function p(n){return"\\"+Yn[n]}function h(n,t,r){for(var e=n.length,u=t+(r?0:-1);r?u--:++u<e;){var i=n[u];if(i!==i)return u}return-1}function v(n){return!!n&&"object"==typeof n}function _(n){return 160>=n&&n>=9&&13>=n||32==n||160==n||5760==n||6158==n||n>=8192&&(8202>=n||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n)}function g(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;)n[r]===t&&(n[r]=D,i[++u]=r);return i}function y(n,t){for(var r,e=-1,u=n.length,i=-1,o=[];++e<u;){var f=n[e],a=t?t(f,e,n):f;e&&r===a||(r=a,o[++i]=f)}return o}function d(n){for(var t=-1,r=n.length;++t<r&&_(n.charCodeAt(t)););return t}function m(n){for(var t=n.length;t--&&_(n.charCodeAt(t)););return t}function w(n){return Pn[n]}function x(_){function G(n){if(v(n)&&!Cf(n)&&!(n instanceof qn)){if(n instanceof nn)return n;if(no.call(n,"__chain__")&&no.call(n,"__wrapped__"))return he(n)}return new nn(n)}function H(){}function nn(n,t,r){this.__wrapped__=n,this.__actions__=r||[],this.__chain__=!!t}function qn(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oo,this.__views__=[]}function Mn(){var n=new qn(this.__wrapped__);return n.__actions__=et(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=et(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=et(this.__views__),n}function Pn(){if(this.__filtered__){var n=new qn(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Kn(){var n=this.__wrapped__.value(),t=this.__dir__,r=Cf(n),e=0>t,u=r?n.length:0,i=Vr(0,u,this.__views__),o=i.start,f=i.end,a=f-o,c=e?f:o-1,l=this.__iteratees__,s=l.length,p=0,h=Ao(a,this.__takeCount__);if(!r||T>u||u==a&&h==a)return er(e&&r?n.reverse():n,this.__actions__);var v=[];n:for(;a--&&h>p;){c+=t;for(var _=-1,g=n[c];++_<s;){var y=l[_],d=y.iteratee,m=y.type,w=d(g);if(m==B)g=w;else if(!w){if(m==L)continue n;break n}}v[p++]=g}return v}function Vn(){this.__data__={}}function Yn(n){return this.has(n)&&delete this.__data__[n]}function Gn(n){return"__proto__"==n?b:this.__data__[n]}function Jn(n){return"__proto__"!=n&&no.call(this.__data__,n)}function Xn(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this}function Zn(n){var t=n?n.length:0;for(this.data={hash:go(null),set:new lo};t--;)this.push(n[t])}function Hn(n,t){var r=n.data,e="string"==typeof t||Wu(t)?r.set.has(t):r.hash[t];return e?0:-1}function Qn(n){var t=this.data;"string"==typeof n||Wu(n)?t.set.add(n):t.hash[n]=!0}function rt(n,t){for(var r=-1,e=n.length,u=-1,i=t.length,o=zi(e+i);++r<e;)o[r]=n[r];for(;++u<i;)o[r++]=t[u];return o}function et(n,t){var r=-1,e=n.length;for(t||(t=zi(e));++r<e;)t[r]=n[r];return t}function ut(n,t){for(var r=-1,e=n.length;++r<e&&t(n[r],r,n)!==!1;);return n}function it(n,t){for(var r=n.length;r--&&t(n[r],r,n)!==!1;);return n}function ot(n,t){for(var r=-1,e=n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function ft(n,t,r,e){for(var u=-1,i=n.length,o=e,f=o;++u<i;){var a=n[u],c=+t(a);r(c,o)&&(o=c,f=a)}return f}function at(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[++u]=o)}return i}function ct(n,t){for(var r=-1,e=n.length,u=zi(e);++r<e;)u[r]=t(n[r],r,n);return u}function lt(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function st(n,t,r,e){var u=-1,i=n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function pt(n,t,r,e){var u=n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function ht(n,t){for(var r=-1,e=n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function vt(n,t){for(var r=n.length,e=0;r--;)e+=+t(n[r])||0;return e}function _t(n,t){return n===b?t:n}function gt(n,t,r,e){return n!==b&&no.call(e,r)?n:t}function yt(n,t,r){for(var e=-1,u=Df(t),i=u.length;++e<i;){var o=u[e],f=n[o],a=r(f,t[o],o,n,t);(a===a?a===f:f!==f)&&(f!==b||o in n)||(n[o]=a)}return n}function dt(n,t){return null==t?n:wt(t,Df(t),n)}function mt(n,t){for(var r=-1,e=null==n,u=!e&&Zr(n),i=u?n.length:0,o=t.length,f=zi(o);++r<o;){var a=t[r];u?f[r]=Hr(a,i)?n[a]:b:f[r]=e?b:n[a]}return f}function wt(n,t,r){r||(r={});for(var e=-1,u=t.length;++e<u;){var i=t[e];r[i]=n[i]}return r}function xt(n,t,r){var e=typeof n;return"function"==e?t===b?n:or(n,t,r):null==n?Ri:"object"==e?zt(n):t===b?Si(n):Dt(n,t)}function bt(n,t,r,e,u,i,o){var f;if(r&&(f=u?r(n,e,u):r(n)),f!==b)return f;if(!Wu(n))return n;var a=Cf(n);if(a){if(f=Yr(n),!t)return et(n,f)}else{var c=ro.call(n),l=c==Y;if(c!=X&&c!=q&&(!l||u))return Dn[c]?Jr(n,c,t):u?n:{};if(f=Gr(l?{}:n),!t)return dt(f,n)}i||(i=[]),o||(o=[]);for(var s=i.length;s--;)if(i[s]==n)return o[s];return i.push(n),o.push(f),(a?ut:$t)(n,function(e,u){f[u]=bt(e,t,r,u,n,i,o)}),f}function At(n,t,r){if("function"!=typeof n)throw new Ji(z);return so(function(){n.apply(b,r)},t)}function jt(n,t){var e=n?n.length:0,u=[];if(!e)return u;var i=-1,o=Mr(),f=o==r,a=f&&t.length>=T?_r(t):null,c=t.length;a&&(o=Hn,f=!1,t=a);n:for(;++i<e;){var l=n[i];if(f&&l===l){for(var s=c;s--;)if(t[s]===l)continue n;u.push(l)}else o(t,l,0)<0&&u.push(l)}return u}function kt(n,t){var r=!0;return No(n,function(n,e,u){return r=!!t(n,e,u)}),r}function It(n,t,r,e){var u=e,i=u;return No(n,function(n,o,f){var a=+t(n,o,f);(r(a,u)||a===e&&a===i)&&(u=a,i=n)}),i}function Rt(n,t,r,e){var u=n.length;for(r=null==r?0:+r||0,0>r&&(r=-r>u?0:u+r),e=e===b||e>u?u:+e||0,0>e&&(e+=u),u=r>e?0:e>>>0,r>>>=0;u>r;)n[r++]=t;return n}function Ot(n,t){var r=[];return No(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function Et(n,t,r,e){var u;return r(n,function(n,r,i){return t(n,r,i)?(u=e?r:n,!1):void 0}),u}function Ct(n,t,r,e){e||(e=[]);for(var u=-1,i=n.length;++u<i;){var o=n[u];v(o)&&Zr(o)&&(r||Cf(o)||ku(o))?t?Ct(o,t,r,e):lt(e,o):r||(e[e.length]=o)}return e}function Ut(n,t){return Lo(n,t,ni)}function $t(n,t){return Lo(n,t,Df)}function St(n,t){return Bo(n,t,Df)}function Wt(n,t){for(var r=-1,e=t.length,u=-1,i=[];++r<e;){var o=t[r];Su(n[o])&&(i[++u]=o)}return i}function Ft(n,t,r){if(null!=n){r!==b&&r in se(n)&&(t=[r]);for(var e=0,u=t.length;null!=n&&u>e;)n=n[t[e++]];return e&&e==u?n:b}}function Nt(n,t,r,e,u,i){return n===t?!0:null==n||null==t||!Wu(n)&&!v(t)?n!==n&&t!==t:Tt(n,t,Nt,r,e,u,i)}function Tt(n,t,r,e,u,i,o){var f=Cf(n),a=Cf(t),c=M,l=M;f||(c=ro.call(n),c==q?c=X:c!=X&&(f=Mu(n))),a||(l=ro.call(t),l==q?l=X:l!=X&&(a=Mu(t)));var s=c==X,p=l==X,h=c==l;if(h&&!f&&!s)return Br(n,t,c);if(!u){var v=s&&no.call(n,"__wrapped__"),_=p&&no.call(t,"__wrapped__");if(v||_)return r(v?n.value():n,_?t.value():t,e,u,i,o)}if(!h)return!1;i||(i=[]),o||(o=[]);for(var g=i.length;g--;)if(i[g]==n)return o[g]==t;i.push(n),o.push(t);var y=(f?Lr:zr)(n,t,r,e,u,i,o);return i.pop(),o.pop(),y}function Lt(n,t,r){var e=t.length,u=e,i=!r;if(null==n)return!u;for(n=se(n);e--;){var o=t[e];if(i&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++e<u;){o=t[e];var f=o[0],a=n[f],c=o[1];if(i&&o[2]){if(a===b&&!(f in n))return!1}else{var l=r?r(a,c,f):b;if(!(l===b?Nt(c,a,r,!0):l))return!1}}return!0}function Bt(n,t){var r=-1,e=Zr(n)?zi(n.length):[];return No(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function zt(n){var t=Pr(n);if(1==t.length&&t[0][2]){var r=t[0][0],e=t[0][1];return function(n){return null==n?!1:n[r]===e&&(e!==b||r in se(n))}}return function(n){return Lt(n,t)}}function Dt(n,t){var r=Cf(n),e=ne(n)&&ee(t),u=n+"";return n=pe(n),function(i){if(null==i)return!1;var o=u;if(i=se(i),(r||!e)&&!(o in i)){if(i=1==n.length?i:Ft(i,Jt(n,0,-1)),null==i)return!1;o=Ie(n),i=se(i)}return i[o]===t?t!==b||o in i:Nt(t,i[o],b,!0)}}function qt(n,t,r,e,u){if(!Wu(n))return n;var i=Zr(t)&&(Cf(t)||Mu(t)),o=i?b:Df(t);return ut(o||t,function(f,a){if(o&&(a=f,f=t[a]),v(f))e||(e=[]),u||(u=[]),Mt(n,t,a,qt,r,e,u);else{var c=n[a],l=r?r(c,f,a,n,t):b,s=l===b;s&&(l=f),l===b&&(!i||a in n)||!s&&(l===l?l===c:c!==c)||(n[a]=l)}}),n}function Mt(n,t,r,e,u,i,o){for(var f=i.length,a=t[r];f--;)if(i[f]==a)return void(n[r]=o[f]);var c=n[r],l=u?u(c,a,r,n,t):b,s=l===b;s&&(l=a,Zr(a)&&(Cf(a)||Mu(a))?l=Cf(c)?c:Zr(c)?et(c):[]:zu(a)||ku(a)?l=ku(c)?Gu(c):zu(c)?c:{}:s=!1),i.push(a),o.push(l),s?n[r]=e(l,a,u,i,o):(l===l?l!==c:c===c)&&(n[r]=l)}function Pt(n){return function(t){return null==t?b:t[n]}}function Kt(n){var t=n+"";return n=pe(n),function(r){return Ft(r,n,t)}}function Vt(n,t){for(var r=n?t.length:0;r--;){var e=t[r];if(e!=u&&Hr(e)){var u=e;po.call(n,e,1)}}return n}function Yt(n,t){return n+yo(Io()*(t-n+1))}function Gt(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function Jt(n,t,r){var e=-1,u=n.length;t=null==t?0:+t||0,0>t&&(t=-t>u?0:u+t),r=r===b||r>u?u:+r||0,0>r&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=zi(u);++e<u;)i[e]=n[e+t];return i}function Xt(n,t){var r;return No(n,function(n,e,u){return r=t(n,e,u),!r}),!!r}function Zt(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function Ht(n,t,r){var e=Dr(),u=-1;t=ct(t,function(n){return e(n)});var i=Bt(n,function(n){var r=ct(t,function(t){return t(n)});return{criteria:r,index:++u,value:n}});return Zt(i,function(n,t){return a(n,t,r)})}function Qt(n,t){var r=0;return No(n,function(n,e,u){r+=+t(n,e,u)||0}),r}function nr(n,t){var e=-1,u=Mr(),i=n.length,o=u==r,f=o&&i>=T,a=f?_r():null,c=[];a?(u=Hn,o=!1):(f=!1,a=t?[]:c);n:for(;++e<i;){var l=n[e],s=t?t(l,e,n):l;if(o&&l===l){for(var p=a.length;p--;)if(a[p]===s)continue n;t&&a.push(s),c.push(l)}else u(a,s,0)<0&&((t||f)&&a.push(s),c.push(l))}return c}function tr(n,t){for(var r=-1,e=t.length,u=zi(e);++r<e;)u[r]=n[t[r]];return u}function rr(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?Jt(n,e?0:i,e?i+1:u):Jt(n,e?i+1:0,e?u:i)}function er(n,t){var r=n;r instanceof qn&&(r=r.value());for(var e=-1,u=t.length;++e<u;){var i=t[e];r=i.func.apply(i.thisArg,lt([r],i.args))}return r}function ur(n,t,r){var e=0,u=n?n.length:e;if("number"==typeof t&&t===t&&Uo>=u){for(;u>e;){var i=e+u>>>1,o=n[i];(r?t>=o:t>o)&&null!==o?e=i+1:u=i}return u}return ir(n,t,Ri,r)}function ir(n,t,r,e){t=r(t);for(var u=0,i=n?n.length:0,o=t!==t,f=null===t,a=t===b;i>u;){var c=yo((u+i)/2),l=r(n[c]),s=l!==b,p=l===l;if(o)var h=p||e;else h=f?p&&s&&(e||null!=l):a?p&&(e||s):null==l?!1:e?t>=l:t>l;h?u=c+1:i=c}return Ao(i,Co)}function or(n,t,r){if("function"!=typeof n)return Ri;if(t===b)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)};case 5:return function(r,e,u,i,o){return n.call(t,r,e,u,i,o)}}return function(){return n.apply(t,arguments)}}function fr(n){var t=new io(n.byteLength),r=new ho(t);return r.set(new ho(n)),t}function ar(n,t,r){for(var e=r.length,u=-1,i=bo(n.length-e,0),o=-1,f=t.length,a=zi(f+i);++o<f;)a[o]=t[o];for(;++u<e;)a[r[u]]=n[u];for(;i--;)a[o++]=n[u++];return a}function cr(n,t,r){for(var e=-1,u=r.length,i=-1,o=bo(n.length-u,0),f=-1,a=t.length,c=zi(o+a);++i<o;)c[i]=n[i];for(var l=i;++f<a;)c[l+f]=t[f];for(;++e<u;)c[l+r[e]]=n[i++];return c}function lr(n,t){return function(r,e,u){var i=t?t():{};if(e=Dr(e,u,3),Cf(r))for(var o=-1,f=r.length;++o<f;){var a=r[o];n(i,a,e(a,o,r),r)}else No(r,function(t,r,u){n(i,t,e(t,r,u),u)});return i}}function sr(n){return yu(function(t,r){var e=-1,u=null==t?0:r.length,i=u>2?r[u-2]:b,o=u>2?r[2]:b,f=u>1?r[u-1]:b;for("function"==typeof i?(i=or(i,f,5),u-=2):(i="function"==typeof f?f:b,u-=i?1:0),o&&Qr(r[0],r[1],o)&&(i=3>u?b:i,u=1);++e<u;){var a=r[e];a&&n(t,a,i)}return t})}function pr(n,t){return function(r,e){var u=r?qo(r):0;if(!re(u))return n(r,e);for(var i=t?u:-1,o=se(r);(t?i--:++i<u)&&e(o[i],i,o)!==!1;);return r}}function hr(n){return function(t,r,e){for(var u=se(t),i=e(t),o=i.length,f=n?o:-1;n?f--:++f<o;){var a=i[f];if(r(u[a],a,u)===!1)break}return t}}function vr(n,t){function r(){var u=this&&this!==nt&&this instanceof r?e:n;return u.apply(t,arguments)}var e=yr(n);return r}function _r(n){return go&&lo?new Zn(n):null}function gr(n){return function(t){for(var r=-1,e=ji(li(t)),u=e.length,i="";++r<u;)i=n(i,e[r],r);return i}}function yr(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Fo(n.prototype),e=n.apply(r,t);return Wu(e)?e:r}}function dr(n){function t(r,e,u){u&&Qr(r,e,u)&&(e=b);var i=Tr(r,n,b,b,b,b,b,e);return i.placeholder=t.placeholder,i}return t}function mr(n,t){return yu(function(r){var e=r[0];return null==e?e:(r.push(t),n.apply(b,r))})}function wr(n,t){return function(r,e,u){if(u&&Qr(r,e,u)&&(e=b),e=Dr(e,u,3),1==e.length){r=Cf(r)?r:le(r);var i=ft(r,e,n,t);if(!r.length||i!==t)return i}return It(r,e,n,t)}}function xr(n,r){return function(e,u,i){if(u=Dr(u,i,3),Cf(e)){var o=t(e,u,r);return o>-1?e[o]:b}return Et(e,u,n)}}function br(n){return function(r,e,u){return r&&r.length?(e=Dr(e,u,3),t(r,e,n)):-1}}function Ar(n){return function(t,r,e){return r=Dr(r,e,3),Et(t,r,n,!0)}}function jr(n){return function(){for(var t,r=arguments.length,e=n?r:-1,u=0,i=zi(r);n?e--:++e<r;){var o=i[u++]=arguments[e];if("function"!=typeof o)throw new Ji(z);!t&&nn.prototype.thru&&"wrapper"==qr(o)&&(t=new nn([],!0))}for(e=t?-1:r;++e<r;){o=i[e];var f=qr(o),a="wrapper"==f?Do(o):b;t=a&&te(a[0])&&a[1]==(U|R|E|$)&&!a[4].length&&1==a[9]?t[qr(a[0])].apply(t,a[3]):1==o.length&&te(o)?t[f]():t.thru(o)}return function(){var n=arguments,e=n[0];if(t&&1==n.length&&Cf(e)&&e.length>=T)return t.plant(e).value();for(var u=0,o=r?i[u].apply(this,n):e;++u<r;)o=i[u].call(this,o);return o}}}function kr(n,t){return function(r,e,u){return"function"==typeof e&&u===b&&Cf(r)?n(r,e):t(r,or(e,u,3))}}function Ir(n){return function(t,r,e){return("function"!=typeof r||e!==b)&&(r=or(r,e,3)),n(t,r,ni)}}function Rr(n){return function(t,r,e){return("function"!=typeof r||e!==b)&&(r=or(r,e,3)),n(t,r)}}function Or(n){return function(t,r,e){var u={};return r=Dr(r,e,3),$t(t,function(t,e,i){var o=r(t,e,i);e=n?o:e,t=n?t:o,u[e]=t}),u}}function Er(n){return function(t,r,e){return t=u(t),(n?t:"")+Sr(t,r,e)+(n?"":t)}}function Cr(n){var t=yu(function(r,e){var u=g(e,t.placeholder);return Tr(r,n,b,e,u)});return t}function Ur(n,t){return function(r,e,u,i){var o=arguments.length<3;return"function"==typeof e&&i===b&&Cf(r)?n(r,e,u,o):Gt(r,Dr(e,i,4),u,o,t)}}function $r(n,t,r,e,u,i,o,f,a,c){function l(){for(var m=arguments.length,w=m,x=zi(m);w--;)x[w]=arguments[w];if(e&&(x=ar(x,e,u)),i&&(x=cr(x,i,o)),v||y){var A=l.placeholder,I=g(x,A);if(m-=I.length,c>m){var R=f?et(f):b,O=bo(c-m,0),U=v?I:b,$=v?b:I,S=v?x:b,W=v?b:x;t|=v?E:C,t&=~(v?C:E),_||(t&=~(j|k));var F=[n,t,r,S,U,W,$,R,a,O],N=$r.apply(b,F);return te(n)&&Mo(N,F),N.placeholder=A,N}}var T=p?r:this,L=h?T[n]:n;return f&&(x=ae(x,f)),s&&a<x.length&&(x.length=a),this&&this!==nt&&this instanceof l&&(L=d||yr(n)),L.apply(T,x)}var s=t&U,p=t&j,h=t&k,v=t&R,_=t&I,y=t&O,d=h?b:yr(n);return l}function Sr(n,t,r){var e=n.length;if(t=+t,e>=t||!wo(t))return"";var u=t-e;return r=null==r?" ":r+"",gi(r,_o(u/r.length)).slice(0,u)}function Wr(n,t,r,e){function u(){for(var t=-1,f=arguments.length,a=-1,c=e.length,l=zi(c+f);++a<c;)l[a]=e[a];for(;f--;)l[a++]=arguments[++t];var s=this&&this!==nt&&this instanceof u?o:n;return s.apply(i?r:this,l)}var i=t&j,o=yr(n);return u}function Fr(n){var t=Pi[n];return function(n,r){return r=r===b?0:+r||0,r?(r=ao(10,r),t(n*r)/r):t(n)}}function Nr(n){return function(t,r,e,u){var i=Dr(e);return null==e&&i===xt?ur(t,r,n):ir(t,r,i(e,u,1),n)}}function Tr(n,t,r,e,u,i,o,f){var a=t&k;if(!a&&"function"!=typeof n)throw new Ji(z);var c=e?e.length:0;if(c||(t&=~(E|C),e=u=b),c-=u?u.length:0,t&C){var l=e,s=u;e=u=b}var p=a?b:Do(n),h=[n,t,r,e,u,l,s,i,o,f];if(p&&(ue(h,p),t=h[1],f=h[9]),h[9]=null==f?a?0:n.length:bo(f-c,0)||0,t==j)var v=vr(h[0],h[2]);else v=t!=E&&t!=(j|E)||h[4].length?$r.apply(b,h):Wr.apply(b,h);var _=p?zo:Mo;return _(v,h)}function Lr(n,t,r,e,u,i,o){var f=-1,a=n.length,c=t.length;if(a!=c&&!(u&&c>a))return!1;for(;++f<a;){var l=n[f],s=t[f],p=e?e(u?s:l,u?l:s,f):b;if(p!==b){if(p)continue;return!1}if(u){if(!ht(t,function(n){return l===n||r(l,n,e,u,i,o)}))return!1}else if(l!==s&&!r(l,s,e,u,i,o))return!1}return!0}function Br(n,t,r){switch(r){case P:case K:return+n==+t;case V:return n.name==t.name&&n.message==t.message;case J:return n!=+n?t!=+t:n==+t;case Z:case Q:return n==t+""}return!1}function zr(n,t,r,e,u,i,o){var f=Df(n),a=f.length,c=Df(t),l=c.length;if(a!=l&&!u)return!1;for(var s=a;s--;){var p=f[s];if(!(u?p in t:no.call(t,p)))return!1}for(var h=u;++s<a;){p=f[s];var v=n[p],_=t[p],g=e?e(u?_:v,u?v:_,p):b;if(!(g===b?r(v,_,e,u,i,o):g))return!1;h||(h="constructor"==p)}if(!h){var y=n.constructor,d=t.constructor;if(y!=d&&"constructor"in n&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof d&&d instanceof d))return!1}return!0}function Dr(n,t,r){var e=G.callback||ki;return e=e===ki?xt:e,r?e(n,t,r):e}function qr(n){for(var t=n.name,r=Wo[t],e=r?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function Mr(n,t,e){var u=G.indexOf||je;return u=u===je?r:u,n?u(n,t,e):u}function Pr(n){for(var t=ti(n),r=t.length;r--;)t[r][2]=ee(t[r][1]);return t}function Kr(n,t){var r=null==n?b:n[t];return Tu(r)?r:b}function Vr(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=Ao(t,n+o);break;case"takeRight":n=bo(n,t-o)}}return{start:n,end:t}}function Yr(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&no.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Gr(n){var t=n.constructor;return"function"==typeof t&&t instanceof t||(t=Vi),new t}function Jr(n,t,r){var e=n.constructor;switch(t){case tn:return fr(n);case P:case K:return new e(+n);case rn:case en:case un:case on:case fn:case an:case cn:case ln:case sn:var u=n.buffer;return new e(r?fr(u):u,n.byteOffset,n.length);case J:case Q:return new e(n);case Z:var i=new e(n.source,Cn.exec(n));i.lastIndex=n.lastIndex}return i}function Xr(n,t,r){null==n||ne(t,n)||(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),t=Ie(t));var e=null==n?n:n[t];return null==e?b:e.apply(n,r)}function Zr(n){return null!=n&&re(qo(n))}function Hr(n,t){return n="number"==typeof n||Sn.test(n)?+n:-1,t=null==t?$o:t,n>-1&&n%1==0&&t>n}function Qr(n,t,r){if(!Wu(r))return!1;var e=typeof t;if("number"==e?Zr(r)&&Hr(t,r.length):"string"==e&&t in r){var u=r[t];return n===n?n===u:u!==u}return!1}function ne(n,t){var r=typeof n;if("string"==r&&An.test(n)||"number"==r)return!0;if(Cf(n))return!1;var e=!bn.test(n);return e||null!=t&&n in se(t)}function te(n){var t=qr(n);if(!(t in qn.prototype))return!1;var r=G[t];if(n===r)return!0;var e=Do(r);return!!e&&n===e[0]}function re(n){return"number"==typeof n&&n>-1&&n%1==0&&$o>=n}function ee(n){return n===n&&!Wu(n)}function ue(n,t){var r=n[1],e=t[1],u=r|e,i=U>u,o=e==U&&r==R||e==U&&r==$&&n[7].length<=t[8]||e==(U|$)&&r==R;if(!i&&!o)return n;e&j&&(n[2]=t[2],u|=r&j?0:I);var f=t[3];if(f){var a=n[3];n[3]=a?ar(a,f,t[4]):et(f),n[4]=a?g(n[3],D):et(t[4])}return f=t[5],f&&(a=n[5],n[5]=a?cr(a,f,t[6]):et(f),n[6]=a?g(n[5],D):et(t[6])),f=t[7],f&&(n[7]=et(f)),e&U&&(n[8]=null==n[8]?t[8]:Ao(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function ie(n,t){return n===b?t:Uf(n,t,ie)}function oe(n,t){n=se(n);for(var r=-1,e=t.length,u={};++r<e;){var i=t[r];i in n&&(u[i]=n[i])}return u}function fe(n,t){var r={};return Ut(n,function(n,e,u){t(n,e,u)&&(r[e]=n)}),r}function ae(n,t){for(var r=n.length,e=Ao(t.length,r),u=et(n);e--;){var i=t[e];n[e]=Hr(i,r)?u[i]:b}return n}function ce(n){for(var t=ni(n),r=t.length,e=r&&n.length,u=!!e&&re(e)&&(Cf(n)||ku(n)),i=-1,o=[];++i<r;){var f=t[i];(u&&Hr(f,e)||no.call(n,f))&&o.push(f)}return o}function le(n){return null==n?[]:Zr(n)?Wu(n)?n:Vi(n):ii(n)}function se(n){return Wu(n)?n:Vi(n)}function pe(n){if(Cf(n))return n;var t=[];return u(n).replace(jn,function(n,r,e,u){t.push(e?u.replace(On,"$1"):r||n)}),t}function he(n){return n instanceof qn?n.clone():new nn(n.__wrapped__,n.__chain__,et(n.__actions__))}function ve(n,t,r){t=(r?Qr(n,t,r):null==t)?1:bo(yo(t)||1,1);for(var e=0,u=n?n.length:0,i=-1,o=zi(_o(u/t));u>e;)o[++i]=Jt(n,e,e+=t);return o}function _e(n){for(var t=-1,r=n?n.length:0,e=-1,u=[];++t<r;){var i=n[t];i&&(u[++e]=i)}return u}function ge(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),Jt(n,0>t?0:t)):[]}function ye(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Jt(n,0,0>t?0:t)):[]}function de(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!0,!0):[]}function me(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!0):[]}function we(n,t,r,e){var u=n?n.length:0;return u?(r&&"number"!=typeof r&&Qr(n,t,r)&&(r=0,e=u),Rt(n,t,r,e)):[]}function xe(n){return n?n[0]:b}function be(n,t,r){var e=n?n.length:0;return r&&Qr(n,t,r)&&(t=!1),e?Ct(n,t):[]}function Ae(n){var t=n?n.length:0;return t?Ct(n,!0):[]}function je(n,t,e){var u=n?n.length:0;if(!u)return-1;if("number"==typeof e)e=0>e?bo(u+e,0):e;else if(e){var i=ur(n,t);return u>i&&(t===t?t===n[i]:n[i]!==n[i])?i:-1}return r(n,t,e||0)}function ke(n){return ye(n,1)}function Ie(n){var t=n?n.length:0;return t?n[t-1]:b}function Re(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e;if("number"==typeof r)u=(0>r?bo(e+r,0):Ao(r||0,e-1))+1;else if(r){u=ur(n,t,!0)-1;var i=n[u];return(t===t?t===i:i!==i)?u:-1}if(t!==t)return h(n,u,!0);for(;u--;)if(n[u]===t)return u;return-1}function Oe(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var r=0,e=Mr(),u=n.length;++r<u;)for(var i=0,o=n[r];(i=e(t,o,i))>-1;)po.call(t,i,1);return t}function Ee(n,t,r){var e=[];if(!n||!n.length)return e;var u=-1,i=[],o=n.length;for(t=Dr(t,r,3);++u<o;){var f=n[u];t(f,u,n)&&(e.push(f),i.push(u))}return Vt(n,i),e}function Ce(n){return ge(n,1)}function Ue(n,t,r){var e=n?n.length:0;return e?(r&&"number"!=typeof r&&Qr(n,t,r)&&(t=0,r=e),Jt(n,t,r)):[]}function $e(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),Jt(n,0,0>t?0:t)):[]}function Se(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Jt(n,0>t?0:t)):[]}function We(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!1,!0):[]}function Fe(n,t,r){return n&&n.length?rr(n,Dr(t,r,3)):[]}function Ne(n,t,e,u){var i=n?n.length:0;if(!i)return[];null!=t&&"boolean"!=typeof t&&(u=e,e=Qr(n,t,u)?b:t,t=!1);var o=Dr();return(null!=e||o!==xt)&&(e=o(e,u,3)),t&&Mr()==r?y(n,e):nr(n,e)}function Te(n){if(!n||!n.length)return[];var t=-1,r=0;n=at(n,function(n){return Zr(n)?(r=bo(n.length,r),!0):void 0});for(var e=zi(r);++t<r;)e[t]=ct(n,Pt(t));return e}function Le(n,t,r){var e=n?n.length:0;if(!e)return[];var u=Te(n);return null==t?u:(t=or(t,r,4),ct(u,function(n){return st(n,t,b,!0)}))}function Be(){for(var n=-1,t=arguments.length;++n<t;){var r=arguments[n];if(Zr(r))var e=e?lt(jt(e,r),jt(r,e)):r}return e?nr(e):[]}function ze(n,t){var r=-1,e=n?n.length:0,u={};for(!e||t||Cf(n[0])||(t=[]);++r<e;){var i=n[r];t?u[i]=t[r]:i&&(u[i[0]]=i[1])}return u}function De(n){var t=G(n);return t.__chain__=!0,t}function qe(n,t,r){return t.call(r,n),n}function Me(n,t,r){return t.call(r,n)}function Pe(){return De(this)}function Ke(){return new nn(this.value(),this.__chain__)}function Ve(n){for(var t,r=this;r instanceof H;){var e=he(r);t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function Ye(){var n=this.__wrapped__,t=function(n){return r&&r.__dir__<0?n:n.reverse()};if(n instanceof qn){var r=n;return this.__actions__.length&&(r=new qn(this)),r=r.reverse(),r.__actions__.push({func:Me,args:[t],thisArg:b}),new nn(r,this.__chain__)}return this.thru(t)}function Ge(){return this.value()+""}function Je(){return er(this.__wrapped__,this.__actions__)}function Xe(n,t,r){var e=Cf(n)?ot:kt;return r&&Qr(n,t,r)&&(t=b),("function"!=typeof t||r!==b)&&(t=Dr(t,r,3)),e(n,t)}function Ze(n,t,r){var e=Cf(n)?at:Ot;return t=Dr(t,r,3),e(n,t)}function He(n,t){return uf(n,zt(t))}function Qe(n,t,r,e){var u=n?qo(n):0;return re(u)||(n=ii(n),u=n.length),r="number"!=typeof r||e&&Qr(t,r,e)?0:0>r?bo(u+r,0):r||0,"string"==typeof n||!Cf(n)&&qu(n)?u>=r&&n.indexOf(t,r)>-1:!!u&&Mr(n,t,r)>-1}function nu(n,t,r){var e=Cf(n)?ct:Bt;return t=Dr(t,r,3),e(n,t)}function tu(n,t){return nu(n,Si(t))}function ru(n,t,r){var e=Cf(n)?at:Ot;return t=Dr(t,r,3),e(n,function(n,r,e){return!t(n,r,e)})}function eu(n,t,r){if(r?Qr(n,t,r):null==t){n=le(n);var e=n.length;return e>0?n[Yt(0,e-1)]:b}var u=-1,i=Yu(n),e=i.length,o=e-1;for(t=Ao(0>t?0:+t||0,e);++u<t;){var f=Yt(u,o),a=i[f];i[f]=i[u],i[u]=a}return i.length=t,i}function uu(n){return eu(n,Oo)}function iu(n){var t=n?qo(n):0;return re(t)?t:Df(n).length}function ou(n,t,r){var e=Cf(n)?ht:Xt;return r&&Qr(n,t,r)&&(t=b),("function"!=typeof t||r!==b)&&(t=Dr(t,r,3)),e(n,t)}function fu(n,t,r){if(null==n)return[];r&&Qr(n,t,r)&&(t=b);var e=-1;t=Dr(t,r,3);var u=Bt(n,function(n,r,u){return{criteria:t(n,r,u),index:++e,value:n}});return Zt(u,f)}function au(n,t,r,e){return null==n?[]:(e&&Qr(t,r,e)&&(r=b),Cf(t)||(t=null==t?[]:[t]),Cf(r)||(r=null==r?[]:[r]),Ht(n,t,r))}function cu(n,t){return Ze(n,zt(t))}function lu(n,t){if("function"!=typeof t){if("function"!=typeof n)throw new Ji(z);var r=n;n=t,t=r}return n=wo(n=+n)?n:0,function(){return--n<1?t.apply(this,arguments):void 0}}function su(n,t,r){return r&&Qr(n,t,r)&&(t=b),t=n&&null==t?n.length:bo(+t||0,0),Tr(n,U,b,b,b,b,t)}function pu(n,t){var r;if("function"!=typeof t){if("function"!=typeof n)throw new Ji(z);var e=n;n=t,t=e}return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=b),r}}function hu(n,t,r){function e(){h&&oo(h),c&&oo(c),_=0,c=h=v=b}function u(t,r){r&&oo(r),c=h=v=b,t&&(_=gf(),l=n.apply(p,a),h||c||(a=p=b))}function i(){var n=t-(gf()-s);0>=n||n>t?u(v,c):h=so(i,n)}function o(){u(y,h)}function f(){if(a=arguments,s=gf(),p=this,v=y&&(h||!d),g===!1)var r=d&&!h;else{c||d||(_=s);var e=g-(s-_),u=0>=e||e>g;u?(c&&(c=oo(c)),_=s,l=n.apply(p,a)):c||(c=so(o,e))}return u&&h?h=oo(h):h||t===g||(h=so(i,t)),r&&(u=!0,l=n.apply(p,a)),!u||h||c||(a=p=b),l}var a,c,l,s,p,h,v,_=0,g=!1,y=!0;if("function"!=typeof n)throw new Ji(z);if(t=0>t?0:+t||0,r===!0){var d=!0;y=!1}else Wu(r)&&(d=!!r.leading,g="maxWait"in r&&bo(+r.maxWait||0,t),y="trailing"in r?!!r.trailing:y);return f.cancel=e,f}function vu(n,t){if("function"!=typeof n||t&&"function"!=typeof t)throw new Ji(z);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o),o};return r.cache=new vu.Cache,r}function _u(n){if("function"!=typeof n)throw new Ji(z);return function(){return!n.apply(this,arguments)}}function gu(n){return pu(2,n)}function yu(n,t){if("function"!=typeof n)throw new Ji(z);return t=bo(t===b?n.length-1:+t||0,0),function(){for(var r=arguments,e=-1,u=bo(r.length-t,0),i=zi(u);++e<u;)i[e]=r[t+e];switch(t){case 0:return n.call(this,i);case 1:return n.call(this,r[0],i);case 2:return n.call(this,r[0],r[1],i)}var o=zi(t+1);for(e=-1;++e<t;)o[e]=r[e];return o[t]=i,n.apply(this,o)}}function du(n){if("function"!=typeof n)throw new Ji(z);return function(t){return n.apply(this,t)}}function mu(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new Ji(z);return r===!1?e=!1:Wu(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),hu(n,t,{leading:e,maxWait:+t,trailing:u})}function wu(n,t){return t=null==t?Ri:t,Tr(t,E,b,[n],[])}function xu(n,t,r,e){return t&&"boolean"!=typeof t&&Qr(n,t,r)?t=!1:"function"==typeof t&&(e=r,r=t,t=!1),"function"==typeof r?bt(n,t,or(r,e,1)):bt(n,t)}function bu(n,t,r){return"function"==typeof t?bt(n,!0,or(t,r,1)):bt(n,!0)}function Au(n,t){return n>t}function ju(n,t){return n>=t}function ku(n){return v(n)&&Zr(n)&&no.call(n,"callee")&&!co.call(n,"callee")}function Iu(n){return n===!0||n===!1||v(n)&&ro.call(n)==P}function Ru(n){return v(n)&&ro.call(n)==K}function Ou(n){return!!n&&1===n.nodeType&&v(n)&&!zu(n)}function Eu(n){return null==n?!0:Zr(n)&&(Cf(n)||qu(n)||ku(n)||v(n)&&Su(n.splice))?!n.length:!Df(n).length}function Cu(n,t,r,e){r="function"==typeof r?or(r,e,3):b;var u=r?r(n,t):b;return u===b?Nt(n,t,r):!!u}function Uu(n){return v(n)&&"string"==typeof n.message&&ro.call(n)==V}function $u(n){return"number"==typeof n&&wo(n)}function Su(n){return Wu(n)&&ro.call(n)==Y}function Wu(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function Fu(n,t,r,e){return r="function"==typeof r?or(r,e,3):b,Lt(n,Pr(t),r)}function Nu(n){return Bu(n)&&n!=+n}function Tu(n){return null==n?!1:Su(n)?uo.test(Qi.call(n)):v(n)&&$n.test(n)}function Lu(n){return null===n}function Bu(n){return"number"==typeof n||v(n)&&ro.call(n)==J}function zu(n){var t;if(!v(n)||ro.call(n)!=X||ku(n)||!no.call(n,"constructor")&&(t=n.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var r;return Ut(n,function(n,t){r=t}),r===b||no.call(n,r)}function Du(n){return Wu(n)&&ro.call(n)==Z}function qu(n){return"string"==typeof n||v(n)&&ro.call(n)==Q}function Mu(n){return v(n)&&re(n.length)&&!!zn[ro.call(n)]}function Pu(n){return n===b}function Ku(n,t){return t>n}function Vu(n,t){return t>=n}function Yu(n){var t=n?qo(n):0;return re(t)?t?et(n):[]:ii(n)}function Gu(n){return wt(n,ni(n))}function Ju(n,t,r){var e=Fo(n);return r&&Qr(n,t,r)&&(t=b),t?dt(e,t):e}function Xu(n){return Wt(n,ni(n))}function Zu(n,t,r){var e=null==n?b:Ft(n,pe(t),t+"");return e===b?r:e}function Hu(n,t){if(null==n)return!1;var r=no.call(n,t);if(!r&&!ne(t)){if(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),null==n)return!1;t=Ie(t),r=no.call(n,t)}return r||re(n.length)&&Hr(t,n.length)&&(Cf(n)||ku(n))}function Qu(n,t,r){r&&Qr(n,t,r)&&(t=b);for(var e=-1,u=Df(n),i=u.length,o={};++e<i;){var f=u[e],a=n[f];t?no.call(o,a)?o[a].push(f):o[a]=[f]:o[a]=f}return o}function ni(n){if(null==n)return[];Wu(n)||(n=Vi(n));var t=n.length;t=t&&re(t)&&(Cf(n)||ku(n))&&t||0;for(var r=n.constructor,e=-1,u="function"==typeof r&&r.prototype===n,i=zi(t),o=t>0;++e<t;)i[e]=e+"";for(var f in n)o&&Hr(f,t)||"constructor"==f&&(u||!no.call(n,f))||i.push(f);return i}function ti(n){n=se(n);for(var t=-1,r=Df(n),e=r.length,u=zi(e);++t<e;){var i=r[t];u[t]=[i,n[i]]}return u}function ri(n,t,r){var e=null==n?b:n[t];return e===b&&(null==n||ne(t,n)||(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),e=null==n?b:n[Ie(t)]),e=e===b?r:e),Su(e)?e.call(n):e}function ei(n,t,r){if(null==n)return n;var e=t+"";t=null!=n[e]||ne(t,n)?[e]:pe(t);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var a=t[u];Wu(f)&&(u==o?f[a]=r:null==f[a]&&(f[a]=Hr(t[u+1])?[]:{})),f=f[a]}return n}function ui(n,t,r,e){var u=Cf(n)||Mu(n);if(t=Dr(t,e,4),null==r)if(u||Wu(n)){var i=n.constructor;r=u?Cf(n)?new i:[]:Fo(Su(i)?i.prototype:b)}else r={};return(u?ut:$t)(n,function(n,e,u){return t(r,n,e,u)}),r}function ii(n){return tr(n,Df(n))}function oi(n){return tr(n,ni(n))}function fi(n,t,r){return t=+t||0,r===b?(r=t,t=0):r=+r||0,n>=Ao(t,r)&&n<bo(t,r)}function ai(n,t,r){r&&Qr(n,t,r)&&(t=r=b);var e=null==n,u=null==t;if(null==r&&(u&&"boolean"==typeof n?(r=n,n=1):"boolean"==typeof t&&(r=t,u=!0)),e&&u&&(t=1,u=!1),n=+n||0,u?(t=n,n=0):t=+t||0,r||n%1||t%1){var i=Io();return Ao(n+i*(t-n+fo("1e-"+((i+"").length-1))),t)}return Yt(n,t)}function ci(n){return n=u(n),n&&n.charAt(0).toUpperCase()+n.slice(1)}function li(n){
return n=u(n),n&&n.replace(Wn,c).replace(Rn,"")}function si(n,t,r){n=u(n),t+="";var e=n.length;return r=r===b?e:Ao(0>r?0:+r||0,e),r-=t.length,r>=0&&n.indexOf(t,r)==r}function pi(n){return n=u(n),n&&dn.test(n)?n.replace(gn,l):n}function hi(n){return n=u(n),n&&In.test(n)?n.replace(kn,s):n||"(?:)"}function vi(n,t,r){n=u(n),t=+t;var e=n.length;if(e>=t||!wo(t))return n;var i=(t-e)/2,o=yo(i),f=_o(i);return r=Sr("",f,r),r.slice(0,o)+n+r}function _i(n,t,r){return(r?Qr(n,t,r):null==t)?t=0:t&&(t=+t),n=mi(n),ko(n,t||(Un.test(n)?16:10))}function gi(n,t){var r="";if(n=u(n),t=+t,1>t||!n||!wo(t))return r;do t%2&&(r+=n),t=yo(t/2),n+=n;while(t);return r}function yi(n,t,r){return n=u(n),r=null==r?0:Ao(0>r?0:+r||0,n.length),n.lastIndexOf(t,r)==r}function di(n,t,r){var e=G.templateSettings;r&&Qr(n,t,r)&&(t=r=b),n=u(n),t=yt(dt({},r||t),e,gt);var i,o,f=yt(dt({},t.imports),e.imports,gt),a=Df(f),c=tr(f,a),l=0,s=t.interpolate||Fn,h="__p += '",v=Yi((t.escape||Fn).source+"|"+s.source+"|"+(s===xn?En:Fn).source+"|"+(t.evaluate||Fn).source+"|$","g"),_="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Bn+"]")+"\n";n.replace(v,function(t,r,e,u,f,a){return e||(e=u),h+=n.slice(l,a).replace(Nn,p),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),f&&(o=!0,h+="';\n"+f+";\n__p += '"),e&&(h+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),l=a+t.length,t}),h+="';\n";var g=t.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(pn,""):h).replace(hn,"$1").replace(vn,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=Hf(function(){return Mi(a,_+"return "+h).apply(b,c)});if(y.source=h,Uu(y))throw y;return y}function mi(n,t,r){var e=n;return(n=u(n))?(r?Qr(e,t,r):null==t)?n.slice(d(n),m(n)+1):(t+="",n.slice(i(n,t),o(n,t)+1)):n}function wi(n,t,r){var e=n;return n=u(n),n?(r?Qr(e,t,r):null==t)?n.slice(d(n)):n.slice(i(n,t+"")):n}function xi(n,t,r){var e=n;return n=u(n),n?(r?Qr(e,t,r):null==t)?n.slice(0,m(n)+1):n.slice(0,o(n,t+"")+1):n}function bi(n,t,r){r&&Qr(n,t,r)&&(t=b);var e=S,i=W;if(null!=t)if(Wu(t)){var o="separator"in t?t.separator:o;e="length"in t?+t.length||0:e,i="omission"in t?u(t.omission):i}else e=+t||0;if(n=u(n),e>=n.length)return n;var f=e-i.length;if(1>f)return i;var a=n.slice(0,f);if(null==o)return a+i;if(Du(o)){if(n.slice(f).search(o)){var c,l,s=n.slice(0,f);for(o.global||(o=Yi(o.source,(Cn.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(s);)l=c.index;a=a.slice(0,null==l?f:l)}}else if(n.indexOf(o,f)!=f){var p=a.lastIndexOf(o);p>-1&&(a=a.slice(0,p))}return a+i}function Ai(n){return n=u(n),n&&yn.test(n)?n.replace(_n,w):n}function ji(n,t,r){return r&&Qr(n,t,r)&&(t=b),n=u(n),n.match(t||Tn)||[]}function ki(n,t,r){return r&&Qr(n,t,r)&&(t=b),v(n)?Oi(n):xt(n,t)}function Ii(n){return function(){return n}}function Ri(n){return n}function Oi(n){return zt(bt(n,!0))}function Ei(n,t){return Dt(n,bt(t,!0))}function Ci(n,t,r){if(null==r){var e=Wu(t),u=e?Df(t):b,i=u&&u.length?Wt(t,u):b;(i?i.length:e)||(i=!1,r=t,t=n,n=this)}i||(i=Wt(t,Df(t)));var o=!0,f=-1,a=Su(n),c=i.length;r===!1?o=!1:Wu(r)&&"chain"in r&&(o=r.chain);for(;++f<c;){var l=i[f],s=t[l];n[l]=s,a&&(n.prototype[l]=function(t){return function(){var r=this.__chain__;if(o||r){var e=n(this.__wrapped__),u=e.__actions__=et(this.__actions__);return u.push({func:t,args:arguments,thisArg:n}),e.__chain__=r,e}return t.apply(n,lt([this.value()],arguments))}}(s))}return n}function Ui(){return nt._=eo,this}function $i(){}function Si(n){return ne(n)?Pt(n):Kt(n)}function Wi(n){return function(t){return Ft(n,pe(t),t+"")}}function Fi(n,t,r){r&&Qr(n,t,r)&&(t=r=b),n=+n||0,r=null==r?1:+r||0,null==t?(t=n,n=0):t=+t||0;for(var e=-1,u=bo(_o((t-n)/(r||1)),0),i=zi(u);++e<u;)i[e]=n,n+=r;return i}function Ni(n,t,r){if(n=yo(n),1>n||!wo(n))return[];var e=-1,u=zi(Ao(n,Eo));for(t=or(t,r,1);++e<n;)Eo>e?u[e]=t(e):t(e);return u}function Ti(n){var t=++to;return u(n)+t}function Li(n,t){return(+n||0)+(+t||0)}function Bi(n,t,r){return r&&Qr(n,t,r)&&(t=b),t=Dr(t,r,3),1==t.length?vt(Cf(n)?n:le(n),t):Qt(n,t)}_=_?tt.defaults(nt.Object(),_,tt.pick(nt,Ln)):nt;var zi=_.Array,Di=_.Date,qi=_.Error,Mi=_.Function,Pi=_.Math,Ki=_.Number,Vi=_.Object,Yi=_.RegExp,Gi=_.String,Ji=_.TypeError,Xi=zi.prototype,Zi=Vi.prototype,Hi=Gi.prototype,Qi=Mi.prototype.toString,no=Zi.hasOwnProperty,to=0,ro=Zi.toString,eo=nt._,uo=Yi("^"+Qi.call(no).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),io=_.ArrayBuffer,oo=_.clearTimeout,fo=_.parseFloat,ao=Pi.pow,co=Zi.propertyIsEnumerable,lo=Kr(_,"Set"),so=_.setTimeout,po=Xi.splice,ho=_.Uint8Array,vo=Kr(_,"WeakMap"),_o=Pi.ceil,go=Kr(Vi,"create"),yo=Pi.floor,mo=Kr(zi,"isArray"),wo=_.isFinite,xo=Kr(Vi,"keys"),bo=Pi.max,Ao=Pi.min,jo=Kr(Di,"now"),ko=_.parseInt,Io=Pi.random,Ro=Ki.NEGATIVE_INFINITY,Oo=Ki.POSITIVE_INFINITY,Eo=4294967295,Co=Eo-1,Uo=Eo>>>1,$o=9007199254740991,So=vo&&new vo,Wo={};G.support={};G.templateSettings={escape:mn,evaluate:wn,interpolate:xn,variable:"",imports:{_:G}};var Fo=function(){function n(){}return function(t){if(Wu(t)){n.prototype=t;var r=new n;n.prototype=b}return r||{}}}(),No=pr($t),To=pr(St,!0),Lo=hr(),Bo=hr(!0),zo=So?function(n,t){return So.set(n,t),n}:Ri,Do=So?function(n){return So.get(n)}:$i,qo=Pt("length"),Mo=function(){var n=0,t=0;return function(r,e){var u=gf(),i=N-(u-t);if(t=u,i>0){if(++n>=F)return r}else n=0;return zo(r,e)}}(),Po=yu(function(n,t){return v(n)&&Zr(n)?jt(n,Ct(t,!1,!0)):[]}),Ko=br(),Vo=br(!0),Yo=yu(function(n){for(var t=n.length,e=t,u=zi(s),i=Mr(),o=i==r,f=[];e--;){var a=n[e]=Zr(a=n[e])?a:[];u[e]=o&&a.length>=120?_r(e&&a):null}var c=n[0],l=-1,s=c?c.length:0,p=u[0];n:for(;++l<s;)if(a=c[l],(p?Hn(p,a):i(f,a,0))<0){for(var e=t;--e;){var h=u[e];if((h?Hn(h,a):i(n[e],a,0))<0)continue n}p&&p.push(a),f.push(a)}return f}),Go=yu(function(t,r){r=Ct(r);var e=mt(t,r);return Vt(t,r.sort(n)),e}),Jo=Nr(),Xo=Nr(!0),Zo=yu(function(n){return nr(Ct(n,!1,!0))}),Ho=yu(function(n,t){return Zr(n)?jt(n,t):[]}),Qo=yu(Te),nf=yu(function(n){var t=n.length,r=t>2?n[t-2]:b,e=t>1?n[t-1]:b;return t>2&&"function"==typeof r?t-=2:(r=t>1&&"function"==typeof e?(--t,e):b,e=b),n.length=t,Le(n,r,e)}),tf=yu(function(n){return n=Ct(n),this.thru(function(t){return rt(Cf(t)?t:[se(t)],n)})}),rf=yu(function(n,t){return mt(n,Ct(t))}),ef=lr(function(n,t,r){no.call(n,r)?++n[r]:n[r]=1}),uf=xr(No),of=xr(To,!0),ff=kr(ut,No),af=kr(it,To),cf=lr(function(n,t,r){no.call(n,r)?n[r].push(t):n[r]=[t]}),lf=lr(function(n,t,r){n[r]=t}),sf=yu(function(n,t,r){var e=-1,u="function"==typeof t,i=ne(t),o=Zr(n)?zi(n.length):[];return No(n,function(n){var f=u?t:i&&null!=n?n[t]:b;o[++e]=f?f.apply(n,r):Xr(n,t,r)}),o}),pf=lr(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),hf=Ur(st,No),vf=Ur(pt,To),_f=yu(function(n,t){if(null==n)return[];var r=t[2];return r&&Qr(t[0],t[1],r)&&(t.length=1),Ht(n,Ct(t),[])}),gf=jo||function(){return(new Di).getTime()},yf=yu(function(n,t,r){var e=j;if(r.length){var u=g(r,yf.placeholder);e|=E}return Tr(n,e,t,r,u)}),df=yu(function(n,t){t=t.length?Ct(t):Xu(n);for(var r=-1,e=t.length;++r<e;){var u=t[r];n[u]=Tr(n[u],j,n)}return n}),mf=yu(function(n,t,r){var e=j|k;if(r.length){var u=g(r,mf.placeholder);e|=E}return Tr(t,e,n,r,u)}),wf=dr(R),xf=dr(O),bf=yu(function(n,t){return At(n,1,t)}),Af=yu(function(n,t,r){return At(n,t,r)}),jf=jr(),kf=jr(!0),If=yu(function(n,t){if(t=Ct(t),"function"!=typeof n||!ot(t,e))throw new Ji(z);var r=t.length;return yu(function(e){for(var u=Ao(e.length,r);u--;)e[u]=t[u](e[u]);return n.apply(this,e)})}),Rf=Cr(E),Of=Cr(C),Ef=yu(function(n,t){return Tr(n,$,b,b,b,Ct(t))}),Cf=mo||function(n){return v(n)&&re(n.length)&&ro.call(n)==M},Uf=sr(qt),$f=sr(function(n,t,r){return r?yt(n,t,r):dt(n,t)}),Sf=mr($f,_t),Wf=mr(Uf,ie),Ff=Ar($t),Nf=Ar(St),Tf=Ir(Lo),Lf=Ir(Bo),Bf=Rr($t),zf=Rr(St),Df=xo?function(n){var t=null==n?b:n.constructor;return"function"==typeof t&&t.prototype===n||"function"!=typeof n&&Zr(n)?ce(n):Wu(n)?xo(n):[]}:ce,qf=Or(!0),Mf=Or(),Pf=yu(function(n,t){if(null==n)return{};if("function"!=typeof t[0]){var t=ct(Ct(t),Gi);return oe(n,jt(ni(n),t))}var r=or(t[0],t[1],3);return fe(n,function(n,t,e){return!r(n,t,e)})}),Kf=yu(function(n,t){return null==n?{}:"function"==typeof t[0]?fe(n,or(t[0],t[1],3)):oe(n,Ct(t))}),Vf=gr(function(n,t,r){return t=t.toLowerCase(),n+(r?t.charAt(0).toUpperCase()+t.slice(1):t)}),Yf=gr(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Gf=Er(),Jf=Er(!0),Xf=gr(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),Zf=gr(function(n,t,r){return n+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Hf=yu(function(n,t){try{return n.apply(b,t)}catch(r){return Uu(r)?r:new qi(r)}}),Qf=yu(function(n,t){return function(r){return Xr(r,n,t)}}),na=yu(function(n,t){return function(r){return Xr(n,r,t)}}),ta=Fr("ceil"),ra=Fr("floor"),ea=wr(Au,Ro),ua=wr(Ku,Oo),ia=Fr("round");return G.prototype=H.prototype,nn.prototype=Fo(H.prototype),nn.prototype.constructor=nn,qn.prototype=Fo(H.prototype),qn.prototype.constructor=qn,Vn.prototype["delete"]=Yn,Vn.prototype.get=Gn,Vn.prototype.has=Jn,Vn.prototype.set=Xn,Zn.prototype.push=Qn,vu.Cache=Vn,G.after=lu,G.ary=su,G.assign=$f,G.at=rf,G.before=pu,G.bind=yf,G.bindAll=df,G.bindKey=mf,G.callback=ki,G.chain=De,G.chunk=ve,G.compact=_e,G.constant=Ii,G.countBy=ef,G.create=Ju,G.curry=wf,G.curryRight=xf,G.debounce=hu,G.defaults=Sf,G.defaultsDeep=Wf,G.defer=bf,G.delay=Af,G.difference=Po,G.drop=ge,G.dropRight=ye,G.dropRightWhile=de,G.dropWhile=me,G.fill=we,G.filter=Ze,G.flatten=be,G.flattenDeep=Ae,G.flow=jf,G.flowRight=kf,G.forEach=ff,G.forEachRight=af,G.forIn=Tf,G.forInRight=Lf,G.forOwn=Bf,G.forOwnRight=zf,G.functions=Xu,G.groupBy=cf,G.indexBy=lf,G.initial=ke,G.intersection=Yo,G.invert=Qu,G.invoke=sf,G.keys=Df,G.keysIn=ni,G.map=nu,G.mapKeys=qf,G.mapValues=Mf,G.matches=Oi,G.matchesProperty=Ei,G.memoize=vu,G.merge=Uf,G.method=Qf,G.methodOf=na,G.mixin=Ci,G.modArgs=If,G.negate=_u,G.omit=Pf,G.once=gu,G.pairs=ti,G.partial=Rf,G.partialRight=Of,G.partition=pf,G.pick=Kf,G.pluck=tu,G.property=Si,G.propertyOf=Wi,G.pull=Oe,G.pullAt=Go,G.range=Fi,G.rearg=Ef,G.reject=ru,G.remove=Ee,G.rest=Ce,G.restParam=yu,G.set=ei,G.shuffle=uu,G.slice=Ue,G.sortBy=fu,G.sortByAll=_f,G.sortByOrder=au,G.spread=du,G.take=$e,G.takeRight=Se,G.takeRightWhile=We,G.takeWhile=Fe,G.tap=qe,G.throttle=mu,G.thru=Me,G.times=Ni,G.toArray=Yu,G.toPlainObject=Gu,G.transform=ui,G.union=Zo,G.uniq=Ne,G.unzip=Te,G.unzipWith=Le,G.values=ii,G.valuesIn=oi,G.where=cu,G.without=Ho,G.wrap=wu,G.xor=Be,G.zip=Qo,G.zipObject=ze,G.zipWith=nf,G.backflow=kf,G.collect=nu,G.compose=kf,G.each=ff,G.eachRight=af,G.extend=$f,G.iteratee=ki,G.methods=Xu,G.object=ze,G.select=Ze,G.tail=Ce,G.unique=Ne,Ci(G,G),G.add=Li,G.attempt=Hf,G.camelCase=Vf,G.capitalize=ci,G.ceil=ta,G.clone=xu,G.cloneDeep=bu,G.deburr=li,G.endsWith=si,G.escape=pi,G.escapeRegExp=hi,G.every=Xe,G.find=uf,G.findIndex=Ko,G.findKey=Ff,G.findLast=of,G.findLastIndex=Vo,G.findLastKey=Nf,G.findWhere=He,G.first=xe,G.floor=ra,G.get=Zu,G.gt=Au,G.gte=ju,G.has=Hu,G.identity=Ri,G.includes=Qe,G.indexOf=je,G.inRange=fi,G.isArguments=ku,G.isArray=Cf,G.isBoolean=Iu,G.isDate=Ru,G.isElement=Ou,G.isEmpty=Eu,G.isEqual=Cu,G.isError=Uu,G.isFinite=$u,G.isFunction=Su,G.isMatch=Fu,G.isNaN=Nu,G.isNative=Tu,G.isNull=Lu,G.isNumber=Bu,G.isObject=Wu,G.isPlainObject=zu,G.isRegExp=Du,G.isString=qu,G.isTypedArray=Mu,G.isUndefined=Pu,G.kebabCase=Yf,G.last=Ie,G.lastIndexOf=Re,G.lt=Ku,G.lte=Vu,G.max=ea,G.min=ua,G.noConflict=Ui,G.noop=$i,G.now=gf,G.pad=vi,G.padLeft=Gf,G.padRight=Jf,G.parseInt=_i,G.random=ai,G.reduce=hf,G.reduceRight=vf,G.repeat=gi,G.result=ri,G.round=ia,G.runInContext=x,G.size=iu,G.snakeCase=Xf,G.some=ou,G.sortedIndex=Jo,G.sortedLastIndex=Xo,G.startCase=Zf,G.startsWith=yi,G.sum=Bi,G.template=di,G.trim=mi,G.trimLeft=wi,G.trimRight=xi,G.trunc=bi,G.unescape=Ai,G.uniqueId=Ti,G.words=ji,G.all=Xe,G.any=ou,G.contains=Qe,G.eq=Cu,G.detect=uf,G.foldl=hf,G.foldr=vf,G.head=xe,G.include=Qe,G.inject=hf,Ci(G,function(){var n={};return $t(G,function(t,r){G.prototype[r]||(n[r]=t)}),n}(),!1),G.sample=eu,G.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(t){return eu(t,n)}):eu(this.value())},G.VERSION=A,ut(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){G[n].placeholder=G}),ut(["drop","take"],function(n,t){qn.prototype[n]=function(r){var e=this.__filtered__;if(e&&!t)return new qn(this);r=null==r?1:bo(yo(r)||0,0);var u=this.clone();return e?u.__takeCount__=Ao(u.__takeCount__,r):u.__views__.push({size:r,type:n+(u.__dir__<0?"Right":"")}),u},qn.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),ut(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r!=B;qn.prototype[n]=function(n,t){var u=this.clone();return u.__iteratees__.push({iteratee:Dr(n,t,1),type:r}),u.__filtered__=u.__filtered__||e,u}}),ut(["first","last"],function(n,t){var r="take"+(t?"Right":"");qn.prototype[n]=function(){return this[r](1).value()[0]}}),ut(["initial","rest"],function(n,t){var r="drop"+(t?"":"Right");qn.prototype[n]=function(){return this.__filtered__?new qn(this):this[r](1)}}),ut(["pluck","where"],function(n,t){var r=t?"filter":"map",e=t?zt:Si;qn.prototype[n]=function(n){return this[r](e(n))}}),qn.prototype.compact=function(){return this.filter(Ri)},qn.prototype.reject=function(n,t){return n=Dr(n,t,1),this.filter(function(t){return!n(t)})},qn.prototype.slice=function(n,t){n=null==n?0:+n||0;var r=this;return r.__filtered__&&(n>0||0>t)?new qn(r):(0>n?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==b&&(t=+t||0,r=0>t?r.dropRight(-t):r.take(t-n)),r)},qn.prototype.takeRightWhile=function(n,t){return this.reverse().takeWhile(n,t).reverse()},qn.prototype.toArray=function(){return this.take(Oo)},$t(qn.prototype,function(n,t){var r=/^(?:filter|map|reject)|While$/.test(t),e=/^(?:first|last)$/.test(t),u=G[e?"take"+("last"==t?"Right":""):t];u&&(G.prototype[t]=function(){var t=e?[1]:arguments,i=this.__chain__,o=this.__wrapped__,f=!!this.__actions__.length,a=o instanceof qn,c=t[0],l=a||Cf(o);l&&r&&"function"==typeof c&&1!=c.length&&(a=l=!1);var s=function(n){return e&&i?u(n,1)[0]:u.apply(b,lt([n],t))},p={func:Me,args:[s],thisArg:b},h=a&&!f;if(e&&!i)return h?(o=o.clone(),o.__actions__.push(p),n.call(o)):u.call(b,this.value())[0];if(!e&&l){o=h?o:new qn(this);var v=n.apply(o,t);return v.__actions__.push(p),new nn(v,i)}return this.thru(s)})}),ut(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(n){var t=(/^(?:replace|split)$/.test(n)?Hi:Xi)[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(n);G.prototype[n]=function(){var n=arguments;return e&&!this.__chain__?t.apply(this.value(),n):this[r](function(r){return t.apply(r,n)})}}),$t(qn.prototype,function(n,t){var r=G[t];if(r){var e=r.name,u=Wo[e]||(Wo[e]=[]);u.push({name:t,func:r})}}),Wo[$r(b,k).name]=[{name:"wrapper",func:b}],qn.prototype.clone=Mn,qn.prototype.reverse=Pn,qn.prototype.value=Kn,G.prototype.chain=Pe,G.prototype.commit=Ke,G.prototype.concat=tf,G.prototype.plant=Ve,G.prototype.reverse=Ye,G.prototype.toString=Ge,G.prototype.run=G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=Je,G.prototype.collect=G.prototype.map,G.prototype.head=G.prototype.first,G.prototype.select=G.prototype.filter,G.prototype.tail=G.prototype.rest,G}var b,A="3.10.1",j=1,k=2,I=4,R=8,O=16,E=32,C=64,U=128,$=256,S=30,W="...",F=150,N=16,T=200,L=1,B=2,z="Expected a function",D="__lodash_placeholder__",q="[object Arguments]",M="[object Array]",P="[object Boolean]",K="[object Date]",V="[object Error]",Y="[object Function]",G="[object Map]",J="[object Number]",X="[object Object]",Z="[object RegExp]",H="[object Set]",Q="[object String]",nn="[object WeakMap]",tn="[object ArrayBuffer]",rn="[object Float32Array]",en="[object Float64Array]",un="[object Int8Array]",on="[object Int16Array]",fn="[object Int32Array]",an="[object Uint8Array]",cn="[object Uint8ClampedArray]",ln="[object Uint16Array]",sn="[object Uint32Array]",pn=/\b__p \+= '';/g,hn=/\b(__p \+=) '' \+/g,vn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_n=/&(?:amp|lt|gt|quot|#39|#96);/g,gn=/[&<>"'`]/g,yn=RegExp(_n.source),dn=RegExp(gn.source),mn=/<%-([\s\S]+?)%>/g,wn=/<%([\s\S]+?)%>/g,xn=/<%=([\s\S]+?)%>/g,bn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,An=/^\w*$/,jn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,kn=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,In=RegExp(kn.source),Rn=/[\u0300-\u036f\ufe20-\ufe23]/g,On=/\\(\\)?/g,En=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cn=/\w*$/,Un=/^0[xX]/,$n=/^\[object .+?Constructor\]$/,Sn=/^\d+$/,Wn=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Fn=/($^)/,Nn=/['\n\r\u2028\u2029\\]/g,Tn=function(){var n="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(n+"+(?="+n+t+")|"+n+"?"+t+"|"+n+"+|[0-9]+","g")}(),Ln=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Bn=-1,zn={};zn[rn]=zn[en]=zn[un]=zn[on]=zn[fn]=zn[an]=zn[cn]=zn[ln]=zn[sn]=!0,zn[q]=zn[M]=zn[tn]=zn[P]=zn[K]=zn[V]=zn[Y]=zn[G]=zn[J]=zn[X]=zn[Z]=zn[H]=zn[Q]=zn[nn]=!1;var Dn={};Dn[q]=Dn[M]=Dn[tn]=Dn[P]=Dn[K]=Dn[rn]=Dn[en]=Dn[un]=Dn[on]=Dn[fn]=Dn[J]=Dn[X]=Dn[Z]=Dn[Q]=Dn[an]=Dn[cn]=Dn[ln]=Dn[sn]=!0,Dn[V]=Dn[Y]=Dn[G]=Dn[H]=Dn[nn]=!1;var qn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Mn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Pn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Kn={"function":!0,object:!0},Vn={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Yn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gn=Kn[typeof exports]&&exports&&!exports.nodeType&&exports,Jn=Kn[typeof module]&&module&&!module.nodeType&&module,Xn=Gn&&Jn&&"object"==typeof global&&global&&global.Object&&global,Zn=Kn[typeof self]&&self&&self.Object&&self,Hn=Kn[typeof window]&&window&&window.Object&&window,Qn=Jn&&Jn.exports===Gn&&Gn,nt=Xn||Hn!==(this&&this.window)&&Hn||Zn||this,tt=x();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(nt._=tt,define(function(){return tt})):Gn&&Jn?Qn?(Jn.exports=tt)._=tt:Gn._=tt:nt._=tt}).call(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],102:[function(require,module,exports){
var execute=require("./lib/executor");exports=module.exports=function(e,t){var o="loopback-boot#instructions";t&&"object"==typeof t&&t.appId&&(o+="-"+t.appId);var r=require(o);execute(e,r)},exports.execute=execute;
},{"./lib/executor":103}],103:[function(require,module,exports){
(function (process){
function patchAppLoopback(e){if(!e.loopback)try{e.loopback=require("loopback")}catch(o){throw"MODULE_NOT_FOUND"===o.code&&console.error("When using loopback-boot with loopback <1.9, the loopback module must be available for `require('loopback')`."),o}}function assertLoopBackVersion(e){var o="1.x || 2.x || ^3.0.0-alpha",n=e.loopback,t=(n.version||"1.0.0").replace(/-.*$/,"");if(!semver.satisfies(t,o)){var r=format("The `app` is powered by an incompatible loopback version %s. Supported versions: %s",n.version||"(unknown)",o);throw new Error(r)}}function setEnv(e,o){var n=o.env;void 0!==n&&e.set("env",n)}function setHost(e,o){var n=process.env.npm_config_host||process.env.OPENSHIFT_SLS_IP||process.env.OPENSHIFT_NODEJS_IP||process.env.HOST||process.env.VCAP_APP_HOST||o.config.host||process.env.npm_package_config_host||e.get("host");void 0!==n&&(assert("string"==typeof n,"app.host must be a string"),e.set("host",n))}function setPort(e,o){var n=find([process.env.npm_config_port,process.env.OPENSHIFT_SLS_PORT,process.env.OPENSHIFT_NODEJS_PORT,process.env.PORT,process.env.VCAP_APP_PORT,o.config.port,process.env.npm_package_config_port,e.get("port"),3e3],function(e){return null!=e});if(void 0!==n){var t=typeof n;assert("string"===t||"number"===t,"app.port must be a string or number"),e.set("port",n)}}function find(e,o){return e.filter(o)[0]}function setApiRoot(e,o){var n=o.config.restApiRoot||e.get("restApiRoot")||"/api";assert(void 0!==n,"app.restBasePath is required"),assert("string"==typeof n,"app.restApiRoot must be a string"),assert(/^\//.test(n),'app.restApiRoot must start with "/"'),e.set("restApiRoot",n)}function applyAppConfig(e,o){var n=o.config;for(var t in n){var r=e.get(t);(void 0===r||null===r)&&e.set(t,n[t])}}function setupDataSources(e,o){forEachKeyedObject(o.dataSources,function(o,n){e.dataSource(o,n)})}function setupModels(e,o){defineMixins(e,o),defineModels(e,o),o.models.forEach(function(o){o.config&&e.model(o._model,o.config)})}function defineMixins(e,o){var n=(e.registry||e.loopback).modelBuilder,t=e.loopback.Model,r=o.mixins||[];n.mixins&&r.length&&r.forEach(function(e){var o=require(e.sourceFile);"function"==typeof o||o.prototype instanceof t?(debug("Defining mixin %s",e.name),n.mixins.define(e.name,o)):debug("Skipping mixin file %s - `module.exports` is not a function or Loopback model",e)})}function defineModels(e,o){var n=e.registry||e.loopback;o.models.forEach(function(o){var t,r=o.name;if(o.definition){if(isBuiltinLoopBackModel(e,o))t=n.getModel(r),assert(t,"Built-in model "+r+" should have been defined"),debug("Configuring built-in LoopBack model %s",r);else if(debug("Creating new model %s %j",r,o.definition),t=n.createModel(o.definition),o.sourceFile){debug("Loading customization script %s",o.sourceFile);var i=require(o.sourceFile);"function"==typeof i?(debug("Customizing model %s",r),i(t)):debug("Skipping model file %s - `module.exports` is not a function",o.sourceFile)}}else{if(t=n.getModel(r),!t)throw new Error("Cannot configure unknown model "+r);debug("Configuring existing model %s",r)}o._model=t})}function isBuiltinLoopBackModel(e,o){if(!e.loopback[o.name])return!1;var n=o.sourceFile;return n&&LOOPBACK_MODEL_REGEXP.test(n)}function forEachKeyedObject(e,o){"object"==typeof e&&Object.keys(e).forEach(function(n){o(n,e[n])})}function runScripts(e,o,n){o=o||[];var t=[];o.forEach(function(e){debug("Requiring script %s",e);try{var o=require(e);"function"==typeof o&&(debug("Exported function detected %s",e),t.push({path:e,func:o}))}catch(n){throw console.error("Failed loading boot script: %s\n%s",e,n.stack),n}}),async.eachSeries(t,function(o,n){debug("Running script %s",o.path),o.func.length>=2?(debug("Starting async function %s",o.path),o.func(e,function(e){debug("Async function finished %s",o.path),n(e)})):(debug("Starting sync function %s",o.path),o.func(e),debug("Sync function finished %s",o.path),n())},n)}function setupMiddleware(e,o){if(o.middleware){var n=o.middleware.phases||[];assert(Array.isArray(n),"instructions.middleware.phases must be an array");var t=o.middleware.middleware;assert(Array.isArray(t),"instructions.middleware.middleware must be an object"),debug("Defining middleware phases %j",n),e.defineMiddlewarePhases(n),t.forEach(function(o){debug("Configuring middleware %j%s",o.sourceFile,o.fragment?"#"+o.fragment:"");var n=require(o.sourceFile);o.fragment&&(n=n[o.fragment].bind(n)),assert("function"==typeof n,"Middleware factory must be a function"),o.config=getUpdatedConfigObject(e,o.config),e.middlewareFromConfig(n,o.config)})}}function getUpdatedConfigObject(e,o){function n(o){var n=o,t=n.match(r);if(t){var i=e.get(t[1]);void 0!==i?n=i:console.warn('%s does not resolve to a valid value. "%s" must be resolvable by app.get().',o,t[1])}return n}function t(e){if("string"==typeof e)return n(e);if("object"!=typeof e||null==e)return e;if(Array.isArray(e))return e.map(t);if(!e.constructor||e.constructor!==Object)return e;var o={};return Object.keys(e).forEach(function(r){var i=e[r];Array.isArray(i)?o[r]=i.map(t):"string"==typeof i?o[r]=n(i):"object"==typeof i&&Object.keys(i).length?o[r]=t(i):o[r]=i}),o}var r=/\$\{(\w+)\}$/;return t(o)}function setupComponents(e,o){o.components.forEach(function(o){debug("Configuring component %j",o.sourceFile);var n=require(o.sourceFile);o.config=getUpdatedConfigObject(e,o.config),n(e,o.config)})}function runBootScripts(e,o,n){runScripts(e,o.files.boot,n)}function enableAnonymousSwagger(e,o){var n=e.remotes().exports.swagger;if(n){var t=o.config,r=t.swagger&&t.swagger.requireToken;n.requireToken=r||!1}}var assert=require("assert"),semver=require("semver"),debug=require("debug")("loopback:boot:executor"),async=require("async"),path=require("path"),format=require("util").format;module.exports=function(e,o,n){n=n||function(){},e.booting=!0,patchAppLoopback(e),assertLoopBackVersion(e),setEnv(e,o),setHost(e,o),setPort(e,o),setApiRoot(e,o),applyAppConfig(e,o),setupDataSources(e,o),setupModels(e,o),setupMiddleware(e,o),setupComponents(e,o),async.series([function(n){runBootScripts(e,o,n)},function(n){enableAnonymousSwagger(e,o),n()}],function(o){return e.booting=!1,o?n(o):(e.emit("booted"),void n())})};var LOOPBACK_MODEL_REGEXP=new RegExp(["","node_modules","loopback","[^\\/\\\\]+","models","[^\\/\\\\]+\\.js$"].join("\\"+path.sep));
}).call(this,require('_process'))

},{"_process":425,"assert":2,"async":104,"debug":105,"loopback":172,"path":423,"semver":108,"util":594}],104:[function(require,module,exports){
(function (process){
!function(){function n(n){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,n.apply(t,arguments)}}var t,e,r={};t=this,null!=t&&(e=t.async),r.noConflict=function(){return t.async=e,r};var u=Object.prototype.toString,i=Array.isArray||function(n){return"[object Array]"===u.call(n)},c=function(n,t){for(var e=0;e<n.length;e+=1)t(n[e],e,n)},a=function(n,t){if(n.map)return n.map(t);var e=[];return c(n,function(n,r,u){e.push(t(n,r,u))}),e},o=function(n,t,e){return n.reduce?n.reduce(t,e):(c(n,function(n,r,u){e=t(e,n,r,u)}),e)},l=function(n){if(Object.keys)return Object.keys(n);var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t};"undefined"!=typeof process&&process.nextTick?(r.nextTick=process.nextTick,"undefined"!=typeof setImmediate?r.setImmediate=function(n){setImmediate(n)}:r.setImmediate=r.nextTick):"function"==typeof setImmediate?(r.nextTick=function(n){setImmediate(n)},r.setImmediate=r.nextTick):(r.nextTick=function(n){setTimeout(n,0)},r.setImmediate=r.nextTick),r.each=function(t,e,r){function u(n){n?(r(n),r=function(){}):(i+=1,i>=t.length&&r())}if(r=r||function(){},!t.length)return r();var i=0;c(t,function(t){e(t,n(u))})},r.forEach=r.each,r.eachSeries=function(n,t,e){if(e=e||function(){},!n.length)return e();var r=0,u=function(){t(n[r],function(t){t?(e(t),e=function(){}):(r+=1,r>=n.length?e():u())})};u()},r.forEachSeries=r.eachSeries,r.eachLimit=function(n,t,e,r){var u=f(t);u.apply(null,[n,e,r])},r.forEachLimit=r.eachLimit;var f=function(n){return function(t,e,r){if(r=r||function(){},!t.length||0>=n)return r();var u=0,i=0,c=0;!function a(){if(u>=t.length)return r();for(;n>c&&i<t.length;)i+=1,c+=1,e(t[i-1],function(n){n?(r(n),r=function(){}):(u+=1,c-=1,u>=t.length?r():a())})}()}},s=function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[r.each].concat(t))}},p=function(n,t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[f(n)].concat(e))}},d=function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[r.eachSeries].concat(t))}},y=function(n,t,e,r){if(t=a(t,function(n,t){return{index:t,value:n}}),r){var u=[];n(t,function(n,t){e(n.value,function(e,r){u[n.index]=r,t(e)})},function(n){r(n,u)})}else n(t,function(n,t){e(n.value,function(n){t(n)})})};r.map=s(y),r.mapSeries=d(y),r.mapLimit=function(n,t,e,r){return m(t)(n,e,r)};var m=function(n){return p(n,y)};r.reduce=function(n,t,e,u){r.eachSeries(n,function(n,r){e(t,n,function(n,e){t=e,r(n)})},function(n){u(n,t)})},r.inject=r.reduce,r.foldl=r.reduce,r.reduceRight=function(n,t,e,u){var i=a(n,function(n){return n}).reverse();r.reduce(i,t,e,u)},r.foldr=r.reduceRight;var v=function(n,t,e,r){var u=[];t=a(t,function(n,t){return{index:t,value:n}}),n(t,function(n,t){e(n.value,function(e){e&&u.push(n),t()})},function(n){r(a(u.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})};r.filter=s(v),r.filterSeries=d(v),r.select=r.filter,r.selectSeries=r.filterSeries;var h=function(n,t,e,r){var u=[];t=a(t,function(n,t){return{index:t,value:n}}),n(t,function(n,t){e(n.value,function(e){e||u.push(n),t()})},function(n){r(a(u.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})};r.reject=s(h),r.rejectSeries=d(h);var g=function(n,t,e,r){n(t,function(n,t){e(n,function(e){e?(r(n),r=function(){}):t()})},function(n){r()})};r.detect=s(g),r.detectSeries=d(g),r.some=function(n,t,e){r.each(n,function(n,r){t(n,function(n){n&&(e(!0),e=function(){}),r()})},function(n){e(!1)})},r.any=r.some,r.every=function(n,t,e){r.each(n,function(n,r){t(n,function(n){n||(e(!1),e=function(){}),r()})},function(n){e(!0)})},r.all=r.every,r.sortBy=function(n,t,e){r.map(n,function(n,e){t(n,function(t,r){t?e(t):e(null,{value:n,criteria:r})})},function(n,t){if(n)return e(n);var r=function(n,t){var e=n.criteria,r=t.criteria;return r>e?-1:e>r?1:0};e(null,a(t.sort(r),function(n){return n.value}))})},r.auto=function(n,t){t=t||function(){};var e=l(n),u=e.length;if(!u)return t();var a={},f=[],s=function(n){f.unshift(n)},p=function(n){for(var t=0;t<f.length;t+=1)if(f[t]===n)return void f.splice(t,1)},d=function(){u--,c(f.slice(0),function(n){n()})};s(function(){if(!u){var n=t;t=function(){},n(null,a)}}),c(e,function(e){var u=i(n[e])?n[e]:[n[e]],f=function(n){var u=Array.prototype.slice.call(arguments,1);if(u.length<=1&&(u=u[0]),n){var i={};c(l(a),function(n){i[n]=a[n]}),i[e]=u,t(n,i),t=function(){}}else a[e]=u,r.setImmediate(d)},y=u.slice(0,Math.abs(u.length-1))||[],m=function(){return o(y,function(n,t){return n&&a.hasOwnProperty(t)},!0)&&!a.hasOwnProperty(e)};if(m())u[u.length-1](f,a);else{var v=function(){m()&&(p(v),u[u.length-1](f,a))};s(v)}})},r.retry=function(n,t,e){var u=5,i=[];"function"==typeof n&&(e=t,t=n,n=u),n=parseInt(n,10)||u;var c=function(u,c){for(var a=function(n,t){return function(e){n(function(n,r){e(!n||t,{err:n,result:r})},c)}};n;)i.push(a(t,!(n-=1)));r.series(i,function(n,t){t=t[t.length-1],(u||e)(t.err,t.result)})};return e?c():c},r.waterfall=function(n,t){if(t=t||function(){},!i(n)){var e=new Error("First argument to waterfall must be an array of functions");return t(e)}if(!n.length)return t();var u=function(n){return function(e){if(e)t.apply(null,arguments),t=function(){};else{var i=Array.prototype.slice.call(arguments,1),c=n.next();c?i.push(u(c)):i.push(t),r.setImmediate(function(){n.apply(null,i)})}}};u(r.iterator(n))()};var k=function(n,t,e){if(e=e||function(){},i(t))n.map(t,function(n,t){n&&n(function(n){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),t.call(null,n,e)})},e);else{var r={};n.each(l(t),function(n,e){t[n](function(t){var u=Array.prototype.slice.call(arguments,1);u.length<=1&&(u=u[0]),r[n]=u,e(t)})},function(n){e(n,r)})}};r.parallel=function(n,t){k({map:r.map,each:r.each},n,t)},r.parallelLimit=function(n,t,e){k({map:m(t),each:f(t)},n,e)},r.series=function(n,t){if(t=t||function(){},i(n))r.mapSeries(n,function(n,t){n&&n(function(n){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),t.call(null,n,e)})},t);else{var e={};r.eachSeries(l(n),function(t,r){n[t](function(n){var u=Array.prototype.slice.call(arguments,1);u.length<=1&&(u=u[0]),e[t]=u,r(n)})},function(n){t(n,e)})}},r.iterator=function(n){var t=function(e){var r=function(){return n.length&&n[e].apply(null,arguments),r.next()};return r.next=function(){return e<n.length-1?t(e+1):null},r};return t(0)},r.apply=function(n){var t=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var A=function(n,t,e,r){var u=[];n(t,function(n,t){e(n,function(n,e){u=u.concat(e||[]),t(n)})},function(n){r(n,u)})};r.concat=s(A),r.concatSeries=d(A),r.whilst=function(n,t,e){n()?t(function(u){return u?e(u):void r.whilst(n,t,e)}):e()},r.doWhilst=function(n,t,e){n(function(u){if(u)return e(u);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?r.doWhilst(n,t,e):e()})},r.until=function(n,t,e){n()?e():t(function(u){return u?e(u):void r.until(n,t,e)})},r.doUntil=function(n,t,e){n(function(u){if(u)return e(u);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?e():r.doUntil(n,t,e)})},r.queue=function(t,e){function u(n,t,e,u){return n.started||(n.started=!0),i(t)||(t=[t]),0==t.length?r.setImmediate(function(){n.drain&&n.drain()}):void c(t,function(t){var i={data:t,callback:"function"==typeof u?u:null};e?n.tasks.unshift(i):n.tasks.push(i),n.saturated&&n.tasks.length===n.concurrency&&n.saturated(),r.setImmediate(n.process)})}void 0===e&&(e=1);var a=0,o={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(n,t){u(o,n,!1,t)},kill:function(){o.drain=null,o.tasks=[]},unshift:function(n,t){u(o,n,!0,t)},process:function(){if(!o.paused&&a<o.concurrency&&o.tasks.length){var e=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),a+=1;var r=function(){a-=1,e.callback&&e.callback.apply(e,arguments),o.drain&&o.tasks.length+a===0&&o.drain(),o.process()},u=n(r);t(e.data,u)}},length:function(){return o.tasks.length},running:function(){return a},idle:function(){return o.tasks.length+a===0},pause:function(){o.paused!==!0&&(o.paused=!0)},resume:function(){if(o.paused!==!1){o.paused=!1;for(var n=1;n<=o.concurrency;n++)r.setImmediate(o.process)}}};return o},r.priorityQueue=function(n,t){function e(n,t){return n.priority-t.priority}function u(n,t,e){for(var r=-1,u=n.length-1;u>r;){var i=r+(u-r+1>>>1);e(t,n[i])>=0?r=i:u=i-1}return r}function a(n,t,a,o){return n.started||(n.started=!0),i(t)||(t=[t]),0==t.length?r.setImmediate(function(){n.drain&&n.drain()}):void c(t,function(t){var i={data:t,priority:a,callback:"function"==typeof o?o:null};n.tasks.splice(u(n.tasks,i,e)+1,0,i),n.saturated&&n.tasks.length===n.concurrency&&n.saturated(),r.setImmediate(n.process)})}var o=r.queue(n,t);return o.push=function(n,t,e){a(o,n,t,e)},delete o.unshift,o},r.cargo=function(n,t){var e=!1,u=[],o={tasks:u,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(n,e){i(n)||(n=[n]),c(n,function(n){u.push({data:n,callback:"function"==typeof e?e:null}),o.drained=!1,o.saturated&&u.length===t&&o.saturated()}),r.setImmediate(o.process)},process:function l(){if(!e){if(0===u.length)return o.drain&&!o.drained&&o.drain(),void(o.drained=!0);var r="number"==typeof t?u.splice(0,t):u.splice(0,u.length),i=a(r,function(n){return n.data});o.empty&&o.empty(),e=!0,n(i,function(){e=!1;var n=arguments;c(r,function(t){t.callback&&t.callback.apply(null,n)}),l()})}},length:function(){return u.length},running:function(){return e}};return o};var x=function(n){return function(t){var e=Array.prototype.slice.call(arguments,1);t.apply(null,e.concat([function(t){var e=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[n]&&c(e,function(t){console[n](t)}))}]))}};r.log=x("log"),r.dir=x("dir"),r.memoize=function(n,t){var e={},u={};t=t||function(n){return n};var i=function(){var i=Array.prototype.slice.call(arguments),c=i.pop(),a=t.apply(null,i);a in e?r.nextTick(function(){c.apply(null,e[a])}):a in u?u[a].push(c):(u[a]=[c],n.apply(null,i.concat([function(){e[a]=arguments;var n=u[a];delete u[a];for(var t=0,r=n.length;r>t;t++)n[t].apply(null,arguments)}])))};return i.memo=e,i.unmemoized=n,i},r.unmemoize=function(n){return function(){return(n.unmemoized||n).apply(null,arguments)}},r.times=function(n,t,e){for(var u=[],i=0;n>i;i++)u.push(i);return r.map(u,t,e)},r.timesSeries=function(n,t,e){for(var u=[],i=0;n>i;i++)u.push(i);return r.mapSeries(u,t,e)},r.seq=function(){var n=arguments;return function(){var t=this,e=Array.prototype.slice.call(arguments),u=e.pop();r.reduce(n,e,function(n,e,r){e.apply(t,n.concat([function(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);r(n,t)}]))},function(n,e){u.apply(t,[n].concat(e))})}},r.compose=function(){return r.seq.apply(null,Array.prototype.reverse.call(arguments))};var S=function(n,t){var e=function(){var e=this,r=Array.prototype.slice.call(arguments),u=r.pop();return n(t,function(n,t){n.apply(e,r.concat([t]))},u)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return e.apply(this,r)}return e};r.applyEach=s(S),r.applyEachSeries=d(S),r.forever=function(n,t){function e(r){if(r){if(t)return t(r);throw r}n(e)}e()},"undefined"!=typeof module&&module.exports?module.exports=r:"undefined"!=typeof define&&define.amd?define([],function(){return r}):t.async=r}();
}).call(this,require('_process'))

},{"_process":425}],105:[function(require,module,exports){
arguments[4][53][0].apply(exports,arguments)
},{"./debug":106,"dup":53}],106:[function(require,module,exports){
arguments[4][54][0].apply(exports,arguments)
},{"dup":54,"ms":107}],107:[function(require,module,exports){
function parse(e){if(e=""+e,!(e.length>1e4)){var a=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(a){var r=parseFloat(a[1]),c=(a[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return r*y;case"days":case"day":case"d":return r*d;case"hours":case"hour":case"hrs":case"hr":case"h":return r*h;case"minutes":case"minute":case"mins":case"min":case"m":return r*m;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r}}}}function short(e){return e>=d?Math.round(e/d)+"d":e>=h?Math.round(e/h)+"h":e>=m?Math.round(e/m)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function long(e){return plural(e,d,"day")||plural(e,h,"hour")||plural(e,m,"minute")||plural(e,s,"second")||e+" ms"}function plural(s,e,a){return e>s?void 0:1.5*e>s?Math.floor(s/e)+" "+a:Math.ceil(s/e)+" "+a+"s"}var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;module.exports=function(s,e){return e=e||{},"string"==typeof s?parse(s):e["long"]?long(s):short(s)};
},{}],108:[function(require,module,exports){
!function(r){function e(r,e){if(r instanceof i)return r;if("string"!=typeof r)return null;if(r.length>O)return null;var t=e?D[pr]:D[sr];if(!t.test(r))return null;try{return new i(r,e)}catch(n){return null}}function t(r,t){var n=e(r,t);return n?n.version:null}function n(r,t){var n=e(r.trim().replace(/^[=v]+/,""),t);return n?n.version:null}function i(r,e){if(r instanceof i){if(r.loose===e)return r;r=r.version}else if("string"!=typeof r)throw new TypeError("Invalid Version: "+r);if(r.length>O)throw new TypeError("version is longer than "+O+" characters");if(!(this instanceof i))return new i(r,e);this.loose=e;var t=r.trim().match(e?D[pr]:D[sr]);if(!t)throw new TypeError("Invalid Version: "+r);if(this.raw=r,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>B||this.major<0)throw new TypeError("Invalid major version");if(this.minor>B||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>B||this.patch<0)throw new TypeError("Invalid patch version");t[4]?this.prerelease=t[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var e=+r;if(e>=0&&B>e)return e}return r}):this.prerelease=[],this.build=t[5]?t[5].split("."):[],this.format()}function o(r,e,t,n){"string"==typeof t&&(n=t,t=void 0);try{return new i(r,t).inc(e,n).version}catch(o){return null}}function s(r,t){if(d(r,t))return null;var n=e(r),i=e(t);if(n.prerelease.length||i.prerelease.length){for(var o in n)if(("major"===o||"minor"===o||"patch"===o)&&n[o]!==i[o])return"pre"+o;return"prerelease"}for(var o in n)if(("major"===o||"minor"===o||"patch"===o)&&n[o]!==i[o])return o}function a(r,e){var t=_r.test(r),n=_r.test(e);return t&&n&&(r=+r,e=+e),t&&!n?-1:n&&!t?1:e>r?-1:r>e?1:0}function u(r,e){return a(e,r)}function p(r,e){return new i(r,e).major}function h(r,e){return new i(r,e).minor}function c(r,e){return new i(r,e).patch}function f(r,e,t){return new i(r,t).compare(e)}function l(r,e){return f(r,e,!0)}function v(r,e,t){return f(e,r,t)}function m(e,t){return e.sort(function(e,n){return r.compare(e,n,t)})}function g(e,t){return e.sort(function(e,n){return r.rcompare(e,n,t)})}function w(r,e,t){return f(r,e,t)>0}function y(r,e,t){return f(r,e,t)<0}function d(r,e,t){return 0===f(r,e,t)}function j(r,e,t){return 0!==f(r,e,t)}function b(r,e,t){return f(r,e,t)>=0}function E(r,e,t){return f(r,e,t)<=0}function $(r,e,t,n){var i;switch(e){case"===":"object"==typeof r&&(r=r.version),"object"==typeof t&&(t=t.version),i=r===t;break;case"!==":"object"==typeof r&&(r=r.version),"object"==typeof t&&(t=t.version),i=r!==t;break;case"":case"=":case"==":i=d(r,t,n);break;case"!=":i=j(r,t,n);break;case">":i=w(r,t,n);break;case">=":i=b(r,t,n);break;case"<":i=y(r,t,n);break;case"<=":i=E(r,t,n);break;default:throw new TypeError("Invalid operator: "+e)}return i}function k(r,e){if(r instanceof k){if(r.loose===e)return r;r=r.value}return this instanceof k?(this.loose=e,this.parse(r),void(this.semver===zr?this.value="":this.value=this.operator+this.semver.version)):new k(r,e)}function R(r,e){if(r instanceof R&&r.loose===e)return r;if(!(this instanceof R))return new R(r,e);if(this.loose=e,this.raw=r,this.set=r.split(/\s*\|\|\s*/).map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+r);this.format()}function S(r,e){return new R(r,e).set.map(function(r){return r.map(function(r){return r.value}).join(" ").trim().split(" ")})}function x(r,e){return r=A(r,e),r=T(r,e),r=M(r,e),r=_(r,e)}function I(r){return!r||"x"===r.toLowerCase()||"*"===r}function T(r,e){return r.trim().split(/\s+/).map(function(r){return V(r,e)}).join(" ")}function V(r,e){var t=e?D[br]:D[jr];return r.replace(t,function(r,e,t,n,i){var o;return I(e)?o="":I(t)?o=">="+e+".0.0 <"+(+e+1)+".0.0":I(n)?o=">="+e+"."+t+".0 <"+e+"."+(+t+1)+".0":i?("-"!==i.charAt(0)&&(i="-"+i),o=">="+e+"."+t+"."+n+i+" <"+e+"."+(+t+1)+".0"):o=">="+e+"."+t+"."+n+" <"+e+"."+(+t+1)+".0",o})}function A(r,e){return r.trim().split(/\s+/).map(function(r){return C(r,e)}).join(" ")}function C(r,e){var t=e?D[Sr]:D[Rr];return r.replace(t,function(r,e,t,n,i){var o;return I(e)?o="":I(t)?o=">="+e+".0.0 <"+(+e+1)+".0.0":I(n)?o="0"===e?">="+e+"."+t+".0 <"+e+"."+(+t+1)+".0":">="+e+"."+t+".0 <"+(+e+1)+".0.0":i?("-"!==i.charAt(0)&&(i="-"+i),o="0"===e?"0"===t?">="+e+"."+t+"."+n+i+" <"+e+"."+t+"."+(+n+1):">="+e+"."+t+"."+n+i+" <"+e+"."+(+t+1)+".0":">="+e+"."+t+"."+n+i+" <"+(+e+1)+".0.0"):o="0"===e?"0"===t?">="+e+"."+t+"."+n+" <"+e+"."+t+"."+(+n+1):">="+e+"."+t+"."+n+" <"+e+"."+(+t+1)+".0":">="+e+"."+t+"."+n+" <"+(+e+1)+".0.0",o})}function M(r,e){return r.split(/\s+/).map(function(r){return N(r,e)}).join(" ")}function N(r,e){r=r.trim();var t=e?D[gr]:D[mr];return r.replace(t,function(r,e,t,n,i,o){var s=I(t),a=s||I(n),u=a||I(i),p=u;return"="===e&&p&&(e=""),s?r=">"===e||"<"===e?"<0.0.0":"*":e&&p?(a&&(n=0),u&&(i=0),">"===e?(e=">=",a?(t=+t+1,n=0,i=0):u&&(n=+n+1,i=0)):"<="===e&&(e="<",a?t=+t+1:n=+n+1),r=e+t+"."+n+"."+i):a?r=">="+t+".0.0 <"+(+t+1)+".0.0":u&&(r=">="+t+"."+n+".0 <"+t+"."+(+n+1)+".0"),r})}function _(r,e){return r.trim().replace(D[Mr],"")}function z(r,e,t,n,i,o,s,a,u,p,h,c,f){return e=I(t)?"":I(n)?">="+t+".0.0":I(i)?">="+t+"."+n+".0":">="+e,a=I(u)?"":I(p)?"<"+(+u+1)+".0.0":I(h)?"<"+u+"."+(+p+1)+".0":c?"<="+u+"."+p+"."+h+"-"+c:"<="+a,(e+" "+a).trim()}function P(r,e){for(var t=0;t<r.length;t++)if(!r[t].test(e))return!1;if(e.prerelease.length){for(var t=0;t<r.length;t++)if(r[t].semver!==zr&&r[t].semver.prerelease.length>0){var n=r[t].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}function X(r,e,t){try{e=new R(e,t)}catch(n){return!1}return e.test(r)}function Z(r,e,t){return r.filter(function(r){return X(r,e,t)}).sort(function(r,e){return v(r,e,t)})[0]||null}function q(r,e){try{return new R(r,e).range||"*"}catch(t){return null}}function L(r,e,t){return G(r,e,"<",t)}function F(r,e,t){return G(r,e,">",t)}function G(r,e,t,n){r=new i(r,n),e=new R(e,n);var o,s,a,u,p;switch(t){case">":o=w,s=E,a=y,u=">",p=">=";break;case"<":o=y,s=b,a=w,u="<",p="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(X(r,e,n))return!1;for(var h=0;h<e.set.length;++h){var c=e.set[h],f=null,l=null;if(c.forEach(function(r){r.semver===zr&&(r=new k(">=0.0.0")),f=f||r,l=l||r,o(r.semver,f.semver,n)?f=r:a(r.semver,l.semver,n)&&(l=r)}),f.operator===u||f.operator===p)return!1;if((!l.operator||l.operator===u)&&s(r,l.semver))return!1;if(l.operator===p&&a(r,l.semver))return!1}return!0}"object"==typeof module&&module.exports===r&&(r=module.exports=i),r.SEMVER_SPEC_VERSION="2.0.0";var O=256,B=Number.MAX_SAFE_INTEGER||9007199254740991,D=r.re=[],H=r.src=[],J=0,K=J++;H[K]="0|[1-9]\\d*";var Q=J++;H[Q]="[0-9]+";var U=J++;H[U]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var W=J++;H[W]="("+H[K]+")\\.("+H[K]+")\\.("+H[K]+")";var Y=J++;H[Y]="("+H[Q]+")\\.("+H[Q]+")\\.("+H[Q]+")";var rr=J++;H[rr]="(?:"+H[K]+"|"+H[U]+")";var er=J++;H[er]="(?:"+H[Q]+"|"+H[U]+")";var tr=J++;H[tr]="(?:-("+H[rr]+"(?:\\."+H[rr]+")*))";var nr=J++;H[nr]="(?:-?("+H[er]+"(?:\\."+H[er]+")*))";var ir=J++;H[ir]="[0-9A-Za-z-]+";var or=J++;H[or]="(?:\\+("+H[ir]+"(?:\\."+H[ir]+")*))";var sr=J++,ar="v?"+H[W]+H[tr]+"?"+H[or]+"?";H[sr]="^"+ar+"$";var ur="[v=\\s]*"+H[Y]+H[nr]+"?"+H[or]+"?",pr=J++;H[pr]="^"+ur+"$";var hr=J++;H[hr]="((?:<|>)?=?)";var cr=J++;H[cr]=H[Q]+"|x|X|\\*";var fr=J++;H[fr]=H[K]+"|x|X|\\*";var lr=J++;H[lr]="[v=\\s]*("+H[fr]+")(?:\\.("+H[fr]+")(?:\\.("+H[fr]+")(?:"+H[tr]+")?"+H[or]+"?)?)?";var vr=J++;H[vr]="[v=\\s]*("+H[cr]+")(?:\\.("+H[cr]+")(?:\\.("+H[cr]+")(?:"+H[nr]+")?"+H[or]+"?)?)?";var mr=J++;H[mr]="^"+H[hr]+"\\s*"+H[lr]+"$";var gr=J++;H[gr]="^"+H[hr]+"\\s*"+H[vr]+"$";var wr=J++;H[wr]="(?:~>?)";var yr=J++;H[yr]="(\\s*)"+H[wr]+"\\s+",D[yr]=new RegExp(H[yr],"g");var dr="$1~",jr=J++;H[jr]="^"+H[wr]+H[lr]+"$";var br=J++;H[br]="^"+H[wr]+H[vr]+"$";var Er=J++;H[Er]="(?:\\^)";var $r=J++;H[$r]="(\\s*)"+H[Er]+"\\s+",D[$r]=new RegExp(H[$r],"g");var kr="$1^",Rr=J++;H[Rr]="^"+H[Er]+H[lr]+"$";var Sr=J++;H[Sr]="^"+H[Er]+H[vr]+"$";var xr=J++;H[xr]="^"+H[hr]+"\\s*("+ur+")$|^$";var Ir=J++;H[Ir]="^"+H[hr]+"\\s*("+ar+")$|^$";var Tr=J++;H[Tr]="(\\s*)"+H[hr]+"\\s*("+ur+"|"+H[lr]+")",D[Tr]=new RegExp(H[Tr],"g");var Vr="$1$2$3",Ar=J++;H[Ar]="^\\s*("+H[lr]+")\\s+-\\s+("+H[lr]+")\\s*$";var Cr=J++;H[Cr]="^\\s*("+H[vr]+")\\s+-\\s+("+H[vr]+")\\s*$";var Mr=J++;H[Mr]="(<|>)?=?\\s*\\*";for(var Nr=0;J>Nr;Nr++)D[Nr]||(D[Nr]=new RegExp(H[Nr]));r.parse=e,r.valid=t,r.clean=n,r.SemVer=i,i.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},i.prototype.inspect=function(){return'<SemVer "'+this+'">'},i.prototype.toString=function(){return this.version},i.prototype.compare=function(r){return r instanceof i||(r=new i(r,this.loose)),this.compareMain(r)||this.comparePre(r)},i.prototype.compareMain=function(r){return r instanceof i||(r=new i(r,this.loose)),a(this.major,r.major)||a(this.minor,r.minor)||a(this.patch,r.patch)},i.prototype.comparePre=function(r){if(r instanceof i||(r=new i(r,this.loose)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;var e=0;do{var t=this.prerelease[e],n=r.prerelease[e];if(void 0===t&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===t)return-1;if(t!==n)return a(t,n)}while(++e)},i.prototype.inc=function(r,e){switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var t=this.prerelease.length;--t>=0;)"number"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);-1===t&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+r)}return this.format(),this},r.inc=o,r.diff=s,r.compareIdentifiers=a;var _r=/^[0-9]+$/;r.rcompareIdentifiers=u,r.major=p,r.minor=h,r.patch=c,r.compare=f,r.compareLoose=l,r.rcompare=v,r.sort=m,r.rsort=g,r.gt=w,r.lt=y,r.eq=d,r.neq=j,r.gte=b,r.lte=E,r.cmp=$,r.Comparator=k;var zr={};k.prototype.parse=function(r){var e=this.loose?D[xr]:D[Ir],t=r.match(e);if(!t)throw new TypeError("Invalid comparator: "+r);this.operator=t[1],"="===this.operator&&(this.operator=""),t[2]?this.semver=new i(t[2],this.loose):this.semver=zr},k.prototype.inspect=function(){return'<SemVer Comparator "'+this+'">'},k.prototype.toString=function(){return this.value},k.prototype.test=function(r){return this.semver===zr?!0:("string"==typeof r&&(r=new i(r,this.loose)),$(r,this.operator,this.semver,this.loose))},r.Range=R,R.prototype.inspect=function(){return'<SemVer Range "'+this.range+'">'},R.prototype.format=function(){return this.range=this.set.map(function(r){return r.join(" ").trim()}).join("||").trim(),this.range},R.prototype.toString=function(){return this.range},R.prototype.parseRange=function(r){var e=this.loose;r=r.trim();var t=e?D[Cr]:D[Ar];r=r.replace(t,z),r=r.replace(D[Tr],Vr),r=r.replace(D[yr],dr),r=r.replace(D[$r],kr),r=r.split(/\s+/).join(" ");var n=e?D[xr]:D[Ir],i=r.split(" ").map(function(r){return x(r,e)}).join(" ").split(/\s+/);return this.loose&&(i=i.filter(function(r){return!!r.match(n)})),i=i.map(function(r){return new k(r,e)})},r.toComparators=S,R.prototype.test=function(r){if(!r)return!1;"string"==typeof r&&(r=new i(r,this.loose));for(var e=0;e<this.set.length;e++)if(P(this.set[e],r))return!0;return!1},r.satisfies=X,r.maxSatisfying=Z,r.validRange=q,r.ltr=L,r.gtr=F,r.outside=G,"function"==typeof define&&define.amd&&define(r)}("object"==typeof exports?exports:"function"==typeof define&&define.amd?{}:semver={});
},{}],109:[function(require,module,exports){
exports.ModelBuilder=exports.LDL=require("./lib/model-builder.js").ModelBuilder,exports.DataSource=exports.Schema=require("./lib/datasource.js").DataSource,exports.ModelBaseClass=require("./lib/model.js"),exports.GeoPoint=require("./lib/geo.js").GeoPoint,exports.ValidationError=require("./lib/validations.js").ValidationError,Object.defineProperty(exports,"version",{get:function(){return require("./package.json").version}});var commonTest="./test/common_test";Object.defineProperty(exports,"test",{get:function(){return require(commonTest)}}),exports.Transaction=require("loopback-connector").Transaction;
},{"./lib/datasource.js":113,"./lib/geo.js":114,"./lib/model-builder.js":122,"./lib/model.js":124,"./lib/validations.js":132,"./package.json":150,"loopback-connector":138}],110:[function(require,module,exports){
(function (process){
module.exports=function(e){var o={};return function(r){o[r]||(o[r]=!0,process.noDeprecation||(process.traceDeprecation?console.trace(e,"deprecated",r):console.warn(e,"deprecated",r)))}};
}).call(this,require('_process'))

},{"_process":425}],111:[function(require,module,exports){
(function (process){
function Memory(e,t){e instanceof Memory?(this.isTransaction=!0,this.cache=e.cache,this.ids=e.ids,this.constructor.super_.call(this,"memory",t),this._models=e._models):(this.isTransaction=!1,this.cache={},this.ids={},this.constructor.super_.call(this,"memory",t))}function serialize(e){return null===e||void 0===e?e:JSON.stringify(e)}function deserialize(e){return null===e||void 0===e?e:"string"==typeof e?JSON.parse(e):e}function getValue(e,t){if(null!=e){for(var i=t.split("."),r=e,n=0,o=i.length;o>n;n++)if(r=r[i[n]],null==r)return r;return r}}function applyFilter(e){function t(e){if(e instanceof RegExp)return e;var t="";e=e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1");for(var i=0,r=e.length;r>i;i++){var n=e.charAt(i);"\\"!==n?t+="%"===n?".*":"_"===n?".":"."===n?"\\.":"*"===n?"\\*":n:(i++,r>i&&(t+=e.charAt(i)))}return t}function i(e,i){if("string"==typeof i&&e instanceof RegExp)return i.match(e);if(void 0!==e){if("object"==typeof e&&null!==e){if(e.regexp)return i?i.match(e.regexp):!1;if(e.near)return!0;if(e.inq){for(var o=0;o<e.inq.length;o++)if(e.inq[o]==i)return!0;return!1}if("neq"in e)return 0!==r(e.neq,i);if("between"in e)return n({gte:e.between[0]},i)&&n({lte:e.between[1]},i);if(e.like||e.nlike){var s=e.like||e.nlike;if("string"==typeof s&&(s=t(s)),e.like)return!!new RegExp(s).test(i);if(e.nlike)return!new RegExp(s).test(i)}if(n(e,i))return!0}return(null!==e?e.toString():e)==(null!=i?i.toString():i)}}function r(e,t){if(null==e||null==t)return e==t?0:NaN;if("number"==typeof e)return e-t;if("string"==typeof e)return e>t?1:t>e?-1:e==t?0:NaN;if("boolean"==typeof e)return e-t;if(e instanceof Date){var i=e-t;return i}return e==t?0:NaN}function n(e,t){return"gt"in e?r(t,e.gt)>0:"gte"in e?r(t,e.gte)>=0:"lt"in e?r(t,e.lt)<0:"lte"in e?r(t,e.lte)<=0:!1}var o=e.where;if("function"==typeof o)return o;var s=Object.keys(o);return function(e){return s.every(function(t){if(("and"===t||"or"===t)&&Array.isArray(o[t])){if("and"===t)return o[t].every(function(t){return applyFilter({where:t})(e)});if("or"===t)return o[t].some(function(t){return applyFilter({where:t})(e)})}var r=getValue(e,t);if(Array.isArray(r)){var n=o[t];return void 0!==n.neq&&r.length<=0?!0:r.some(function(e,t){var i={where:{}};return i.where[t]=n,applyFilter(i)(r)})}if(i(o[t],r))return!0;var s=t.indexOf("."),l=e[t.substring(0,s)];if(-1!==s&&Array.isArray(l)){var c={where:{}},a=t.substring(s+1);return c.where[a]=o[t],l.some(applyFilter(c))}return!1})}}function merge(e,t){if(!e)return t;for(var i in t){var r=t[i];"function"!=typeof r&&(e[i]=r)}return e}var util=require("util"),Connector=require("loopback-connector").Connector,geo=require("../geo"),utils=require("../utils"),fs=require("fs"),async=require("async");exports.initialize=function(e,t){e.connector=new Memory(null,e.settings),e.connector.connect(t)},exports.Memory=Memory,exports.applyFilter=applyFilter,util.inherits(Memory,Connector),Memory.prototype.getDefaultIdType=function(){return Number},Memory.prototype.getTypes=function(){return["db","nosql","memory"]},Memory.prototype.connect=function(e){this.isTransaction?this.onTransactionExec=e:this.loadFromFile(e)},Memory.prototype.getCollection=function(e){var t=this._models[e];return t&&t.settings.memory&&(e=t.settings.memory.collection||e),e},Memory.prototype.initCollection=function(e){this.collection(e,{}),this.collectionSeq(e,1)},Memory.prototype.collection=function(e,t){return e=this.getCollection(e),arguments.length>1&&(this.cache[e]=t),this.cache[e]},Memory.prototype.collectionSeq=function(e,t){return e=this.getCollection(e),arguments.length>1&&(this.ids[e]=t),this.ids[e]},Memory.prototype.loadFromFile=function(e){function t(t){if(t){try{t=JSON.parse(t.toString())}catch(r){return e(r)}i.ids=t.ids||{},i.cache=t.models||{}}else i.cache||(i.ids={},i.cache={});e&&e()}var i=this,r="undefined"!=typeof window&&window.localStorage,n=r&&this.settings.localStorage;if(i.settings.file)fs.readFile(i.settings.file,{encoding:"utf8",flag:"r"},function(i,r){i&&"ENOENT"!==i.code?e&&e(i):t(r)});else if(n){var o=window.localStorage.getItem(n);o=o||"{}",t(o)}else process.nextTick(e)},Memory.prototype.saveToFile=function(e,t){var i=this,r=this.settings.file,n="undefined"!=typeof window&&window.localStorage,o=n&&this.settings.localStorage;if(r)i.writeQueue||(i.writeQueue=async.queue(function(e,t){var r=JSON.stringify({ids:i.ids,models:i.cache},null,"  ");fs.writeFile(i.settings.file,r,function(i){t(i),e.callback&&e.callback(i,e.data)})},1)),i.writeQueue.push({data:e,callback:t});else if(o){var s=JSON.stringify({ids:i.ids,models:i.cache},null,"  ");window.localStorage.setItem(o,s),process.nextTick(function(){t&&t(null,e)})}else process.nextTick(function(){t&&t(null,e)})},Memory.prototype.define=function(e){this.constructor.super_.prototype.define.apply(this,[].slice.call(arguments));var t=e.model.modelName;this.collection(t)||this.initCollection(t)},Memory.prototype.create=function(e,t,i,r){var n=this.collectionSeq(e);void 0===n&&(n=this.collectionSeq(e,1));var o=this.getIdValue(e,t)||n;o>n&&(n=o),this.collectionSeq(e,Number(n)+1);var s=this._models[e].properties,l=this.idName(e);return o=s[l]&&s[l].type&&s[l].type(o)||o,this.setIdValue(e,t,o),this.collection(e)||this.collection(e,{}),this.collection(e)[o]?process.nextTick(function(){r(new Error("Duplicate entry for "+e+"."+l))}):(this.collection(e)[o]=serialize(t),void this.saveToFile(o,r))},Memory.prototype.updateOrCreate=function(e,t,i,r){var n=this;this.exists(e,n.getIdValue(e,t),i,function(o,s){s?n.save(e,t,i,function(e,t){r(e,t,{isNewInstance:!1})}):n.create(e,t,i,function(i,o){n.setIdValue(e,t,o),r(i,t,{isNewInstance:!0})})})},Memory.prototype.save=function(e,t,i,r){var n=this,o=this.getIdValue(e,t),s=this.collection(e),l=s&&this.collection(e)[o];l=l&&deserialize(l),l&&(t=merge(l,t)),this.collection(e)[o]=serialize(t),this.saveToFile(t,function(i){r(i,n.fromDb(e,t),{isNewInstance:!l})})},Memory.prototype.exists=function(e,t,i,r){process.nextTick(function(){r(null,this.collection(e)&&this.collection(e).hasOwnProperty(t))}.bind(this))},Memory.prototype.find=function(e,t,i,r){process.nextTick(function(){r(null,t in this.collection(e)&&this.fromDb(e,this.collection(e)[t]))}.bind(this))},Memory.prototype.destroy=function(e,t,i,r){var n=this.collection(e)[t];delete this.collection(e)[t],this.saveToFile({count:n?1:0},r)},Memory.prototype.fromDb=function(e,t){if(!t)return null;t=deserialize(t);var i=this._models[e].properties;for(var r in t){var n=t[r];if(void 0!==n&&null!==n){if(i[r])switch(i[r].type.name){case"Date":n=new Date(n.toString().replace(/GMT.*$/,"GMT"));break;case"Boolean":n=Boolean(n);break;case"Number":n=Number(n)}t[r]=n}}return t},Memory.prototype.all=function(e,t,i,r){function n(e,t){for(var i,r,n=0,o=this.length;o>n;n++){var s=getValue(e,this[n].key),l=getValue(t,this[n].key);if(r=void 0===l&&void 0!==s,i=void 0===s&&void 0!==l,r||s>l)return 1*this[n].reverse;if(i||l>s)return-1*this[n].reverse}return 0}var o=this,s=Object.keys(this.collection(e)).map(function(t){return this.fromDb(e,this.collection(e)[t])}.bind(this));if(t){if(!t.order){var l=this.idNames(e);l&&l.length&&(t.order=l)}if(t.order){var c=t.order;"string"==typeof t.order&&(c=[t.order]),c.forEach(function(e,t){var i=1,r=e.match(/\s+(A|DE)SC$/i);r&&(e=e.replace(/\s+(A|DE)SC/i,""),"de"===r[1].toLowerCase()&&(i=-1)),c[t]={key:e,reverse:i}}),s=s.sort(n.bind(c))}var a=geo.nearFilter(t.where);a&&(s=geo.filter(s,a)),t.where&&s&&(s=s.filter(applyFilter(t))),t.fields&&(s=s.map(utils.selectFields(t.fields)));var u=t.skip||t.offset||0,f=t.limit||s.length;s=s.slice(u,u+f)}process.nextTick(function(){t&&t.include?o._models[e].model.include(s,t.include,i,r):r(null,s)})},Memory.prototype.destroyAll=function(e,t,i,r){var n=this.collection(e),o=null,s=0;t?(o=applyFilter({where:t}),Object.keys(n).forEach(function(t){(!o||o(this.fromDb(e,n[t])))&&(s++,delete n[t])}.bind(this))):(s=Object.keys(n).length,this.collection(e,{})),this.saveToFile({count:s},r)},Memory.prototype.count=function(e,t,i,r){var n=this.collection(e),o=Object.keys(n);if(t){var s={where:t};o=o.map(function(t){return this.fromDb(e,n[t])}.bind(this)),o=o.filter(applyFilter(s))}process.nextTick(function(){r(null,o.length)})},Memory.prototype.update=Memory.prototype.updateAll=function(e,t,i,r,n){var o=this,s=this.collection(e),l=null;t=t||{},l=applyFilter({where:t});var c=Object.keys(s),a=0;async.each(c,function(t,n){var c=o.fromDb(e,s[t]);!l||l(c)?(a++,t=o.getIdValue(e,c),o.updateAttributes(e,t,i,r,n)):process.nextTick(n)},function(e){return e?n(e):void o.saveToFile({count:a},n)})},Memory.prototype.updateAttributes=function(e,t,i,r,n){if(!t){var o=new Error("You must provide an id when updating attributes!");if(n)return n(o);throw o}i=Object.create(i),this.setIdValue(e,i,t);var s=this.collection(e),l=s&&this.collection(e)[t];l?this.save(e,i,r,n):n(new Error("Could not update attributes. Object with id "+t+" does not exist!"))},Memory.prototype.transaction=function(){return new Memory(this)},Memory.prototype.exec=function(e){this.onTransactionExec(),setTimeout(e,50)},Memory.prototype.buildNearFilter=function(e){},Memory.prototype.automigrate=function(e,t){var i=this;if(t||"function"!=typeof e||(t=e,e=void 0),"string"==typeof e&&(e=[e]),e=e||Object.keys(i._models),0===e.length)return process.nextTick(t);var r=e.filter(function(e){return!(e in i._models)});return r.length?process.nextTick(function(){t(new Error("Cannot migrate models not attached to this datasource: "+r.join(" ")))}):(e.forEach(function(e){i.initCollection(e)}),void(t&&process.nextTick(t)))};
}).call(this,require('_process'))

},{"../geo":114,"../utils":131,"_process":425,"async":133,"fs":35,"loopback-connector":138,"util":594}],112:[function(require,module,exports){
(function (process){
function DataAccessObject(){if(DataAccessObject._mixins){var e=this,t=arguments;DataAccessObject._mixins.forEach(function(r){r.call(e,t)})}}function idName(e){return e.definition.idName()||"id"}function getIdValue(e,t){return t&&t[idName(e)]}function setIdValue(e,t,r){t&&(t[idName(e)]=r)}function byIdQuery(e,t){var r=idName(e),o={where:{}};return o.where[r]=t,o}function isWhereByGivenId(e,t,r){var o=Object.keys(t);if(1!=o.length)return!1;var n=idName(e);return o[0]!==n?!1:t[n]===r}function noCallback(e,t){debug("callback is ignored: err=%j, result=%j",e,t)}function stillConnecting(e,t,r){if("function"==typeof r[r.length-1])return e.ready(t,r);var o=Array.prototype.slice.call(r);o.callee=r.callee;var n=utils.createPromiseCallback();return o.push(n),e.ready(t,o)?n.promise:!1}function convertNullToNotFoundError(e,t){if(null!==e.result)return t();var r=e.method.sharedClass.name,o=e.getArgByName("id"),n='Unknown "'+r+'" id "'+o+'".',i=new Error(n);i.statusCode=i.status=404,t(i)}function DateType(e){var t=new Date(e);if(isNaN(t.getTime()))throw new Error("Invalid date: "+e);return t}function BooleanType(e){if("string"==typeof e)switch(e){case"true":case"1":return!0;case"false":case"0":return!1}return null==e?null:Boolean(e)}function NumberType(e){var t=Number(e);return isNaN(t)?e:t}function whereIsEmpty(e){return!e||"object"==typeof e&&0===Object.keys(e).length}function defineReadonlyProp(e,t,r){Object.defineProperty(e,t,{writable:!1,enumerable:!0,configurable:!0,value:r})}function PKMissingError(e){this.name="PKMissingError",this.message="Primary key is missing for the "+e+" model"}function isPKMissing(e,t){var r=e.definition.hasPK();return r?!1:(process.nextTick(function(){t(new PKMissingError(e.modelName))}),!0)}module.exports=DataAccessObject;var async=require("async"),jutil=require("./jutil"),ValidationError=require("./validations").ValidationError,Relation=require("./relations.js"),Inclusion=require("./include.js"),List=require("./list.js"),geo=require("./geo"),Memory=require("./connectors/memory").Memory,utils=require("./utils"),fieldsToArray=utils.fieldsToArray,removeUndefined=utils.removeUndefined,setScopeValuesFromWhere=utils.setScopeValuesFromWhere,idEquals=utils.idEquals,mergeQuery=utils.mergeQuery,util=require("util"),assert=require("assert"),BaseModel=require("./model"),debug=require("debug")("loopback:dao");DataAccessObject._forDB=function(e){if(!this.getDataSource().isRelational||!this.getDataSource().isRelational())return e;var t={};for(var r in e){var o=this.getPropertyType(r);"JSON"===o||"Any"===o||"Object"===o||e[r]instanceof Array?t[r]=JSON.stringify(e[r]):t[r]=e[r]}return t},DataAccessObject.defaultScope=function(e,t){var r=this.definition.settings.scope;return"function"==typeof r&&(r=this.definition.settings.scope.call(this,e,t)),r},DataAccessObject.applyScope=function(e,t){var r=this.defaultScope(e,t)||{};"object"==typeof r&&mergeQuery(e,r||{},this.definition.settings.scope)},DataAccessObject.applyProperties=function(e,t){var r=this.definition.settings.properties;if(r=r||this.definition.settings.attributes,"object"==typeof r)util._extend(e,r);else if("function"==typeof r)util._extend(e,r.call(this,e,t)||{});else if(r!==!1){var o=this.defaultScope(e,t)||{};"object"==typeof o.where&&setScopeValuesFromWhere(e,o.where,this)}},DataAccessObject.lookupModel=function(e){return this},DataAccessObject.getConnector=function(){return this.getDataSource().connector},DataAccessObject.create=function(e,t,r){function o(){l.trigger("create",function(e){l.trigger("save",function(o){function n(n,s,u){if(s&&(l.__data[a]=s,defineReadonlyProp(l,a,s)),u&&(l._rev=u),n)return r(n,l);l.__persisted=!0;var d={Model:i,data:f,isNewInstance:!0,hookState:c,options:t};i.notifyObserversOf("loaded",d,function(n){return n?r(n):(i.settings.updateOnLoad&&l.setAttributes(d.data),void o.call(l,function(){e.call(l,function(){if(n)return r(n,l);var e={Model:i,instance:l,isNewInstance:!0,hookState:c,options:t};i.notifyObserversOf("after save",e,function(e){r(e,l),e||i.emit("changed",l)})})}))})}var a=idName(i),u=i.modelName,f=removeUndefined(l.toObject(!0));h={Model:i,data:f,isNewInstance:!0,currentInstance:l,hookState:c,options:t},i.notifyObserversOf("persist",h,function(e){return e?r(e):void(4===s.create.length?s.create(u,l.constructor._forDB(h.data),t,n):s.create(u,l.constructor._forDB(h.data),n))})},l,r)},l,r)}var n=stillConnecting(this.getDataSource(),this,arguments);if(n)return n;var i=this,s=i.getConnector();assert("function"==typeof s.create,"create() must be implemented by the connector");var a=this;void 0===t&&void 0===r?"function"==typeof e&&(r=e,e={}):void 0===r&&"function"==typeof t&&(r=t,t={}),e=e||{},t=t||{},r=r||(Array.isArray(e)?noCallback:utils.createPromiseCallback()),assert("object"==typeof e,"The data argument must be an object or array"),assert("object"==typeof t,"The options argument must be an object"),assert("function"==typeof r,"The cb argument must be a function");var c={};if(Array.isArray(e)){for(var u=0,f=e.length;f>u;u++)void 0===e[u]&&(e[u]={});return async.map(e,function(e,r){a.create(e,t,function(t,o){r(null,{err:t,result:o||e})})},function(e,t){if(e)return r(e,t);for(var o=null,n=[],i=0,s=t.length;s>i;i++)t[i].err&&(o||(o=[]),o[i]=t[i].err),n[i]=t[i].result;r(o,n)}),e}var l,d={},p=getIdValue(this,e);l=e instanceof i&&!p?e:new i(e),this.applyProperties(d,l),l.setAttributes(d),i=this.lookupModel(e),i!==l.constructor&&(l=new i(e));var h={Model:i,instance:l,isNewInstance:!0,hookState:c,options:t};return i.notifyObserversOf("before save",h,function(n){return n?r(n):(e=l.toObject(!0),t.validate===!1?o():void 0===t.validate&&i.settings.automaticValidation===!1?o():void l.isValid(function(e){e?o():r(new ValidationError(l),l)},e))}),r.promise||l},DataAccessObject.updateOrCreate=DataAccessObject.upsert=function(e,t,r){function o(o,n){if(o)return r(o);var f=isWhereByGivenId(a,n.query.where,u);if(c.updateOrCreate&&f){var l={Model:a,where:n.query.where,data:e,hookState:i,options:t};a.notifyObserversOf("before save",l,function(o,n){function c(){f=removeUndefined(f),l={Model:a,where:n.where,data:f,currentInstance:d,hookState:n.hookState,options:t},a.notifyObserversOf("persist",l,function(e){return e?u(e):void(4===p.updateOrCreate.length?p.updateOrCreate(a.modelName,f,t,u):p.updateOrCreate(a.modelName,f,u))})}function u(e,o,s){var c={Model:a,data:o,hookState:n.hookState,options:t};a.notifyObserversOf("loaded",c,function(e){if(e)return r(e);var n;if(!o||o instanceof a?n=o:(d._initProperties(o,{persisted:!0}),n=d),e)r(e,n),e||a.emit("changed",d);else{var c={Model:a,instance:n,isNewInstance:s?s.isNewInstance:void 0,hookState:i,options:t};a.notifyObserversOf("after save",c,function(e){r(e,n),e||a.emit("changed",d)})}})}if(o)return r(o);e=n.data;var f=e,d=e;e instanceof a||(d=new a(e,{applyDefaultValues:!1})),f=d.toObject(!1),a.applyProperties(f,d),a=a.lookupModel(f);var p=s.getConnector(),h=void 0;void 0===t.validate?void 0===a.settings.validateUpsert?void 0!==a.settings.automaticValidation&&(h=a.settings.automaticValidation):h=a.settings.validateUpsert:h=t.validate,h===!1?c():d.isValid(function(e){if(!e){if(h)return r(new ValidationError(d),d);console.warn("Ignoring validation errors in updateOrCreate():"),console.warn("  %s",new ValidationError(d).message)}c()},f)})}else{var d={notify:!1};n.options&&n.options.transaction&&(d.transaction=n.options.transaction),a.findOne({where:n.query.where},d,function(o,n){if(o)return r(o);if(f||delete e[idName(a)],n)n.updateAttributes(e,t,r);else{a=s.lookupModel(e);var i=new a(e);i.save(t,r)}})}}var n=stillConnecting(this.getDataSource(),this,arguments);if(n)return n;void 0===t&&void 0===r?"function"==typeof e&&(r=e,e={}):void 0===r&&"function"==typeof t&&(r=t,t={}),r=r||utils.createPromiseCallback(),e=e||{},t=t||{},assert("object"==typeof e,"The data argument must be an object"),assert("object"==typeof t,"The options argument must be an object"),assert("function"==typeof r,"The cb argument must be a function");var i={},s=this,a=this,c=a.getConnector(),u=getIdValue(this,e);if(void 0===u||null===u)return this.create(e,t,r);var f={Model:a,query:byIdQuery(a,u),hookState:i,options:t};return a.notifyObserversOf("access",f,o),r.promise},DataAccessObject.findOrCreate=function(e,t,r,o){function n(e,t,n){function i(t,n,i){var u={Model:a,data:n,isNewInstance:i,hookState:s,options:r};a.notifyObserversOf("loaded",u,function(t){if(t)return o(t);var a,u=c.lookupModel(n);if(n&&(a=new u(n,{fields:e.fields,applySetters:!1,persisted:!0})),i){var f={Model:u,instance:a,isNewInstance:!0,hookState:s,options:r};u.notifyObserversOf("after save",f,function(e){o.promise?o(e,[a,i]):o(e,a,i),e||u.emit("changed",a)})}else o.promise?o(t,[a,i]):o(t,a,i)})}var f=c.modelName;t=removeUndefined(t);var l={Model:a,where:e.where,data:t,isNewInstance:!0,currentInstance:n,hookState:s,options:r};a.notifyObserversOf("persist",l,function(t){return t?o(t):void(5===u.findOrCreate.length?u.findOrCreate(f,e,c._forDB(l.data),r,i):u.findOrCreate(f,e,c._forDB(l.data),i))})}var i=stillConnecting(this.getDataSource(),this,arguments);if(i)return i;assert(arguments.length>=1,"At least one argument is required"),void 0===t&&void 0===r&&void 0===o?(assert("object"==typeof e,"Single argument must be data object"),t=e,e={where:t}):void 0===r&&void 0===o?"function"==typeof t&&(o=t,t=e,e={where:t}):void 0===o&&"function"==typeof r&&(o=r,r={}),o=o||utils.createPromiseCallback(),e=e||{where:{}},t=t||{},r=r||{},assert("object"==typeof e,"The query argument must be an object"),assert("object"==typeof t,"The data argument must be an object"),assert("object"==typeof r,"The options argument must be an object"),assert("function"==typeof o,"The cb argument must be a function");var s={},a=this,c=this,u=a.getConnector();if(u.findOrCreate){e.limit=1;try{this._normalize(e)}catch(f){return process.nextTick(function(){o(f)}),o.promise}this.applyScope(e);var l={Model:a,query:e,hookState:s,options:r};a.notifyObserversOf("access",l,function(e,i){if(e)return o(e);var a=i.query,u={},f=c.lookupModel(t),l=t instanceof f?t:new f(t);f.applyProperties(u,l),l.setAttributes(u);var d={Model:f,instance:l,isNewInstance:!0,hookState:s,options:r};f.notifyObserversOf("before save",d,function(e,t){if(e)return o(e);var i=t.instance,s=i.toObject(!0);r.validate===!1&&n(a,s,i),void 0===r.validate&&f.settings.automaticValidation===!1&&n(a,s,i),i.isValid(function(e){e?n(a,s,i):o(new ValidationError(i),i)},s)})})}else a.findOne(e,r,function(e,n){return e?o(e):n?o.promise?o(null,[n,!1]):o(null,n,!1):void a.create(t,r,function(e,t){o.promise?o(e,[t,null!=t]):o(e,t,null!=t)})});return o.promise},DataAccessObject.exists=function(e,t,r){var o=stillConnecting(this.getDataSource(),this,arguments);return o?o:(assert(arguments.length>=1,"The id argument is required"),void 0===r&&"function"==typeof t&&(r=t,t={}),r=r||utils.createPromiseCallback(),t=t||{},assert("object"==typeof t,"The options argument must be an object"),assert("function"==typeof r,"The cb argument must be a function"),void 0!==e&&null!==e&&""!==e?this.count(byIdQuery(this,e).where,t,function(e,t){r(e,e?!1:1===t)}):process.nextTick(function(){r(new Error("Model::exists requires the id argument"))}),r.promise)},DataAccessObject.findById=function(e,t,r,o){var n=stillConnecting(this.getDataSource(),this,arguments);if(n)return n;if(assert(arguments.length>=1,"The id argument is required"),void 0===r&&void 0===o?"function"==typeof t&&(o=t,t={}):void 0===o&&"function"==typeof r&&(o=r,r={},"object"!=typeof t||t.include||t.fields||(r=t,t={})),o=o||utils.createPromiseCallback(),r=r||{},t=t||{},assert("object"==typeof t,"The filter argument must be an object"),assert("object"==typeof r,"The options argument must be an object"),assert("function"==typeof o,"The cb argument must be a function"),isPKMissing(this,o))return o.promise;if(null==e||""===e)process.nextTick(function(){o(new Error("Model::findById requires the id argument"))});else{var i=byIdQuery(this,e);t.include&&(i.include=t.include),t.fields&&(i.fields=t.fields),this.findOne(i,r,o)}return o.promise},DataAccessObject.findByIds=function(e,t,r,o){if(void 0===r&&void 0===o?"function"==typeof t&&(o=t,t={}):void 0===o&&"function"==typeof r&&(o=r,r={}),o=o||utils.createPromiseCallback(),r=r||{},t=t||{},assert(Array.isArray(e),"The ids argument must be an array"),assert("object"==typeof t,"The query argument must be an object"),assert("object"==typeof r,"The options argument must be an object"),assert("function"==typeof o,"The cb argument must be a function"),isPKMissing(this,o))return o.promise;if(0===e.length)return process.nextTick(function(){o(null,[])}),o.promise;var n={where:{}},i=idName(this);n.where[i]={inq:[].concat(e)},mergeQuery(n,t||{});var s=n.order?!1:!0;return this.find(n,r,function(t,r){o(t,s?utils.sortObjectsByIds(i,e,r):r)}),o.promise},DataAccessObject.all=function(){return DataAccessObject.find.apply(this,arguments)},DataAccessObject._getSetting=function(e){var t=this.definition;if(t&&t.settings&&t.settings[e])return t.settings[e];var r=this.getDataSource();return r&&r.settings&&r.settings[e]?r.settings[e]:void 0};var operators={gt:">",gte:">=",lt:"<",lte:"<=",between:"BETWEEN",inq:"IN",nin:"NOT IN",neq:"!=",like:"LIKE",nlike:"NOT LIKE",regexp:"REGEXP"};DataAccessObject._normalize=function(e){if(e){var t=null;if("object"!=typeof e||Array.isArray(e))throw t=new Error(util.format("The query filter %j is not an object",e)),t.statusCode=400,t;if(e.limit||e.skip||e.offset){var r=Number(e.limit||100),o=Number(e.skip||e.offset||0);if(isNaN(r)||0>=r||Math.ceil(r)!==r)throw t=new Error(util.format("The limit parameter %j is not valid",e.limit)),t.statusCode=400,t;if(isNaN(o)||0>o||Math.ceil(o)!==o)throw t=new Error(util.format("The offset/skip parameter %j is not valid",e.skip||e.offset)),t.statusCode=400,t;e.limit=r,e.offset=o,e.skip=o}if(e.order){var n=e.order;Array.isArray(n)||(n=[n]);for(var i=[],s=0,a=n.length;a>s;s++){if("string"!=typeof n[s])throw t=new Error(util.format("The order %j is not valid",n[s])),t.statusCode=400,t;for(var c=n[s].split(/(?:\s*,\s*)+/),u=0,f=c.length;f>u;u++){var l=c[u];if(0!==l.length){var d=l.split(/\s+/);if(d.length>=2){var p=d[1].toUpperCase();if("ASC"!==p&&"DESC"!==p)throw t=new Error(util.format("The order %j has invalid direction",l)),t.statusCode=400,t;l=d[0]+" "+p}i.push(l)}}}1===i.length&&"string"==typeof e.order?e.order=i[0]:e.order=i}e.fields&&(e.fields=fieldsToArray(e.fields,Object.keys(this.definition.properties),this.settings.strict));var h=this._getSetting("normalizeUndefinedInQuery");return e=removeUndefined(e,h),this._coerce(e.where),e}},DataAccessObject._coerce=function(e){var t=this;if(!e)return e;var r;if("object"!=typeof e||Array.isArray(e))throw r=new Error(util.format("The where clause %j is not an object",e)),r.statusCode=400,r;var o=t.definition.properties;for(var n in e){if("and"===n||"or"===n||"nor"===n){var i=e[n];if(!Array.isArray(i))throw r=new Error(util.format("The %s operator has invalid clauses %j",n,i)),r.statusCode=400,r;for(var s=0;s<i.length;s++)t._coerce(i[s]);return e}var a=o[n]&&o[n].type;if(a&&((Array.isArray(a)||a===Array)&&(a=a[0]),a===Date?a=DateType:a===Boolean?a=BooleanType:a===Number&&(a=NumberType),a&&!(a.prototype instanceof BaseModel)&&a!==geo.GeoPoint)){var c=e[n];if(null!==c&&void 0!==c){var u=null,f=c;if(c.constructor===Object)for(var l in operators)if(l in c){switch(c=c[l],u=l){case"inq":case"nin":if(!Array.isArray(c))throw r=new Error(util.format("The %s property has invalid clause %j",n,e[n])),r.statusCode=400,r;break;case"between":if(!Array.isArray(c)||2!==c.length)throw r=new Error(util.format("The %s property has invalid clause %j",n,e[n])),r.statusCode=400,r;break;case"like":case"nlike":if(!("string"==typeof c||c instanceof RegExp))throw r=new Error(util.format("The %s property has invalid clause %j",n,e[n])),r.statusCode=400,r;break;case"regexp":if(c=utils.toRegExp(c),c instanceof Error)throw c.statusCode=400,r}break}if(Array.isArray(c))for(var d=0;d<c.length;d++)null!==c[d]&&void 0!==c[d]&&(c[d]=a(c[d]));else null!=c&&(null===u&&c instanceof RegExp?u="regexp":"regexp"===u&&c instanceof RegExp||("like"===u||"nlike"===u)&&c instanceof RegExp||(c=a(c)));if(u){var p={};p[u]=c,f.options&&(p.options=f.options),c=p}e[n]=c}}}return e},DataAccessObject.find=function(e,t,r){var o=stillConnecting(this.getDataSource(),this,arguments);if(o)return o;void 0===t&&void 0===r?"function"==typeof e&&(r=e,e={}):void 0===r&&"function"==typeof t&&(r=t,t={}),r=r||utils.createPromiseCallback(),e=e||{},t=t||{},assert("object"==typeof e,"The query argument must be an object"),assert("object"==typeof t,"The options argument must be an object"),assert("function"==typeof r,"The cb argument must be a function");var n={},i=this,s=i.getConnector();assert("function"==typeof s.all,"all() must be implemented by the connector");try{this._normalize(e)}catch(a){return process.nextTick(function(){r(a)}),r.promise}this.applyScope(e);var c=e&&geo.nearFilter(e.where),u=!!s.buildNearFilter;if(c)if(u)s.buildNearFilter(e,c);else if(e.where){var f={Model:i,query:e,hookState:n,options:t};return i.notifyObserversOf("access",f,function(e,o){function n(e,n){var s=new Memory,a=i.modelName;e?r(e):Array.isArray(n)?(s.define({properties:i.dataSource.definitions[i.modelName].properties,settings:i.dataSource.definitions[i.modelName].settings,model:i}),n.forEach(function(e){s.create(a,e,t,function(){})}),s.all(a,o.query,t,r)):r(null,[])}return e?r(e):void(4===s.all.length?s.all(i.modelName,{},t,n):s.all(i.modelName,{},n))}),r.promise}var l=function(o,s){var a=[];!o&&Array.isArray(s)?async.each(s,function(r,o){var s=r,c=i.lookupModel(s),u=new c(s,{fields:e.fields,applySetters:!1,persisted:!0});if(e&&e.include)if(e.collect)u=u.__cachedRelations[e.collect],null===u&&(u=void 0);else{var l=Inclusion.normalizeInclude(e.include||[]);l.forEach(function(e){var t=e;utils.isPlainObject(e)&&(t=Object.keys(e)[0]);var r=u.__cachedRelations[t];Array.isArray(r)&&(r=new List(r,null,u)),r&&(u.__data[t]=r)}),delete u.__data.__cachedRelations}void 0!==u?(f={Model:c,instance:u,isNewInstance:!1,hookState:n,options:t},c.notifyObserversOf("loaded",f,function(e){return e?o(e):(a.push(u),void o())})):o()},function(e){return e?r(e):(s&&s.countBeforeLimit&&(a.countBeforeLimit=s.countBeforeLimit),!u&&c&&(a=geo.filter(a,c)),void r(e,a))}):r(o,s||[])};if(t.notify===!1)4===s.all.length?s.all(i.modelName,e,t,l):s.all(i.modelName,e,l);else{var f={Model:this,query:e,hookState:n,options:t};this.notifyObserversOf("access",f,function(e,o){return e?r(e):void(4===s.all.length?s.all(i.modelName,o.query,t,l):s.all(i.modelName,o.query,l))})}return r.promise},DataAccessObject.findOne=function(e,t,r){var o=stillConnecting(this.getDataSource(),this,arguments);return o?o:(void 0===t&&void 0===r?"function"==typeof e&&(r=e,e={}):void 0===r&&"function"==typeof t&&(r=t,t={}),r=r||utils.createPromiseCallback(),e=e||{},t=t||{},assert("object"==typeof e,"The query argument must be an object"),assert("object"==typeof t,"The options argument must be an object"),assert("function"==typeof r,"The cb argument must be a function"),e.limit=1,this.find(e,t,function(e,t){return e||!t||!t.length>0?r(e,null):void r(e,t[0])}),r.promise)},DataAccessObject.remove=DataAccessObject.deleteAll=DataAccessObject.destroyAll=function(e,t,r){function o(e){function o(o,n){if(o)return r(o);if(t.notify===!1)return r(o,n);var s={Model:i,where:e,hookState:a,options:t};i.notifyObserversOf("after delete",s,function(t){r(t,n),t||i.emit("deletedAll",whereIsEmpty(e)?void 0:e)})}if(whereIsEmpty(e))4===s.destroyAll.length?s.destroyAll(i.modelName,{},t,o):s.destroyAll(i.modelName,{},o);else{try{e=removeUndefined(e),e=i._coerce(e)}catch(n){return process.nextTick(function(){r(n)})}4===s.destroyAll.length?s.destroyAll(i.modelName,e,t,o):s.destroyAll(i.modelName,e,o)}}var n=stillConnecting(this.getDataSource(),this,arguments);if(n)return n;var i=this,s=i.getConnector();assert("function"==typeof s.destroyAll,"destroyAll() must be implemented by the connector"),void 0===t&&void 0===r?"function"==typeof e&&(r=e,e={}):void 0===r&&"function"==typeof t&&(r=t,t={}),r=r||utils.createPromiseCallback(),e=e||{},t=t||{},assert("object"==typeof e,"The where argument must be an object"),assert("object"==typeof t,"The options argument must be an object"),assert("function"==typeof r,"The cb argument must be a function");var a={},c={where:e};this.applyScope(c),e=c.where;var u={Model:i,where:whereIsEmpty(e)?{}:e,hookState:a,options:t};if(t.notify===!1)o(e);else{c={where:whereIsEmpty(e)?{}:e};var u={Model:i,query:c,hookState:a,options:t};i.notifyObserversOf("access",u,function(e,n){if(e)return r(e);var s={Model:i,where:n.query.where,hookState:a,options:t};i.notifyObserversOf("before delete",s,function(e,t){return e?r(e):void o(t.where)})})}return r.promise},DataAccessObject.removeById=DataAccessObject.destroyById=DataAccessObject.deleteById=function(e,t,r){var o=stillConnecting(this.getDataSource(),this,arguments);if(o)return o;if(assert(arguments.length>=1,"The id argument is required"),void 0===r&&"function"==typeof t&&(r=t,t={}),t=t||{},r=r||utils.createPromiseCallback(),assert("object"==typeof t,"The options argument must be an object"),assert("function"==typeof r,"The cb argument must be a function"),isPKMissing(this,r))return r.promise;if(null==e||""===e)return process.nextTick(function(){r(new Error("Model::deleteById requires the id argument"))}),r.promise;var n=this;return this.remove(byIdQuery(this,e).where,t,function(t,o){if(t)return r(t);var i=o&&o.count>0;return n.settings.strictDelete&&!i?(t=new Error("No instance with id "+e+" found for "+n.modelName),t.code="NOT_FOUND",t.statusCode=404,r(t)):(r(null,o),void n.emit("deleted",e))}),r.promise},DataAccessObject.count=function(e,t,r){var o=stillConnecting(this.getDataSource(),this,arguments);if(o)return o;void 0===t&&void 0===r?"function"==typeof e&&(r=e,e={}):void 0===r&&"function"==typeof t&&(r=t,t={}),r=r||utils.createPromiseCallback(),e=e||{},t=t||{},assert("object"==typeof e,"The where argument must be an object"),assert("object"==typeof t,"The options argument must be an object"),assert("function"==typeof r,"The cb argument must be a function");var n=this,i=n.getConnector();assert("function"==typeof i.count,"count() must be implemented by the connector"),assert(i.count.length>=3,"count() must take at least 3 arguments");var s={},a={where:e};this.applyScope(a),e=a.where;try{e=removeUndefined(e),e=this._coerce(e)}catch(c){return process.nextTick(function(){r(c)}),r.promise}var u={Model:n,query:{where:e},hookState:s,options:t};return this.notifyObserversOf("access",u,function(o,s){return o?r(o):(e=s.query.where,void(i.count.length<=3?i.count(n.modelName,r,e):i.count(n.modelName,e,t,r)))}),r.promise},DataAccessObject.prototype.save=function(e,t){var r=stillConnecting(this.getDataSource(),this,arguments);if(r)return r;var o=this.constructor;if("function"==typeof e&&(t=e,e={}),t=t||utils.createPromiseCallback(),e=e||{},assert("object"==typeof e,"The options argument should be an object"),assert("function"==typeof t,"The cb argument should be a function"),isPKMissing(o,t))return t.promise;if(this.isNewRecord())return o.create(this,e,t);var n={};void 0===e.validate&&(void 0===o.settings.automaticValidation?e.validate=!0:e.validate=o.settings.automaticValidation),void 0===e["throws"]&&(e["throws"]=!1);var i=this,s=i.getConnector(),a=o.modelName,c={Model:o,instance:i,hookState:n,options:e};return o.notifyObserversOf("before save",c,function(r){function u(){i.trigger("save",function(r){i.trigger("update",function(u){function l(s,a,c){if(s)return t(s,i);var l={Model:o,data:f,isNewInstance:c&&c.isNewInstance,hookState:n,options:e};o.notifyObserversOf("loaded",l,function(s){if(s)return t(s);i._initProperties(f,{persisted:!0});var a={Model:o,instance:i,isNewInstance:c&&c.isNewInstance,hookState:n,options:e};o.notifyObserversOf("after save",a,function(e){return e?t(e,i):void u.call(i,function(){r.call(i,function(){t(e,i),e||o.emit("changed",i)})})})})}f=removeUndefined(f),c={Model:o,data:f,where:byIdQuery(o,getIdValue(o,i)).where,currentInstance:i,hookState:n,options:e},o.notifyObserversOf("persist",c,function(r){return r?t(r):void(4===s.save.length?s.save(a,i.constructor._forDB(f),e,l):s.save(a,i.constructor._forDB(f),l))})},f,t)},f,t)}if(r)return t(r);var f=i.toObject(!0);return o.applyProperties(f,i),i.setAttributes(f),e.validate?void i.isValid(function(r){if(r)u();else{var o=new ValidationError(i);if(e["throws"])throw o;t(o,i)}}):u()}),t.promise},DataAccessObject.update=DataAccessObject.updateAll=function(e,t,r,o){function n(e,t){function n(n,i){if(n)return o(n);var a={Model:s,where:e,data:t,hookState:c,options:r};s.notifyObserversOf("after save",a,function(e,t){return o(e,i)})}try{e=removeUndefined(e),e=s._coerce(e),t=removeUndefined(t),t=s._coerce(t)}catch(i){return process.nextTick(function(){o(i)})}var u={Model:s,where:e,data:t,hookState:c,options:r};s.notifyObserversOf("persist",u,function(i,c){return i?o(i):void(5===a.update.length?a.update(s.modelName,e,t,r,n):a.update(s.modelName,e,t,n))})}var i=stillConnecting(this.getDataSource(),this,arguments);if(i)return i;assert(arguments.length>=1,"At least one argument is required"),void 0===t&&void 0===r&&void 0===o&&1===arguments.length?(t=e,e={}):void 0===r&&void 0===o?"function"==typeof t&&(o=t,t=e,e={}):void 0===o&&"function"==typeof r&&(o=r,r={}),t=t||{},r=r||{},o=o||utils.createPromiseCallback(),assert("object"==typeof e,"The where argument must be an object"),assert("object"==typeof t,"The data argument must be an object"),assert("object"==typeof r,"The options argument must be an object"),assert("function"==typeof o,"The cb argument must be a function");var s=this,a=s.getDataSource().connector;assert("function"==typeof a.update,"update() must be implemented by the connector");var c={},u={where:e};this.applyScope(u),this.applyProperties(t),e=u.where;var f={Model:s,query:{where:e},hookState:c,options:r};return s.notifyObserversOf("access",f,function(e,i){if(e)return o(e);var a={Model:s,where:i.query.where,data:t,hookState:c,options:r};s.notifyObserversOf("before save",a,function(e,t){return e?o(e):void n(t.where,t.data)})}),o.promise},DataAccessObject.prototype.isNewRecord=function(){return!this.__persisted},DataAccessObject.prototype.getConnector=function(){return this.getDataSource().connector},DataAccessObject.prototype.remove=DataAccessObject.prototype["delete"]=DataAccessObject.prototype.destroy=function(e,t){function r(r){return isWhereByGivenId(s,r,a)?void n.trigger("destroy",function(o){function u(i,u){if(i)return t(i);var f=u&&u.count>0;return s.settings.strictDelete&&!f?(i=new Error("No instance with id "+a+" found for "+s.modelName),i.code="NOT_FOUND",i.statusCode=404,t(i)):void o(function(){var o={Model:s,where:r,instance:n,hookState:c,options:e};s.notifyObserversOf("after delete",o,function(e){t(e,u),e||s.emit("deleted",a)})})}4===i.destroy.length?i.destroy(n.constructor.modelName,a,e,u):i.destroy(n.constructor.modelName,a,u)},null,t):void s.deleteAll(r,{notify:!1},function(o,i){if(o)return t(o,!1);var u=i&&i.count>0;if(s.settings.strictDelete&&!u)return o=new Error("No instance with id "+a+" found for "+s.modelName),o.code="NOT_FOUND",o.statusCode=404,t(o,!1);var f={Model:s,where:r,instance:n,hookState:c,options:e};s.notifyObserversOf("after delete",f,function(e){t(e,i),e||s.emit("deleted",a)})})}var o=stillConnecting(this.getDataSource(),this,arguments);if(o)return o;void 0===t&&"function"==typeof e&&(t=e,e={}),t=t||utils.createPromiseCallback(),e=e||{},assert("object"==typeof e,"The options argument should be an object"),assert("function"==typeof t,"The cb argument should be a function");var n=this,i=this.getConnector(),s=this.constructor,a=getIdValue(this.constructor,this),c={};if(isPKMissing(s,t))return t.promise;var u={Model:s,query:byIdQuery(s,a),hookState:c,options:e};return s.notifyObserversOf("access",u,function(o,i){if(o)return t(o);var a={Model:s,where:i.query.where,instance:n,hookState:c,options:e};s.notifyObserversOf("before delete",a,function(e,o){return e?t(e):void r(o.where)})}),t.promise},DataAccessObject.prototype.setAttribute=function(e,t){this[e]=t},DataAccessObject.prototype.updateAttribute=function(e,t,r,o){var n={};return n[e]=t,this.updateAttributes(n,r,o)},DataAccessObject.prototype.setAttributes=function(e){if("object"==typeof e){this.constructor.applyProperties(e,this);var t=this.constructor,r=this;for(var o in e)r.setAttribute(o,e[o]);t.emit("set",r)}},DataAccessObject.prototype.unsetAttribute=function(e,t){t||this.constructor.definition.settings.persistUndefinedAsNull?this[e]=this.__data[e]=null:(delete this[e],delete this.__data[e])},DataAccessObject.prototype.updateAttributes=function(e,t,r){var o=stillConnecting(this.getDataSource(),this,arguments);if(o)return o;void 0===t&&void 0===r?"function"==typeof e&&(r=e,e=void 0):void 0===r&&"function"==typeof t&&(r=t,t={}),r=r||utils.createPromiseCallback(),t=t||{},assert("object"==typeof e&&null!==e,"The data argument must be an object"),assert("object"==typeof t,"The options argument must be an object"),assert("function"==typeof r,"The cb argument must be a function");var n=this,i=this.constructor,s=n.getConnector();if(assert("function"==typeof s.updateAttributes,"updateAttributes() must be implemented by the connector"),isPKMissing(i,r))return r.promise;var a=s.settings&&s.settings.allowExtendedOperators,c=this.__strict,u=i.modelName,f={};e instanceof i&&(e=e.toObject(!1)),e=removeUndefined(e);for(var l=i.definition.idNames(),d=0,p=l.length;p>d;d++){var h=l[d];if(void 0!==e[h]&&!idEquals(e[h],n[h])){var m=new Error("id property ("+h+") cannot be updated from "+n[h]+" to "+e[h]);return m.statusCode=400,process.nextTick(function(){r(m)}),r.promise}}var v={Model:i,where:byIdQuery(i,getIdValue(i,n)).where,data:e,currentInstance:n,hookState:f,options:t};return i.notifyObserversOf("before save",v,function(o,l){function d(){n.trigger("save",function(o){n.trigger("update",function(a){function c(e){if(e)return r(e);var s={Model:i,data:v.data,hookState:f,options:t};i.notifyObserversOf("loaded",s,function(e){return e?r(e):(n.__persisted=!0,i.settings.updateOnLoad&&n.setAttributes(s.data),void a.call(n,function(){o.call(n,function(){if(e)return r(e,n);var o={Model:i,instance:n,isNewInstance:!1,hookState:f,options:t};i.notifyObserversOf("after save",o,function(e){e||i.emit("changed",n),r(e,n)})})}))})}var l={};for(var d in e)n[d]=e[d],l[d]=n[d],"object"==typeof l[d]&&null!==l[d]&&"function"==typeof l[d].toObject&&(l[d]=l[d].toObject());v.data=l;var p={Model:i,where:byIdQuery(i,getIdValue(i,n)).where,data:v.data,currentInstance:n,hookState:f,options:t};i.notifyObserversOf("persist",p,function(e){5===s.updateAttributes.length?s.updateAttributes(u,getIdValue(n.constructor,n),n.constructor._forDB(v.data),t,c):s.updateAttributes(u,getIdValue(n.constructor,n),n.constructor._forDB(v.data),c)})},e,r)},e,r)}if(o)return r(o);if(e=l.data,c&&!a){for(var p,h=i.definition.properties,m=Object.keys(e),y={},b=0;b<m.length;b++)if(p=m[b],h[p])y[p]=e[p];else{if("throw"===c)return void r(new Error("Unknown property: "+p));"validate"===c&&n.__unknownProperties.push(p)}e=removeUndefined(y)}var g=!0;void 0===t.validate?void 0!==i.settings.automaticValidation&&(g=i.settings.automaticValidation):g=t.validate,n.setAttributes(e),g?n.isValid(function(e){return e?void d():void r(new ValidationError(n),n)},e):d()}),r.promise},DataAccessObject.prototype.reload=function(e){var t=stillConnecting(this.getDataSource(),this,arguments);return t?t:this.constructor.findById(getIdValue(this.constructor,this),e)};var defineScope=require("./scope.js").defineScope;DataAccessObject.scope=function(e,t,r,o,n){var i=this;return n&&n.isStatic===!1&&(i=i.prototype),defineScope(i,r||i,e,t,o,n)},jutil.mixin(DataAccessObject,Inclusion),jutil.mixin(DataAccessObject,Relation),jutil.mixin(DataAccessObject,require("./transaction")),PKMissingError.prototype=new Error;
}).call(this,require('_process'))

},{"./connectors/memory":111,"./geo":114,"./include.js":116,"./jutil":119,"./list.js":120,"./model":124,"./relations.js":127,"./scope.js":128,"./transaction":129,"./utils":131,"./validations":132,"_process":425,"assert":2,"async":133,"debug":134,"util":594}],113:[function(require,module,exports){
(function (process){
function DataSource(e,t,o){if(!(this instanceof DataSource))return new DataSource(e,t);"object"==typeof e&&void 0===t&&(t=e,e=void 0),"string"==typeof e&&-1!==e.indexOf("://")&&(e=utils.parseSettings(e)),"string"==typeof t&&-1!==t.indexOf("://")&&(t=utils.parseSettings(t)),this.modelBuilder=o||new ModelBuilder,this.models=this.modelBuilder.models,this.definitions=this.modelBuilder.definitions,this._operations={},this.setup(e,t),this._setupConnector();var n=this.connector,r=n&&n.DataAccessObject||this.constructor.DataAccessObject;this.DataAccessObject=function(){},Object.keys(r).forEach(function(e){var t=r[e];this.DataAccessObject[e]=t,"function"==typeof t&&this.defineOperation(e,{accepts:t.accepts,returns:t.returns,http:t.http,remoteEnabled:t.shared?!0:!1,scope:this.DataAccessObject,fnName:e})}.bind(this)),Object.keys(r.prototype).forEach(function(e){var t=r.prototype[e];this.DataAccessObject.prototype[e]=t,"function"==typeof t&&this.defineOperation(e,{prototype:!0,accepts:t.accepts,returns:t.returns,http:t.http,remoteEnabled:t.shared?!0:!1,scope:this.DataAccessObject.prototype,fnName:e})}.bind(this))}function connectorModuleNames(e){var t=[];return e.match(/^\//)||(t.push("./connectors/"+e),0!==e.indexOf("loopback-connector-")&&t.push("loopback-connector-"+e)),-1===["mongodb","oracle","mysql","postgresql","mssql","rest","soap"].indexOf(e)&&t.push(e),t}function tryModules(e,t){var o;t=t||require;for(var n=0;n<e.length;n++){try{o=t(e[n])}catch(r){}if(o)break}return o}function isModelClass(e){return e?e.prototype instanceof ModelBaseClass:!1}function isModelDataSourceAttached(e){return e&&!e.settings.unresolved&&e.dataSource instanceof DataSource}function capitalize(e){return e?e.charAt(0).toUpperCase()+(e.length>1?e.slice(1).toLowerCase():""):e}function fromDBName(e,t){if(!e)return e;var o=e.split(/-|_/);o[0]=t?o[0].toLowerCase():capitalize(o[0]);for(var n=1;n<o.length;n++)o[n]=capitalize(o[n]);return o.join("")}function hiddenProperty(e,t,o){Object.defineProperty(e,t,{writable:!1,enumerable:!1,configurable:!1,value:o})}function defineReadonlyProp(e,t,o){Object.defineProperty(e,t,{writable:!1,enumerable:!0,configurable:!0,value:o})}var ModelBuilder=require("./model-builder.js").ModelBuilder,ModelDefinition=require("./model-definition.js"),RelationDefinition=require("./relation-definition.js"),OberserverMixin=require("./observer"),jutil=require("./jutil"),utils=require("./utils"),ModelBaseClass=require("./model.js"),DataAccessObject=require("./dao.js"),defineScope=require("./scope.js").defineScope,EventEmitter=require("events").EventEmitter,util=require("util"),assert=require("assert"),async=require("async"),traverse=require("traverse");"loopback"===process.env.DEBUG&&(process.env.DEBUG="loopback:*");var debug=require("debug")("loopback:datasource");exports.DataSource=DataSource;var slice=Array.prototype.slice;util.inherits(DataSource,EventEmitter),DataSource.DataAccessObject=DataAccessObject,DataSource.prototype._setupConnector=function(){if(this.connector=this.connector||this.adapter,this.adapter=this.connector,this.connector){this.connector.dataSource||(this.connector.dataSource=this);var e=this;this.connector.log=function(t,o){e.log(t,o)},this.connector.logger=function(e){var t=Date.now(),o=this.log;return function(n){o(n||e,t)}},jutil.mixin(this.connector,OberserverMixin)}},DataSource._resolveConnector=function(e,t){var o=connectorModuleNames(e),n=tryModules(o,t),r=null;return n||(r=util.format('\nWARNING: LoopBack connector "%s" is not installed as any of the following modules:\n\n %s\n\nTo fix, run:\n\n    npm install %s\n',e,o.join("\n"),o[o.length-1])),{connector:n,error:r}},DataSource.prototype.setup=function(e,t){var o,n=this;if(e&&"object"==typeof e&&!t&&(t=e,e=void 0),"object"==typeof t&&(t.initialize?o=t:t.connector?o=t.connector:t.adapter&&(o=t.adapter)),this.settings=t||{},this.settings.debug=this.settings.debug||debug.enabled,this.settings.debug&&debug("Settings: %j",this.settings),this.connected=!1,this.connecting=!1,"string"==typeof o&&(e=o,o=void 0),e=e||o&&o.name,this.name=e,e&&!o)if("object"==typeof e)o=e,this.name=o.name;else{var r=DataSource._resolveConnector(e);if(o=r.connector,!o)return console.error(r.error),void this.emit("error",new Error(r.error))}if(o){var i=function(e,t){if(this._setupConnector(),!this.connector)throw new Error("Connector is not defined correctly: it should create `connector` member of dataSource");this.connected=!e,this.connected?this.emit("connected"):(console.error("Connection fails: ",e,"\nIt will be retried for the next request."),this.emit("error",e),this.connecting=!1)}.bind(this);"function"==typeof o.initialize?o.initialize(this,i):"function"==typeof o&&(this.connector=new o(this.settings),i())}n.connect=function(e){var t=this;return t.connected||t.connecting?void process.nextTick(function(){e&&e()}):(t.connecting=!0,void(t.connector.connect?t.connector.connect(function(o,n){o?(t.connected=!1,t.connecting=!1,t.emit("error",o)):(t.connected=!0,t.connecting=!1,t.emit("connected")),e&&e(o,n)}):process.nextTick(function(){t.connected=!0,t.connecting=!1,t.emit("connected"),e&&e()})))}},DataSource.relationTypes=Object.keys(RelationDefinition.RelationTypes),DataSource.prototype.defineScopes=function(e,t){if(t)for(var o in t)defineScope(e,e,o,t[o],{},t[o].options)},DataSource.prototype.defineRelations=function(e,t){var o=this,n=function(t,o,n,r){isModelDataSourceAttached(n)||n.once("dataAccessConfigured",function(n){if(!r||isModelDataSourceAttached(r)){var i=traverse(o).clone();i.as=t,i.model=n,r&&(i.through=r),e[o.type].call(e,t,i)}}),r&&!isModelDataSourceAttached(r)&&r.once("dataAccessConfigured",function(r){if(isModelDataSourceAttached(n)){var i=traverse(o).clone();i.as=t,i.model=n,i.through=r,e[o.type].call(e,t,i)}})};t&&Object.keys(t).forEach(function(r){var i=t[r];assert(-1!==DataSource.relationTypes.indexOf(i.type),"Invalid relation type: "+i.type);var c,a;if(i.polymorphic&&"belongsTo"!==i.type&&!i.model)throw new Error("No model specified for polymorphic "+i.type+": "+r);i.polymorphic&&(a="string"==typeof i.model?i.model:r,"string"==typeof i.polymorphic?a=i.polymorphic:"object"==typeof i.polymorphic&&"string"==typeof i.polymorphic.as&&(a=i.polymorphic.as)),i.model&&(c=isModelClass(i.model)?i.model:o.getModel(i.model,!0));var s=null;if(i.through&&(s=isModelClass(i.through)?i.through:o.getModel(i.through,!0)),c&&!isModelDataSourceAttached(c)||s&&!isModelDataSourceAttached(s))n(r,i,c,s);else{var u=traverse(i).clone();u.as=r,u.model=a||c,s&&(u.through=s),e[i.type].call(e,r,u)}})},DataSource.prototype.setupDataAccess=function(e,t){if(this.connector){var o=e.definition.idName(),n=e.definition.rawProperties[o];if(n&&n.generated&&this.connector.getDefaultIdType){var r=this.connector.getDefaultIdType()||String;n.type=r,e.definition.rawProperties[o].type=r,e.definition.properties[o].type=r,t.forceId&&e.validatesAbsenceOf(o,{"if":"isNewRecord"})}this.connector.define&&this.connector.define({model:e,properties:e.definition.properties,settings:t})}this.mixin(e);var i=t.relationships||t.relations;this.defineRelations(e,i),e.emit("dataAccessConfigured",e);var c=t.scopes||{};this.defineScopes(e,c)},DataSource.prototype.createModel=DataSource.prototype.define=function(e,t,o){var n=slice.call(arguments);if(!e)throw new Error("Class name required");1===n.length&&(t={},n.push(t)),2===n.length&&(o={},n.push(o)),t=t||{},o=o||{},this.isRelational()&&((void 0===o.strict||null===o.strict)&&(o.strict=!0),o.strict===!1&&(o.strict="throw"));var r=this.modelBuilder.define(e,t,o);return r.dataSource=this,o.unresolved?r:(this.setupDataAccess(r,o),r.emit("dataSourceAttached",r),r)},DataSource.prototype.mixin=function(e){var t=this.operations(),o=this.DataAccessObject;jutil.mixin(e,o,{proxyFunctions:!0,override:!0}),Object.keys(t).forEach(function(o){var n,r=t[o];r.enabled&&(n=r.prototype?e.prototype:e,Object.keys(r).filter(function(e){return~["scope","fnName","prototype"].indexOf(e)}).forEach(function(e){"undefined"!=typeof r[e]&&(r.scope[r.fnName][e]=r[e])}))})},DataSource.prototype.getModel=function(e,t){return this.modelBuilder.getModel(e,t)},DataSource.prototype.getModelDefinition=function(e){return this.modelBuilder.getModelDefinition(e)},DataSource.prototype.getTypes=function(){var e=this.connector&&this.connector.getTypes,t=e&&e()||[];return"string"==typeof t&&(t=t.split(/[\s,\/]+/)),t},DataSource.prototype.supportTypes=function(e){var t=this.getTypes();if(Array.isArray(e)){for(var o=0;o<e.length;o++)if(-1===t.indexOf(e[o]))return!1;return!0}return-1!==t.indexOf(e)},DataSource.prototype.attach=function(e){return e.dataSource===this?e:(e.modelBuilder!==this.modelBuilder&&(this.modelBuilder.definitions[e.modelName]=e.definition,this.modelBuilder.models[e.modelName]=e,e.modelBuilder=this.modelBuilder),e.dataSource=this,this.setupDataAccess(e,e.settings),e.emit("dataSourceAttached",e),e)},DataSource.prototype.defineProperty=function(e,t,o){this.modelBuilder.defineProperty(e,t,o);var n=this.getModelDefinition(e).properties[t];this.connector&&this.connector.defineProperty&&this.connector.defineProperty(e,t,n)},DataSource.prototype.automigrate=function(e,t){if(this.freeze(),t||"function"!=typeof e||(t=e,e=void 0),t=t||utils.createPromiseCallback(),!this.connector.automigrate)return process.nextTick(t),t.promise;"string"==typeof e&&(e=[e]);var o=this.connector._models;if(o&&"object"==typeof o){if(e=e||Object.keys(o),0===e.length)return process.nextTick(t),t.promise;var n=e.filter(function(e){return!(e in o)});if(n.length)return process.nextTick(function(){t(new Error("Cannot migrate models not attached to this datasource: "+n.join(" ")))}),t.promise}return this.connector.automigrate(e,t),t.promise},DataSource.prototype.autoupdate=function(e,t){if(this.freeze(),t||"function"!=typeof e||(t=e,e=void 0),t=t||utils.createPromiseCallback(),!this.connector.autoupdate)return process.nextTick(t),t.promise;"string"==typeof e&&(e=[e]);var o=this.connector._models;if(o&&"object"==typeof o){if(e=e||Object.keys(o),0===e.length)return process.nextTick(t),t.promise;var n=e.filter(function(e){return!(e in o)});if(n.length)return process.nextTick(function(){t(new Error("Cannot migrate models not attached to this datasource: "+n.join(" ")))}),t.promise}return this.connector.autoupdate(e,t),t.promise},DataSource.prototype.discoverModelDefinitions=function(e,t){return this.freeze(),void 0===t&&"function"==typeof e&&(t=e,e={}),e=e||{},t=t||utils.createPromiseCallback(),this.connector.discoverModelDefinitions?this.connector.discoverModelDefinitions(e,t):t&&process.nextTick(t),t.promise},DataSource.prototype.discoverModelDefinitionsSync=function(e){return this.freeze(),this.connector.discoverModelDefinitionsSync?this.connector.discoverModelDefinitionsSync(e):null},DataSource.prototype.discoverModelProperties=function(e,t,o){return this.freeze(),void 0===o&&"function"==typeof t&&(o=t,t={}),t=t||{},o=o||utils.createPromiseCallback(),this.connector.discoverModelProperties?this.connector.discoverModelProperties(e,t,o):o&&process.nextTick(o),o.promise},DataSource.prototype.discoverModelPropertiesSync=function(e,t){return this.freeze(),this.connector.discoverModelPropertiesSync?this.connector.discoverModelPropertiesSync(e,t):null},DataSource.prototype.discoverPrimaryKeys=function(e,t,o){return this.freeze(),void 0===o&&"function"==typeof t&&(o=t,t={}),t=t||{},o=o||utils.createPromiseCallback(),this.connector.discoverPrimaryKeys?this.connector.discoverPrimaryKeys(e,t,o):o&&process.nextTick(o),o.promise},DataSource.prototype.discoverPrimaryKeysSync=function(e,t){return this.freeze(),this.connector.discoverPrimaryKeysSync?this.connector.discoverPrimaryKeysSync(e,t):null},DataSource.prototype.discoverForeignKeys=function(e,t,o){return this.freeze(),void 0===o&&"function"==typeof t&&(o=t,t={}),t=t||{},o=o||utils.createPromiseCallback(),this.connector.discoverForeignKeys?this.connector.discoverForeignKeys(e,t,o):o&&process.nextTick(o),o.promise},DataSource.prototype.discoverForeignKeysSync=function(e,t){return this.freeze(),this.connector.discoverForeignKeysSync?this.connector.discoverForeignKeysSync(e,t):null},DataSource.prototype.discoverExportedForeignKeys=function(e,t,o){return this.freeze(),void 0===o&&"function"==typeof t&&(o=t,t={}),t=t||{},o=o||utils.createPromiseCallback(),this.connector.discoverExportedForeignKeys?this.connector.discoverExportedForeignKeys(e,t,o):o&&process.nextTick(o),o.promise},DataSource.prototype.discoverExportedForeignKeysSync=function(e,t){return this.freeze(),this.connector.discoverExportedForeignKeysSync?this.connector.discoverExportedForeignKeysSync(e,t):null},DataSource.prototype.discoverSchema=function(e,t,o){return t=t||{},o||"function"!=typeof t||(o=t,t={}),t.visited={},t.relations=!1,o=o||utils.createPromiseCallback(),this.discoverSchemas(e,t,function(e,t){if(e)return void(o&&o(e,t));for(var n in t)return void(o&&o(null,t[n]))}),o.promise},DataSource.prototype.discoverSchemas=function(e,t,o){t=t||{},o||"function"!=typeof t||(o=t,t={}),o=o||utils.createPromiseCallback();var n,r=this,i=this.connector.name||this.name;if(n=null===t.nameMapper?function(e,t){return t}:"function"==typeof t.nameMapper?t.nameMapper:function(e,t){return"table"===e||"model"===e?fromDBName(t,!1):fromDBName(t,!0)},this.connector.discoverSchemas)return this.connector.discoverSchemas(e,t,o),o.promise;var c=[this.discoverModelProperties.bind(this,e,t),this.discoverPrimaryKeys.bind(this,e,t)],a=t.associations||t.relations;return a&&c.push(this.discoverForeignKeys.bind(this,e,t)),async.parallel(c,function(c,s){if(c)return o(c),o.promise;var u=s[0];if(!u||0===u.length)return o(),o.promise;var l=s[1]||[],d={};l.forEach(function(e){d[e.columnName]=e.keySeq}),r.settings.debug&&debug("Primary keys: ",d);var p={name:n("table",e),options:{idInjection:!1},properties:{}};p.options[i]={schema:u[0].owner,table:e},u.forEach(function(e){var t=e,o=n("column",e.columnName);p.properties[o]={type:e.type,required:"N"===e.nullable||"NO"===e.nullable||0===e.nullable||e.nullable===!1,length:e.dataLength,precision:e.dataPrecision,scale:e.dataScale},d[e.columnName]&&(p.properties[o].id=d[e.columnName]),p.properties[o][i]={columnName:t.columnName,dataType:t.dataType,dataLength:t.dataLength,dataPrecision:e.dataPrecision,dataScale:e.dataScale,nullable:t.nullable}}),t.visited=t.visited||{};var f=u[0].owner+"."+e;t.visited.hasOwnProperty(f)||(r.settings.debug&&debug("Adding schema for "+f),t.visited[f]=p);var h={};if(a){var m={},y=s[2]||[];y.forEach(function(e){var t={keySeq:e.keySeq,owner:e.pkOwner,tableName:e.pkTableName,columnName:e.pkColumnName};m[e.fkName]?m[e.fkName].push(t):m[e.fkName]=[t]}),r.settings.debug&&debug("Foreign keys: ",m),p.options.relations={},y.forEach(function(e){var o=n("column",e.pkTableName);p.options.relations[o]={model:n("table",e.pkTableName),type:"belongsTo",foreignKey:n("column",e.fkColumnName)};var r=e.pkOwner+"."+e.pkTableName;t.visited.hasOwnProperty(r)||h.hasOwnProperty(r)||(h[r]={owner:e.pkOwner,tableName:e.pkTableName})})}if(0===Object.keys(h).length)o(null,t.visited);else{var v=[];for(var g in h){r.settings.debug&&debug("Discovering related schema for "+f);var b={};for(var S in t)b[S]=t[S];b.owner=h[g].owner,v.push(DataSource.prototype.discoverSchemas.bind(r,h[g].tableName,b))}async.parallel(v,function(e,t){var n=t&&t[0];o(e,n)})}}),o.promise},DataSource.prototype.discoverSchemasSync=function(e,t){var o=this,n=this.name||this.connector.name,r=this.discoverModelPropertiesSync(e,t);if(!r||0===r.length)return[];var i=t.nameMapper||function(e,t){return"table"===e||"model"===e?fromDBName(t,!1):fromDBName(t,!0)},c=this.discoverPrimaryKeysSync(e,t),a={};c.forEach(function(e){a[e.columnName]=e.keySeq}),o.settings.debug&&debug("Primary keys: ",a);var s={name:i("table",e),options:{idInjection:!1},properties:{}};s.options[n]={schema:r.length>0&&r[0].owner,table:e},r.forEach(function(e){var t=e,o=i("column",e.columnName);s.properties[o]={type:e.type,required:"N"===e.nullable,length:e.dataLength,precision:e.dataPrecision,scale:e.dataScale},a[e.columnName]&&(s.properties[o].id=a[e.columnName]),s.properties[o][n]={columnName:t.columnName,dataType:t.dataType,dataLength:t.dataLength,dataPrecision:e.dataPrecision,dataScale:e.dataScale,nullable:t.nullable}}),t.visited=t.visited||{};var u=r[0].owner+"."+e;t.visited.hasOwnProperty(u)||(o.settings.debug&&debug("Adding schema for "+u),t.visited[u]=s);var l={},d=t.associations||t.relations;if(d){var p={},f=this.discoverForeignKeysSync(e,t);f.forEach(function(e){var t={keySeq:e.keySeq,owner:e.pkOwner,tableName:e.pkTableName,columnName:e.pkColumnName};p[e.fkName]?p[e.fkName].push(t):p[e.fkName]=[t]}),o.settings.debug&&debug("Foreign keys: ",p),s.options.relations={},f.forEach(function(e){var o=i("column",e.pkTableName);s.options.relations[o]={model:i("table",e.pkTableName),type:"belongsTo",foreignKey:i("column",e.fkColumnName)};var n=e.pkOwner+"."+e.pkTableName;t.visited.hasOwnProperty(n)||l.hasOwnProperty(n)||(l[n]={owner:e.pkOwner,tableName:e.pkTableName})})}if(0===Object.keys(l).length)return t.visited;for(var h in l){o.settings.debug&&debug("Discovering related schema for "+u);var m={};for(var y in t)m[y]=t[y];m.owner=l[h].owner,o.discoverSchemasSync(l[h].tableName,m)}return t.visited},DataSource.prototype.discoverAndBuildModels=function(e,t,o){var n=this;t=t||{},this.discoverSchemas(e,t,function(e,r){if(e)return void(o&&o(e,r));var i=[];for(var c in r){var a=r[c];t.base&&(a.options=a.options||{},a.options.base=t.base),i.push(a)}var s=n.modelBuilder.buildModels(i,n.createModel.bind(n));o&&o(e,s)})},DataSource.prototype.discoverAndBuildModelsSync=function(e,t){t=t||{};var o=this.discoverSchemasSync(e,t),n=[];for(var r in o){var i=o[r];t.base&&(i.options=i.options||{},i.options.base=t.base),n.push(i)}var c=this.modelBuilder.buildModels(n,this.createModel.bind(this));return c},DataSource.prototype.buildModelFromInstance=function(e,t,o){var n=ModelBuilder.introspect(t);return this.createModel(e,n,o)},DataSource.prototype.isActual=function(e,t){this.freeze(),this.connector.isActual?this.connector.isActual(e,t):(t||"function"!=typeof e||(t=e,e=void 0),t&&process.nextTick(function(){t(null,!0)}))},DataSource.prototype.log=function(e,t){debug(e,t),this.emit("log",e,t)},DataSource.prototype.freeze=function(){if(!this.connector)throw new Error("The connector has not been initialized.");this.connector.freezeDataSource&&this.connector.freezeDataSource(),this.connector.freezeSchema&&this.connector.freezeSchema()},DataSource.prototype.tableName=function(e){return this.getModelDefinition(e).tableName(this.connector.name)},DataSource.prototype.columnName=function(e,t){return this.getModelDefinition(e).columnName(this.connector.name,t)},DataSource.prototype.columnMetadata=function(e,t){return this.getModelDefinition(e).columnMetadata(this.connector.name,t)},DataSource.prototype.columnNames=function(e){return this.getModelDefinition(e).columnNames(this.connector.name)},DataSource.prototype.idColumnName=function(e){return this.getModelDefinition(e).idColumnName(this.connector.name)},DataSource.prototype.idName=function(e){return this.getModelDefinition(e).idName||console.error("No id name",this.getModelDefinition(e)),this.getModelDefinition(e).idName()},DataSource.prototype.idNames=function(e){return this.getModelDefinition(e).idNames()},DataSource.prototype.idProperty=function(e){var t=this.getModelDefinition(e),o=t&&t.ids();return o&&o[0]&&o[0].property},DataSource.prototype.defineForeignKey=function(e,t,o,n){var r=null,i=this.getModelDefinition(o);n=n||i&&i.idName(),n&&(r=i.properties[n].type);var c=this.getModelDefinition(e);if(c.properties[t])return void(r&&(c.rawProperties[t].type=c.properties[t].type=r));var a={type:r},s=this.columnMetadata(o,n);if(s&&(s.dataType||s.dataLength)&&(a[this.connector.name]={},s.dataType&&(a[this.connector.name].dataType=s.dataType),s.dataLength&&(a[this.connector.name].dataLength=s.dataLength)),this.connector.defineForeignKey){var u=function(o,n){if(o)throw o;a.type=n||r,this.defineProperty(e,t,a)}.bind(this);switch(this.connector.defineForeignKey.length){case 4:this.connector.defineForeignKey(e,t,o,u);break;default:case 3:this.connector.defineForeignKey(e,t,u)}}else this.defineProperty(e,t,a)},DataSource.prototype.disconnect=function(e){var t=this;this.connected&&"function"==typeof this.connector.disconnect?this.connector.disconnect(function(o,n){t.connected=!1,e&&e(o,n)}):process.nextTick(function(){e&&e()})},DataSource.prototype.copyModel=function(e){var t=this,o=e.modelName,n=e.modelBuilder.getModelDefinition(o),r=function(){e.apply(this,[].slice.call(arguments))};return util.inherits(r,e),r.__proto__=e,hiddenProperty(r,"dataSource",t),hiddenProperty(r,"modelName",o),hiddenProperty(r,"relations",e.relations),o in t.modelBuilder.models||(t.modelBuilder.models[o]=r,t.modelBuilder.definitions[o]=new ModelDefinition(t.modelBuilder,n.name,n.properties,n.settings),!t.isTransaction&&t.connector&&t.connector.define&&t.connector.define({model:r,properties:n.properties,settings:n.settings})),r},DataSource.prototype.transaction=function(){var e=this,t=new EventEmitter;for(var o in e)t[o]=e[o];t.isTransaction=!0,t.origin=e,t.name=e.name,t.settings=e.settings,t.connected=!1,t.connecting=!1,t.connector=e.connector.transaction(),t.modelBuilder=new ModelBuilder,t.models=t.modelBuilder.models,t.definitions=t.modelBuilder.definitions;for(var n in e.modelBuilder.models)e.copyModel.call(t,e.modelBuilder.models[n]);return t.exec=function(e){t.connector.exec(e)},t},DataSource.prototype.enableRemote=function(e){var t=this.getOperation(e);if(!t)throw new Error(e+" is not provided by the attached connector");t.remoteEnabled=!0},DataSource.prototype.disableRemote=function(e){var t=this.getOperation(e);if(!t)throw new Error(e+" is not provided by the attached connector");t.remoteEnabled=!1},DataSource.prototype.getOperation=function(e){for(var t=this.operations(),o=Object.keys(t),n=0;n<o.length;n++){var r=t[o[n]];if(r.name===e)return r}},DataSource.prototype.operations=function(){return this._operations},DataSource.prototype.defineOperation=function(e,t,o){t.fn=o,t.name=e,this._operations[e]=t},DataSource.prototype.isRelational=function(){return this.connector&&this.connector.relational},DataSource.prototype.ready=function(e,t){var o=this;if(this.connected)return!1;var n=t.callee,r=null,i=null,c=null;r=function(){o.removeListener("error",i),c&&clearTimeout(c);var r=[].slice.call(t);try{n.apply(e,r)}catch(a){var s=r.pop();if("function"!=typeof s)throw a;process.nextTick(function(){s(a)})}},i=function(e){o.removeListener("connected",r),c&&clearTimeout(c);var n=[].slice.call(t),i=n.pop();"function"==typeof i&&process.nextTick(function(){i(e)})},this.once("connected",r),this.once("error",i);var a=this.settings.connectionTimeout||5e3;return c=setTimeout(function(){o.removeListener("error",i),o.removeListener("connected",r);var e=[].slice.call(t),n=e.pop();"function"==typeof n&&n(new Error("Timeout in connecting after "+a+" ms"))},a),this.connecting||this.connect(),!0},DataSource.prototype.ping=function(e){var t=this;t.connector.ping?this.connector.ping(e):t.connector.discoverModelProperties?t.discoverModelProperties("dummy",{},e):process.nextTick(function(){var o=t.connected?null:"Not connected";e(o)})},DataSource.Text=ModelBuilder.Text,DataSource.JSON=ModelBuilder.JSON,DataSource.Any=ModelBuilder.Any,DataSource.registerType=function(e){ModelBuilder.registerType(e)};
}).call(this,require('_process'))

},{"./dao.js":112,"./jutil":119,"./model-builder.js":122,"./model-definition.js":123,"./model.js":124,"./observer":125,"./relation-definition.js":126,"./scope.js":128,"./utils":131,"_process":425,"assert":2,"async":133,"debug":134,"events":84,"traverse":149,"util":594}],114:[function(require,module,exports){
function GeoPoint(t){return this instanceof GeoPoint?(2===arguments.length&&(t={lat:arguments[0],lng:arguments[1]}),assert(Array.isArray(t)||"object"==typeof t||"string"==typeof t,'must provide valid geo-coordinates array [lat, lng] or object or a "lat, lng" string'),"string"==typeof t&&(t=t.split(/,\s*/),assert(2===t.length,'must provide a string "lat,lng" creating a GeoPoint with a string')),Array.isArray(t)?t={lat:Number(t[0]),lng:Number(t[1])}:(t.lng=Number(t.lng),t.lat=Number(t.lat)),assert("object"==typeof t,"must provide a lat and lng object when creating a GeoPoint"),assert("number"==typeof t.lat&&!isNaN(t.lat),"lat must be a number when creating a GeoPoint"),assert("number"==typeof t.lng&&!isNaN(t.lng),"lng must be a number when creating a GeoPoint"),assert(t.lng<=180,"lng must be <= 180"),assert(t.lng>=-180,"lng must be >= -180"),assert(t.lat<=90,"lat must be <= 90"),assert(t.lat>=-90,"lat must be >= -90"),this.lat=t.lat,void(this.lng=t.lng)):new GeoPoint(t)}function geoDistance(t,e,n,a,r){var o=r&&r.type||"miles";t*=DEG2RAD,e*=DEG2RAD,n*=DEG2RAD,a*=DEG2RAD;var i=function(t){return Math.pow(Math.sin(t/2),2)},s=Math.sqrt(i(n-t)+Math.cos(n)*Math.cos(t)*i(a-e));return 2*Math.asin(s)*EARTH_RADIUS[o]}var assert=require("assert");exports.nearFilter=function(t){var e=!1;return t&&"object"==typeof t&&Object.keys(t).forEach(function(n){var a=t[n];a&&a.near&&(e={near:a.near,maxDistance:a.maxDistance,unit:a.unit,key:n})}),e},exports.filter=function(t,e){var n=e.near,a=e.maxDistance>0?e.maxDistance:!1,r=e.unit,o=e.key,i={},s=[];return t.forEach(function(t){var e=t[o];if(e&&(e instanceof GeoPoint||(e=GeoPoint(e)),"number"==typeof e.lat&&"number"==typeof e.lng)){var l=GeoPoint.distanceBetween(n,e,{type:r});a&&l>a||(i[t.id]=l,s.push(t))}}),s.sort(function(t,e){var n=t[o],a=e[o];if(n&&a){var r=i[t.id],s=i[e.id];return s===r?0:r>s?1:-1}return 0})},exports.GeoPoint=GeoPoint,GeoPoint.distanceBetween=function(t,e,n){t instanceof GeoPoint||(t=GeoPoint(t)),e instanceof GeoPoint||(e=GeoPoint(e));var a=t.lat,r=t.lng,o=e.lat,i=e.lng;return geoDistance(a,r,o,i,n)},GeoPoint.prototype.distanceTo=function(t,e){return GeoPoint.distanceBetween(this,t,e)},GeoPoint.prototype.toString=function(){return this.lat+","+this.lng};var DEG2RAD=.01745329252,RAD2DEG=57.29577951308,EARTH_RADIUS={kilometers:6370.99056,meters:6370990.56,miles:3958.75,feet:20902200,radians:1,degrees:RAD2DEG};
},{"assert":2}],115:[function(require,module,exports){
function Hookable(){}function capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}function deprecateHook(e,o,t){var a=o.map(function(e){return e+t});"Validate"===t&&a.push(o[0]+"Validation");var r=a.filter(function(o){return!!e[o]})[0];r&&(e.modelName&&(r=e.modelName+"."+r),deprecated('Model hook "'+r+'" is deprecated, use Operation hooks instead. http://docs.strongloop.com/display/LB/Operation+hooks'))}var deprecated=require("depd")("loopback-datasource-juggler");module.exports=Hookable,Hookable.afterInitialize=null,Hookable.beforeValidate=null,Hookable.afterValidate=null,Hookable.beforeSave=null,Hookable.afterSave=null,Hookable.beforeCreate=null,Hookable.afterCreate=null,Hookable.beforeUpdate=null,Hookable.afterUpdate=null,Hookable.beforeDestroy=null,Hookable.afterDestroy=null,Hookable.prototype.trigger=function(e,o,t,a){function r(e){i?i.call(c,e):e&&e.call(this)}var l=capitalize(e),n=this.constructor["before"+l]||this.constructor["pre"+l],i=this.constructor["after"+l]||this.constructor["post"+l];"validate"===e&&(n=n||this.constructor.beforeValidation,i=i||this.constructor.afterValidation);var c=this;"initialize"!==e&&(n&&deprecateHook(c.constructor,["before","pre"],l),i&&deprecateHook(c.constructor,["after","post"],l)),o?n?n.call(c,function(){return arguments.length?a&&a.apply(null,arguments):void o.call(c,r)},t):o.call(c,r):r()};
},{"depd":110}],116:[function(require,module,exports){
(function (process){
function normalizeInclude(e){var n;if("string"==typeof e)return[e];if(isPlainObject(e)){n=[];var i=e.rel||e.relation,o={};if("string"==typeof i)o[i]=new IncludeScope(e.scope),n.push(o);else for(var t in e)o[t]=e[t],n.push(o);return n}if(Array.isArray(e)){n=[];for(var r=0,a=e.length;a>r;r++){var c=normalizeInclude(e[r]);n=n.concat(c)}return n}return e}function IncludeScope(e){this._scope=utils.deepMerge({},e||{}),this._scope.include?(this._include=normalizeInclude(this._scope.include),delete this._scope.include):this._include=null}function idName(e){return e.definition.idName()||"id"}function lookupModel(e,n){if(e[n])return e[n];var i=n.toLowerCase();for(var o in e)if(o.toLowerCase()===i)return e[o]}function execTasksWithInterLeave(e,n){process.nextTick(function(){async.parallel(e,function(e,i){process.nextTick(function(){n(e,i)})})})}function Inclusion(){}var async=require("async"),utils=require("./utils"),List=require("./list"),includeUtils=require("./include_utils"),isPlainObject=utils.isPlainObject,defineCachedRelations=utils.defineCachedRelations,uniq=utils.uniq;IncludeScope.prototype.conditions=function(){return utils.deepMerge({},this._scope)},IncludeScope.prototype.include=function(){return this._include},module.exports=Inclusion,Inclusion.normalizeInclude=normalizeInclude,Inclusion.include=function(e,n,i,o){function t(e,n,i,o){function t(n){function o(e,o){function t(e,o){function t(e){function n(e,n){var i=e[m],o=c[i.toString()];async.each(o,function(n,i){return n?(n.__cachedRelations[y].push(e),void h(n,i)):i()},n)}async.each(o,n,e)}if(e)return n(e);var r=[];v&&o&&r.push(function(e){T.modelTo.include(o,v,i,e)}),r.push(t),execTasksWithInterLeave(r,n)}if(e)return n(e);for(var a=[],c={},l=0;l<o.length;l++){var u=o[l],s=u[T.keyThrough];if(s){a.push(s);var d=r[u[T.keyTo]],f=s.toString(),p=c[f]=c[f]||[];p.push(d)}}var m=idName(T.modelTo);k.where[m]={inq:uniq(a)},Array.isArray(R)&&-1===R.indexOf(m)?R.push(m):isPlainObject(R)&&!R[m]&&(R[m]=!0),T.modelTo.find(k,i,t)}for(var t=[],r={},a=0;a<e.length;a++){var c=e[a],l=c[T.keyFrom];l&&(t.push(l),r[l.toString()]=c),defineCachedRelations(c),c.__cachedRelations[y]=[]}var u={where:{}};u.where[T.keyTo]={inq:uniq(t)},_&&(u.where[_.discriminator]=T.modelFrom.definition.name),T.modelThrough.find(u,i,o)}function a(n){function o(e,o){function c(e){function n(e,n){var i=a[e[T.keyTo].toString()];async.each(i,function(n,i){return n?(n.__cachedRelations[y].push(e),void h(n,i)):i()},n)}async.each(o,n,e)}if(e)return n(e);var l=[];v&&o&&l.push(function(e){T.modelTo.include(o,v,i,e)}),o=utils.sortObjectsByIds(t,r,o),l.push(c),execTasksWithInterLeave(l,n)}for(var t=idName(T.modelTo),r=[],a={},c=0;c<e.length;c++){var l=e[c],u=l[T.keyFrom];if(u){"string"==typeof u&&(u=JSON.parse(u)),r=r.concat(u);for(var s=0;s<u.length;s++){var d=u[s],f=d.toString(),p=a[f]=a[f]||[];p.push(l)}}defineCachedRelations(l),l.__cachedRelations[y]=[]}k.where[T.keyTo]={inq:uniq(r)},T.applyScope(null,k),T.modelTo.find(k,i,o)}function c(n){function o(i,o){if(i)return n(i);var r=includeUtils.buildOneToManyIdentityMapWithOrigKeys(o,T.keyTo);includeUtils.join(t,r,function(e,n){defineCachedRelations(e),e.__cachedRelations[y]=n,h(e,function(){})}),n(i,e)}var t=includeUtils.buildOneToOneIdentityMapWithOrigKeys(e,T.keyFrom);k.where[T.keyTo]={inq:uniq(t.getKeys())},T.applyScope(null,k),T.modelTo.find(k,i,o)}function l(n){function o(o,t){function a(n){function i(n,i){var o=[].concat(n[T.keyTo]);async.each(o,function(e,i){var o=r[e.toString()];return o?(o.__cachedRelations[y].push(n),void h(o,i)):i()},function(n,o){if(n)return i(n);var t=e.filter(function(e){return 0===e.__cachedRelations[y].length});async.each(t,function(e,n){h(e,n)},function(e){i(e,o)})})}return 0===t.length?async.each(e,function(e,n){h(e,n)},n):void async.each(t,i,n)}if(o)return n(o);var c=[];v&&t&&c.push(function(e){T.modelTo.include(t,v,i,e)}),c.push(a),execTasksWithInterLeave(c,n)}for(var t=[],r={},a=0;a<e.length;a++){var c=e[a],l=c[T.keyFrom];l&&(t.push(l),r[l.toString()]=c),defineCachedRelations(c),c.__cachedRelations[y]=[]}k.where[T.keyTo]={inq:uniq(t)},T.applyScope(null,k),i.partitionBy=T.keyTo,T.modelTo.find(k,i,o)}function u(n){function o(e,n){function o(o,t){function a(n){function i(e,n){var i=o[e[T.keyTo].toString()];async.each(i,function(n,i){return n?(n.__cachedRelations[y]=e,void h(n,i)):i()},n)}var o=r[e];async.each(t,i,n)}if(o)return n(o);var c=[];v&&t&&c.push(function(e){l.include(t,v,i,e)}),c.push(a),execTasksWithInterLeave(c,n)}var a={where:{}};utils.mergeQuery(a,k);var c=t[e];a.where[T.keyTo]={inq:uniq(c)};var l=lookupModel(T.modelFrom.dataSource.modelBuilder.models,e);return l?(T.applyScope(null,a),void l.find(a,i,o)):void n(new Error('Discriminator type "'+e+" specified but no model exists with such name"))}for(var t={},r={},a=0;a<e.length;a++){var c=e[a],l=_.discriminator,u=c[l];if(u){t[u]=t[u]||[],r[u]=r[u]||{};var s=t[u],d=r[u],f=c[T.keyFrom];if(f){s.push(f);var p=f.toString();d[p]=d[p]||[],d[p].push(c)}}defineCachedRelations(c),c.__cachedRelations[y]=null}async.each(Object.keys(t),o,n)}function s(n){function o(e,o){function t(e){function n(e,n){var i=e[T.keyTo];if(!i)return n();var o=r[i.toString()];return o?(o.__cachedRelations[y]=e,void h(o,n)):n()}async.each(o,n,e)}if(e)return n(e);var a=[];v&&o&&a.push(function(e){T.modelTo.include(o,v,i,e)}),a.push(t),execTasksWithInterLeave(a,n)}for(var t=[],r={},a=0;a<e.length;a++){var c=e[a],l=c[T.keyFrom];l&&(t.push(l),r[l.toString()]=c),defineCachedRelations(c),c.__cachedRelations[y]=null}k.where[T.keyTo]={inq:uniq(t)},T.applyScope(null,k),T.modelTo.find(k,i,o)}function d(n){function o(e,o){function t(e){function n(e,n){var i=e[T.keyTo],o=r[i.toString()];async.each(o,function(n,i){return n?(n.__cachedRelations[y]=e,void h(n,i)):i()},n)}async.each(o,n,e)}if(e)return n(e);var a=[];v&&o&&a.push(function(e){T.modelTo.include(o,v,i,e)}),a.push(t),execTasksWithInterLeave(a,n)}for(var t=[],r={},a=0;a<e.length;a++){var c=e[a];if("belongsTo"!==T.type||null!==c[T.keyFrom]&&void 0!==c[T.keyFrom]){var l=c[T.keyFrom];if(l){t.push(l);var u=l.toString();r[u]=r[u]||[],r[u].push(c)}defineCachedRelations(c),c.__cachedRelations[y]=null}else defineCachedRelations(c),c.__cachedRelations[y]=null}k.where[T.keyTo]={inq:uniq(t)},T.applyScope(null,k),T.modelTo.find(k,i,o)}function f(n){async.each(e,function(e,n){h(e,n)},n)}function h(e,n){function o(n,i){t?(!Array.isArray(n)||n instanceof List||(n=new List(n,T.modelTo)),e.__data[y]=n,e.setStrict(!1)):e[y]=n,i(null,n)}var t=e instanceof r;if("belongsTo"===T.type&&(null===e[T.keyFrom]||void 0===e[T.keyFrom]))return defineCachedRelations(e),e.__cachedRelations[y]=null,t?e.__data[y]=null:e[y]=null,n();if(e.__cachedRelations&&void 0!==e.__cachedRelations[y])return o(e.__cachedRelations[y],n);var a,c=e instanceof r?e:new r(e);if((T.multiple||"belongsTo"===T.type)&&m){var l={},u=m.conditions();u.fields&&Array.isArray(v)&&T.modelTo.relations&&(l.fields=[],v.forEach(function(e){var n=T.modelTo.relations[e];n&&"belongsTo"===n.type&&l.fields.push(n.keyFrom)})),utils.mergeQuery(u,l,{fields:!1}),a=c[y].bind(c,u)}else a=c[y].bind(c,void 0);a(i,function(i,t){return i?n(i):(defineCachedRelations(e),e.__cachedRelations[y]=t,o(t,n))})}var y,p=r.relations,v=null,m=null;isPlainObject(n)?(y=Object.keys(n)[0],n[y]instanceof IncludeScope?(m=n[y],v=m.include()):(v=n[y],v===!0&&(v=null))):(y=n,v=null);var T=p[y];if(!T)return void o(new Error('Relation "'+y+'" is not defined for '+r.modelName+" model"));var _=T.polymorphic;if(!T.modelTo&&!T.polymorphic)return void o(new Error("Relation.modelTo is not defined for relation"+y+" and is no polymorphic"));if(T.options.disableInclude)return o();var k=m&&m.conditions()||{};if((T.multiple||"belongsTo"===T.type)&&m){var g={};k.fields&&Array.isArray(v)&&T.modelTo.relations&&(g.fields=[],v.forEach(function(e){var n=T.modelTo.relations[e];n&&"belongsTo"===n.type&&g.fields.push(n.keyFrom)})),utils.mergeQuery(k,g,{fields:!1})}k.where=k.where||{};var R=k.fields;return Array.isArray(R)&&-1===R.indexOf(T.keyTo)?R.push(T.keyTo):isPlainObject(R)&&!R[T.keyTo]&&(R[T.keyTo]=!0),T.multiple?T.modelThrough?t(o):"embedsMany"===T.type?f(o):"referencesMany"===T.type?a(o):"hasMany"===T.type&&T.multiple&&!v?c(o):l(o):_?"hasOne"===T.type?s(o):u(o):"embedsOne"===T.type?f(o):d(o)}"function"==typeof i&&void 0===o&&(o=i,i={});var r=this;return!n||Array.isArray(n)&&0===n.length||Array.isArray(e)&&0===e.length||isPlainObject(n)&&0===Object.keys(n).length?process.nextTick(function(){o&&o(null,e)}):(n=normalizeInclude(n),void async.each(n,function(n,o){t(e,n,i,o)},function(n){o&&o(n,e)}))};
}).call(this,require('_process'))

},{"./include_utils":117,"./list":120,"./utils":131,"_process":425,"async":133}],117:[function(require,module,exports){
function buildOneToOneIdentityMapWithOrigKeys(e,n){for(var t=new KVMap,r=0;r<e.length;r++){var i=e[r],o=i[n];t.set(o,i)}return t}function buildOneToManyIdentityMapWithOrigKeys(e,n){for(var t=new KVMap,r=0;r<e.length;r++){var i=e[r],o=i[n],u=t.get(o)||[];u.push(i),t.set(o,u)}return t}function join(e,n,t){for(var r=e.getKeys(),i=0;i<r.length;i++){var o=r[i],u=e.get(o),a=n.get(o)||[];t(u,a)}}function KVMap(){var e="originalKey",n="value",t={},r=function(e){return e.toString()},i={set:function(i,o){var u={};return u[e]=i,u[n]=o,t[r(i)]=u,!0},get:function(e){var i=t[r(e)];return i?i[n]:void 0},remove:function(e){return delete t[r(e)],!0},exist:function(e){var n=t.hasOwnProperty(r(e));return n},getKeys:function(){var n=[];for(var r in t)n.push(t[r][e]);return n}};return i}module.exports.buildOneToOneIdentityMapWithOrigKeys=buildOneToOneIdentityMapWithOrigKeys,module.exports.buildOneToManyIdentityMapWithOrigKeys=buildOneToManyIdentityMapWithOrigKeys,module.exports.join=join,module.exports.KVMap=KVMap;
},{}],118:[function(require,module,exports){
module.exports=function(r){function n(e){if(null===e||void 0===e)return r.Any;for(var t in r.schemaTypes){var a=r.schemaTypes[t];if(a!==Object&&a!==Array&&e instanceof a)return t}var i=typeof e;if("string"===i||"number"===i||"boolean"===i)return i;if(e instanceof Date)return"date";var o;if(Array.isArray(e)){for(var u=0;u<e.length;u++)if(null!==e[u]&&void 0!==e[u]&&(o=n(e[u])))return[o];return"array"}if("function"===i)return e.constructor.name;var f={};for(var c in e)o=n(e[c]),o&&(f[c]=o);return 0===Object.keys(f).length?"object":f}return r.introspect=n,n};
},{}],119:[function(require,module,exports){
function mixInto(e,i,r){Object.keys(e).forEach(function(t){var n=i.hasOwnProperty(t),o=Object.getOwnPropertyDescriptor(e,t),s=n&&Object.getOwnPropertyDescriptor(i,t),p=("function"==typeof o.value,n&&"function"==typeof s.value),c=p&&s.value._delegate,a=r.override||!n||c;return"_mixins"==t?void mergeMixins(e._mixins,i._mixins):void(a&&Object.defineProperty(i,t,o))})}function mergeMixins(e,i){for(var r in e){var t=e[r];-1===i.indexOf(t)&&i.push(t)}}var util=require("util");exports.inherits=function(e,i,r){util.inherits(e,i),r=r||{staticProperties:!0,override:!1},r.staticProperties&&Object.keys(i).forEach(function(t){if("super_"!==t&&(!e.hasOwnProperty(t)||r.override)){var n=Object.getOwnPropertyDescriptor(i,t);Object.defineProperty(e,t,n)}})},exports.mixin=function(e,i,r){if(Array.isArray(e._mixins)){if(-1!==e._mixins.indexOf(i))return;e._mixins.push(i)}else e._mixins=[i];return r=r||{staticProperties:!0,instanceProperties:!0,override:!1,proxyFunctions:!1},void 0===r.staticProperties&&(r.staticProperties=!0),void 0===r.instanceProperties&&(r.instanceProperties=!0),r.staticProperties&&mixInto(i,e,r),r.instanceProperties&&i.prototype&&mixInto(i.prototype,e.prototype,r),e};
},{"util":594}],120:[function(require,module,exports){
function List(t,r,e){var i=this;if(!(i instanceof List))return new List(t,r,e);if("string"==typeof t)try{t=JSON.parse(t)}catch(o){var s=new Error(util.format("could not create List from JSON string: %j",t));throw s.statusCode=400,s}var n=[];if(n.__proto__=List.prototype,t=t||[],!Array.isArray(t)){var s=new Error(util.format("Items must be an array: %j",t));throw s.statusCode=400,s}return r||(r=t[0]&&t[0].constructor),Array.isArray(r)&&(r=r[0]),r===Array&&(r=Any),Object.defineProperty(n,"itemType",{writable:!0,enumerable:!1,value:r}),e&&Object.defineProperty(n,"parent",{writable:!0,enumerable:!1,value:e}),t.forEach(function(t,e){!r||t instanceof r?n[e]=t:n[e]=r(t)}),n}var util=require("util"),Any=require("./types").Types.Any;module.exports=List,util.inherits(List,Array);var _push=List.prototype.push;List.prototype.push=function(t){var r=this.itemType&&t instanceof this.itemType?t:this.itemType(t);return _push.call(this,r),r},List.prototype.toObject=function(t,r,e){var i=[];return this.forEach(function(o){o&&"object"==typeof o&&o.toObject?i.push(o.toObject(t,r,e)):i.push(o)}),i},List.prototype.toJSON=function(){return this.toObject(!0)},List.prototype.toString=function(){return JSON.stringify(this.toJSON())};
},{"./types":130,"util":594}],121:[function(require,module,exports){
function isModelClass(i){return i?i.prototype instanceof DefaultModelBaseClass:!1}function MixinProvider(i){this.modelBuilder=i,this.mixins={}}var debug=require("debug")("loopback:mixin"),assert=require("assert"),DefaultModelBaseClass=require("./model.js");module.exports=MixinProvider,MixinProvider.prototype.applyMixin=function(i,e,n){var o=this.mixins[e];if("function"==typeof o)i.dataSource?o(i,n||{}):i.once("dataSourceAttached",function(){o(i,n||{})});else{var s=this.modelBuilder.getModel(e);s?(debug("Mixin is resolved to a model: %s",e),i.mixin(s,n)):debug("Invalid mixin: %s",e)}},MixinProvider.prototype.define=function(i,e){assert("function"==typeof e,"The mixin must be a function or model class"),this.mixins[i]?debug("Duplicate mixin: %s",i):debug("Defining mixin: %s",i),isModelClass(e)?this.mixins[i]=function(i,n){i.mixin(e,n)}:"function"==typeof e&&(this.mixins[i]=e)};
},{"./model.js":124,"assert":2,"debug":134}],122:[function(require,module,exports){
function ModelBuilder(){this.models={},this.definitions={},this.mixins=new MixinProvider(this),this.defaultModelBaseClass=DefaultModelBaseClass}function isModelClass(e){return e?e.prototype instanceof DefaultModelBaseClass:!1}function DateType(e){var t=new Date(e);if(isNaN(t.getTime()))throw new Error("Invalid date: "+e);return t}function BooleanType(e){if("string"==typeof e)switch(e){case"true":case"1":return!0;case"false":case"0":return!1}return null==e?null:Boolean(e)}function hiddenProperty(e,t,i){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:i})}var inflection=require("inflection"),EventEmitter=require("events").EventEmitter,util=require("util"),assert=require("assert"),deprecated=require("depd")("loopback-datasource-juggler"),DefaultModelBaseClass=require("./model.js"),List=require("./list.js"),ModelDefinition=require("./model-definition.js"),mergeSettings=require("./utils").mergeSettings,MixinProvider=require("./mixins");require("./types")(ModelBuilder);var introspect=require("./introspection")(ModelBuilder);exports.ModelBuilder=exports.Schema=ModelBuilder;var slice=Array.prototype.slice;util.inherits(ModelBuilder,EventEmitter),ModelBuilder.defaultInstance=new ModelBuilder,ModelBuilder.prototype.getModel=function(e,t){var i=this.models[e];return!i&&t&&(i=this.define(e,{},{unresolved:!0})),i},ModelBuilder.prototype.getModelDefinition=function(e){return this.definitions[e]},ModelBuilder.prototype.define=function(e,t,i,r){var n=this,o=slice.call(arguments),s=i&&i.plural||inflection.pluralize(e),a=i&&i.http||{},d=a.path||s;if(!e)throw new Error("Class name required");1===o.length&&(t={},o.push(t)),2===o.length&&(i={},o.push(i)),t=t||{},i=i||{},(void 0===i.strict||null===i.strict)&&(i.strict=!1);var l=r||this.defaultModelBaseClass,u=i.base||i["super"];if(u&&(i.base=u,delete i["super"],isModelClass(u)?l=u:(l=this.models[u],assert(l,"Base model is not found: "+u))),r&&!i.base||!r&&i.base)return l.extend(e,t,i);var p=this.models[e];if(!p||!p.settings.unresolved){p=function w(e,t){if(!(this instanceof w))return new w(e,t);if(p.settings.unresolved)throw new Error("Model "+p.modelName+" is not defined.");l.apply(this,arguments)};var f=new EventEmitter;f.setMaxListeners(32);for(var c in EventEmitter.prototype)if("function"==typeof EventEmitter.prototype[c]){if("on"!==c){p[c]=EventEmitter.prototype[c].bind(f);continue}p.on=function(e){-1!==["changed","deleted","deletedAll"].indexOf(e)&&deprecated(this.modelName+"'s event \""+e+'" is deprecated, use Operation hooks instead. http://docs.strongloop.com/display/LB/Operation+hooks'),EventEmitter.prototype.on.apply(f,arguments)}}hiddenProperty(p,"modelName",e)}if(util.inherits(p,l),this.models[e]=p,i.unresolved)return p.settings={unresolved:!0},p;hiddenProperty(p,"modelBuilder",n),hiddenProperty(p,"dataSource",null),hiddenProperty(p,"pluralModelName",s),hiddenProperty(p,"relations",{}),"/"!==d[0]&&(d="/"+d),hiddenProperty(p,"http",{path:d}),hiddenProperty(p,"base",l),hiddenProperty(p,"_observers",{});for(var y in l)"_mixins"===y||y in p||(p[y]=l[y]);i.models&&Object.keys(i.models).forEach(function(e){var t=i.models[e];p[e]="string"==typeof t?n.getModel(t,!0):t}),p.getter={},p.setter={};for(var h in t)(null===t[h]||t[h]===!1)&&delete t[h],/\./.test(h)&&deprecated("Property names containing a dot are not supported. Model: "+e+", property: "+h);var m=new ModelDefinition(this,e,t,i);this.definitions[e]=m,p.definition=m,p.settings=m.settings;var v=i.idInjection;v!==!1&&(v=!0);var g=m.idNames();if(g.length>0&&(v=!1),v&&p.definition.defineProperty("id",{type:Number,id:1,generated:!0}),g=m.idNames(),1===g.length){var M=g[0];"id"!==M&&Object.defineProperty(p.prototype,"id",{get:function(){var e=p.definition.idNames()[0];return this.__data[e]},configurable:!0,enumerable:!1})}else Object.defineProperty(p.prototype,"id",{get:function(){for(var e,t={},i=p.definition.idNames(),r=0;r<i.length;r++)e=i[r],t[e]=this.__data[e];return t},configurable:!0,enumerable:!1});p.forEachProperty=function(e){for(var t=p.definition.properties,i=Object.keys(t),r=0,n=i.length;n>r;r++)e(i[r],t[i[r]])},p.attachTo=function(e){e.attach(this)},p.extend=function(e,t,i){var r=p.definition.properties,o=p.definition.settings;t=t||{},i=i||{};var s=!1;for(var a in t)if(t[a]&&t[a].id){s=!0;break}for(var d=Object.keys(r),l=0,u=d.length;u>l;l++){var f=d[l];if(!(s&&r[f].id||void 0!==t[f])){var c=r[f],y=c;c&&"object"==typeof c&&(y=mergeSettings(null,c)),t[f]=y}}var h=i;i=mergeSettings(o,i),h.base||(i.base=p);var m=n.define(e,t,i,p);return"function"==typeof m.setup&&m.setup.call(m),m},p.registerProperty=function(e){var t=m.build(),i=t[e],r=i.type;if(!r)throw new Error("Invalid type for property "+e);if(i.required){var o="object"==typeof i.required?i.required:void 0;p.validatesPresenceOf(e,o)}Object.defineProperty(p.prototype,e,{get:function(){return p.getter[e]?p.getter[e].call(this):this.__data&&this.__data[e]},set:function(i){var r=p.definition.properties[e].type;Array.isArray(r)||r===Array?r=List:r===Date?r=DateType:r===Boolean?r=BooleanType:"string"==typeof r&&(r=n.resolveType(r));var o=p.definition.settings.persistUndefinedAsNull;void 0===i&&o&&(i=null),p.setter[e]?p.setter[e].call(this,i):(this.__data=this.__data||{},null===i||void 0===i?this.__data[e]=i:r===List?this.__data[e]=r(i,t[e].type,this.__data):this.__data[e]=i instanceof r?i:r(i))},configurable:!0,enumerable:!0}),Object.defineProperty(p.prototype,"$"+e,{get:function(){return this.__data&&this.__data[e]},set:function(t){this.__data||(this.__data={}),this.__data[e]=t},configurable:!0,enumerable:!1})};var b=p.definition.properties,_=Object.keys(b),B=_.length;for(y=0;B>y;y++){var P=_[y];p.registerProperty(P)}var E=i.mixins||{};for(_=Object.keys(E),B=_.length,y=0;B>y;y++){var j=_[y],N=E[j];N===!0&&(N={}),Array.isArray(N)?N.forEach(function(e){e===!0&&(e={}),"object"==typeof e&&n.mixins.applyMixin(p,j,e)}):"object"==typeof N&&n.mixins.applyMixin(p,j,N)}return p.emit("defined",p),p},ModelBuilder.prototype.defineProperty=function(e,t,i){this.definitions[e].defineProperty(t,i),this.models[e].registerProperty(t)},ModelBuilder.prototype.defineValueType=function(e,t){ModelBuilder.registerType(e,t)},ModelBuilder.prototype.extendModel=function(e,t){for(var i=this,r=Object.keys(t),n=0;n<r.length;n++){var o=t[r[n]];i.defineProperty(e,r[n],o)}},ModelBuilder.prototype.copyModel=function(e){var t=this,i=e.modelName,r=e.modelBuilder.definitions[i],n=function(){e.apply(this,[].slice.call(arguments))};return util.inherits(n,e),n.__proto__=e,hiddenProperty(n,"modelBuilder",t),hiddenProperty(n,"modelName",i),hiddenProperty(n,"relations",e.relations),i in t.models||(t.models[i]=n,t.definitions[i]={properties:r.properties,settings:r.settings}),n},ModelBuilder.prototype.getSchemaName=function(e){return e?e:("number"!=typeof this._nameCount?this._nameCount=0:this._nameCount++,"AnonymousModel_"+this._nameCount)},ModelBuilder.prototype.resolveType=function(e){if(!e)return e;if(Array.isArray(e)&&e.length>0){var t=this.resolveType(e[0]);return"function"==typeof t?[t]:t}if("string"==typeof e){var i=ModelBuilder.schemaTypes[e.toLowerCase()]||this.models[e];return i?i:e=this.define(e,{},{unresolved:!0})}return"Object"===e.constructor.name?e.type?this.resolveType(e.type):this.define(this.getSchemaName(null),e,{anonymous:!0,idInjection:!1}):"function"==typeof e?e:e},ModelBuilder.prototype.buildModels=function(e,t){var i={};Array.isArray(e)||(e=e.properties&&e.name?[e]:[{name:this.getSchemaName(),properties:e,options:{anonymous:!0}}]);for(var r=[],n=0,o=e.length;o>n;n++){var s=this.getSchemaName(e[n].name);e[n].name=s;var a;a="function"==typeof t?t(e[n].name,e[n].properties,e[n].options):this.define(e[n].name,e[n].properties,e[n].options),i[s]=a,r=r.concat(a.definition.relations)}for(var d=0;d<r.length;d++){var l=r[d],u=i[l.source],p=i[l.target];u&&p&&"function"==typeof u[l.type]&&u[l.type](p,{as:l.as})}return i},ModelBuilder.prototype.buildModelFromInstance=function(e,t,i){var r=introspect(t);return this.define(e,r,i)};
},{"./introspection":118,"./list.js":120,"./mixins":121,"./model-definition.js":123,"./model.js":124,"./types":130,"./utils":131,"assert":2,"depd":110,"events":84,"inflection":137,"util":594}],123:[function(require,module,exports){
function ModelDefinition(e,i,t,r){if(!(this instanceof ModelDefinition))return new ModelDefinition(e,i,t,r);if(this.modelBuilder=e||ModelBuilder.defaultInstance,assert(i,"name is missing"),2===arguments.length&&"object"==typeof i){var n=i;this.name=n.name,this.rawProperties=n.properties||{},this.settings=n.settings||{}}else assert("string"==typeof i,"name must be a string"),this.name=i,this.rawProperties=t||{},this.settings=r||{};this.relations=[],this.properties=null,this.build()}function isModelClass(e){return e?e.prototype instanceof ModelBaseClass:!1}var assert=require("assert"),util=require("util"),EventEmitter=require("events").EventEmitter,traverse=require("traverse"),ModelBaseClass=require("./model"),ModelBuilder=require("./model-builder");module.exports=ModelDefinition,util.inherits(ModelDefinition,EventEmitter),require("./types")(ModelDefinition),ModelDefinition.prototype.tableName=function(e){var i=this.settings;return i[e]?i[e].table||i[e].tableName||this.name:this.name},ModelDefinition.prototype.columnName=function(e,i){if(!i)return i;this.build();var t=this.properties[i];return t&&t[e]?t[e].column||t[e].columnName||i:i},ModelDefinition.prototype.columnMetadata=function(e,i){if(!i)return i;this.build();var t=this.properties[i];return t&&t[e]?t[e]:null},ModelDefinition.prototype.columnNames=function(e){this.build();var i=this.properties,t=[];for(var r in i)i[r][e]?t.push(i[e].column||i[r][e].columnName||r):t.push(r);return t},ModelDefinition.prototype.ids=function(){if(this._ids)return this._ids;var e=[];this.build();var i=this.properties;for(var t in i){var r=i[t].id;r&&("number"!=typeof r&&(r=1),e.push({name:t,id:r,property:i[t]}))}return e.sort(function(e,i){return e.id-i.id}),this._ids=e,e},ModelDefinition.prototype.idColumnName=function(e){return this.columnName(e,this.idName())},ModelDefinition.prototype.idName=function(){var e=this.ids()[0];return this.properties.id&&this.properties.id.id?"id":e&&e.name},ModelDefinition.prototype.idNames=function(){var e=this.ids(),i=e.map(function(e){return e.name});return i},ModelDefinition.prototype.indexes=function(){this.build();var e={};if(this.settings.indexes)for(var i in this.settings.indexes)e[i]=this.settings.indexes[i];for(var t in this.properties)this.properties[t].index&&(e[t+"_index"]=this.properties[t].index);return e},ModelDefinition.prototype.build=function(e){if(e&&(this.properties=null,this.relations=[],this._ids=null,this.json=null),this.properties)return this.properties;this.properties={};for(var i in this.rawProperties){var t=this.rawProperties[i],r=this.modelBuilder.resolveType(t);if("string"==typeof r)this.relations.push({source:this.name,target:r,type:Array.isArray(t)?"hasMany":"belongsTo",as:i});else{var n={type:r};if("object"==typeof t&&null!==t)for(var s in t)"type"!==s&&(n[s]=t[s]);this.properties[i]=n}}return this.properties},ModelDefinition.prototype.defineProperty=function(e,i){this.rawProperties[e]=i,this.build(!0)},ModelDefinition.prototype.toJSON=function(e){if(e&&(this.json=null),this.json)return this.json;var i={name:this.name,properties:{},settings:this.settings};this.build(e);var t=function(e){return void 0===e||null===e?e:"function"==typeof e.toJSON?e.toJSON():"function"==typeof e?isModelClass(e)?e.settings&&e.settings.anonymous?e.definition&&e.definition.toJSON().properties:e.modelName:e.name:e};for(var r in this.properties)i.properties[r]=traverse(this.properties[r]).map(t);return this.json=i,i},ModelDefinition.prototype.hasPK=function(){return this.ids().length>0};
},{"./model":124,"./model-builder":122,"./types":130,"assert":2,"events":84,"traverse":149,"util":594}],124:[function(require,module,exports){
(function (process){
function ModelBaseClass(e,t){t=t||{},"applySetters"in t||(t.applySetters=!0),"applyDefaultValues"in t||(t.applyDefaultValues=!0),this._initProperties(e,t)}module.exports=ModelBaseClass;var async=require("async"),util=require("util"),jutil=require("./jutil"),List=require("./list"),Hookable=require("./hooks"),validations=require("./validations"),_extend=util._extend,utils=require("./utils"),fieldsToArray=utils.fieldsToArray,uuid=require("node-uuid"),deprecated=require("depd")("loopback-datasource-juggler"),BASE_TYPES={String:!0,Boolean:!0,Number:!0,Date:!0,Text:!0,ObjectID:!0};ModelBaseClass.prototype._initProperties=function(e,t){var i=this,r=this.constructor;e instanceof r&&(e=e.toObject(!1));var o=_extend({},r.definition.properties);e=e||{},"function"==typeof r.applyProperties&&r.applyProperties(e),t=t||{};var a=t.applySetters,s=t.applyDefaultValues,n=t.strict;void 0===n&&(n=r.definition.settings.strict);var d=r.definition.settings.persistUndefinedAsNull;r.hideInternalProperties?(Object.defineProperties(this,{__cachedRelations:{writable:!0,enumerable:!1,configurable:!0,value:{}},__data:{writable:!0,enumerable:!1,configurable:!0,value:{}},__dataSource:{writable:!0,enumerable:!1,configurable:!0,value:t.dataSource},__strict:{writable:!0,enumerable:!1,configurable:!0,value:n},__persisted:{writable:!0,enumerable:!1,configurable:!0,value:!1}}),"validate"===n&&Object.defineProperty(this,"__unknownProperties",{writable:!0,enumerable:!1,configrable:!0,value:[]})):(this.__cachedRelations={},this.__data={},this.__dataSource=t.dataSource,this.__strict=n,this.__persisted=!1,"validate"===n&&(this.__unknownProperties=[])),void 0!==t.persisted&&(this.__persisted=t.persisted===!0),e.__cachedRelations&&(this.__cachedRelations=e.__cachedRelations);var l=Object.keys(e);Array.isArray(t.fields)&&(l=l.filter(function(e){return-1!=t.fields.indexOf(e)}));for(var u,p,c=l.length,f=0;c>f;f++)if(u=l[f],p=e[u],"function"!=typeof p)if(void 0===p&&d&&(p=null),o[u])a||o[u].id?i[u]=p:i.__data[u]=p;else if(r.relations[u]){var _,y=r.relations[u].type;if(!o[u]){_=r.relations[u].modelTo||ModelBaseClass;var h=r.relations[u].multiple,v=h?"Array":_.modelName,b=h?[_]:_;o[u]={name:v,type:b},this.setStrict(!1)}if("belongsTo"===y&&null!=p&&(i.__data[r.relations[u].keyFrom]=p[r.relations[u].keyTo],r.relations[u].options.embedsProperties)){var P=fieldsToArray(r.relations[u].properties,_.definition.properties,_.settings.strict);~P.indexOf(r.relations[u].keyTo)||P.push(r.relations[u].keyTo),i.__data[u]=new _(p,{fields:P,applySetters:!1,persisted:t.persisted})}i.__cachedRelations[u]=p}else if(n===!1||i.__cachedRelations[u])i[u]=i.__data[u]=void 0!==p?p:i.__cachedRelations[u],/\./.test(u)&&deprecated("Property names containing a dot are not supported. Model: "+this.constructor.modelName+", dynamic property: "+u);else{if("throw"===n)throw new Error("Unknown property: "+u);"validate"===n&&this.__unknownProperties.push(u)}for(l=Object.keys(o),Array.isArray(t.fields)&&(l=l.filter(function(e){return-1!=t.fields.indexOf(e)})),c=l.length,f=0;c>f;f++){u=l[f],p=i.__data[u];var m=o[u].type;if(s&&void 0===p){var g=o[u]["default"];void 0!==g&&("function"==typeof g?g=g===Date?new Date:g():"Date"===m.name&&"$now"===g&&(g=new Date),i.__data[u]=p=g)}if(s&&void 0===p){var S=o[u].defaultFn;switch(S){case void 0:break;case"guid":case"uuid":p=uuid.v1();break;case"uuidv4":p=uuid.v4();break;case"now":p=new Date;break;default:console.warn("Unknown default value provider "+S)}void 0!==p&&(i.__data[u]=p)}if(void 0===p&&d&&(i.__data[u]=p=null),!BASE_TYPES[m.name]){if("object"!=typeof i.__data[u]&&i.__data[u])try{i.__data[u]=JSON.parse(i.__data[u]+"")}catch(B){i.__data[u]=String(i.__data[u])}m.prototype instanceof ModelBaseClass?i.__data[u]instanceof m||"object"!=typeof i.__data[u]||null===i.__data[u]||(i.__data[u]=new m(i.__data[u])):("Array"===m.name||Array.isArray(m))&&(i.__data[u]instanceof List||void 0===i.__data[u]||null===i.__data[u]||(i.__data[u]=List(i.__data[u],m,i)))}}this.trigger("initialize")},ModelBaseClass.defineProperty=function(e,t){this.dataSource?this.dataSource.defineProperty(this.modelName,e,t):this.modelBuilder.defineProperty(this.modelName,e,t)},ModelBaseClass.getPropertyType=function(e){var t=this.definition.properties[e];if(!t)return null;if(!t.type)throw new Error("Type not defined for property "+this.modelName+"."+e);return t.type.name},ModelBaseClass.prototype.getPropertyType=function(e){return this.constructor.getPropertyType(e)},ModelBaseClass.toString=function(){return"[Model "+this.modelName+"]"},ModelBaseClass.prototype.toObject=function(e,t,i){void 0===e&&(e=!0);var r={},o=this,a=this.constructor;if(a===Object)return o;for(var s,n,d=this.__strict,l=d===!1||!e,u=a.definition.settings.persistUndefinedAsNull,p=a.definition.properties,c=Object.keys(p),f=0;f<c.length;f++)s=c[f],n=o[s],"function"!=typeof n&&(t&&a.isHiddenProperty(s)||i&&a.isProtectedProperty(s)||(n instanceof List?r[s]=n.toObject(!l,t,!0):void 0!==n&&null!==n&&n.toObject?r[s]=n.toObject(!l,t,!0):(void 0===n&&u&&(n=null),r[s]=n)));if(l){c=Object.keys(o);var _=c.length;for(f=0;_>f;f++)if(s=c[f],!p[s]&&0!==s.indexOf("__")&&!(t&&a.isHiddenProperty(s)||i&&a.isProtectedProperty(s)||void 0!==r[s]))if(n=o[s],void 0!==n){if("function"==typeof n)continue;null!==n&&n.toObject?r[s]=n.toObject(!l,t,!0):r[s]=n}else u&&(r[s]=null);for(c=Object.keys(o.__data),_=c.length,f=0;_>f;f++)if(s=c[f],0!==s.indexOf("__")&&void 0===r[s]){if(t&&a.isHiddenProperty(s))continue;if(i&&a.isProtectedProperty(s))continue;var y=o[s];if(n=void 0!==y&&"function"!=typeof y?y:o.__data[s],"function"==typeof n)continue;void 0!==n&&null!==n&&n.toObject?r[s]=n.toObject(!l,t,!0):void 0===n&&u?r[s]=null:r[s]=n}}return r},ModelBaseClass.isProtectedProperty=function(e){var t=this,i=t.definition&&t.definition.settings,r=i&&(i.protectedProperties||i["protected"]);if(Array.isArray(r)){i.protectedProperties={};for(var o=0;o<r.length;o++)i.protectedProperties[r[o]]=!0;r=i.protectedProperties}return r?r[e]:!1},ModelBaseClass.isHiddenProperty=function(e){var t=this,i=t.definition&&t.definition.settings,r=i&&(i.hiddenProperties||i.hidden);if(Array.isArray(r)){i.hiddenProperties={};for(var o=0;o<r.length;o++)i.hiddenProperties[r[o]]=!0;r=i.hiddenProperties}return r?r[e]:!1},ModelBaseClass.prototype.toJSON=function(){return this.toObject(!1,!0,!1)},ModelBaseClass.prototype.fromObject=function(e){for(var t in e)this[t]=e[t]},ModelBaseClass.prototype.reset=function(){var e=this;for(var t in e)"id"===t||e.constructor.dataSource.definitions[e.constructor.modelName].properties[t]||delete e[t]};var versionParts=process.versions&&process.versions.node?process.versions.node.split(/\./g).map(function(e){return+e}):[1,0,0],INSPECT_SUPPORTS_OBJECT_RETVAL=versionParts[0]>0||versionParts[1]>11||11===versionParts[0]&&versionParts[1]>=14;ModelBaseClass.prototype.inspect=function(e){return INSPECT_SUPPORTS_OBJECT_RETVAL?this.__data:util.inspect(this.__data,{showHidden:!1,depth:e,colors:!1})},ModelBaseClass.mixin=function(e,t){if("string"!=typeof e){if(e.prototype instanceof ModelBaseClass){var i=e.definition.properties;for(var r in i)this.definition.properties[r]||this.defineProperty(r,i[r])}return jutil.mixin(this,e,t)}this.modelBuilder.mixins.applyMixin(this,e,t)},ModelBaseClass.prototype.getDataSource=function(){return this.__dataSource||this.constructor.dataSource},ModelBaseClass.getDataSource=function(){return this.dataSource},ModelBaseClass.prototype.setStrict=function(e){this.__strict=e},jutil.mixin(ModelBaseClass,require("./observer")),jutil.mixin(ModelBaseClass,Hookable),jutil.mixin(ModelBaseClass,validations.Validatable);
}).call(this,require('_process'))

},{"./hooks":115,"./jutil":119,"./list":120,"./observer":125,"./utils":131,"./validations":132,"_process":425,"async":133,"depd":110,"node-uuid":143,"util":594}],125:[function(require,module,exports){
function ObserverMixin(){}var async=require("async"),utils=require("./utils");module.exports=ObserverMixin,ObserverMixin.observe=function(r,e){this._observers=this._observers||{},this._observers[r]||(this._observers[r]=[]),this._observers[r].push(e)},ObserverMixin.removeObserver=function(r,e){if(this._observers&&this._observers[r]){var s=this._observers[r].indexOf(e);return-1!==s?this._observers[r].splice(s,1):void 0}},ObserverMixin.clearObservers=function(r){this._observers&&this._observers[r]&&(this._observers[r].length=0)},ObserverMixin.notifyObserversOf=function(r,e,s){function i(r){return function(s,i){"function"==typeof s&&void 0===i&&(i=s,s=e),n.notifyObserversOf(r,e,i)}}var n=this;if(s||(s=utils.createPromiseCallback()),Array.isArray(r)){for(var t=[],o=0,v=r.length;v>o;o++)t.push(i(r[o]));return async.waterfall(t,s)}var u=this._observers&&this._observers[r];return this._notifyBaseObservers(r,e,function(r){return r?s(r,e):u&&u.length?void async.eachSeries(u,function(r,s){var i=r(e,s);i&&"function"==typeof i.then&&i.then(function(){return s(),null},s)},function(r){s(r,e)}):s(null,e)}),s.promise},ObserverMixin._notifyBaseObservers=function(r,e,s){this.base&&this.base.notifyObserversOf?this.base.notifyObserversOf(r,e,s):s()},ObserverMixin.notifyObserversAround=function(r,e,s,i){var n=this;return e=e||{},void 0===e.end&&(e.end=i),n.notifyObserversOf("before "+r,e,function(e,t){function o(e){var s=[].slice.call(arguments,0);if(e)return i.apply(null,s);var o=s.slice(1);t.results=o,n.notifyObserversOf("after "+r,t,function(r,e){if(r)return i(r,e);var s=o;e&&Array.isArray(e.results)&&(s=e.results);var n=[r].concat(s);i.apply(null,n)})}return e?i(e):void(1===s.length?s(o):s(t,o))})};
},{"./utils":131,"async":133}],126:[function(require,module,exports){
(function (process){
function normalizeType(e){if(!e)return e;var o=e.toLowerCase();for(var t in RelationTypes)if(t.toLowerCase()===o)return t;return null}function extendScopeMethods(e,o,t){function i(e,o){return function(){var t=new r(e,this);return o.apply(t,arguments)}}var n=[],r=RelationClasses[e.type];if(e.type===RelationTypes.hasMany&&e.modelThrough&&(r=RelationClasses.hasManyThrough),"function"==typeof t)n=t.call(e,o,r);else if("object"==typeof t)for(var s in t){var a=t[s],d=o[s]=i(e,a);a.shared&&sharedMethod(e,s,d,a),n.push(s)}return[].concat(n||[])}function bindRelationMethods(e,o,t){var i=t.methods||{};Object.keys(i).forEach(function(t){"function"==typeof i[t]&&(o[t]=i[t].bind(e))})}function RelationDefinition(e){return this instanceof RelationDefinition?(e=e||{},this.name=e.name,assert(this.name,"Relation name is missing"),this.type=normalizeType(e.type),assert(this.type,"Invalid relation type: "+e.type),this.modelFrom=e.modelFrom,assert(this.modelFrom,"Source model is required"),this.keyFrom=e.keyFrom,this.modelTo=e.modelTo,this.keyTo=e.keyTo,this.polymorphic=e.polymorphic,"object"!=typeof this.polymorphic&&assert(this.modelTo,"Target model is required"),this.modelThrough=e.modelThrough,this.keyThrough=e.keyThrough,this.multiple=e.multiple,this.properties=e.properties||{},this.options=e.options||{},this.scope=e.scope,this.embed=e.embed===!0,void(this.methods=e.methods||{})):new RelationDefinition(e)}function Relation(e,o){return this instanceof Relation?(e instanceof RelationDefinition||(e=new RelationDefinition(e)),this.definition=e,void(this.modelInstance=o)):new Relation(e,o)}function HasMany(e,o){return this instanceof HasMany?(assert(e.type===RelationTypes.hasMany),void Relation.apply(this,arguments)):new HasMany(e,o)}function HasManyThrough(e,o){return this instanceof HasManyThrough?(assert(e.type===RelationTypes.hasMany),assert(e.modelThrough),void HasMany.apply(this,arguments)):new HasManyThrough(e,o)}function BelongsTo(e,o){return this instanceof BelongsTo?(assert(e.type===RelationTypes.belongsTo),void Relation.apply(this,arguments)):new BelongsTo(e,o)}function HasAndBelongsToMany(e,o){return this instanceof HasAndBelongsToMany?(assert(e.type===RelationTypes.hasAndBelongsToMany),void Relation.apply(this,arguments)):new HasAndBelongsToMany(e,o)}function HasOne(e,o){return this instanceof HasOne?(assert(e.type===RelationTypes.hasOne),void Relation.apply(this,arguments)):new HasOne(e,o)}function EmbedsOne(e,o){return this instanceof EmbedsOne?(assert(e.type===RelationTypes.embedsOne),void Relation.apply(this,arguments)):new EmbedsOne(e,o)}function EmbedsMany(e,o){return this instanceof EmbedsMany?(assert(e.type===RelationTypes.embedsMany),void Relation.apply(this,arguments)):new EmbedsMany(e,o)}function ReferencesMany(e,o){return this instanceof ReferencesMany?(assert(e.type===RelationTypes.referencesMany),void Relation.apply(this,arguments)):new ReferencesMany(e,o)}function findBelongsTo(e,o,t){return Object.keys(e.relations).map(function(o){return e.relations[o]}).filter(function(e){return e.type===RelationTypes.belongsTo&&e.modelTo===o&&(void 0===t||e.keyTo===t)}).map(function(e){return e.keyFrom})}function lookupModel(e,o){if(e[o])return e[o];var t=o.toLowerCase();for(var i in e)if(i.toLowerCase()===t)return e[i]}function lookupModelTo(e,o,t,i){if("string"==typeof o){var n;if(t.as=t.as||o,o=t.model||o,"string"==typeof o&&(n=(i?i8n.singularize(o):o).toLowerCase(),o=lookupModel(e.dataSource.modelBuilder.models,n)||o),"string"==typeof o&&(n=(i?i8n.singularize(t.as):t.as).toLowerCase(),o=lookupModel(e.dataSource.modelBuilder.models,n)||o),"function"!=typeof o)throw new Error('Could not find "'+t.as+'" relation for '+e.modelName)}return o}function polymorphicParams(e,o){return"string"==typeof e&&(e={as:e}),"string"!=typeof e.as&&(e.as=o||"reference"),e.foreignKey=e.foreignKey||i8n.camelize(e.as+"_id",!0),e.discriminator=e.discriminator||i8n.camelize(e.as+"_type",!0),e}function scopeMethod(e,o){var t=RelationClasses[e.type];e.type===RelationTypes.hasMany&&e.modelThrough&&(t=RelationClasses.hasManyThrough);var i=function(){var i=new t(e,this);return i[o].apply(i,arguments)},n=t.prototype[o];return n.shared&&sharedMethod(e,o,i,n),i}function sharedMethod(e,o,t,i){t.shared=!0,t.accepts=i.accepts,t.returns=i.returns,t.http=i.http,t.description=i.description}var assert=require("assert"),util=require("util"),async=require("async"),utils=require("./utils"),i8n=require("inflection"),defineScope=require("./scope.js").defineScope,mergeQuery=utils.mergeQuery,idEquals=utils.idEquals,ModelBaseClass=require("./model.js"),applyFilter=require("./connectors/memory").applyFilter,ValidationError=require("./validations.js").ValidationError,debug=require("debug")("loopback:relations"),RelationTypes={belongsTo:"belongsTo",hasMany:"hasMany",hasOne:"hasOne",hasAndBelongsToMany:"hasAndBelongsToMany",referencesMany:"referencesMany",embedsOne:"embedsOne",embedsMany:"embedsMany"},RelationClasses={belongsTo:BelongsTo,hasMany:HasMany,hasManyThrough:HasManyThrough,hasOne:HasOne,hasAndBelongsToMany:HasAndBelongsToMany,referencesMany:ReferencesMany,embedsOne:EmbedsOne,embedsMany:EmbedsMany};exports.Relation=Relation,exports.RelationDefinition=RelationDefinition,exports.RelationTypes=RelationTypes,exports.RelationClasses=RelationClasses,exports.HasMany=HasMany,exports.HasManyThrough=HasManyThrough,exports.HasOne=HasOne,exports.HasAndBelongsToMany=HasAndBelongsToMany,exports.BelongsTo=BelongsTo,exports.ReferencesMany=ReferencesMany,exports.EmbedsOne=EmbedsOne,exports.EmbedsMany=EmbedsMany,RelationDefinition.prototype.toJSON=function(){var e="object"==typeof this.polymorphic,o=this.modelTo&&this.modelTo.modelName;!o&&e&&"belongsTo"===this.type&&(o="<polymorphic>");var t={name:this.name,type:this.type,modelFrom:this.modelFrom.modelName,keyFrom:this.keyFrom,modelTo:o,keyTo:this.keyTo,multiple:this.multiple};return this.modelThrough&&(t.modelThrough=this.modelThrough.modelName,t.keyThrough=this.keyThrough),e&&(t.polymorphic=this.polymorphic),t},RelationDefinition.prototype.defineMethod=function(e,o){var t,i=RelationClasses[this.type],n=this.name,r=this.modelFrom,s=this;if(s.multiple){var a=this.modelFrom.scopes[this.name];if(!a)throw new Error("Unknown relation scope: "+this.name);t=a.defineMethod(e,function(){var e=new i(s,this);return o.apply(e,arguments)})}else s.methods[e]=o,t=function(){var o=this[n];return o[e].apply(o,arguments)};return t&&o.shared&&(sharedMethod(s,e,t,o),r.prototype["__"+e+"__"+n]=t),t},RelationDefinition.prototype.applyScope=function(e,o){if(o=o||{},o.where=o.where||{},("belongsTo"!==this.type||"hasOne"===this.type)&&"object"==typeof this.polymorphic){var t=this.polymorphic.discriminator;this.polymorphic.invert?o.where[t]=this.modelTo.modelName:o.where[t]=this.modelFrom.modelName}var i;i="function"==typeof this.scope?this.scope.call(this,e,o):this.scope,"object"==typeof i&&mergeQuery(o,i)},RelationDefinition.prototype.applyProperties=function(e,o){var t=e,i=o;this.options.invertProperties&&(t=o,i=e),this.options.embedsProperties&&(i=i.__data[this.name]={},i[this.keyTo]=t[this.keyTo]);var n,r;if("function"==typeof this.properties){var s=this.properties.call(this,t,i);for(n in s)i[n]=s[n]}else if(Array.isArray(this.properties))for(n=0;n<this.properties.length;n++)r=this.properties[n],i[r]=t[r];else if("object"==typeof this.properties)for(n in this.properties)r=this.properties[n],i[r]=t[n];if(("belongsTo"!==this.type||"hasOne"===this.type)&&"object"==typeof this.polymorphic){var a=this.polymorphic.discriminator;this.polymorphic.invert?i[a]=this.modelTo.modelName:i[a]=this.modelFrom.modelName}},Relation.prototype.resetCache=function(e){e=e||void 0,this.modelInstance.__cachedRelations[this.definition.name]=e},Relation.prototype.getCache=function(){return this.modelInstance.__cachedRelations[this.definition.name]},Relation.prototype.callScopeMethod=function(e){var o=Array.prototype.slice.call(arguments,1),t=this.modelInstance,i=t[this.definition.name];if(i&&"function"==typeof i[e])return i[e].apply(i,o);throw new Error("Unknown scope method: "+e)},Relation.prototype.fetch=function(e,o,t){this.modelInstance[this.definition.name].apply(this.modelInstance,arguments)},util.inherits(HasMany,Relation),HasMany.prototype.removeFromCache=function(e){var o=this.modelInstance.__cachedRelations[this.definition.name],t=this.definition.modelTo.definition.idName();if(Array.isArray(o))for(var i=0,n=o.length;n>i;i++)if(idEquals(o[i][t],e))return o.splice(i,1);return null},HasMany.prototype.addToCache=function(e){if(e){var o=this.modelInstance.__cachedRelations[this.definition.name];void 0===o&&(o=this.modelInstance.__cachedRelations[this.definition.name]=[]);var t=this.definition.modelTo.definition.idName();if(Array.isArray(o)){for(var i=0,n=o.length;n>i;i++)if(idEquals(o[i][t],e[t]))return void(o[i]=e);o.push(e)}}},util.inherits(HasManyThrough,HasMany),util.inherits(BelongsTo,Relation),util.inherits(HasAndBelongsToMany,Relation),util.inherits(HasOne,Relation),util.inherits(EmbedsOne,Relation),util.inherits(EmbedsMany,Relation),util.inherits(ReferencesMany,Relation),RelationDefinition.hasMany=function(e,o,t){var i=e.modelName;t=t||{},o=lookupModelTo(e,o,t,!0);var n,r,s=t.as||i8n.camelize(o.pluralModelName,!0),a=t.foreignKey||i8n.camelize(i+"_id",!0),d=t.keyThrough||i8n.camelize(o.modelName+"_id",!0),l=t.primaryKey||e.dataSource.idName(e.modelName)||"id";t.polymorphic&&(r=polymorphicParams(t.polymorphic),t.invert&&(r.invert=!0,d=r.foreignKey),n=r.discriminator,t.invert||(a=r.foreignKey),t.through||o.dataSource.defineProperty(o.modelName,n,{type:"string",index:!0}));var p=new RelationDefinition({name:s,type:RelationTypes.hasMany,modelFrom:e,keyFrom:l,keyTo:a,modelTo:o,multiple:!0,properties:t.properties,scope:t.scope,options:t.options,keyThrough:d,polymorphic:r});p.modelThrough=t.through,e.relations[s]=p,t.through||o.dataSource.defineForeignKey(o.modelName,a,e.modelName,l);var c={findById:scopeMethod(p,"findById"),destroy:scopeMethod(p,"destroyById"),updateById:scopeMethod(p,"updateById"),exists:scopeMethod(p,"exists")},f=c.findById;e.prototype["__findById__"+s]=f;var u=c.destroy;e.prototype["__destroyById__"+s]=u;var m=c.updateById;e.prototype["__updateById__"+s]=m;var y=c.exists;if(e.prototype["__exists__"+s]=y,p.modelThrough){c.create=scopeMethod(p,"create"),c.add=scopeMethod(p,"add"),c.remove=scopeMethod(p,"remove");var h=c.add;e.prototype["__link__"+s]=h;var v=c.remove;e.prototype["__unlink__"+s]=v}else c.create=scopeMethod(p,"create"),c.build=scopeMethod(p,"build");for(var T=extendScopeMethods(p,c,t.scopeMethods),g=0;g<T.length;g++){var b=T[g],M=c[b];"function"==typeof M&&M.shared===!0&&(e.prototype["__"+b+"__"+s]=M)}return defineScope(e.prototype,t.through||o,s,function(){var e={};if(e.where={},e.where[a]=this[l],p.applyScope(this,e),p.modelThrough){var t;for(var i in p.modelThrough.relations){var n=p.modelThrough.relations[i];if(n.type===RelationTypes.belongsTo&&(n.polymorphic&&!n.modelTo||n.modelTo===p.modelTo)&&n.keyFrom===p.keyThrough){t=n.name;break}}p.polymorphic&&p.polymorphic.invert?(e.collect=p.polymorphic.as,e.include=e.collect):(e.collect=t||i8n.camelize(o.modelName,!0),e.include=e.collect)}return e},c,p.options),p},HasMany.prototype.findById=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition.modelTo,n=this.definition.modelFrom,r=this.definition.keyTo,s=this.definition.keyFrom,a=this.modelInstance,d=this.definition.modelTo.definition.idName(),l={};return l.where={},l.where[d]=e,l.where[r]=a[s],t=t||utils.createPromiseCallback(),void 0===l.where[r]?(process.nextTick(t),t.promise):(this.definition.applyScope(a,l),i.findOne(l,o,function(o,d){return o?t(o):d?void(null!=d[r]&&idEquals(d[r],a[s])?t(null,d):(o=new Error("Key mismatch: "+n.modelName+"."+s+": "+a[s]+", "+i.modelName+"."+r+": "+d[r]),o.statusCode=400,t(o))):(o=new Error("No instance with id "+e+" found for "+i.modelName),o.statusCode=404,t(o))}),t.promise)},HasMany.prototype.exists=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition.keyTo,n=this.definition.keyFrom,r=this.modelInstance;return t=t||utils.createPromiseCallback(),this.findById(e,function(e,o){return e?t(e):o?void(o[i]&&o[i].toString()===r[n].toString()?t(null,!0):t(null,!1)):t(null,!1)}),t.promise},HasMany.prototype.updateById=function(e,o,t,i){return"function"==typeof t&&void 0===i&&(i=t,t={}),i=i||utils.createPromiseCallback(),this.findById(e,t,function(e,n){return e?i&&i(e):void n.updateAttributes(o,t,i)}),i.promise},HasMany.prototype.destroyById=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={}),t=t||utils.createPromiseCallback();var i=this;return this.findById(e,o,function(n,r){return n?t(n):(i.removeFromCache(e),void r.destroy(o,t))}),t.promise};var throughKeys=function(e){var o=e.modelThrough,t=e.modelTo.definition.idName();if("object"==typeof e.polymorphic){var i=e.keyTo;if(e.polymorphic.invert)var n=e.polymorphic.foreignKey;else var n=e.keyThrough}else{if(e.modelFrom===e.modelTo)return findBelongsTo(o,e.modelTo,t).sort(function(o,t){return e.keyTo===o?-1:1});var i=findBelongsTo(o,e.modelFrom,e.keyFrom)[0],n=findBelongsTo(o,e.modelTo,t)[0]}return[i,n]};HasManyThrough.prototype.findById=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this,n=this.definition.modelTo,r=this.definition.keyFrom,s=this.modelInstance,a=this.definition.modelThrough;return t=t||utils.createPromiseCallback(),i.exists(e,o,function(d,l){return d||!l?(d||(d=new Error("No relation found in "+a.modelName+" for ("+i.definition.modelFrom.modelName+"."+s[r]+","+n.modelName+"."+e+")"),d.statusCode=404),t(d)):void n.findById(e,o,function(o,i){return o?t(o):i?void t(o,i):(o=new Error("No instance with id "+e+" found for "+n.modelName),o.statusCode=404,t(o))})}),t.promise},HasManyThrough.prototype.destroyById=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this,n=this.definition.modelTo,r=this.definition.keyFrom,s=this.modelInstance,a=this.definition.modelThrough;return t=t||utils.createPromiseCallback(),i.exists(e,o,function(d,l){return d||!l?(d||(d=new Error("No record found in "+a.modelName+" for ("+i.definition.modelFrom.modelName+"."+s[r]+" ,"+n.modelName+"."+e+")"),d.statusCode=404),t(d)):void i.remove(e,o,function(i){return i?t(i):void n.deleteById(e,o,t)})}),t.promise},HasManyThrough.prototype.create=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this,n=this.definition,r=n.modelTo,s=n.modelThrough;"function"!=typeof e||t||(t=e,e={}),t=t||utils.createPromiseCallback();var a=this.modelInstance;return r.create(e,o,function(e,r){function d(t,r){var d={},p={},u={where:p};d[c]=p[c]=a[n.keyFrom],d[f]=p[f]=t[l],n.applyProperties(a,d),n.applyScope(a,u),s.findOrCreate(u,d,o,function(n,s){n?t.destroy(o,function(){r(n)}):(i.addToCache(t),r(e,t))})}if(e)return t(e,r);var l=n.modelTo.definition.idName(),p=throughKeys(n),c=p[0],f=p[1];Array.isArray(r)?async.map(r,d,t):d(r,t)}),t.promise},HasManyThrough.prototype.add=function(e,o,t,i){"function"==typeof t&&void 0===i&&(i=t,t={});var n=this,r=this.definition,s=r.modelThrough,a=r.keyFrom;"function"==typeof o&&(i=o,o={});var d={};o=o||{},i=i||utils.createPromiseCallback();var l=r.modelTo.definition.idName(),p=throughKeys(r),c=p[0],f=p[1];d[c]=this.modelInstance[a],d[f]=e instanceof r.modelTo?e[l]:e;var u={where:d};return r.applyScope(this.modelInstance,u),o[c]=this.modelInstance[a],o[f]=e instanceof r.modelTo?e[l]:e,r.applyProperties(this.modelInstance,o),s.findOrCreate(u,o,t,function(o,t){o||e instanceof r.modelTo&&n.addToCache(e),i(o,t)}),i.promise},HasManyThrough.prototype.exists=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition,n=i.modelThrough,r=i.keyFrom,s={},a=i.modelTo.definition.idName(),d=throughKeys(i),l=d[0],p=d[1];s[l]=this.modelInstance[r],s[p]=e instanceof i.modelTo?e[a]:e;var c={where:s};return i.applyScope(this.modelInstance,c),t=t||utils.createPromiseCallback(),n.count(c.where,o,function(e,o){t(e,o>0)}),t.promise},HasManyThrough.prototype.remove=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this,n=this.definition,r=n.modelThrough,s=n.keyFrom,a={},d=n.modelTo.definition.idName(),l=throughKeys(n),p=l[0],c=l[1];a[p]=this.modelInstance[s],a[c]=e instanceof n.modelTo?e[d]:e;var f={where:a};return n.applyScope(this.modelInstance,f),t=t||utils.createPromiseCallback(),r.deleteAll(f.where,o,function(e){e||i.removeFromCache(a[c]),t(e)}),t.promise},RelationDefinition.belongsTo=function(e,o,t){var i,n;t=t||{},"string"!=typeof o||t.polymorphic||(o=lookupModelTo(e,o,t));var r,s,a;t.polymorphic?(s=t.as||("string"==typeof o?o:null),n=t.polymorphic===!0?polymorphicParams(o,s):polymorphicParams(t.polymorphic,s),o=null,r=t.primaryKey||t.idName||"id",s=t.as||n.as,a=n.foreignKey,i=n.discriminator,n.idType?e.dataSource.defineProperty(e.modelName,a,{type:n.idType,index:!0}):e.dataSource.defineForeignKey(e.modelName,a,e.modelName,r),e.dataSource.defineProperty(e.modelName,i,{type:"string",index:!0})):(r=t.primaryKey||o.dataSource.idName(o.modelName)||"id",s=t.as||i8n.camelize(o.modelName,!0),a=t.foreignKey||s+"Id",e.dataSource.defineForeignKey(e.modelName,a,o.modelName,r));var d=e.relations[s]=new RelationDefinition({name:s,type:RelationTypes.belongsTo,modelFrom:e,keyFrom:a,keyTo:r,modelTo:o,multiple:!1,properties:t.properties,scope:t.scope,options:t.options,polymorphic:n,methods:t.methods});Object.defineProperty(e.prototype,s,{enumerable:!0,configurable:!0,get:function(){var e=new BelongsTo(d,this),o=e.related.bind(e);return o.getAsync=e.getAsync.bind(e),o.update=e.update.bind(e),o.destroy=e.destroy.bind(e),n||(o.create=e.create.bind(e),o.build=e.build.bind(e),o._targetClass=d.modelTo.modelName),bindRelationMethods(e,o,d),o}});var l=function(){var e=this[s];e.apply(this,arguments)};return e.prototype["__get__"+s]=l,d},BelongsTo.prototype.create=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this,n=this.definition.modelTo,r=this.definition.keyFrom,s=this.definition.keyTo,a=this.modelInstance;return"function"!=typeof e||t||(t=e,e={}),t=t||utils.createPromiseCallback(),this.definition.applyProperties(a,e||{}),n.create(e,o,function(e,n){e?t&&t(e):(a[r]=n[s],a.isNewRecord()?(i.resetCache(n),t&&t(e,n)):a.save(o,function(e,o){return t&&e?t&&t(e):(i.resetCache(n),void(t&&t(e,n)))}))}),t.promise},BelongsTo.prototype.build=function(e){var o=this.definition.modelTo;return this.definition.applyProperties(this.modelInstance,e||{}),new o(e)},BelongsTo.prototype.update=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={}),t=t||utils.createPromiseCallback();var i=this.definition;return this.fetch(o,function(n,r){r instanceof ModelBaseClass?r.updateAttributes(e,o,t):t(new Error("BelongsTo relation "+i.name+" is empty"))}),t.promise},BelongsTo.prototype.destroy=function(e,o){"function"==typeof e&&void 0===o&&(o=e,e={});var t=(this.definition.modelTo,this.modelInstance),i=this.definition.keyFrom;return o=o||utils.createPromiseCallback(),this.fetch(e,function(n,r){r instanceof ModelBaseClass?(t[i]=null,t.save(e,function(e,t){return o&&e?o&&o(e):void(o&&o(e,t))})):o(new Error("BelongsTo relation "+definition.name+" is empty"))}),o.promise},BelongsTo.prototype.related=function(e,o,t){var i,n,r=this,s=this.definition.modelFrom,a=this.definition.modelTo,d=this.definition.keyTo,l=this.definition.keyFrom,p=this.modelInstance,c=null;e instanceof ModelBaseClass&&void 0===o&&void 0===t?(n=e,e=!1):"function"==typeof e&&void 0===o&&void 0===t?(t=e,e=!1):"function"==typeof o&&void 0===t&&(t=o,o={}),n||(c=e),"object"==typeof this.definition.polymorphic&&(i=this.definition.polymorphic.discriminator);var f;if(e||(f=r.getCache()),n)p[l]=n[d],i&&(p[i]=n.constructor.modelName),this.definition.applyProperties(p,n),r.resetCache(n);else{if("function"==typeof t){if(i){var u=p[i];if("string"!=typeof u)throw new Error("Polymorphic model not found: `"+i+"` not set");if(u=u.toLowerCase(),a=lookupModel(s.dataSource.modelBuilder.models,u),!a)throw new Error("Polymorphic model not found: `"+u+"`")}if(void 0!==f&&f instanceof ModelBaseClass)return t(null,f),f;var m={where:{}};return m.where[d]=p[l],void 0===m.where[d]||null===m.where[d]?process.nextTick(t):(this.definition.applyScope(p,m),c&&mergeQuery(m,c),Array.isArray(m.fields)&&-1===m.fields.indexOf(d)&&m.fields.push(d),a.findOne(m,o,function(e,o){return e?t(e):o?void(null!=o[d]&&null!=p[l]&&o[d].toString()===p[l].toString()?(r.resetCache(o),t(null,o)):(e=new Error("Key mismatch: "+r.definition.modelFrom.modelName+"."+l+": "+p[l]+", "+a.modelName+"."+d+": "+o[d]),e.statusCode=400,t(e))):t(null,null)}),p[l])}if(void 0===e)return f;p[l]=n,r.resetCache()}},BelongsTo.prototype.getAsync=function(e,o){return"function"==typeof e&&void 0===o&&(o=e,e={}),o=o||utils.createPromiseCallback(),this.related(!0,e,o),o.promise},RelationDefinition.hasAndBelongsToMany=function(e,o,t){t=t||{},o=lookupModelTo(e,o,t,!0);var i=e.dataSource.modelBuilder.models;if(!t.through){if(t.polymorphic)throw new Error("Polymorphic relations need a through model");var n=e.modelName+o.modelName,r=o.modelName+e.modelName;t.through=lookupModel(i,n)||lookupModel(i,r)||e.dataSource.define(n)}var s={as:t.as,through:t.through};if(s.properties=t.properties,s.scope=t.scope,t.polymorphic){var a=polymorphicParams(t.polymorphic);s.polymorphic=a;var d=t.through.prototype[a.as];"function"!=typeof d&&t.through.belongsTo(a.as,{polymorphic:!0})}else t.through.belongsTo(e);return t.through.belongsTo(o),this.hasMany(e,o,s)},RelationDefinition.hasOne=function(e,o,t){t=t||{},o=lookupModelTo(e,o,t);var i,n,r=t.primaryKey||e.dataSource.idName(e.modelName)||"id",s=t.as||i8n.camelize(o.modelName,!0),a=t.foreignKey||i8n.camelize(e.modelName+"_id",!0);t.polymorphic&&(n=polymorphicParams(t.polymorphic),a=n.foreignKey,i=n.discriminator,t.through||o.dataSource.defineProperty(o.modelName,i,{type:"string",index:!0}));var d=e.relations[s]=new RelationDefinition({name:s,type:RelationTypes.hasOne,modelFrom:e,keyFrom:r,keyTo:a,modelTo:o,multiple:!1,properties:t.properties,scope:t.scope,options:t.options,polymorphic:n,methods:t.methods});return o.dataSource.defineForeignKey(o.modelName,a,e.modelName,r),Object.defineProperty(e.prototype,s,{enumerable:!0,configurable:!0,get:function(){var e=new HasOne(d,this),o=e.related.bind(e);return o.getAsync=e.getAsync.bind(e),o.create=e.create.bind(e),o.build=e.build.bind(e),o.update=e.update.bind(e),o.destroy=e.destroy.bind(e),o._targetClass=d.modelTo.modelName,bindRelationMethods(e,o,d),o}}),e.prototype["__get__"+s]=function(){var e=this[s];e.apply(this,arguments)},e.prototype["__create__"+s]=function(){var e=this[s].create;e.apply(this,arguments)},e.prototype["__update__"+s]=function(){var e=this[s].update;e.apply(this,arguments)},e.prototype["__destroy__"+s]=function(){var e=this[s].destroy;e.apply(this,arguments)},d},HasOne.prototype.create=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this,n=this.definition.modelTo,r=this.definition.keyTo,s=this.definition.keyFrom,a=this.modelInstance;"function"!=typeof e||t||(t=e,e={}),e=e||{},t=t||utils.createPromiseCallback(),e[r]=a[s];var d={where:{}};return d.where[r]=e[r],this.definition.applyScope(a,d),this.definition.applyProperties(a,e),n.findOrCreate(d,e,o,function(e,o,r){return e?t&&t(e):void(r?(i.resetCache(o),t&&t(e,o)):t&&t(new Error("HasOne relation cannot create more than one instance of "+n.modelName)))}),t.promise},HasOne.prototype.update=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={}),t=t||utils.createPromiseCallback();var i=this.definition,n=this.definition.keyTo;return this.fetch(function(o,r){r instanceof ModelBaseClass?(delete e[n],r.updateAttributes(e,t)):t(new Error("HasOne relation "+i.name+" is empty"))}),t.promise},HasOne.prototype.destroy=function(e,o){"function"==typeof e&&void 0===o&&(o=e,e={}),o=o||utils.createPromiseCallback();var t=this.definition;return this.fetch(function(i,n){n instanceof ModelBaseClass?n.destroy(e,o):o(new Error("HasOne relation "+t.name+" is empty"))}),o.promise},HasMany.prototype.create=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this,n=this.definition.modelTo,r=this.definition.keyTo,s=this.definition.keyFrom,a=this.modelInstance;"function"!=typeof e||t||(t=e,e={}),e=e||{},t=t||utils.createPromiseCallback();var d=function(e){e[r]=a[s],i.definition.applyProperties(a,e)},l=function(e,o){Array.isArray(e)?e.forEach(o):o(e)};return l(e,d),n.create(e,o,function(e,o){e?t&&t(e):(l(o,i.addToCache.bind(i)),t&&t(e,o))}),t.promise},HasMany.prototype.build=HasOne.prototype.build=function(e){var o=this.definition.modelTo,t=this.definition.keyFrom,i=this.definition.keyTo;return e=e||{},e[i]=this.modelInstance[t],this.definition.applyProperties(this.modelInstance,e),new o(e)},HasOne.prototype.related=function(e,o,t){var i,n=this,r=this.definition.modelTo,s=this.definition.keyTo,a=this.definition.keyFrom,d=this.definition,l=this.modelInstance;e instanceof ModelBaseClass&&void 0===o&&void 0===t?(i=e,e=!1):"function"==typeof e&&void 0===o&&void 0===t?(t=e,e=!1):"function"==typeof o&&void 0===t&&(t=o,o={});var p;if(e||(p=n.getCache()),i)i[s]=l[a],n.resetCache(i);else{if("function"==typeof t){if(void 0===p){var c={where:{}};return c.where[s]=l[a],d.applyScope(l,c),r.findOne(c,o,function(e,o){return e?t(e):o?void(null!=o[s]&&null!=l[a]&&o[s].toString()===l[a].toString()?(n.resetCache(o),t(null,o)):(e=new Error("Key mismatch: "+n.definition.modelFrom.modelName+"."+a+": "+l[a]+", "+r.modelName+"."+s+": "+o[s]),e.statusCode=400,t(e))):t(null,null)}),l[a]}return t(null,p),p}if(void 0===e)return p;i[s]=l[a],n.resetCache()}},HasOne.prototype.getAsync=function(e,o){return"function"==typeof e&&void 0===o&&(o=e,e={}),o=o||utils.createPromiseCallback(),this.related(!0,o),o.promise},RelationDefinition.embedsOne=function(e,o,t){t=t||{},o=lookupModelTo(e,o,t);var i=(e.modelName,t.as||i8n.camelize(o.modelName,!0)+"Item"),n=t.property||i8n.camelize(o.modelName,!0),r=o.dataSource.idName(o.modelName)||"id";i===n&&(n="_"+n,debug("EmbedsOne property cannot be equal to relation name: forcing property %s for relation %s",n,i));var s=e.relations[i]=new RelationDefinition({name:i,type:RelationTypes.embedsOne,modelFrom:e,keyFrom:n,keyTo:r,modelTo:o,multiple:!1,properties:t.properties,scope:t.scope,options:t.options,embed:!0,methods:t.methods}),a={type:o};return t["default"]===!0?a["default"]=function(){return new o}:"object"==typeof t["default"]&&(a["default"]=function(e){return function(){return new o(e)}}(t["default"])),e.dataSource.defineProperty(e.modelName,n,a),s.options.validate!==!1&&e.validate(i,function(e){var t=this[n];if(t instanceof o&&!t.isValid()){var r=Object.keys(t.errors)[0],s="is invalid: `"+r+"` "+t.errors[r];this.errors.add(i,s,"invalid"),e(!1)}}),Object.defineProperty(e.prototype,i,{enumerable:!0,configurable:!0,get:function(){var e=new EmbedsOne(s,this),o=e.related.bind(e);return o.create=e.create.bind(e),o.build=e.build.bind(e),o.update=e.update.bind(e),o.destroy=e.destroy.bind(e),o.value=e.embeddedValue.bind(e),o._targetClass=s.modelTo.modelName,bindRelationMethods(e,o,s),o}}),e.prototype["__get__"+i]=function(){var e=this[i];e.apply(this,arguments)},e.prototype["__create__"+i]=function(){var e=this[i].create;e.apply(this,arguments)},e.prototype["__update__"+i]=function(){var e=this[i].update;e.apply(this,arguments)},e.prototype["__destroy__"+i]=function(){var e=this[i].destroy;e.apply(this,arguments)},s},EmbedsOne.prototype.related=function(e,o,t){var i,n=this.definition.modelTo,r=this.modelInstance,s=this.definition.keyFrom;if(e instanceof ModelBaseClass&&void 0===o&&void 0===t?(i=e,e=!1):"function"==typeof e&&void 0===o&&void 0===t?(t=e,e=!1):"function"==typeof o&&void 0===t&&(t=o,o={}),i)return void(i instanceof n&&(this.definition.applyProperties(r,i),r.setAttribute(s,i)));var a=r[s];if(a&&(a.__persisted=!0),"function"==typeof t)process.nextTick(function(){t(null,a)});else if(void 0===e)return a},EmbedsOne.prototype.embeddedValue=function(e){return e=e||this.modelInstance,e[this.definition.keyFrom]},EmbedsOne.prototype.create=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=(this.definition.modelTo,this.definition.keyFrom),n=this.modelInstance;"function"!=typeof e||t||(t=e,e={}),e=e||{},t=t||utils.createPromiseCallback();var r=this.callScopeMethod("build",e),s=function(){n.isNewRecord()?(n.setAttribute(i,r),n.save(o,function(e){t(e,e?null:r)})):n.updateAttribute(i,r,o,function(e){t(e,e?null:r)})};if(this.definition.options.persistent)r.save(o,function(e){return e?t(e,r):void s()});else{var a=r.isValid()?null:new ValidationError(r);a?process.nextTick(function(){t(a)}):s()}return t.promise},EmbedsOne.prototype.build=function(e){var o=this.definition.modelTo,t=this.modelInstance,i=this.definition.keyFrom,n=this.definition.options.forceId,r=this.definition.options.persistent,s=o.dataSource.connector;e=e||{},this.definition.applyProperties(t,e);var a=this.definition.keyTo,d=o.definition.properties[a],l=n||void 0===e[a];if(l=l&&!r&&d&&d.generated,l&&"function"==typeof s.generateId){var p=s.generateId(o.modelName,e,a);e[a]=p}var c=new o(e);return t[i]=c,c},EmbedsOne.prototype.update=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition.modelTo,n=this.modelInstance,r=this.definition.keyFrom,s=e instanceof ModelBaseClass,a=s?e.toObject():e,d=n[r];if(d instanceof i)d.setAttributes(a),t=t||utils.createPromiseCallback(),"function"==typeof t&&n.save(o,function(e,o){t(e,o?o[r]:d)});else{if(!d&&t)return this.callScopeMethod("create",a,t);if(!d)return this.callScopeMethod("build",a)}return t.promise},EmbedsOne.prototype.destroy=function(e,o){"function"==typeof e&&void 0===o&&(o=e,e={});var t=this.modelInstance,i=this.definition.keyFrom;return t.unsetAttribute(i,!0),o=o||utils.createPromiseCallback(),t.save(function(e,t){o&&o(e,t)}),o.promise},RelationDefinition.embedsMany=function(e,o,t){t=t||{},o=lookupModelTo(e,o,t,!0);var i=(e.modelName,t.as||i8n.camelize(o.modelName,!0)+"List"),n=t.property||i8n.camelize(o.pluralModelName,!0),r=o.dataSource.idName(o.modelName)||"id";i===n&&(n="_"+n,debug("EmbedsMany property cannot be equal to relation name: forcing property %s for relation %s",n,i));var s=e.relations[i]=new RelationDefinition({name:i,type:RelationTypes.embedsMany,modelFrom:e,keyFrom:n,keyTo:r,modelTo:o,multiple:!0,properties:t.properties,scope:t.scope,options:t.options,embed:!0});e.dataSource.defineProperty(e.modelName,n,{type:[o],"default":function(){return[]}}),"function"!=typeof o.dataSource.connector.generateId&&e.validate(n,function(e){var t=this,i=this[n]||[],s=!1;i.forEach(function(e,i){if(e instanceof o&&void 0==e[r]){s=!0;var a="contains invalid item at index `"+i+"`:";a+=" `"+r+"` is blank",t.errors.add(n,a,"invalid")}}),s&&e(!1)}),t.polymorphic||e.validate(n,function(e){var o=this[n]||[],t=o.map(function(e){return e[r]&&e[r].toString()}),i=t.filter(function(e,o){return utils.findIndexOf(t,e,idEquals)===o});t.length!==i.length&&(this.errors.add(n,"contains duplicate `"+r+"`","uniqueness"),e(!1))},{code:"uniqueness"}),s.options.validate!==!1&&e.validate(n,function(e){var t=this,i=this[n]||[],s=!1;i.forEach(function(e,i){if(e instanceof o){if(!e.isValid()){s=!0;var a=e[r],d=Object.keys(e.errors)[0];if(a)var l="contains invalid item: `"+a+"`";else var l="contains invalid item at index `"+i+"`";l+=" (`"+d+"` "+e.errors[d]+")",t.errors.add(n,l,"invalid")}}else s=!0,t.errors.add(n,"contains invalid item","invalid")}),s&&e(!1)});var a={findById:scopeMethod(s,"findById"),destroy:scopeMethod(s,"destroyById"),updateById:scopeMethod(s,"updateById"),exists:scopeMethod(s,"exists"),add:scopeMethod(s,"add"),remove:scopeMethod(s,"remove"),get:scopeMethod(s,"get"),set:scopeMethod(s,"set"),unset:scopeMethod(s,"unset"),at:scopeMethod(s,"at"),value:scopeMethod(s,"embeddedValue")},d=a.findById;e.prototype["__findById__"+i]=d;var l=a.destroy;e.prototype["__destroyById__"+i]=l;var p=a.updateById;e.prototype["__updateById__"+i]=p;var c=a.add;e.prototype["__link__"+i]=c;
var f=a.remove;e.prototype["__unlink__"+i]=f,a.create=scopeMethod(s,"create"),a.build=scopeMethod(s,"build"),a.related=scopeMethod(s,"related"),s.options.persistent||(a.destroyAll=scopeMethod(s,"destroyAll"));for(var u=extendScopeMethods(s,a,t.scopeMethods),m=0;m<u.length;m++){var y=u[m],h=a[y];"function"==typeof h&&h.shared===!0&&(e.prototype["__"+y+"__"+i]=h)}var v=defineScope(e.prototype,o,i,function(){return{}},a,s.options);return v.related=a.related,s},EmbedsMany.prototype.prepareEmbeddedInstance=function(e){if(e&&"function"!==e.triggerParent){var o=this,t=this.definition.keyFrom,i=this.modelInstance;if(this.definition.options.persistent){var n=this.definition.keyTo;e.__persisted=!!e[n]}else e.__persisted=!0;e.triggerParent=function(n,r){if("save"===n||"destroy"===n){var s=o.embeddedList();if("destroy"===n){var a=s.indexOf(e);a>-1&&s.splice(a,1)}i.updateAttribute(t,s,function(e,o){r(e,e?null:o)})}else process.nextTick(r)};var r=e.trigger;e.trigger=function(o,t,i,n){if("function"==typeof t){var s=t;t=function(t){s.call(this,function(i){e.triggerParent(o,function(e,o){t(i)})})}}r.call(this,o,t,i,n)}}},EmbedsMany.prototype.embeddedList=EmbedsMany.prototype.embeddedValue=function(e){e=e||this.modelInstance;var o=e[this.definition.keyFrom]||[];return o.forEach(this.prepareEmbeddedInstance.bind(this)),o},EmbedsMany.prototype.related=function(e,o,t,i,n){var r=this.definition.modelTo,s=(this.modelInstance,{});"function"==typeof t&&void 0===i&&void 0===n?(n=t,t=!1):"function"==typeof i&&void 0===n&&(n=i,i={}),"object"==typeof t&&(s=t);var a=this.embeddedList(e);this.definition.applyScope(e,s);var d=mergeQuery(s,o);d.where&&Object.keys(d.where).length>0&&(a=a?a.filter(applyFilter(d)):a);var l=function(e){d.include?r.include(e,d.include,i,n):process.nextTick(function(){n(null,e)})};l(a)},EmbedsMany.prototype.findById=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition.keyTo,n=this.definition.modelTo,r=(this.modelInstance,this.embeddedList()),s=function(e){for(var o=0;o<r.length;o++){var t=r[o];if(idEquals(t[i],e))return t}return null},a=s(e.toString());return a=a instanceof n?a:null,"function"==typeof t&&process.nextTick(function(){t(null,a)}),a},EmbedsMany.prototype.exists=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition.modelTo,n=this.findById(e,o,function(e,o){t&&t(e,o instanceof i)});return n instanceof i},EmbedsMany.prototype.updateById=function(e,o,t,i){"function"==typeof t&&void 0===i&&(i=t,t={}),"function"==typeof o&&(i=o,o={});var n=this.definition.modelTo,r=this.definition.keyFrom,s=this.modelInstance,a=this.embeddedList(),d=this.findById(e);if(d instanceof n){"object"==typeof o&&d.setAttributes(o);var l=d.isValid()?null:new ValidationError(d);if(l&&"function"==typeof i)return process.nextTick(function(){i(l,d)});"function"==typeof i&&s.updateAttribute(r,a,t,function(e){i(e,d)})}else"function"==typeof i&&process.nextTick(function(){i(null,null)});return d},EmbedsMany.prototype.destroyById=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition.modelTo,n=this.definition.keyFrom,r=this.modelInstance,s=this.embeddedList(),a=e instanceof i?e:this.findById(e);if(a instanceof i){var d=s.indexOf(a);d>-1&&s.splice(d,1),"function"==typeof t&&r.updateAttribute(n,s,function(e){t(e),i.emit("deleted",a.id,a.toJSON())})}else"function"==typeof t&&process.nextTick(t);return a},EmbedsMany.prototype.destroyAll=function(e,o,t){"function"==typeof o&&void 0===t?(t=o,o={}):"function"==typeof e&&void 0===o&&void 0===t&&(t=e,e={});var i=this.definition.keyFrom,n=this.modelInstance,r=this.embeddedList();if(e&&Object.keys(e).length>0){var s=applyFilter({where:e}),a=function(e){return!s(e)};r=r?r.filter(a):r}else r=[];"function"==typeof t?n.updateAttribute(i,r,function(e){t(e)}):n.setAttribute(i,r)},EmbedsMany.prototype.get=EmbedsMany.prototype.findById,EmbedsMany.prototype.set=EmbedsMany.prototype.updateById,EmbedsMany.prototype.unset=EmbedsMany.prototype.destroyById,EmbedsMany.prototype.at=function(e,o){var t=this.definition.modelTo,i=(this.modelInstance,this.embeddedList()),n=i[parseInt(e)];return n=n instanceof t?n:null,"function"==typeof o&&process.nextTick(function(){o(null,n)}),n},EmbedsMany.prototype.create=function(e,o,t){var i=(this.definition.keyTo,this.definition.modelTo,this.definition.keyFrom),n=this.modelInstance;"function"==typeof o&&void 0===t&&(t=o,o={}),"function"!=typeof e||t||(t=e,e={}),e=e||{},t=t||utils.createPromiseCallback();var r=this.embeddedList(),s=this.callScopeMethod("build",e),a=function(){n.isNewRecord()?(n.setAttribute(i,r),n.save(o,function(e){t(e,e?null:s)})):n.updateAttribute(i,r,o,function(e){t(e,e?null:s)})};if(this.definition.options.persistent)s.save(function(e){return e?t(e,s):void a()});else{var d=s.isValid()?null:new ValidationError(s);d?process.nextTick(function(){t(d)}):a()}return t.promise},EmbedsMany.prototype.build=function(e){var o=this.definition.modelTo,t=this.modelInstance,i=this.definition.options.forceId,n=this.definition.options.persistent,r=o.dataSource.connector,s=this.definition.keyTo,a=o.definition.properties[s],d=a&&a.type,l=this.embeddedList();e=e||{};var p=i||void 0===e[s];if(p=p&&!n,p&&d===Number){var c=l.map(function(e){return"number"==typeof e[s]?e[s]:0});c.length>0?e[s]=Math.max.apply(null,c)+1:e[s]=1}else if(p&&"function"==typeof r.generateId){var f=r.generateId(o.modelName,e,s);e[s]=f}this.definition.applyProperties(t,e);var u=new o(e);return this.definition.options.prepend?l.unshift(u):l.push(u),this.prepareEmbeddedInstance(u),u},EmbedsMany.prototype.add=function(e,o,t,i){"function"==typeof t&&void 0===i?(i=t,t={}):"function"==typeof o&&void 0===t&&void 0===i&&(i=o,o={}),i=i||utils.createPromiseCallback();var n=this,r=this.definition,s=this.definition.modelTo,a=this.modelInstance,t=r.options,d=t.belongsTo&&s.relations[t.belongsTo];if(!d)throw new Error("Invalid reference: "+t.belongsTo||"(none)");var l=d.keyTo,p=d.modelTo.definition.idName()||"id",c={};c[l]=e instanceof d.modelTo?e[p]:e;var f={where:c};return d.applyScope(a,f),d.modelTo.findOne(f,t,function(e,r){if(r instanceof d.modelTo){var s=n.build(o||{});s[t.belongsTo](r),a.save(function(e){i(e,e?null:s)})}else i(null,null)}),i.promise},EmbedsMany.prototype.remove=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this,n=this.definition,r=this.definition.modelTo,s=this.modelInstance,o=n.options,a=o.belongsTo&&r.relations[o.belongsTo];if(!a)throw new Error("Invalid reference: "+o.belongsTo||"(none)");var d=a.keyTo,l=a.modelTo.definition.idName()||"id",p={};p[d]=e instanceof a.modelTo?e[l]:e;var c={where:p};return a.applyScope(s,c),t=t||utils.createPromiseCallback(),s[n.name](c,o,function(e,n){return e?t(e):(n.forEach(function(e){i.unset(e)}),void s.save(o,function(e){t(e)}))}),t.promise},RelationDefinition.referencesMany=function(e,o,t){t=t||{},o=lookupModelTo(e,o,t,!0);var i=(e.modelName,t.as||i8n.camelize(o.pluralModelName,!0)),n=t.foreignKey||i8n.camelize(o.modelName+"_ids",!0),r=o.dataSource.idName(o.modelName)||"id",s=o.definition.properties[r].type,a=e.relations[i]=new RelationDefinition({name:i,type:RelationTypes.referencesMany,modelFrom:e,keyFrom:n,keyTo:r,modelTo:o,multiple:!0,properties:t.properties,scope:t.scope,options:t.options});e.dataSource.defineProperty(e.modelName,n,{type:[s],"default":function(){return[]}}),e.validate(i,function(e){var t=this[n]||[],r=t.filter(function(e,o){return utils.findIndexOf(t,e,idEquals)===o});if(t.length!==r.length){var s="contains duplicate `"+o.modelName+"` instance";this.errors.add(i,s,"uniqueness"),e(!1)}},{code:"uniqueness"});var d={findById:scopeMethod(a,"findById"),destroy:scopeMethod(a,"destroyById"),updateById:scopeMethod(a,"updateById"),exists:scopeMethod(a,"exists"),add:scopeMethod(a,"add"),remove:scopeMethod(a,"remove"),at:scopeMethod(a,"at")},l=d.findById;e.prototype["__findById__"+i]=l;var p=d.destroy;e.prototype["__destroyById__"+i]=p;var c=d.updateById;e.prototype["__updateById__"+i]=c;var f=d.add;e.prototype["__link__"+i]=f;var u=d.remove;e.prototype["__unlink__"+i]=u,d.create=scopeMethod(a,"create"),d.build=scopeMethod(a,"build"),d.related=scopeMethod(a,"related");for(var m=extendScopeMethods(a,d,t.scopeMethods),y=0;y<m.length;y++){var h=m[y],v=d[h];"function"==typeof v&&v.shared===!0&&(e.prototype["__"+h+"__"+i]=v)}var T=defineScope(e.prototype,o,i,function(){return{}},d,a.options);return T.related=d.related,a},ReferencesMany.prototype.related=function(e,o,t,i,n){var r=this.definition.keyFrom,s=this.definition.modelTo,a=(this.definition.name,this.modelInstance),d=e,l={},p=!1;"function"==typeof t&&void 0===i&&void 0===n?(n=t,t=void 0):"function"==typeof i&&void 0===n&&(n=i,i={},"boolean"==typeof t?(p=t,t={}):p=!0),l=t||{};var c=d[r]||[];this.definition.applyScope(a,l);var f=mergeQuery(l,o);return s.findByIds(c,f,i,n)},ReferencesMany.prototype.findById=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition.modelTo,n=this.definition.modelFrom,r=(this.definition.name,this.modelInstance),s=this.definition.keyTo,a=this.definition.keyFrom;"object"==typeof e&&(e=e.toString());var d=r[a]||[],l={};return this.definition.applyScope(r,l),t=t||utils.createPromiseCallback(),i.findByIds([e],l,o,function(o,l){if(o)return t(o);var p=l[0];return p?void(utils.findIndexOf(d,p[s],idEquals)>-1?t(null,p):(o=new Error("Key mismatch: "+n.modelName+"."+a+": "+r[a]+", "+i.modelName+"."+s+": "+p[s]),o.statusCode=400,t(o))):(o=new Error("No instance with id "+e+" found for "+i.modelName),o.statusCode=404,t(o))}),t.promise},ReferencesMany.prototype.exists=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition.keyFrom,n=this.modelInstance[i]||[];return t=t||utils.createPromiseCallback(),process.nextTick(function(){t(null,utils.findIndexOf(n,e,idEquals)>-1)}),t.promise},ReferencesMany.prototype.updateById=function(e,o,t,i){return"function"==typeof t&&void 0===i?(i=t,t={}):"function"==typeof o&&void 0===t&&void 0===i&&(i=o,o={}),i=i||utils.createPromiseCallback(),this.findById(e,t,function(e,n){return e?i(e):void n.updateAttributes(o,t,i)}),i.promise},ReferencesMany.prototype.destroyById=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this;return t=t||utils.createPromiseCallback(),this.findById(e,function(e,o){return e?t(e):void i.remove(o,function(e,i){o.destroy(t)})}),t.promise},ReferencesMany.prototype.at=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition.keyFrom,n=this.modelInstance[i]||[];return t=t||utils.createPromiseCallback(),this.findById(n[e],o,t),t.promise},ReferencesMany.prototype.create=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition,n=(this.definition.modelTo,this.definition.name,this.modelInstance),r=this.definition.keyTo,s=this.definition.keyFrom;"function"!=typeof e||t||(t=e,e={}),e=e||{},t=t||utils.createPromiseCallback();var a=n[s]||[],d=this.callScopeMethod("build",e);return d.save(o,function(e,d){if(e)return t(e,d);var l=d[r];"object"==typeof l&&(l=l.toString()),i.options.prepend?a.unshift(l):a.push(l),n.updateAttribute(s,a,o,function(e,o){t(e,d)})}),t.promise},ReferencesMany.prototype.build=function(e){var o=this.definition.modelTo;return e=e||{},this.definition.applyProperties(this.modelInstance,e),new o(e)},ReferencesMany.prototype.add=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition,n=this.definition.modelTo,r=this.modelInstance,s=this.definition.keyTo,a=this.definition.keyFrom,d=function(e,t){var n=e[s];"object"==typeof n&&(n=n.toString());var d=r[a]||[];i.options.prepend?d.unshift(n):d.push(n),r.updateAttribute(a,d,o,function(o){t(o,o?null:e)})};if(t=t||utils.createPromiseCallback(),e instanceof n)d(e,t);else{var l={where:{}};l.where[s]=e,i.applyScope(r,l),n.findOne(l,o,function(e,o){return e||!o?t(e,null):void d(o,t)})}return t.promise},ReferencesMany.prototype.remove=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition,n=this.modelInstance,r=this.definition.keyTo,s=this.definition.keyFrom,a=n[s]||[],d=e instanceof i.modelTo?e[r]:e;t=t||utils.createPromiseCallback();var l=utils.findIndexOf(a,d,idEquals);return l>-1?(a.splice(l,1),n.updateAttribute(s,a,o,function(e,o){t(e,o[s]||[])})):process.nextTick(function(){t(null,a)}),t.promise};
}).call(this,require('_process'))

},{"./connectors/memory":111,"./model.js":124,"./scope.js":128,"./utils":131,"./validations.js":132,"_process":425,"assert":2,"async":133,"debug":134,"inflection":137,"util":594}],127:[function(require,module,exports){
function RelationMixin(){}var relation=require("./relation-definition"),RelationDefinition=relation.RelationDefinition;module.exports=RelationMixin,RelationMixin.hasMany=function(n,i){return RelationDefinition.hasMany(this,n,i)},RelationMixin.belongsTo=function(n,i){return RelationDefinition.belongsTo(this,n,i)},RelationMixin.hasAndBelongsToMany=function(n,i){return RelationDefinition.hasAndBelongsToMany(this,n,i)},RelationMixin.hasOne=function(n,i){return RelationDefinition.hasOne(this,n,i)},RelationMixin.referencesMany=function(n,i){return RelationDefinition.referencesMany(this,n,i)},RelationMixin.embedsOne=function(n,i){return RelationDefinition.embedsOne(this,n,i)},RelationMixin.embedsMany=function(n,i){return RelationDefinition.embedsMany(this,n,i)};
},{"./relation-definition":126}],128:[function(require,module,exports){
function ScopeDefinition(e){this.isStatic=e.isStatic,this.modelFrom=e.modelFrom,this.modelTo=e.modelTo||e.modelFrom,this.name=e.name,this.params=e.params,this.methods=e.methods||{},this.options=e.options||{}}function defineScope(e,t,o,i,n,r){function s(e){e=e||{};var t=h.targetModel(this._receiver),o=this._scope&&this._scope.where||{};return setScopeValuesFromWhere(e,o,t),new t(e)}function c(e,t,o){return"function"==typeof e&&void 0===t&&void 0===o?(o=e,e={}):"function"==typeof t&&void 0===o&&(o=t,t={}),t=t||{},this.build(e).save(t,o)}function a(e,t,o){"function"==typeof e?(o=e,e={}):"function"==typeof t&&void 0===o&&(o=t,t={}),t=t||{};var i=h.targetModel(this._receiver),n=this._scope&&this._scope.where||{},r=mergeQuery({where:n},{where:e||{}});return i.destroyAll(r.where,t,o)}function u(e,t,o,i){"function"==typeof t&&void 0===o&&void 0===i?(i=t,t=e,e={},o={}):"function"==typeof o&&void 0===i&&(i=o,o={}),o=o||{};var n=h.targetModel(this._receiver),r=this._scope&&this._scope.where||{},s=mergeQuery({where:r},{where:e||{}});return n.updateAll(s.where,t,o,i)}function d(e,t,o,i){void 0===o&&void 0===i?"function"==typeof t&&(i=t,t={}):void 0===i&&"function"==typeof o&&(i=o,o={},"object"!=typeof t||t.include||t.fields||(o=t,t={})),o=o||{},t=t||{};var n=h.targetModel(this._receiver),r=n.definition.idName(),s={where:{}};return s.where[r]=e,s=mergeQuery(s,t),this.findOne(s,o,i)}function l(e,t,o){"function"==typeof e?(o=e,e={},t={}):"function"==typeof t&&void 0===o&&(o=t,t={}),t=t||{};var i=h.targetModel(this._receiver),n=this._scope&&this._scope.where||{};return e=mergeQuery({where:n},e||{}),i.findOne(e,t,o)}function p(e,t,o){"function"==typeof e?(o=e,e={}):"function"==typeof t&&void 0===o&&(o=t,t={}),t=t||{};var i=h.targetModel(this._receiver),n=this._scope&&this._scope.where||{},r=mergeQuery({where:n},{where:e||{}});return i.count(r.where,t,o)}e._scopeMeta||(e._scopeMeta={}),e===t?e._scopeMeta[o]=i:t&&(t._scopeMeta||(t._scopeMeta={})),r=r||{};var f="function"==typeof e||r.isStatic||!1,h=new ScopeDefinition({isStatic:f,modelFrom:e,modelTo:t,name:o,params:i,methods:n,options:r});f?(e.scopes=e.scopes||{},e.scopes[o]=h):(e.constructor.scopes=e.constructor.scopes||{},e.constructor.scopes[o]=h),Object.defineProperty(e,o,{enumerable:!1,configurable:!0,get:function(){var e=h.targetModel(this),i=this,n=function(e,t,r){return 0!==arguments.length?("function"==typeof e&&void 0===t&&void 0===r?(r=e,t={},e=void 0):"function"==typeof t&&void 0===r&&(r=t,t={}),t=t||{},n._scope.collect&&null!==e&&"object"==typeof e&&(["limit","offset","skip","order"].forEach(function(t){"undefined"!=typeof e[t]&&(n._scope[t]=e[t],delete e[t])}),n._scope.include={relation:n._scope.collect,scope:e},e={}),h.related(i,n._scope,e,t,r)):"function"==typeof n.value?n.value(i):i.__cachedRelations?i.__cachedRelations[o]:void 0};n._receiver=this,n._scope="function"==typeof h.params?h.params.call(i):h.params,n._targetClass=e.modelName,n._scope.collect&&(n._targetClass=i8n.camelize(n._scope.collect)),n.getAsync=function(e,t,o){return"function"==typeof e&&void 0===t&&void 0===o?(o=e,t={},e={}):"function"==typeof t&&void 0===o&&(o=t,t={}),t=t||{},h.related(i,n._scope,e,t,o)},n.build=s,n.create=c,n.updateAll=u,n.destroyAll=a,n.findById=d,n.findOne=l,n.count=p;for(var r in h.methods)n[r]=h.methods[r].bind(i);return t?(Object.keys(t._scopeMeta).forEach(function(t){Object.defineProperty(n,t,{enumerable:!1,get:function(){return mergeQuery(n._scope,e._scopeMeta[t]),n}})}.bind(i)),n):n}});var _=function(){var e=this[o];e.apply(this[o],arguments)};e["__get__"+o]=_;var m=function(){var e=this[o].create;e.apply(this[o],arguments)};e["__create__"+o]=m;var v=function(){var e=this[o].destroyAll;e.apply(this[o],arguments)};e["__delete__"+o]=v;var y=function(){var e=this[o].updateAll;e.apply(this[o],arguments)};e["__update__"+o]=y;var g=function(e){var t=this[o].findById;t.apply(this[o],arguments)};e["__findById__"+o]=g;var w=function(e){var t=this[o].findOne;t.apply(this[o],arguments)};e["__findOne__"+o]=w;var M=function(e){var t=this[o].count;t.apply(this[o],arguments)};return e["__count__"+o]=M,h}var i8n=require("inflection"),utils=require("./utils"),defineCachedRelations=utils.defineCachedRelations,setScopeValuesFromWhere=utils.setScopeValuesFromWhere,mergeQuery=utils.mergeQuery,DefaultModelBaseClass=require("./model.js");exports.defineScope=defineScope,ScopeDefinition.prototype.targetModel=function(e){var t;if(t="function"==typeof this.options.modelTo?this.options.modelTo.call(this,e)||this.modelTo:this.modelTo,!(t.prototype instanceof DefaultModelBaseClass)){var o="Invalid target model for scope `";throw o+=(this.isStatic?this.modelFrom:this.modelFrom.constructor).modelName,o+=this.isStatic?".":".prototype.",o+=this.name+"`.",new Error(o)}return t},ScopeDefinition.prototype.related=function(e,t,o,i,n){var r=this.name,s=e,c={},a=!1,u=e instanceof DefaultModelBaseClass;if("function"==typeof o&&void 0===i&&void 0===n?(n=o,i={},o=void 0):"function"==typeof i&&void 0===n&&(n=i,i={}),i=i||{},void 0!==o&&("boolean"==typeof o?a=o:(c=o,a=!0,u=!1)),n=n||utils.createPromiseCallback(),!s.__cachedRelations||void 0===s.__cachedRelations[r]||a){var d=mergeQuery(c,t,{nestedInclude:!0}),l=this.targetModel(e);l.find(d,i,function(e,t){!e&&u&&(defineCachedRelations(s),s.__cachedRelations[r]=t),n(e,t)})}else n(null,s.__cachedRelations[r]);return n.promise},ScopeDefinition.prototype.defineMethod=function(e,t){return this.methods[e]=t};
},{"./model.js":124,"./utils":131,"inflection":137}],129:[function(require,module,exports){
(function (process){
function TransactionMixin(){}var debug=require("debug")("loopback:connector:transaction"),uuid=require("node-uuid"),utils=require("./utils"),jutil=require("./jutil"),ObserverMixin=require("./observer"),Transaction=require("loopback-connector").Transaction;module.exports=TransactionMixin,TransactionMixin.beginTransaction=function(n,o){if(o=o||utils.createPromiseCallback(),Transaction){var i=this.getConnector();Transaction.begin(i,n,function(i,t){return i?o(i):(t&&(t.id=uuid.v1()),n.timeout&&setTimeout(function(){var n={transaction:t,operation:"timeout"};t.notifyObserversOf("timeout",n,function(n){n||t.rollback(function(){debug("Transaction %s is rolled back due to timeout",t.id)})})},n.timeout),void o(i,t))})}else process.nextTick(function(){var n=new Error("Transaction is not supported");o(n)});return o.promise},Transaction&&(jutil.mixin(Transaction.prototype,ObserverMixin),Transaction.prototype.commit=function(n){function o(n){i.connector.commit(i.connection,n)}var i=this;if(n=n||utils.createPromiseCallback(),!i.connection)return process.nextTick(function(){n(new Error("The transaction is not active: "+i.id))}),n.promise;var t={transaction:i,operation:"commit"};return i.notifyObserversAround("commit",t,o,function(o){i.connection=null,n(o)}),n.promise},Transaction.prototype.rollback=function(n){function o(n){i.connector.rollback(i.connection,n)}var i=this;if(n=n||utils.createPromiseCallback(),!i.connection)return process.nextTick(function(){n(new Error("The transaction is not active: "+i.id))}),n.promise;var t={transaction:i,operation:"rollback"};return i.notifyObserversAround("rollback",t,o,function(o){i.connection=null,n(o)}),n.promise},Transaction.prototype.toJSON=function(){return this.id},Transaction.prototype.toString=function(){return this.id}),TransactionMixin.Transaction=Transaction;
}).call(this,require('_process'))

},{"./jutil":119,"./observer":125,"./utils":131,"_process":425,"debug":134,"loopback-connector":138,"node-uuid":143}],130:[function(require,module,exports){
(function (Buffer){
var Types={};Types.Text=function e(t){return this instanceof e?void(this.value=t):t},Types.Text.prototype.toObject=Types.Text.prototype.toJSON=function(){return this.value},Types.JSON=function t(e){return this instanceof t?void(this.value=e):e},Types.JSON.prototype.toObject=Types.JSON.prototype.toJSON=function(){return this.value},Types.Any=function r(e){return this instanceof r?void(this.value=e):e},Types.Any.prototype.toObject=Types.Any.prototype.toJSON=function(){return this.value},module.exports=function(e){var t=require("./geo").GeoPoint;for(var r in Types)e[r]=Types[r];e.schemaTypes={},e.registerType=function(e,t){t=t||[],t=t.concat([e.name]);for(var r=0;r<t.length;r++)this.schemaTypes[t[r].toLowerCase()]=e},e.registerType(Types.Text),e.registerType(Types.JSON),e.registerType(Types.Any),e.registerType(String),e.registerType(Number),e.registerType(Boolean),e.registerType(Date),e.registerType(Buffer,["Binary"]),e.registerType(Array),e.registerType(t),e.registerType(Object)},module.exports.Types=Types;
}).call(this,require("buffer").Buffer)

},{"./geo":114,"buffer":42}],131:[function(require,module,exports){
(function (process,global){
function safeRequire(e){try{return require(e)}catch(r){console.log('Run "npm install loopback-datasource-juggler '+e+'" command to use loopback-datasource-juggler using '+e+" database engine"),process.exit(1)}}function setScopeValuesFromWhere(e,r,t){for(var n in r)if("and"!==n){var i=t.definition.properties[n];if(i){var o=r[n];("object"!=typeof o||o instanceof i.type||"ObjectID"===i.type.name)&&(e[n]=r[n])}}else for(var s=0,a=r[n].length;a>s;s++)setScopeValuesFromWhere(e,r[n][s],t)}function mergeIncludes(e,r){var t=convertToArray(e),n=convertToArray(r);if(0===t.length)return n;if(0===n.length)return t;var i=[],o=[];for(var s in n){var a=n[s],u="string"==typeof(a.rel||a.relation)?a.relation:Object.keys(a)[0];i.push(u),o.push(a)}for(var f in t){var l=t[f],c="string"==typeof(l.rel||l.relation)?l.relation:Object.keys(l)[0];-1===i.indexOf(c)&&o.push(l)}return o}function convertToArray(e){if("string"==typeof e){var r={};return r[e]=!0,[r]}if(isPlainObject(e)){if(e.rel||e.relation)return[e];var t=[];for(var n in e){var r={};r[n]=e[n],t.push(r)}return t}if(Array.isArray(e)){var i=[];for(var o in e){var s=e[o];if("string"==typeof s){var r={};r[s]=!0,i.push(r)}else i.push(s)}return i}return[]}function mergeQuery(e,r,t){if(r){if(t=t||{},e=e||{},r.where&&Object.keys(r.where).length>0&&(e.where&&Object.keys(e.where).length>0?e.where={and:[e.where,r.where]}:e.where=r.where),t.include!==!1&&r.include)if(e.include)if(t.nestedInclude===!0){var n=e.include;e.include={},e.include[r.include]=n}else e.include=mergeIncludes(e.include,r.include);else e.include=r.include;t.collect!==!1&&r.collect&&(e.collect=r.collect),t.fields!==!1&&void 0!==r.fields?e.fields=r.fields:void 0!==r.fields&&(e.fields=[].concat(e.fields).concat(r.fields)),e.order&&t.order!==!1||!r.order||(e.order=r.order),t.limit!==!1&&void 0!==r.limit&&(e.limit=r.limit);var i=t.skip!==!1&&t.offset!==!1;return i&&void 0!==r.skip&&(e.skip=r.skip),i&&void 0!==r.offset&&(e.offset=r.offset),e}}function fieldsToArray(e,r,t){if(e){var n,i,o=r;if("string"==typeof e)o=[e];else if(Array.isArray(e)&&e.length>0)o=e;else if("object"==typeof e){var s=[],a=[],u=Object.keys(e);if(!u.length)return;for(n=0,i=u.length;i>n;n++){var f=u[n];e[f]?s.push(f):f in e&&!e[f]&&a.push(f)}if(s.length>0)o=s;else if(a.length>0)for(n=0,i=a.length;i>n;n++){var l=o.indexOf(a[n]);o.splice(l,1)}}var c=[];if(t)for(n=0,i=o.length;i>n;n++)-1!==r.indexOf(o[n])&&c.push(o[n]);else c=o;return c}}function selectFields(e){return function(r){for(var t,n={},i=0;i<e.length;i++)t=e[i],n[t]=r[t];return n}}function removeUndefined(e,r){return"object"!=typeof e||null===e?e:traverse(e).forEach(function(e){if(void 0===e)switch(r){case"nullify":this.update(null);break;case"throw":throw new Error("Unexpected `undefined` in query");case"ignore":default:this.remove()}return Array.isArray(e)||"object"!=typeof e||null===e||e.constructor===Object?e:(this.update(e,!0),e)})}function parseSettings(e){if(!e)return{};var r=url.parse(e,!1),t={};if(t.connector=r.protocol&&r.protocol.split(":")[0],t.host=t.hostname=r.hostname,t.port=r.port&&Number(r.port),t.user=t.username=r.auth&&r.auth.split(":")[0],t.password=r.auth&&r.auth.split(":")[1],t.database=r.pathname&&r.pathname.split("/")[1],t.url=e,r.query){var n=qs.parse(r.query);for(var i in n)t[i]=n[i]}return t}function mergeSettings(e,r){var t=Array.isArray(r),n=t&&[]||{};return t?(e=e||[],n=n.concat(e),r.forEach(function(e){-1===n.indexOf(e)&&n.push(e)})):(null!=e&&"object"==typeof e&&Object.keys(e).forEach(function(r){n[r]=e[r]}),null!=r&&"object"==typeof r&&Object.keys(r).forEach(function(t){var i=r[t];null==i||"object"!=typeof i?n[t]=i:null==e||"object"!=typeof e||null==e[t]?n[t]=i:n[t]=mergeSettings(e[t],r[t])})),n}function defineCachedRelations(e){e.__cachedRelations||Object.defineProperty(e,"__cachedRelations",{writable:!0,enumerable:!1,configurable:!0,value:{}})}function isPlainObject(e){return"object"==typeof e&&null!==e&&e.constructor===Object}function sortObjectsByIds(e,r,t,n){r=r.map(function(e){return"object"==typeof e?String(e):e});var i=function(t){var n="object"==typeof t[e],i=n?String(t[e]):t[e];return r.indexOf(i)},o=[],s=[];return t.forEach(function(e){if("object"==typeof e){var r=i(e);if(n&&-1===r)return;-1===r?s.push(e):o.push(e)}}),o.sort(function(e,r){var t=i(e),n=i(r);return-1===t||-1===n?1:t===n?0:t>n?1:n>t?-1:void 0}),o.concat(s)}function createPromiseCallback(){var e;if(!global.Promise)return e=function(){},e.promise={},Object.defineProperty(e.promise,"then",{get:throwPromiseNotDefined}),Object.defineProperty(e.promise,"catch",{get:throwPromiseNotDefined}),e;var r=new Promise(function(r,t){e=function(e,n){return e?t(e):r(n)}});return e.promise=r,e}function throwPromiseNotDefined(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')}function uniq(e){var r=[];if(!e)return r;assert(Array.isArray(e),"array argument is required");for(var t=0,n=e.length;n>t;t++)e.indexOf(e[t])===t&&r.push(e[t]);return r}function toRegExp(e){var r="string"==typeof e,t=e instanceof RegExp;if(!r&&!t)return new Error("Invalid argument, must be a string, regex literal, or RegExp object");if(t)return e;if(!hasRegExpFlags(e))return new RegExp(e);var n=e.split("/").pop().split(""),i=["i","g","m"],o=[];n.forEach(function(e){-1===i.indexOf(e)&&o.push(e)});var s=o.length>0;if(s)return new Error("Invalid regex flags: "+o);var a=e.substr(1,e.lastIndexOf("/")-1);return new RegExp(a,n.join(""))}function hasRegExpFlags(e){return e instanceof RegExp?e.toString().split("/").pop():!!e.match(/.*\/.+$/)}function idEquals(e,r){return e===r?!0:"number"==typeof e&&"string"==typeof r||"string"==typeof e&&"number"==typeof r?e==r:(e=JSON.stringify(e),r=JSON.stringify(r),e===r?!0:!1)}function findIndexOf(e,r,t){if(!t)return e.indexOf(r);for(var n=0;n<e.length;n++)if(t(e[n],r))return n;return-1}exports.safeRequire=safeRequire,exports.fieldsToArray=fieldsToArray,exports.selectFields=selectFields,exports.removeUndefined=removeUndefined,exports.parseSettings=parseSettings,exports.mergeSettings=exports.deepMerge=mergeSettings,exports.isPlainObject=isPlainObject,exports.defineCachedRelations=defineCachedRelations,exports.sortObjectsByIds=sortObjectsByIds,exports.setScopeValuesFromWhere=setScopeValuesFromWhere,exports.mergeQuery=mergeQuery,exports.mergeIncludes=mergeIncludes,exports.createPromiseCallback=createPromiseCallback,exports.uniq=uniq,exports.toRegExp=toRegExp,exports.hasRegExpFlags=hasRegExpFlags,exports.idEquals=idEquals,exports.findIndexOf=findIndexOf;var traverse=require("traverse"),assert=require("assert"),url=require("url"),qs=require("qs");
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":425,"assert":2,"qs":144,"traverse":149,"url":592}],132:[function(require,module,exports){
(function (process){
function Validatable(){}function validatePresence(t,i,n){blank(this[t])&&n()}function validateAbsence(t,i,n){blank(this[t])||n()}function validateLength(t,i,n){if(!nullCheck.call(this,t,i,n)){var e=this[t].length;i.min&&e<i.min&&n("min"),i.max&&e>i.max&&n("max"),i.is&&e!==i.is&&n("is")}}function validateNumericality(t,i,n){return nullCheck.call(this,t,i,n)?void 0:"number"!=typeof this[t]?n("number"):i["int"]&&this[t]!==Math.round(this[t])?n("int"):void 0}function validateInclusion(t,i,n){nullCheck.call(this,t,i,n)||~i["in"].indexOf(this[t])||n()}function validateExclusion(t,i,n){nullCheck.call(this,t,i,n)||~i["in"].indexOf(this[t])&&n()}function validateFormat(t,i,n){nullCheck.call(this,t,i,n)||("string"==typeof this[t]?this[t].match(i["with"])||n():n())}function validateCustom(t,i,n,e){i.customValidator.call(this,n,e)}function validateUniqueness(t,i,n,e){if(blank(this[t]))return process.nextTick(e);var r={where:{}};r.where[t]=this[t],i&&i.scopedTo&&i.scopedTo.forEach(function(t){var i=this[t];void 0!==i&&(r.where[t]=this[t])},this);var a=this.constructor.definition.idName(),o=this.isNewRecord();this.constructor.find(r,function(i,r){i?n(i):r.length>1?n():1===r.length&&a===t&&o?n():1!==r.length||this.id&&r[0].id&&r[0].id.toString()==this.id.toString()||n(),e()}.bind(this))}function getConfigurator(t,i){return function(){var n=Array.prototype.slice.call(arguments);n[1]=n[1]||{},configure(this,t,n,i)}}function cleanErrors(t){Object.defineProperty(t,"errors",{enumerable:!1,configurable:!0,value:!1})}function validationFailed(t,i,n,e){n.options||{};if("string"!=typeof i)return!1;if(skipValidation(t,n,"if")||skipValidation(t,n,"unless"))return e&&e(!1),!1;var r=!1,a=validators[n.validation],o=[];return o.push(i),o.push(n),o.push(function(e){var a,o=n.code||n.validation;n.message&&(a=n.message),!a&&defaultMessages[n.validation]&&(a=defaultMessages[n.validation]),a||(a="is invalid"),e&&(o+="."+e,a=a[e]?a[e]:defaultMessages.common[e]?defaultMessages.common[e]:"is invalid"),e!==!1&&t.errors.add(i,a,o),r=!0}),e&&o.push(function(){e(r)}),a.apply(t,o),r}function skipValidation(t,i,n){var e=!0;return"function"==typeof i[n]?(e=i[n].call(t),"unless"===n&&(e=!e)):"string"==typeof i[n]&&("function"==typeof t[i[n]]?(e=t[i[n]].call(t),"unless"===n&&(e=!e)):t.__data.hasOwnProperty(i[n])?(e=t[i[n]],"unless"===n&&(e=!e)):e="if"===n),!e}function nullCheck(t,i,n){return null==this[t]?(i.allowNull||n("null"),!0):blank(this[t])?(i.allowBlank||n("blank"),!0):!1}function blank(t){return"undefined"==typeof t?!0:t instanceof Array&&0===t.length?!0:null===t?!0:"number"==typeof t&&isNaN(t)?!0:"string"==typeof t&&""===t?!0:!1}function configure(t,i,n,e){t.validations||Object.defineProperty(t,"validations",{writable:!0,configurable:!0,enumerable:!1,value:{}}),n=[].slice.call(n);var r;r="object"==typeof n[n.length-1]?n.pop():{},"custom"===i&&"function"==typeof n[n.length-1]&&(r.customValidator=n.pop()),r.validation=i,n.forEach(function(i){if("string"==typeof i){var n=extend({},r);n.options=e||{},t.validations[i]=t.validations[i]||[],t.validations[i].push(n)}})}function Errors(){Object.defineProperty(this,"codes",{enumerable:!1,configurable:!0,value:{}})}function ErrorCodes(t){var i=this;Object.keys(t).forEach(function(n){i[n]=t[n].codes})}function ValidationError(t){if(!(this instanceof ValidationError))return new ValidationError(t);this.name="ValidationError";var i=t&&t.constructor&&t.constructor.modelName;this.message=util.format("The %s instance is not valid. Details: %s.",i?"`"+i+"`":"model",formatErrors(t.errors,t.toJSON())||"(unknown)"),this.statusCode=422,this.details={context:i,codes:t.errors&&t.errors.codes,messages:t.errors},Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):errorHasStackProperty&&(this.stack=(new Error).stack)}function formatErrors(t,i){var n="; ";return t=t||{},Object.getOwnPropertyNames(t).filter(function(i){return Array.isArray(t[i])}).map(function(e){var r=t[e],a=i[e];return r.map(function(t){return formatPropertyError(e,a,t)}).join(n)}).join(n)}function formatPropertyError(t,i,n){var e,r=typeof i;return"string"===r?e=JSON.stringify(truncatePropertyString(i)):i instanceof Date?e=i.toISOString():"object"===r?(e=util.inspect(i,{showHidden:!1,color:!1,depth:Array.isArray(i)?1:0}),e=truncatePropertyString(e)):e=truncatePropertyString(""+i),"`"+t+"` "+n+" (value: "+e+")"}function truncatePropertyString(t){var i=ValidationError.maxPropertyStringLength;if(t.length<=i)return t;var n,e=t.match(/([ \t})\]]+)$/);return e?(n=e[1].slice(-3),i-=n.length):(n=t.slice(-3),i-=3),t.slice(0,i-4)+"..."+n}var util=require("util"),extend=util._extend;exports.ValidationError=ValidationError,exports.Validatable=Validatable,Validatable.validatesPresenceOf=getConfigurator("presence"),Validatable.validatesAbsenceOf=getConfigurator("absence"),Validatable.validatesLengthOf=getConfigurator("length"),Validatable.validatesNumericalityOf=getConfigurator("numericality"),Validatable.validatesInclusionOf=getConfigurator("inclusion"),Validatable.validatesExclusionOf=getConfigurator("exclusion"),Validatable.validatesFormatOf=getConfigurator("format"),Validatable.validate=getConfigurator("custom"),Validatable.validateAsync=getConfigurator("custom",{async:!0}),Validatable.validatesUniquenessOf=getConfigurator("uniqueness",{async:!0});var validators={presence:validatePresence,absence:validateAbsence,length:validateLength,numericality:validateNumericality,inclusion:validateInclusion,exclusion:validateExclusion,format:validateFormat,custom:validateCustom,uniqueness:validateUniqueness};Validatable.prototype.isValid=function(t,i){var n=!0,e=this,r=0,a=!1,o=this.constructor.validations,s="validate"===this.__strict&&this.__unknownProperties&&this.__unknownProperties.length;return"object"==typeof o||s?(Object.defineProperty(this,"errors",{enumerable:!1,configurable:!0,value:new Errors}),this.trigger("validate",function(i){function e(e){c=c||e,0===--r&&i.call(l,function(){n&&!c&&cleanErrors(l),t&&t(n&&!c)})}var l=this,c=!1,u=Object.keys(o||{});if(u.forEach(function(t){var i=o[t]||[];i.forEach(function(i){i.options&&i.options.async?(a=!0,r+=1,process.nextTick(function(){validationFailed(l,t,i,e)})):validationFailed(l,t,i)&&(n=!1)})}),s)for(var d in l.__unknownProperties){var f=l.__unknownProperties[d],h="unknown-property",v=defaultMessages[h];l.errors.add(f,v,h),n=!1}a||i.call(l,function(){n&&cleanErrors(l),t&&t(n)})},i,t),a?void 0:n):(cleanErrors(this),t&&this.trigger("validate",function(i){i.call(e,function(){t(n)})},i,t),n)};var defaultMessages={presence:"can't be blank",absence:"can't be set","unknown-property":"is not defined in the model",length:{min:"too short",max:"too long",is:"length is wrong"},common:{blank:"is blank","null":"is null"},numericality:{"int":"is not an integer",number:"is not a number"},inclusion:"is not included in the list",exclusion:"is reserved",uniqueness:"is not unique"};Errors.prototype.add=function(t,i,n){n=n||"invalid",this[t]||(this[t]=[],this.codes[t]=[]),this[t].push(i),this.codes[t].push(n)},util.inherits(ValidationError,Error);var errorHasStackProperty=!!(new Error).stack;ValidationError.maxPropertyStringLength=32;
}).call(this,require('_process'))

},{"_process":425,"util":594}],133:[function(require,module,exports){
(function (process,global){
!function(){function n(n){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,n.apply(t,arguments)}}var t,e,r={},u=function(){};t="object"==typeof window&&this===window?window:"object"==typeof global&&this===global?global:this,null!=t&&(e=t.async),r.noConflict=function(){return t.async=e,r};var i,a=Object.prototype.toString,o=Array.isArray||function(n){return"[object Array]"===a.call(n)},c=function(n,t){for(var e=-1,r=n.length;++e<r;)t(n[e],e,n)},f=function(n,t){for(var e=-1,r=n.length,u=Array(r);++e<r;)u[e]=t(n[e],e,n);return u},l=function(n,t,e){return c(n,function(n,r,u){e=t(e,n,r,u)}),e},s=function(n,t){c(p(n),function(e){t(n[e],e)})},p=Object.keys||function(n){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t},d=function(n,t){t=t||0;var e=-1,r=n.length;t&&(r-=t,r=0>r?0:r);for(var u=Array(r);++e<r;)u[e]=n[e+t];return u};"function"==typeof setImmediate&&(i=setImmediate),"undefined"!=typeof process&&process.nextTick?(r.nextTick=process.nextTick,i?r.setImmediate=function(n){i(n)}:r.setImmediate=r.nextTick):i?(r.nextTick=function(n){i(n)},r.setImmediate=r.nextTick):(r.nextTick=function(n){setTimeout(n,0)},r.setImmediate=r.nextTick),r.each=function(t,e,r){function i(n){n?(r(n),r=u):(a+=1,a>=t.length&&r())}if(r=r||u,!t.length)return r();var a=0;c(t,function(t){e(t,n(i))})},r.forEach=r.each,r.eachSeries=function(n,t,e){if(e=e||u,!n.length)return e();var r=0,i=function(){t(n[r],function(t){t?(e(t),e=u):(r+=1,r>=n.length?e():i())})};i()},r.forEachSeries=r.eachSeries,r.eachLimit=function(n,t,e,r){var u=h(t);u.apply(null,[n,e,r])},r.forEachLimit=r.eachLimit;var h=function(n){return function(t,e,r){if(r=r||u,!t.length||0>=n)return r();var i=0,a=0,o=0;!function c(){if(i>=t.length)return r();for(;n>o&&a<t.length;)a+=1,o+=1,e(t[a-1],function(n){n?(r(n),r=u):(i+=1,o-=1,i>=t.length?r():c())})}()}};r.forEachOf=r.eachOf=function(n,t,e){e=e||function(){};var r=n.length||p(n).length,u=0;return r?void s(n,function(i,a){t(n[a],a,function(n){n?(e(n),e=function(){}):(u+=1,u===r&&e(null))})}):e()},r.forEachOfSeries=r.eachOfSeries=function(n,t,e){e=e||function(){};var u=p(n),i=u.length;if(!i)return e();var a=0,o=function(){var c=!0,f=u[a];t(n[f],f,function(n){n?(e(n),e=function(){}):(a+=1,a>=i?e(null):c?r.nextTick(o):o())}),c=!1};o()},r.forEachOfLimit=r.eachOfLimit=function(n,t,e,r){v(t)(n,e,r)};var v=function(n){return function(t,e,r){r=r||function(){};var u=p(t),i=u.length;if(!i||0>=n)return r();var a=0,o=0,c=0;!function f(){if(a>=i)return r();for(;n>c&&i>o;){o+=1,c+=1;var l=u[o-1];e(t[l],l,function(n){n?(r(n),r=function(){}):(a+=1,c-=1,a>=i?r():f())})}}()}},m=function(n){return function(){var t=d(arguments);return n.apply(null,[r.each].concat(t))}},g=function(n,t){return function(){var e=d(arguments);return t.apply(null,[h(n)].concat(e))}},y=function(n){return function(){var t=d(arguments);return n.apply(null,[r.eachSeries].concat(t))}},k=function(n,t,e,r){if(t=f(t,function(n,t){return{index:t,value:n}}),r){var u=[];n(t,function(n,t){e(n.value,function(e,r){u[n.index]=r,t(e)})},function(n){r(n,u)})}else n(t,function(n,t){e(n.value,function(n){t(n)})})};r.map=m(k),r.mapSeries=y(k),r.mapLimit=function(n,t,e,r){return x(t)(n,e,r)};var x=function(n){return g(n,k)};r.reduce=function(n,t,e,u){r.eachSeries(n,function(n,r){e(t,n,function(n,e){t=e,r(n)})},function(n){u(n,t)})},r.inject=r.reduce,r.foldl=r.reduce,r.reduceRight=function(n,t,e,u){var i=f(n,function(n){return n}).reverse();r.reduce(i,t,e,u)},r.foldr=r.reduceRight;var w=function(n,t,e,r){var u=[];t=f(t,function(n,t){return{index:t,value:n}}),n(t,function(n,t){e(n.value,function(e){e&&u.push(n),t()})},function(n){r(f(u.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})};r.filter=m(w),r.filterSeries=y(w),r.select=r.filter,r.selectSeries=r.filterSeries;var b=function(n,t,e,r){var u=[];t=f(t,function(n,t){return{index:t,value:n}}),n(t,function(n,t){e(n.value,function(e){e||u.push(n),t()})},function(n){r(f(u.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})};r.reject=m(b),r.rejectSeries=y(b);var S=function(n,t,e,r){n(t,function(n,t){e(n,function(e){e?(r(n),r=u):t()})},function(n){r()})};r.detect=m(S),r.detectSeries=y(S),r.some=function(n,t,e){r.each(n,function(n,r){t(n,function(n){n&&(e(!0),e=u),r()})},function(n){e(!1)})},r.any=r.some,r.every=function(n,t,e){r.each(n,function(n,r){t(n,function(n){n||(e(!1),e=u),r()})},function(n){e(!0)})},r.all=r.every,r.sortBy=function(n,t,e){r.map(n,function(n,e){t(n,function(t,r){t?e(t):e(null,{value:n,criteria:r})})},function(n,t){if(n)return e(n);var r=function(n,t){var e=n.criteria,r=t.criteria;return r>e?-1:e>r?1:0};e(null,f(t.sort(r),function(n){return n.value}))})},r.auto=function(n,t){t=t||u;var e=p(n),i=e.length;if(!i)return t();var a={},f=[],s=function(n){f.unshift(n)},h=function(n){for(var t=0;t<f.length;t+=1)if(f[t]===n)return void f.splice(t,1)},v=function(){i--,c(f.slice(0),function(n){n()})};s(function(){if(!i){var n=t;t=u,n(null,a)}}),c(e,function(e){for(var i,f=o(n[e])?n[e]:[n[e]],m=function(n){var i=d(arguments,1);if(i.length<=1&&(i=i[0]),n){var o={};c(p(a),function(n){o[n]=a[n]}),o[e]=i,t(n,o),t=u}else a[e]=i,r.setImmediate(v)},g=f.slice(0,Math.abs(f.length-1))||[],y=g.length;y--;){if(!(i=n[g[y]]))throw new Error("Has inexistant dependency");if(o(i)&&~i.indexOf(e))throw new Error("Has cyclic dependencies")}var k=function(){return l(g,function(n,t){return n&&a.hasOwnProperty(t)},!0)&&!a.hasOwnProperty(e)};if(k())f[f.length-1](m,a);else{var x=function(){k()&&(h(x),f[f.length-1](m,a))};s(x)}})},r.retry=function(n,t,e){var u=5,i=[];"function"==typeof n&&(e=t,t=n,n=u),n=parseInt(n,10)||u;var a=function(u,a){for(var o=function(n,t){return function(e){n(function(n,r){e(!n||t,{err:n,result:r})},a)}};n;)i.push(o(t,!(n-=1)));r.series(i,function(n,t){t=t[t.length-1],(u||e)(t.err,t.result)})};return e?a():a},r.waterfall=function(n,t){if(t=t||u,!o(n)){var e=new Error("First argument to waterfall must be an array of functions");return t(e)}if(!n.length)return t();var i=function(n){return function(e){if(e)t.apply(null,arguments),t=u;else{var a=d(arguments,1),o=n.next();o?a.push(i(o)):a.push(t),r.setImmediate(function(){n.apply(null,a)})}}};i(r.iterator(n))()};var I=function(n,t,e){if(e=e||u,o(t))n.map(t,function(n,t){n&&n(function(n){var e=d(arguments,1);e.length<=1&&(e=e[0]),t.call(null,n,e)})},e);else{var r={};n.each(p(t),function(n,e){t[n](function(t){var u=d(arguments,1);u.length<=1&&(u=u[0]),r[n]=u,e(t)})},function(n){e(n,r)})}};r.parallel=function(n,t){I({map:r.map,each:r.each},n,t)},r.parallelLimit=function(n,t,e){I({map:x(t),each:h(t)},n,e)},r.series=function(n,t){if(t=t||u,o(n))r.mapSeries(n,function(n,t){n&&n(function(n){var e=d(arguments,1);e.length<=1&&(e=e[0]),t.call(null,n,e)})},t);else{var e={};r.eachSeries(p(n),function(t,r){n[t](function(n){var u=d(arguments,1);u.length<=1&&(u=u[0]),e[t]=u,r(n)})},function(n){t(n,e)})}},r.iterator=function(n){var t=function(e){var r=function(){return n.length&&n[e].apply(null,arguments),r.next()};return r.next=function(){return e<n.length-1?t(e+1):null},r};return t(0)},r.apply=function(n){var t=d(arguments,1);return function(){return n.apply(null,t.concat(d(arguments)))}};var E=function(n,t,e,r){var u=[];n(t,function(n,t){e(n,function(n,e){u=u.concat(e||[]),t(n)})},function(n){r(n,u)})};r.concat=m(E),r.concatSeries=y(E),r.whilst=function(n,t,e){n()?t(function(u){return u?e(u):void r.whilst(n,t,e)}):e()},r.doWhilst=function(n,t,e){n(function(u){if(u)return e(u);var i=d(arguments,1);t.apply(null,i)?r.doWhilst(n,t,e):e()})},r.until=function(n,t,e){n()?e():t(function(u){return u?e(u):void r.until(n,t,e)})},r.doUntil=function(n,t,e){n(function(u){if(u)return e(u);var i=d(arguments,1);t.apply(null,i)?e():r.doUntil(n,t,e)})},r.queue=function(t,e){function u(n,t,e,u){return n.started||(n.started=!0),o(t)||(t=[t]),0===t.length?r.setImmediate(function(){n.drain&&n.drain()}):void c(t,function(t){var i={data:t,callback:"function"==typeof u?u:null};e?n.tasks.unshift(i):n.tasks.push(i),n.saturated&&n.tasks.length===n.concurrency&&n.saturated(),r.setImmediate(n.process)})}if(void 0===e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var i=0,a={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(n,t){u(a,n,!1,t)},kill:function(){a.drain=null,a.tasks=[]},unshift:function(n,t){u(a,n,!0,t)},process:function(){if(!a.paused&&i<a.concurrency&&a.tasks.length){var e=a.tasks.shift();a.empty&&0===a.tasks.length&&a.empty(),i+=1;var r=function(){i-=1,e.callback&&e.callback.apply(e,arguments),a.drain&&a.tasks.length+i===0&&a.drain(),a.process()},u=n(r);t(e.data,u)}},length:function(){return a.tasks.length},running:function(){return i},idle:function(){return a.tasks.length+i===0},pause:function(){a.paused!==!0&&(a.paused=!0)},resume:function(){if(a.paused!==!1){a.paused=!1;for(var n=Math.min(a.concurrency,a.tasks.length),t=1;n>=t;t++)r.setImmediate(a.process)}}};return a},r.priorityQueue=function(n,t){function e(n,t){return n.priority-t.priority}function u(n,t,e){for(var r=-1,u=n.length-1;u>r;){var i=r+(u-r+1>>>1);e(t,n[i])>=0?r=i:u=i-1}return r}function i(n,t,i,a){return n.started||(n.started=!0),o(t)||(t=[t]),0===t.length?r.setImmediate(function(){n.drain&&n.drain()}):void c(t,function(t){var o={data:t,priority:i,callback:"function"==typeof a?a:null};n.tasks.splice(u(n.tasks,o,e)+1,0,o),n.saturated&&n.tasks.length===n.concurrency&&n.saturated(),r.setImmediate(n.process)})}var a=r.queue(n,t);return a.push=function(n,t,e){i(a,n,t,e)},delete a.unshift,a},r.cargo=function(n,t){var e=!1,u=[],i={tasks:u,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(n,e){o(n)||(n=[n]),c(n,function(n){u.push({data:n,callback:"function"==typeof e?e:null}),i.drained=!1,i.saturated&&u.length===t&&i.saturated()}),r.setImmediate(i.process)},process:function a(){if(!e){if(0===u.length)return i.drain&&!i.drained&&i.drain(),void(i.drained=!0);var r="number"==typeof t?u.splice(0,t):u.splice(0,u.length),o=f(r,function(n){return n.data});i.empty&&i.empty(),e=!0,n(o,function(){e=!1;var n=arguments;c(r,function(t){t.callback&&t.callback.apply(null,n)}),a()})}},length:function(){return u.length},running:function(){return e}};return i};var O=function(n){return function(t){var e=d(arguments,1);t.apply(null,e.concat([function(t){var e=d(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[n]&&c(e,function(t){console[n](t)}))}]))}};r.log=O("log"),r.dir=O("dir"),r.memoize=function(n,t){var e={},u={};t=t||function(n){return n};var i=function(){var i=d(arguments),a=i.pop(),o=t.apply(null,i);o in e?r.nextTick(function(){a.apply(null,e[o])}):o in u?u[o].push(a):(u[o]=[a],n.apply(null,i.concat([function(){e[o]=d(arguments);var n=u[o];delete u[o];for(var t=0,r=n.length;r>t;t++)n[t].apply(null,arguments)}])))};return i.memo=e,i.unmemoized=n,i},r.unmemoize=function(n){return function(){return(n.unmemoized||n).apply(null,arguments)}},r.times=function(n,t,e){for(var u=[],i=0;n>i;i++)u.push(i);return r.map(u,t,e)},r.timesSeries=function(n,t,e){for(var u=[],i=0;n>i;i++)u.push(i);return r.mapSeries(u,t,e)},r.seq=function(){var n=arguments;return function(){var t=this,e=d(arguments),u=e.pop();r.reduce(n,e,function(n,e,r){e.apply(t,n.concat([function(){var n=arguments[0],t=d(arguments,1);r(n,t)}]))},function(n,e){u.apply(t,[n].concat(e))})}},r.compose=function(){return r.seq.apply(null,Array.prototype.reverse.call(arguments))};var T=function(n,t){var e=function(){var e=this,r=d(arguments),u=r.pop();return n(t,function(n,t){n.apply(e,r.concat([t]))},u)};if(arguments.length>2){var r=d(arguments,2);return e.apply(this,r)}return e};r.applyEach=m(T),r.applyEachSeries=y(T),r.forever=function(n,t){function e(r){if(r){if(t)return t(r);throw r}n(e)}e()},"undefined"!=typeof module&&module.exports?module.exports=r:"undefined"!=typeof define&&define.amd?define([],function(){return r}):t.async=r}();
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":425}],134:[function(require,module,exports){
arguments[4][53][0].apply(exports,arguments)
},{"./debug":135,"dup":53}],135:[function(require,module,exports){
arguments[4][54][0].apply(exports,arguments)
},{"dup":54,"ms":136}],136:[function(require,module,exports){
arguments[4][107][0].apply(exports,arguments)
},{"dup":107}],137:[function(require,module,exports){
!function(e,i){"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?module.exports=i():e.inflection=i()}(this,function(){var e=["accommodation","adulthood","advertising","advice","aggression","aid","air","aircraft","alcohol","anger","applause","arithmetic","assistance","athletics","bacon","baggage","beef","biology","blood","botany","bread","butter","carbon","cardboard","cash","chalk","chaos","chess","crossroads","countryside","dancing","deer","dignity","dirt","dust","economics","education","electricity","engineering","enjoyment","envy","equipment","ethics","evidence","evolution","fame","fiction","flour","flu","food","fuel","fun","furniture","gallows","garbage","garlic","genetics","gold","golf","gossip","grammar","gratitude","grief","guilt","gymnastics","happiness","hardware","harm","hate","hatred","health","heat","help","homework","honesty","honey","hospitality","housework","humour","hunger","hydrogen","ice","importance","inflation","information","innocence","iron","irony","jam","jewelry","judo","karate","knowledge","lack","laughter","lava","leather","leisure","lightning","linguine","linguini","linguistics","literature","litter","livestock","logic","loneliness","luck","luggage","macaroni","machinery","magic","management","mankind","marble","mathematics","mayonnaise","measles","methane","milk","money","mud","music","mumps","nature","news","nitrogen","nonsense","nurture","nutrition","obedience","obesity","oxygen","pasta","patience","physics","poetry","pollution","poverty","pride","psychology","publicity","punctuation","quartz","racism","relaxation","reliability","research","respect","revenge","rice","rubbish","rum","safety","scenery","seafood","seaside","series","shame","sheep","shopping","sleep","smoke","smoking","snow","soap","software","soil","spaghetti","species","steam","stuff","stupidity","sunshine","symmetry","tennis","thirst","thunder","timber","traffic","transportation","trust","underwear","unemployment","unity","validity","veal","vegetation","vegetarianism","vengeance","violence","vitality","warmth","wealth","weather","welfare","wheat","wildlife","wisdom","yoga","zinc","zoology"],i={plural:{men:new RegExp("^(m|wom)en$","gi"),people:new RegExp("(pe)ople$","gi"),children:new RegExp("(child)ren$","gi"),tia:new RegExp("([ti])a$","gi"),analyses:new RegExp("((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$","gi"),hives:new RegExp("(hi|ti)ves$","gi"),curves:new RegExp("(curve)s$","gi"),lrves:new RegExp("([lr])ves$","gi"),foves:new RegExp("([^fo])ves$","gi"),movies:new RegExp("(m)ovies$","gi"),aeiouyies:new RegExp("([^aeiouy]|qu)ies$","gi"),series:new RegExp("(s)eries$","gi"),xes:new RegExp("(x|ch|ss|sh)es$","gi"),mice:new RegExp("([m|l])ice$","gi"),buses:new RegExp("(bus)es$","gi"),oes:new RegExp("(o)es$","gi"),shoes:new RegExp("(shoe)s$","gi"),crises:new RegExp("(cris|ax|test)es$","gi"),octopi:new RegExp("(octop|vir)i$","gi"),aliases:new RegExp("(alias|canvas|status)es$","gi"),summonses:new RegExp("^(summons)es$","gi"),oxen:new RegExp("^(ox)en","gi"),matrices:new RegExp("(matr)ices$","gi"),vertices:new RegExp("(vert|ind)ices$","gi"),feet:new RegExp("^feet$","gi"),teeth:new RegExp("^teeth$","gi"),geese:new RegExp("^geese$","gi"),quizzes:new RegExp("(quiz)zes$","gi"),whereases:new RegExp("^(whereas)es$","gi"),criteria:new RegExp("^(criteri)a$","gi"),ss:new RegExp("ss$","gi"),s:new RegExp("s$","gi")},singular:{man:new RegExp("^(m|wom)an$","gi"),person:new RegExp("(pe)rson$","gi"),child:new RegExp("(child)$","gi"),ox:new RegExp("^(ox)$","gi"),axis:new RegExp("(ax|test)is$","gi"),octopus:new RegExp("(octop|vir)us$","gi"),alias:new RegExp("(alias|status|canvas)$","gi"),summons:new RegExp("^(summons)$","gi"),bus:new RegExp("(bu)s$","gi"),buffalo:new RegExp("(buffal|tomat|potat)o$","gi"),tium:new RegExp("([ti])um$","gi"),sis:new RegExp("sis$","gi"),ffe:new RegExp("(?:([^f])fe|([lr])f)$","gi"),hive:new RegExp("(hi|ti)ve$","gi"),aeiouyy:new RegExp("([^aeiouy]|qu)y$","gi"),x:new RegExp("(x|ch|ss|sh)$","gi"),matrix:new RegExp("(matr)ix$","gi"),vertex:new RegExp("(vert|ind)ex$","gi"),mouse:new RegExp("([m|l])ouse$","gi"),foot:new RegExp("^foot$","gi"),tooth:new RegExp("^tooth$","gi"),goose:new RegExp("^goose$","gi"),quiz:new RegExp("(quiz)$","gi"),whereas:new RegExp("^(whereas)$","gi"),criterion:new RegExp("^(criteri)on$","gi"),s:new RegExp("s$","gi"),common:new RegExp("$","gi")}},s=[[i.plural.men],[i.plural.people],[i.plural.children],[i.plural.tia],[i.plural.analyses],[i.plural.hives],[i.plural.curves],[i.plural.lrves],[i.plural.foves],[i.plural.aeiouyies],[i.plural.series],[i.plural.movies],[i.plural.xes],[i.plural.mice],[i.plural.buses],[i.plural.oes],[i.plural.shoes],[i.plural.crises],[i.plural.octopi],[i.plural.aliases],[i.plural.summonses],[i.plural.oxen],[i.plural.matrices],[i.plural.feet],[i.plural.teeth],[i.plural.geese],[i.plural.quizzes],[i.plural.whereases],[i.plural.criteria],[i.singular.man,"$1en"],[i.singular.person,"$1ople"],[i.singular.child,"$1ren"],[i.singular.ox,"$1en"],[i.singular.axis,"$1es"],[i.singular.octopus,"$1i"],[i.singular.alias,"$1es"],[i.singular.summons,"$1es"],[i.singular.bus,"$1ses"],[i.singular.buffalo,"$1oes"],[i.singular.tium,"$1a"],[i.singular.sis,"ses"],[i.singular.ffe,"$1$2ves"],[i.singular.hive,"$1ves"],[i.singular.aeiouyy,"$1ies"],[i.singular.matrix,"$1ices"],[i.singular.vertex,"$1ices"],[i.singular.x,"$1es"],[i.singular.mouse,"$1ice"],[i.singular.foot,"feet"],[i.singular.tooth,"teeth"],[i.singular.goose,"geese"],[i.singular.quiz,"$1zes"],[i.singular.whereas,"$1es"],[i.singular.criterion,"$1a"],[i.singular.s,"s"],[i.singular.common,"s"]],r=[[i.singular.man],[i.singular.person],[i.singular.child],[i.singular.ox],[i.singular.axis],[i.singular.octopus],[i.singular.alias],[i.singular.summons],[i.singular.bus],[i.singular.buffalo],[i.singular.tium],[i.singular.sis],[i.singular.ffe],[i.singular.hive],[i.singular.aeiouyy],[i.singular.x],[i.singular.matrix],[i.singular.mouse],[i.singular.foot],[i.singular.tooth],[i.singular.goose],[i.singular.quiz],[i.singular.whereas],[i.singular.criterion],[i.plural.men,"$1an"],[i.plural.people,"$1rson"],[i.plural.children,"$1"],[i.plural.criteria,"$1on"],[i.plural.tia,"$1um"],[i.plural.analyses,"$1$2sis"],[i.plural.hives,"$1ve"],[i.plural.curves,"$1"],[i.plural.lrves,"$1f"],[i.plural.foves,"$1fe"],[i.plural.movies,"$1ovie"],[i.plural.aeiouyies,"$1y"],[i.plural.series,"$1eries"],[i.plural.xes,"$1"],[i.plural.mice,"$1ouse"],[i.plural.buses,"$1"],[i.plural.oes,"$1"],[i.plural.shoes,"$1"],[i.plural.crises,"$1is"],[i.plural.octopi,"$1us"],[i.plural.aliases,"$1"],[i.plural.summonses,"$1"],[i.plural.oxen,"$1"],[i.plural.matrices,"$1ix"],[i.plural.vertices,"$1ex"],[i.plural.feet,"foot"],[i.plural.teeth,"tooth"],[i.plural.geese,"goose"],[i.plural.quizzes,"$1"],[i.plural.whereases,"$1"],[i.plural.ss,"ss"],[i.plural.s,""]],n=["and","or","nor","a","an","the","so","but","to","of","at","by","from","into","on","onto","off","out","in","over","with","for"],a=new RegExp("(_ids|_id)$","g"),l=new RegExp("_","g"),o=new RegExp("[ _]","g"),t=new RegExp("([A-Z])","g"),u=new RegExp("^_"),g={_apply_rules:function(e,i,s,r){if(r)e=r;else{var n=g.indexOf(s,e.toLowerCase())>-1;if(!n)for(var a=0,l=i.length;l>a;a++)if(e.match(i[a][0])){void 0!==i[a][1]&&(e=e.replace(i[a][0],i[a][1]));break}}return e},indexOf:function(e,i,s,r){s||(s=-1);for(var n=-1,a=s,l=e.length;l>a;a++)if(e[a]===i||r&&r(e[a],i)){n=a;break}return n},pluralize:function(i,r){return g._apply_rules(i,s,e,r)},singularize:function(i,s){return g._apply_rules(i,r,e,s)},inflect:function(i,n,a,l){return n=parseInt(n,10),isNaN(n)?i:0===n||n>1?g._apply_rules(i,s,e,l):g._apply_rules(i,r,e,a)},camelize:function(e,i){for(var s,r,n,a,l=e.split("/"),o=0,t=l.length;t>o;o++){for(s=l[o].split("_"),r=0,n=s.length;n>r;r++)0!==r&&(s[r]=s[r].toLowerCase()),a=s[r].charAt(0),a=i&&0===o&&0===r?a.toLowerCase():a.toUpperCase(),s[r]=a+s[r].substring(1);l[o]=s.join("")}return l.join("::")},underscore:function(e,i){if(i&&e===e.toUpperCase())return e;for(var s=e.split("::"),r=0,n=s.length;n>r;r++)s[r]=s[r].replace(t,"_$1"),s[r]=s[r].replace(u,"");return s.join("/").toLowerCase()},humanize:function(e,i){return e=e.toLowerCase(),e=e.replace(a,""),e=e.replace(l," "),i||(e=g.capitalize(e)),e},capitalize:function(e){return e=e.toLowerCase(),e.substring(0,1).toUpperCase()+e.substring(1)},dasherize:function(e){return e.replace(o,"-")},titleize:function(e){e=e.toLowerCase().replace(l," ");for(var i,s,r,a=e.split(" "),o=0,t=a.length;t>o;o++){for(i=a[o].split("-"),s=0,r=i.length;r>s;s++)g.indexOf(n,i[s].toLowerCase())<0&&(i[s]=g.capitalize(i[s]));a[o]=i.join("-")}return e=a.join(" "),e=e.substring(0,1).toUpperCase()+e.substring(1)},demodulize:function(e){var i=e.split("::");return i[i.length-1]},tableize:function(e){return e=g.underscore(e),e=g.pluralize(e)},classify:function(e){return e=g.camelize(e),e=g.singularize(e)},foreign_key:function(e,i){return e=g.demodulize(e),e=g.underscore(e)+(i?"":"_")+"id"},ordinalize:function(e){for(var i=e.split(" "),s=0,r=i.length;r>s;s++){var n=parseInt(i[s],10);if(!isNaN(n)){var a=i[s].substring(i[s].length-2),l=i[s].substring(i[s].length-1),o="th";"11"!=a&&"12"!=a&&"13"!=a&&("1"===l?o="st":"2"===l?o="nd":"3"===l&&(o="rd")),i[s]+=o}}return i.join(" ")},transform:function(e,i){for(var s=0,r=i.length;r>s;s++){var n=i[s];this.hasOwnProperty(n)&&(e=this[n](e))}return e}};return g.version="1.8.0",g});
},{}],138:[function(require,module,exports){
exports.Connector=require("./lib/connector"),exports.SQLConnector=exports.SqlConnector=require("./lib/sql"),exports.ParameterizedSQL=exports.SQLConnector.ParameterizedSQL,exports.Transaction=require("./lib/transaction");
},{"./lib/connector":139,"./lib/sql":141,"./lib/transaction":142}],139:[function(require,module,exports){
(function (process){
function Connector(t,e){this._models={},this.name=t,this.settings=e||{}}var debug=require("debug")("loopback:connector");module.exports=Connector,Connector.prototype.relational=!1,Connector.prototype.isRelational=function(){return this.isRelational||-1!==this.getTypes().indexOf("rdbms")},Connector.prototype.getTypes=function(){return["db","nosql"]},Connector.prototype.getDefaultIdType=function(t){return String},Connector.prototype.getMetadata=function(){return this._metadata||(this._metadata={types:this.getTypes(),defaultIdType:this.getDefaultIdType(),isRelational:this.isRelational(),schemaForSettings:{}}),this._metadata},Connector.prototype.execute=function(t,e,o,n){throw new Error("execute() must be implemented by the connector")},Connector.prototype.getModelDefinition=function(t){return this._models[t]},Connector.prototype.getConnectorSpecificSettings=function(t){var e=this.getModelDefinition(t).settings||{};return e[this.name]},Connector.prototype.getPropertyDefinition=function(t,e){var o=this.getModelDefinition(t);return o&&o.properties[e]},Connector.prototype.getDataSource=function(t){var e=this.getModelDefinition(t);return e||debug("Model not found: "+t),e&&e.model.dataSource},Connector.prototype.idName=function(t){return this.getDataSource(t).idName(t)},Connector.prototype.idNames=function(t){return this.getDataSource(t).idNames(t)},Connector.prototype.id=function(t,e){var o=this.getModelDefinition(t).properties[e];return o&&o.id},Connector.prototype.define=function(t){t.settings=t.settings||{},this._models[t.model.modelName]=t},Connector.prototype.defineProperty=function(t,e,o){var n=this.getModelDefinition(t);n.properties[e]=o},Connector.prototype.disconnect=function(t){t&&process.nextTick(t)},Connector.prototype.getIdValue=function(t,e){return e&&e[this.idName(t)]},Connector.prototype.setIdValue=function(t,e,o){e&&(e[this.idName(t)]=o)},Connector.prototype.isNullable=function(t){return t.required||t.id?!1:t.nullable||t["null"]||t.allowNull?!0:t.nullable===!1||t["null"]===!1||t.allowNull===!1?!1:!0},Connector.prototype.getDataAccessObject=function(){return this.DataAccessObject},Connector.defineAliases=function(t,e,o){"string"==typeof o&&(o=[o]),Array.isArray(o)&&o.forEach(function(o){"string"==typeof o&&Object.defineProperty(t,o,{get:function(){return this[e]}})})},Connector.defineAliases(Connector.prototype,"execute",["command","query"]);
}).call(this,require('_process'))

},{"_process":425,"debug":134}],140:[function(require,module,exports){
function ParameterizedSQL(r,e){if(!(this instanceof ParameterizedSQL))return new ParameterizedSQL(r,e);r=r||"",1===arguments.length&&"object"==typeof r?(this.sql=r.sql,this.params=r.params||[]):(this.sql=r,this.params=e||[]),assert("string"==typeof this.sql,"sql must be a string"),assert(Array.isArray(this.params),"params must be an array");var a=this.sql.split(PLACEHOLDER);assert(a.length-1===this.params.length,"The number of ? ("+(a.length-1)+") in the sql ("+this.sql+") must match the number of params ("+this.params.length+") "+this.params)}var assert=require("assert"),PLACEHOLDER="?";module.exports=ParameterizedSQL,ParameterizedSQL.prototype.merge=function(r,e){return Array.isArray(r)?this.constructor.append(this,this.constructor.join(r,e),e):this.constructor.append(this,r,e)},ParameterizedSQL.prototype.toJSON=function(){return{sql:this.sql,params:this.params}},ParameterizedSQL.append=function(r,e,a){return r=r instanceof ParameterizedSQL?r:new ParameterizedSQL(r),e=e instanceof ParameterizedSQL?e:new ParameterizedSQL(e),a="string"==typeof a?a:" ",r.sql&&(r.sql+=a),e.sql&&(r.sql+=e.sql),r.params=r.params.concat(e.params),r},ParameterizedSQL.join=function(r,e){assert(Array.isArray(r),"sqls must be an array");for(var a=new ParameterizedSQL("",[]),t=0,s=r.length;s>t;t++)this.append(a,r[t],e);return a},ParameterizedSQL.PLACEHOLDER=PLACEHOLDER;
},{"assert":2}],141:[function(require,module,exports){
(function (process){
function SQLConnector(){Connector.apply(this,[].slice.call(arguments))}function isIdValuePresent(e,t,r){try{return assert(null!==e&&void 0!==e,"id value is required"),!0}catch(n){return process.nextTick(function(){t&&t(r?null:n)}),!1}}var util=require("util"),async=require("async"),assert=require("assert"),Connector=require("./connector"),debug=require("debug")("loopback:connector:sql"),ParameterizedSQL=require("./parameterized-sql"),Transaction=require("./transaction");module.exports=SQLConnector,util.inherits(SQLConnector,Connector),SQLConnector.ParameterizedSQL=ParameterizedSQL;var PLACEHOLDER=SQLConnector.PLACEHOLDER=ParameterizedSQL.PLACEHOLDER;SQLConnector.Transaction=Transaction,SQLConnector.prototype.relational=!0,SQLConnector.prototype.invokeSuper=function(e){var t=[].slice.call(arguments,1),r=this.constructor.super_.prototype[e];return r.apply(this,t)},SQLConnector.prototype.getTypes=function(){return["db","rdbms","sql"]},SQLConnector.prototype.getDefaultIdType=function(e){return Number},SQLConnector.prototype.getDefaultSchemaName=function(){return""},SQLConnector.prototype.schema=function(e){var t=this.getConnectorSpecificSettings(e),r=t&&(t.schema||t.schemaName)||this.settings.schema||this.settings.schemaName||this.getDefaultSchemaName();return r},SQLConnector.prototype.table=function(e){var t,r=this.getConnectorSpecificSettings(e);return r&&(t=r.table||r.tableName)?t:(t=e,"function"==typeof this.dbName&&(t=this.dbName(t)),t)},SQLConnector.prototype.column=function(e,t){var r,n=this.getPropertyDefinition(e,t);return n&&n[this.name]&&(r=n[this.name].column||n[this.name].columnName)?r:(r=t,"function"==typeof this.dbName&&(r=this.dbName(r)),r)},SQLConnector.prototype.columnMetadata=function(e,t){return this.getDataSource(e).columnMetadata(e,t)},SQLConnector.prototype.propertyName=function(e,t){var r=this.getModelDefinition(e).properties;for(var n in r)if(this.column(e,n)===t)return n;return null},SQLConnector.prototype.idColumn=function(e){var t=this.getDataSource(e).idColumnName(e),r=this.dbName;return"function"==typeof r&&(t=r(t)),t},SQLConnector.prototype.idColumnEscaped=function(e){return this.escapeName(this.idColumn(e))},SQLConnector.prototype.tableEscaped=function(e){return this.escapeName(this.table(e))},SQLConnector.prototype.columnEscaped=function(e,t){return this.escapeName(this.column(e,t))},SQLConnector.prototype.idColumnValue=function(e,t){var r=this.getDataSource(e).idProperty(e);return"function"==typeof this.toColumnValue?this.toColumnValue(r,t):t},SQLConnector.prototype.parameterize=function(e){e=new ParameterizedSQL(e);for(var t=e.sql.split(PLACEHOLDER),r=[],n=0,o=t.length;o>n;n++)r.push(t[n]),n!==t.length-1&&r.push(this.getPlaceholderForValue(n+1));return e.sql=r.join(""),e},SQLConnector.prototype.buildInsertInto=function(e,t,r){var n=new ParameterizedSQL("INSERT INTO "+this.tableEscaped(e)),o=t.names.join(",");return o&&n.merge("("+o+")",""),n},SQLConnector.prototype.buildInsertReturning=function(e,t,r){return""},SQLConnector.prototype.buildInsertDefaultValues=function(e,t,r){return"VALUES()"},SQLConnector.prototype.buildInsert=function(e,t,r){var n=this.buildFields(e,t),o=this.buildInsertInto(e,n,r),i=n.columnValues,a=n.names;if(a.length){var s=ParameterizedSQL.join(i,",");s.sql="VALUES("+s.sql+")",o.merge(s)}else o.merge(this.buildInsertDefaultValues(e,t,r));var u=this.buildInsertReturning(e,t,r);return u&&o.merge(u),this.parameterize(o)},SQLConnector.prototype.execute=function(e,t,r,n){assert("string"==typeof e,"sql must be a string"),"function"==typeof t&&void 0===r&&void 0===n?(r={},n=t,t=[]):"function"==typeof r&&void 0===n&&(n=r,r={}),t=t||[],r=r||{},assert(Array.isArray(t),"params must be an array"),assert("object"==typeof r,"options must be an object"),assert("function"==typeof n,"callback must be a function");var o=this;if(!this.dataSource.connected)return this.dataSource.once("connected",function(){o.execute(e,t,r,n)});var i={req:{sql:e,params:t},options:r};this.notifyObserversAround("execute",i,function(e,t){o.executeSQL(e.req.sql,e.req.params,e.options,function(r,n){r||null==n||(e.res=n),t(r,n)})},n)},SQLConnector.prototype.create=function(e,t,r,n){var o=this,i=this.buildInsert(e,t,r);this.execute(i.sql,i.params,r,function(t,r){if(t)n(t);else{var i=o.getInsertedId(e,r);n(t,i)}})},SQLConnector.prototype.save=function(e,t,r,n){var o=this.idName(e),i=t[o];if(isIdValuePresent(i,n)){var a={};a[o]=i;var s=new ParameterizedSQL("UPDATE "+this.tableEscaped(e));s.merge(this.buildFieldsForUpdate(e,t));var u=this.buildWhere(e,a);s.merge(u),s=this.parameterize(s),this.execute(s.sql,s.params,r,function(e,t){n&&n(e,t)})}},SQLConnector.prototype.exists=function(e,t,r,n){if(isIdValuePresent(t,n,!0)){var o=this.idName(e),i={};i[o]=t;var a=new ParameterizedSQL("SELECT 1 FROM "+this.tableEscaped(e)+" WHERE "+this.idColumnEscaped(e));a.merge(this.buildWhere(e,i)),a=this.applyPagination(e,a,{limit:1,offset:0,order:[o]}),a=this.parameterize(a),this.execute(a.sql,a.params,r,function(e,t){n&&(e?n(e):n(null,t.length>=1))})}},SQLConnector.prototype.destroy=function(e,t,r,n){if(isIdValuePresent(t,n,!0)){var o=this.idName(e),i={};i[o]=t,this.destroyAll(e,i,r,n)}},Connector.defineAliases(SQLConnector.prototype,"destroy",["delete","deleteById","destroyById"]),SQLConnector.prototype.buildDelete=function(e,t,r){var n=new ParameterizedSQL("DELETE FROM "+this.tableEscaped(e));return n.merge(this.buildWhere(e,t)),this.parameterize(n)},SQLConnector.prototype.destroyAll=function(e,t,r,n){var o=this,i=this.buildDelete(e,t,r);this.execute(i.sql,i.params,r,function(t,r){var i=o.getCountForAffectedRows(e,r);n&&n(t,{count:i})})},Connector.defineAliases(SQLConnector.prototype,"destroyAll",["deleteAll"]),SQLConnector.prototype.updateAttributes=function(e,t,r,n,o){if(isIdValuePresent(t,o)){var i=this.idName(e);delete r[i];var a={};a[i]=t,this.updateAll(e,a,r,n,o)}},SQLConnector.prototype.buildUpdate=function(e,t,r,n){var o=this.buildFieldsForUpdate(e,r),i=new ParameterizedSQL("UPDATE "+this.tableEscaped(e)),a=this.buildWhere(e,t);return i.merge([o,a]),this.parameterize(i)},SQLConnector.prototype.update=function(e,t,r,n,o){var i=this,a=this.buildUpdate(e,t,r,n);this.execute(a.sql,a.params,n,function(t,r){var n=i.getCountForAffectedRows(e,r);o&&o(t,{count:n})})},Connector.defineAliases(SQLConnector.prototype,"update",["updateAll"]),SQLConnector.prototype.buildWhere=function(e,t){var r=this._buildWhere(e,t);return r.sql&&(r.sql="WHERE "+r.sql),r},SQLConnector.prototype.buildExpression=function(e,t,r,n){function o(e,t,r){for(var n=[],o=0,i=e.length;i>o;o++)e[o]instanceof ParameterizedSQL?n.push(e[o]):n.push(new ParameterizedSQL(PLACEHOLDER,[e[o]]));t=t||",";var a=ParameterizedSQL.join(n,t);return r&&(a.sql="("+a.sql+")"),a}var i,a=e;switch(i=r instanceof ParameterizedSQL?r:new ParameterizedSQL(PLACEHOLDER,[r]),t){case"gt":a+=">";break;case"gte":a+=">=";break;case"lt":a+="<";break;case"lte":a+="<=";break;case"between":a+=" BETWEEN ",i=o(r," AND ",!1);break;case"inq":a+=" IN ",i=o(r,",",!0);break;case"nin":a+=" NOT IN ",i=o(r,",",!0);break;case"neq":if(null==r)return new ParameterizedSQL(a+" IS NOT NULL");a+="!=";break;case"like":a+=" LIKE ";break;case"nlike":a+=" NOT LIKE ";break;case"regexp":a+=" REGEXP "}var s=ParameterizedSQL.join([a,i],"");return s},SQLConnector.prototype._buildWhere=function(e,t){if(!t)return new ParameterizedSQL("");if("object"!=typeof t||Array.isArray(t))return debug("Invalid value for where: %j",t),new ParameterizedSQL("");var r=this,n=r.getModelDefinition(e).properties,o=[];for(var i in t){var a=new ParameterizedSQL("",[]);if("and"===i||"or"===i){var s=[],u=[],c=t[i];if(Array.isArray(c)){for(var l=0,p=c.length;p>l;l++){var d=r._buildWhere(e,c[l]);d.sql="("+d.sql+")",u=u.concat(d.params),s.push(d.sql)}a.merge({sql:s.join(" "+i.toUpperCase()+" "),params:u}),o.push(a);continue}}var f,m,h=r.columnEscaped(e,i),y=t[i];if(null===y||void 0===y)a.merge(h+" IS NULL");else if(y&&y.constructor===Object){var L=Object.keys(y)[0];if(y=y[L],"inq"===L||"nin"===L||"between"===L){if(f=[],Array.isArray(y))for(var S=0,b=y.length;b>S;S++)f.push(this.toColumnValue(n[i],y[S]));else f.push(this.toColumnValue(n[i],y));if("between"===L){var C=void 0===f[0]?null:f[0],v=void 0===f[1]?null:f[1];f=[C,v]}else if(0===f.length){if("inq"!==L)continue;f=[null]}}else f="regexp"===L&&y instanceof RegExp?y:this.toColumnValue(n[i],y);m=r.buildExpression(h,L,f,n[i]),a.merge(m)}else f=r.toColumnValue(n[i],y),null===f?a.merge(h+" IS NULL"):f instanceof ParameterizedSQL?a.merge(h+"=").merge(f):a.merge({sql:h+"=?",params:[f]});o.push(a)}for(var Q=[],g=[],E=0,P=o.length;P>E;E++)g.push(o[E].sql),Q=Q.concat(o[E].params);var w=new ParameterizedSQL({sql:g.join(" AND "),params:Q});return w},SQLConnector.prototype.buildOrderBy=function(e,t){if(!t)return"";var r=this;"string"==typeof t&&(t=[t]);for(var n=[],o=0,i=t.length;i>o;o++){var a=t[o].split(/[\s,]+/);1===a.length?n.push(r.columnEscaped(e,t[o])):n.push(r.columnEscaped(e,a[0])+" "+a[1])}return"ORDER BY "+n.join(",")},SQLConnector.prototype.buildFields=function(e,t,r){for(var n={names:[],columnValues:[],properties:[]},o=this.getModelDefinition(e).properties,i=Object.keys(t),a=0,s=i.length;s>a;a++){var u=i[a],c=o[u];if(null!=c){if(!r||!c.id){var l=this.columnEscaped(e,u),p=this.toColumnValue(c,t[u]);void 0!==p&&(n.names.push(l),p instanceof ParameterizedSQL?n.columnValues.push(p):n.columnValues.push(new ParameterizedSQL(PLACEHOLDER,[p])),n.properties.push(c))}}else debug("Unknown property %s is skipped for model %s",u,e)}return n},SQLConnector.prototype.buildFieldsForUpdate=function(e,t,r){void 0===r&&(r=!0);for(var n=this.buildFields(e,t,r),o=new ParameterizedSQL(""),i=0,a=n.names.length;a>i;i++){var s=ParameterizedSQL.append(n.names[i],n.columnValues[i],"=");o.merge(s,",")}return o.sql="SET "+o.sql,o},SQLConnector.prototype.buildColumnNames=function(e,t){var r=t&&t.fields,n=this.getModelDefinition(e).properties;if(!n)return"*";var o=this,i=Object.keys(n);if(Array.isArray(r)&&r.length>0)i=r.filter(function(e){return n[e]});else if("object"==typeof r&&Object.keys(r).length>0){var a=[],s=[];i.forEach(function(e){r[e]?a.push(e):e in r&&!r[e]&&s.push(e)}),a.length>0?i=a:s.length>0&&s.forEach(function(e){var t=i.indexOf(e);i.splice(t,1)})}var u=i.map(function(t){return o.columnEscaped(e,t)});return u.join(",")},SQLConnector.prototype.buildSelect=function(e,t,r){if(!t.order){var n=this.idNames(e);n&&n.length&&(t.order=n)}var o=new ParameterizedSQL("SELECT "+this.buildColumnNames(e,t)+" FROM "+this.tableEscaped(e));if(t){if(t.where){var i=this.buildWhere(e,t.where);o.merge(i)}t.order&&o.merge(this.buildOrderBy(e,t.order)),(t.limit||t.skip||t.offset)&&(o=this.applyPagination(e,o,t))}return this.parameterize(o)},SQLConnector.prototype.fromRow=SQLConnector.prototype.fromDatabase=function(e,t){if(null==t)return t;var r=this.getModelDefinition(e).properties,n={};for(var o in r){var i=this.column(e,o),a=this.fromColumnValue(r[o],t[i]);void 0!==a&&(n[o]=a)}return n},SQLConnector.prototype.all=function(e,t,r,n){var o=this;t=t||{};var i=this.buildSelect(e,t,r);this.execute(i.sql,i.params,r,function(i,a){if(i)return n(i,[]);var s=a.map(function(t){return o.fromRow(e,t)});t&&t.include?o.getModelDefinition(e).model.include(s,t.include,r,n):n(null,s)})},Connector.defineAliases(SQLConnector.prototype,"all",["findAll"]),SQLConnector.prototype.find=function(e,t,r,n){if(null==t)return void process.nextTick(function(){var e=new Error("id value is required");n&&n(e)});var o={},i=this.idName(e);o[i]=t;var a={limit:1,offset:0,order:i,where:o};return this.all(e,a,r,function(e,t){n(e,t&&t[0]||null)})},Connector.defineAliases(SQLConnector.prototype,"find",["findById"]),SQLConnector.prototype.count=function(e,t,r,n){if("function"==typeof t){var o=r;n=t,t=o}var i=new ParameterizedSQL('SELECT count(*) as "cnt" FROM '+this.tableEscaped(e));i=i.merge(this.buildWhere(e,t)),i=this.parameterize(i),this.execute(i.sql,i.params,function(e,t){if(e)return n(e);var r=t&&t[0]&&t[0].cnt||0;n(e,Number(r))})},SQLConnector.prototype.dropTable=function(e,t){this.execute("DROP TABLE IF EXISTS "+this.tableEscaped(e),t)},SQLConnector.prototype.createTable=function(e,t){var r="CREATE TABLE "+this.tableEscaped(e)+" (\n  "+this.buildColumnDefinitions(e)+"\n)";this.execute(r,t)},SQLConnector.prototype.automigrate=function(e,t){var r=this;if(t||"function"!=typeof e||(t=e,e=void 0),"string"==typeof e&&(e=[e]),e=e||Object.keys(r._models),0===e.length)return process.nextTick(t);var n=e.filter(function(e){return!(e in r._models)});return n.length?process.nextTick(function(){t(new Error("Cannot migrate models not attached to this datasource: "+n.join(" ")))}):void async.each(e,function(e,t){r.dropTable(e,function(n){n&&console.error(n),r.createTable(e,function(e,r){e&&console.error(e),t(e,r)})})},t)},SQLConnector.prototype.serializeObject=function(e){var t;return e&&"function"==typeof e.toJSON&&(e=e.toJSON()),t="string"!=typeof e?JSON.stringify(e):e},SQLConnector.prototype.escapeObject=function(e){var t=this.serializeObject(e);return this.escapeValue(t)},SQLConnector.prototype.toColumnValue=function(e,t){throw new Error("toColumnValue() must be implemented by the connector")},SQLConnector.prototype.fromColumnValue=function(e,t){throw new Error("fromColumnValue() must be implemented by the connector")},SQLConnector.prototype.escapeName=function(e){throw new Error("escapeName() must be implemented by the connector")},SQLConnector.prototype.escapeValue=function(e){throw new Error("escapeValue() must be implemented by the connector")},SQLConnector.prototype.getPlaceholderForIdentifier=function(e){throw new Error("getPlaceholderForIdentifier() must be implemented by the connector")},SQLConnector.prototype.getPlaceholderForValue=function(e){throw new Error("getPlaceholderForValue() must be implemented by the connector")},SQLConnector.prototype.applyPagination=function(e,t,r){throw new Error("applyPagination() must be implemented by the connector")},SQLConnector.prototype.getCountForAffectedRows=function(e,t){throw new Error("getCountForAffectedRows() must be implemented by the connector")},SQLConnector.prototype.getInsertedId=function(e,t){throw new Error("getInsertedId() must be implemented by the connector")},SQLConnector.prototype.executeSQL=function(e,t,r,n){throw new Error("executeSQL() must be implemented by the connector")};
}).call(this,require('_process'))

},{"./connector":139,"./parameterized-sql":140,"./transaction":142,"_process":425,"assert":2,"async":133,"debug":134,"util":594}],142:[function(require,module,exports){
function Transaction(n,t){this.connector=n,this.connection=t,EventEmitter.call(this)}var assert=require("assert"),util=require("util"),EventEmitter=require("events").EventEmitter,debug=require("debug")("loopback:connector:transaction");module.exports=Transaction,util.inherits(Transaction,EventEmitter),Transaction.SERIALIZABLE="SERIALIZABLE",Transaction.REPEATABLE_READ="REPEATABLE READ",Transaction.READ_COMMITTED="READ COMMITTED",Transaction.READ_UNCOMMITTED="READ UNCOMMITTED",Transaction.hookTypes={BEFORE_COMMIT:"before commit",AFTER_COMMIT:"after commit",BEFORE_ROLLBACK:"before rollback",AFTER_ROLLBACK:"after rollback",TIMEOUT:"timeout"},Transaction.prototype.commit=function(n){return this.connector.commit(this.connection,n)},Transaction.prototype.rollback=function(n){return this.connector.rollback(this.connection,n)},Transaction.begin=function(n,t,o){"function"==typeof i&&void 0===o&&(o=t,t={}),"string"==typeof t&&(t={isolationLevel:t});var i=t.isolationLevel||Transaction.READ_COMMITTED;assert(i===Transaction.SERIALIZABLE||i===Transaction.REPEATABLE_READ||i===Transaction.READ_COMMITTED||i===Transaction.READ_UNCOMMITTED,"Invalid isolationLevel"),debug("Starting a transaction with options: %j",t),assert("function"==typeof n.beginTransaction,"beginTransaction must be function implemented by the connector"),n.beginTransaction(i,function(t,i){if(t)return o(t);var e=i;i instanceof Transaction||(e=new Transaction(n,i)),o(t,e)})};
},{"assert":2,"debug":134,"events":84,"util":594}],143:[function(require,module,exports){
(function (Buffer){
!function(n){"use strict";function e(){var e=n.crypto||n.msCrypto;if(!f&&e&&e.getRandomValues)try{var r=new Uint8Array(16);s=f=function(){return e.getRandomValues(r),r},f()}catch(o){}if(!f){var t=new Array(16);i=f=function(){for(var n,e=0;16>e;e++)0===(3&e)&&(n=4294967296*Math.random()),t[e]=n>>>((3&e)<<3)&255;return t},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function r(){if("function"==typeof require)try{var n=require("crypto").randomBytes;c=f=n&&function(){return n(16)},f()}catch(e){}}function o(n,e,r){var o=e&&r||0,t=0;for(e=e||[],n.toLowerCase().replace(/[0-9a-f]{2}/g,function(n){16>t&&(e[o+t++]=y[n])});16>t;)e[o+t++]=0;return e}function t(n,e){var r=e||0,o=v;return o[n[r++]]+o[n[r++]]+o[n[r++]]+o[n[r++]]+"-"+o[n[r++]]+o[n[r++]]+"-"+o[n[r++]]+o[n[r++]]+"-"+o[n[r++]]+o[n[r++]]+"-"+o[n[r++]]+o[n[r++]]+o[n[r++]]+o[n[r++]]+o[n[r++]]+o[n[r++]]}function u(n,e,r){var o=e&&r||0,u=e||[];n=n||{};var a=null!=n.clockseq?n.clockseq:g,f=null!=n.msecs?n.msecs:(new Date).getTime(),i=null!=n.nsecs?n.nsecs:C+1,c=f-h+(i-C)/1e4;if(0>c&&null==n.clockseq&&(a=a+1&16383),(0>c||f>h)&&null==n.nsecs&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=f,C=i,g=a,f+=122192928e5;var s=(1e4*(268435455&f)+i)%4294967296;u[o++]=s>>>24&255,u[o++]=s>>>16&255,u[o++]=s>>>8&255,u[o++]=255&s;var l=f/4294967296*1e4&268435455;u[o++]=l>>>8&255,u[o++]=255&l,u[o++]=l>>>24&15|16,u[o++]=l>>>16&255,u[o++]=a>>>8|128,u[o++]=255&a;for(var d=n.node||w,v=0;6>v;v++)u[o+v]=d[v];return e?e:t(u)}function a(n,e,r){var o=e&&r||0;"string"==typeof n&&(e="binary"===n?new d(16):null,n=null),n=n||{};var u=n.random||(n.rng||f)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,e)for(var a=0;16>a;a++)e[o+a]=u[a];return e||t(u)}var f,i,c,s,l;n?e():r();for(var d="function"==typeof Buffer?Buffer:Array,v=[],y={},m=0;256>m;m++)v[m]=(m+256).toString(16).substr(1),y[v[m]]=m;var p=f(),w=[1|p[0],p[1],p[2],p[3],p[4],p[5]],g=16383&(p[6]<<8|p[7]),h=0,C=0,R=a;R.v1=u,R.v4=a,R.parse=o,R.unparse=t,R.BufferClass=d,R._rng=f,R._mathRNG=i,R._nodeRNG=c,R._whatwgRNG=s,"undefined"!=typeof module&&module.exports?module.exports=R:"function"==typeof define&&define.amd?define(function(){return R}):(l=n.uuid,R.noConflict=function(){return n.uuid=l,R},n.uuid=R)}("undefined"!=typeof window?window:null);
}).call(this,require("buffer").Buffer)

},{"buffer":42,"crypto":52}],144:[function(require,module,exports){
module.exports=require("./lib/");
},{"./lib/":145}],145:[function(require,module,exports){
var Stringify=require("./stringify"),Parse=require("./parse"),internals={};module.exports={stringify:Stringify,parse:Parse};
},{"./parse":146,"./stringify":147}],146:[function(require,module,exports){
var Utils=require("./utils"),internals={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1};internals.parseValues=function(e,t){for(var r={},i=e.split(t.delimiter,t.parameterLimit===1/0?void 0:t.parameterLimit),a=0,l=i.length;l>a;++a){var n=i[a],s=-1===n.indexOf("]=")?n.indexOf("="):n.indexOf("]=")+1;if(-1===s)r[Utils.decode(n)]="",t.strictNullHandling&&(r[Utils.decode(n)]=null);else{var p=Utils.decode(n.slice(0,s)),c=Utils.decode(n.slice(s+1));Object.prototype.hasOwnProperty.call(r,p)?r[p]=[].concat(r[p]).concat(c):r[p]=c}}return r},internals.parseObject=function(e,t,r){if(!e.length)return t;var i,a=e.shift();if("[]"===a)i=[],i=i.concat(internals.parseObject(e,t,r));else{i=Object.create(null);var l="["===a[0]&&"]"===a[a.length-1]?a.slice(1,a.length-1):a,n=parseInt(l,10),s=""+n;!isNaN(n)&&a!==l&&s===l&&n>=0&&r.parseArrays&&n<=r.arrayLimit?(i=[],i[n]=internals.parseObject(e,t,r)):i[l]=internals.parseObject(e,t,r)}return i},internals.parseKeys=function(e,t,r){if(e){r.allowDots&&(e=e.replace(/\.([^\.\[]+)/g,"[$1]"));var i=/^([^\[\]]*)/,a=/(\[[^\[\]]*\])/g,l=i.exec(e),n=[];l[1]&&n.push(l[1]);for(var s=0;null!==(l=a.exec(e))&&s<r.depth;)++s,n.push(l[1]);return l&&n.push("["+e.slice(l.index)+"]"),internals.parseObject(n,t,r)}},module.exports=function(e,t){if(""===e||null===e||"undefined"==typeof e)return Object.create(null);t=t||{},t.delimiter="string"==typeof t.delimiter||Utils.isRegExp(t.delimiter)?t.delimiter:internals.delimiter,t.depth="number"==typeof t.depth?t.depth:internals.depth,t.arrayLimit="number"==typeof t.arrayLimit?t.arrayLimit:internals.arrayLimit,t.parseArrays=t.parseArrays!==!1,t.allowDots=t.allowDots!==!1,t.parameterLimit="number"==typeof t.parameterLimit?t.parameterLimit:internals.parameterLimit,t.strictNullHandling="boolean"==typeof t.strictNullHandling?t.strictNullHandling:internals.strictNullHandling;for(var r="string"==typeof e?internals.parseValues(e,t):e,i=Object.create(null),a=Object.keys(r),l=0,n=a.length;n>l;++l){var s=a[l],p=internals.parseKeys(s,r[s],t);i=Utils.merge(i,p)}return Utils.compact(i)};
},{"./utils":148}],147:[function(require,module,exports){
var Utils=require("./utils"),internals={delimiter:"&",arrayPrefixGenerators:{brackets:function(r,e){return r+"[]"},indices:function(r,e){return r+"["+e+"]"},repeat:function(r,e){return r}},strictNullHandling:!1};internals.stringify=function(r,e,n,i,t){if("function"==typeof t)r=t(e,r);else if(Utils.isBuffer(r))r=r.toString();else if(r instanceof Date)r=r.toISOString();else if(null===r){if(i)return Utils.encode(e);r=""}if("string"==typeof r||"number"==typeof r||"boolean"==typeof r)return[Utils.encode(e)+"="+Utils.encode(r)];var a=[];if("undefined"==typeof r)return a;for(var l=Array.isArray(t)?t:Object.keys(r),s=0,f=l.length;f>s;++s){var o=l[s];a=Array.isArray(r)?a.concat(internals.stringify(r[o],n(e,o),n,i,t)):a.concat(internals.stringify(r[o],e+"["+o+"]",n,i,t))}return a},module.exports=function(r,e){e=e||{};var n,i,t="undefined"==typeof e.delimiter?internals.delimiter:e.delimiter,a="boolean"==typeof e.strictNullHandling?e.strictNullHandling:internals.strictNullHandling;"function"==typeof e.filter?(i=e.filter,r=i("",r)):Array.isArray(e.filter)&&(n=i=e.filter);var l=[];if("object"!=typeof r||null===r)return"";var s;s=e.arrayFormat in internals.arrayPrefixGenerators?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":"indices";var f=internals.arrayPrefixGenerators[s];n||(n=Object.keys(r));for(var o=0,c=n.length;c>o;++o){var u=n[o];l=l.concat(internals.stringify(r[u],u,f,a,i))}return l.join(t)};
},{"./utils":148}],148:[function(require,module,exports){
var internals={};internals.hexTable=new Array(256);for(var i=0;256>i;++i)internals.hexTable[i]="%"+((16>i?"0":"")+i.toString(16)).toUpperCase();exports.arrayToObject=function(e){for(var r=Object.create(null),t=0,n=e.length;n>t;++t)"undefined"!=typeof e[t]&&(r[t]=e[t]);return r},exports.merge=function(e,r){if(!r)return e;if("object"!=typeof r)return Array.isArray(e)?e.push(r):"object"==typeof e?e[r]=!0:e=[e,r],e;if("object"!=typeof e)return e=[e].concat(r);Array.isArray(e)&&!Array.isArray(r)&&(e=exports.arrayToObject(e));for(var t=Object.keys(r),n=0,a=t.length;a>n;++n){var o=t[n],i=r[o];e[o]?e[o]=exports.merge(e[o],i):e[o]=i}return e},exports.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(r){return e}},exports.encode=function(e){if(0===e.length)return e;"string"!=typeof e&&(e=""+e);for(var r="",t=0,n=e.length;n>t;++t){var a=e.charCodeAt(t);45===a||46===a||95===a||126===a||a>=48&&57>=a||a>=65&&90>=a||a>=97&&122>=a?r+=e[t]:128>a?r+=internals.hexTable[a]:2048>a?r+=internals.hexTable[192|a>>6]+internals.hexTable[128|63&a]:55296>a||a>=57344?r+=internals.hexTable[224|a>>12]+internals.hexTable[128|a>>6&63]+internals.hexTable[128|63&a]:(++t,a=65536+((1023&a)<<10|1023&e.charCodeAt(t)),r+=internals.hexTable[240|a>>18]+internals.hexTable[128|a>>12&63]+internals.hexTable[128|a>>6&63]+internals.hexTable[128|63&a])}return r},exports.compact=function(e,r){if("object"!=typeof e||null===e)return e;r=r||[];var t=r.indexOf(e);if(-1!==t)return r[t];if(r.push(e),Array.isArray(e)){for(var n=[],a=0,o=e.length;o>a;++a)"undefined"!=typeof e[a]&&n.push(e[a]);return n}var i=Object.keys(e);for(a=0,o=i.length;o>a;++a){var s=i[a];e[s]=exports.compact(e[s],r)}return e},exports.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},exports.isBuffer=function(e){return null===e||"undefined"==typeof e?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};
},{}],149:[function(require,module,exports){
function Traverse(e){this.value=e}function walk(e,t,r){var o=[],n=[],a=!0;return function i(e){function c(){if("object"==typeof l.node&&null!==l.node){l.keys&&l.node_===l.node||(l.keys=objectKeys(l.node)),l.isLeaf=0==l.keys.length;for(var t=0;t<n.length;t++)if(n[t].node_===e){l.circular=n[t];break}}else l.isLeaf=!0,l.keys=null;l.notLeaf=!l.isLeaf,l.notRoot=!l.isRoot}var s=r?copy(e):e,u={},f=!0,l={node:s,node_:e,path:[].concat(o),parent:n[n.length-1],parents:n,key:o.slice(-1)[0],isRoot:0===o.length,level:o.length,circular:null,update:function(e,t){l.isRoot||(l.parent.node[l.key]=e),l.node=e,t&&(f=!1)},"delete":function(e){delete l.parent.node[l.key],e&&(f=!1)},remove:function(e){isArray(l.parent.node)?l.parent.node.splice(l.key,1):delete l.parent.node[l.key],e&&(f=!1)},keys:null,before:function(e){u.before=e},after:function(e){u.after=e},pre:function(e){u.pre=e},post:function(e){u.post=e},stop:function(){a=!1},block:function(){f=!1}};if(!a)return l;c();var p=t.call(l,l.node);return void 0!==p&&l.update&&l.update(p),u.before&&u.before.call(l,l.node),f?("object"!=typeof l.node||null===l.node||l.circular||(n.push(l),c(),forEach(l.keys,function(e,t){o.push(e),u.pre&&u.pre.call(l,l.node[e],e);var n=i(l.node[e]);r&&hasOwnProperty.call(l.node,e)&&(l.node[e]=n.node),n.isLast=t==l.keys.length-1,n.isFirst=0==t,u.post&&u.post.call(l,n),o.pop()}),n.pop()),u.after&&u.after.call(l,l.node),l):l}(e).node}function copy(e){if("object"==typeof e&&null!==e){var t;if(isArray(e))t=[];else if(isDate(e))t=new Date(e.getTime?e.getTime():e);else if(isRegExp(e))t=new RegExp(e);else if(isError(e))t={message:e.message};else if(isBoolean(e))t=new Boolean(e);else if(isNumber(e))t=new Number(e);else if(isString(e))t=new String(e);else if(Object.create&&Object.getPrototypeOf)t=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)t={};else{var r=e.constructor&&e.constructor.prototype||e.__proto__||{},o=function(){};o.prototype=r,t=new o}return forEach(objectKeys(e),function(r){t[r]=e[r]}),t}return e}function toS(e){return Object.prototype.toString.call(e)}function isDate(e){return"[object Date]"===toS(e)}function isRegExp(e){return"[object RegExp]"===toS(e)}function isError(e){return"[object Error]"===toS(e)}function isBoolean(e){return"[object Boolean]"===toS(e)}function isNumber(e){return"[object Number]"===toS(e)}function isString(e){return"[object String]"===toS(e)}var traverse=module.exports=function(e){return new Traverse(e)};Traverse.prototype.get=function(e){for(var t=this.value,r=0;r<e.length;r++){var o=e[r];if(!t||!hasOwnProperty.call(t,o)){t=void 0;break}t=t[o]}return t},Traverse.prototype.has=function(e){for(var t=this.value,r=0;r<e.length;r++){var o=e[r];if(!t||!hasOwnProperty.call(t,o))return!1;t=t[o]}return!0},Traverse.prototype.set=function(e,t){for(var r=this.value,o=0;o<e.length-1;o++){var n=e[o];hasOwnProperty.call(r,n)||(r[n]={}),r=r[n]}return r[e[o]]=t,t},Traverse.prototype.map=function(e){return walk(this.value,e,!0)},Traverse.prototype.forEach=function(e){return this.value=walk(this.value,e,!1),this.value},Traverse.prototype.reduce=function(e,t){var r=1===arguments.length,o=r?this.value:t;return this.forEach(function(t){this.isRoot&&r||(o=e.call(this,o,t))}),o},Traverse.prototype.paths=function(){var e=[];return this.forEach(function(t){e.push(this.path)}),e},Traverse.prototype.nodes=function(){var e=[];return this.forEach(function(t){e.push(this.node)}),e},Traverse.prototype.clone=function(){var e=[],t=[];return function r(o){for(var n=0;n<e.length;n++)if(e[n]===o)return t[n];if("object"==typeof o&&null!==o){var a=copy(o);return e.push(o),t.push(a),forEach(objectKeys(o),function(e){a[e]=r(o[e])}),e.pop(),t.pop(),a}return o}(this.value)};var objectKeys=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)};forEach(objectKeys(Traverse.prototype),function(e){traverse[e]=function(t){var r=[].slice.call(arguments,1),o=new Traverse(t);return o[e].apply(o,r)}});var hasOwnProperty=Object.hasOwnProperty||function(e,t){return t in e};
},{}],150:[function(require,module,exports){
module.exports={"name":"loopback-datasource-juggler","version":"2.44.0","description":"LoopBack DataSoure Juggler","keywords":["StrongLoop","LoopBack","DataSource","Connector","Database","Juggler","ORM"],"repository":{"type":"git","url":"https://github.com/strongloop/loopback-datasource-juggler"},"main":"index.js","browser":{"depd":"./lib/browser.depd.js"},"scripts":{"clean":"make clean","help":"make help","refresh":"make refresh","test":"make test"},"engines":["node >= 0.6"],"devDependencies":{"bluebird":"^2.9.9","mocha":"^2.1.0","should":"^5.0.0"},"dependencies":{"async":"~1.0.0","debug":"^2.1.1","depd":"^1.0.0","inflection":"^1.6.0","loopback-connector":"^2.1.0","node-uuid":"^1.4.2","qs":"^3.1.0","traverse":"^0.6.6"},"license":"MIT","readme":"# LoopBack DataSource Juggler\n\nLoopBack DataSource Juggler is an ORM that provides a common set of interfaces\nfor interacting with databases, REST APIs, and other data sources. It was\ninitially forked from [JugglingDB](https://github.com/1602/jugglingdb).\n\n**For full documentation, see the official StrongLoop documentation**:\n [Connecting models to data sources](http://docs.strongloop.com/display/LB/Connecting+models+to+data+sources)\n \nFor information on creating data sources programmatically, see [Advanced topics: data sources](http://docs.strongloop.com/display/LB/Advanced+topics%3A+data+sources). \n\n## Installation\n\n    npm install loopback-datasource-juggler\n\nAlso install the appropriated connector, for example for mongodb:\n\n    npm install loopback-connector-mongodb\n\nSee [StrongLoop Documentation](http://docs.strongloop.com/) for more information.\n\n\n","readmeFilename":"README.md","bugs":{"url":"https://github.com/strongloop/loopback-datasource-juggler/issues"},"homepage":"https://github.com/strongloop/loopback-datasource-juggler","_id":"loopback-datasource-juggler@2.44.0","_shasum":"045b312f364b6f7ec2d6c5452acd6b8350b13a24","_from":"loopback-datasource-juggler@2.44.0","_resolved":"https://registry.npmjs.org/loopback-datasource-juggler/-/loopback-datasource-juggler-2.44.0.tgz"}
},{}],151:[function(require,module,exports){
module.exports=function(t){t.getCurrentContext=function(){return null},t.runInContext=t.createContext=function(){throw new Error("Current context is not supported in the browser.")}};
},{}],152:[function(require,module,exports){
module.exports={"name":"AccessToken","properties":{"id":{"type":"string","id":true},"ttl":{"type":"number","ttl":true,"default":1209600,"description":"time to live in seconds (2 weeks by default)"},"created":{"type":"Date"}},"relations":{"user":{"type":"belongsTo","model":"User","foreignKey":"userId"}},"acls":[{"principalType":"ROLE","principalId":"$everyone","permission":"DENY"},{"principalType":"ROLE","principalId":"$everyone","property":"create","permission":"ALLOW"}]}
},{}],153:[function(require,module,exports){
(function (process,Buffer){
var loopback=require("../../lib/loopback"),assert=require("assert"),uid=require("uid2"),DEFAULT_TOKEN_LEN=64;module.exports=function(e){function t(e,t){var n,i,s=t.params||[],o=t.headers||[],r=t.cookies||[],a=0;for(t.searchDefaultTokenKeys!==!1&&(s=s.concat(["access_token"]),o=o.concat(["X-Access-Token","authorization"]),r=r.concat(["access_token","authorization"])),n=s.length;n>a;a++){var c=s[a];if(i=e.params&&void 0!==e.params[c]?e.params[c]:e.body&&void 0!==e.body[c]?e.body[c]:e.query&&void 0!==e.query[c]?e.query[c]:void 0,"string"==typeof i)return i}for(a=0,n=o.length;n>a;a++)if(i=e.header(o[a]),"string"==typeof i){if(0===i.indexOf("Bearer ")){i=i.substring(7);var u=new Buffer(i,"base64");i=u.toString("utf8")}else if(/^Basic /i.test(i)){i=i.substring(6),i=new Buffer(i,"base64").toString("utf8");var f=/^([^:]*):(.*)$/.exec(i);f&&(i=f[2].length>f[1].length?f[2]:f[1])}return i}if(e.signedCookies)for(a=0,n=r.length;n>a;a++)if(i=e.signedCookies[r[a]],"string"==typeof i)return i;return null}e.definition.rawProperties.created["default"]=e.definition.properties.created["default"]=function(){return new Date},e.ANONYMOUS=new e({id:"$anonymous"}),e.createAccessTokenId=function(e){uid(this.settings.accessTokenIdLength||DEFAULT_TOKEN_LEN,function(t,n){t?e(t):e(null,n)})},e.observe("before save",function(t,n){return!t.instance||t.instance.id?n():void e.createAccessTokenId(function(e,i){return e?n(e):(t.instance.id=i,void n())})}),e.findForRequest=function(e,n,i){void 0===i&&"function"==typeof n&&(i=n,n={});var s=t(e,n);s?this.findById(s,function(e,t){e?i(e):t?t.validate(function(e,n){if(e)i(e);else if(n)i(null,t);else{var s=new Error("Invalid Access Token");s.status=s.statusCode=401,s.code="INVALID_TOKEN",i(s)}}):i()}):process.nextTick(function(){i()})},e.prototype.validate=function(e){try{assert(this.created&&"function"==typeof this.created.getTime,"token.created must be a valid Date"),assert(0!==this.ttl,"token.ttl must be not be 0"),assert(this.ttl,"token.ttl must exist"),assert(this.ttl>=-1,"token.ttl must be >= -1");var t=Date.now(),n=this.created.getTime(),i=(t-n)/1e3,s=this.ttl,o=s>i;o?e(null,o):this.destroy(function(t){e(t,o)})}catch(r){e(r)}}};
}).call(this,require('_process'),require("buffer").Buffer)

},{"../../lib/loopback":181,"_process":425,"assert":2,"buffer":42,"uid2":378}],154:[function(require,module,exports){
module.exports={"name":"ACL","properties":{"model":{"type":"string","description":"The name of the model"},"property":{"type":"string","description":"The name of the property, method, scope, or relation"},"accessType":"string","permission":"string","principalType":"string","principalId":"string"}}
},{}],155:[function(require,module,exports){
(function (process){
var loopback=require("../../lib/loopback"),async=require("async"),assert=require("assert"),debug=require("debug")("loopback:security:acl"),ctx=require("../../lib/access-context"),AccessContext=ctx.AccessContext,Principal=ctx.Principal,AccessRequest=ctx.AccessRequest,Role=loopback.Role;assert(Role,"Role model must be defined before ACL model"),module.exports=function(e){e.ALL=AccessContext.ALL,e.DEFAULT=AccessContext.DEFAULT,e.ALLOW=AccessContext.ALLOW,e.ALARM=AccessContext.ALARM,e.AUDIT=AccessContext.AUDIT,e.DENY=AccessContext.DENY,e.READ=AccessContext.READ,e.REPLICATE=AccessContext.REPLICATE,e.WRITE=AccessContext.WRITE,e.EXECUTE=AccessContext.EXECUTE,e.USER=Principal.USER,e.APP=e.APPLICATION=Principal.APPLICATION,e.ROLE=Principal.ROLE,e.SCOPE=Principal.SCOPE,e.getMatchingScore=function(i,s){for(var r=["model","property","accessType"],o=0,n=0;n<r.length;n++){o=4*o;var c=i[r[n]]||e.ALL,t=s[r[n]]||e.ALL,a="property"===r[n]&&-1!==s.methodNames.indexOf(c),p=c===t;if("accessType"===r[n]&&!p)switch(c){case e.EXECUTE:p=!0;break;case e.WRITE:p=t===e.REPLICATE}if(a||p)o+=3;else if(c===e.ALL)o+=2;else{if(t!==e.ALL)return-1;o+=1}}switch(o=4*o,i.principalType){case e.USER:o+=4;break;case e.APP:o+=3;break;case e.ROLE:o+=2;break;default:o+=1}if(o=8*o,i.principalType===e.ROLE)switch(i.principalId){case Role.OWNER:o+=4;break;case Role.RELATED:o+=3;break;case Role.AUTHENTICATED:case Role.UNAUTHENTICATED:o+=2;break;case Role.EVERYONE:o+=1;break;default:o+=5}return o=4*o,o+=AccessContext.permissionOrder[i.permission||e.ALLOW]-1},e.prototype.score=function(e){return this.constructor.getMatchingScore(this,e)},e.resolvePermission=function(i,s){s instanceof AccessRequest||(s=new AccessRequest(s)),i=i.sort(function(i,r){return e.getMatchingScore(r,s)-e.getMatchingScore(i,s)});for(var r=e.DEFAULT,o=0,n=0;n<i.length;n++){var c=i[n];if(o=e.getMatchingScore(c,s),0>o)break;if(!s.isWildcard()){r=c.permission;break}if(s.exactlyMatches(c)){r=c.permission;break}var t=AccessContext.permissionOrder[c.permission],a=AccessContext.permissionOrder[r];t>a&&(r=c.permission)}debug.enabled&&(debug("The following ACLs were searched: "),i.forEach(function(e){e.debug(),debug("with score:",e.score(s))}));var p=new AccessRequest(s.model,s.property,s.accessType,r||e.DEFAULT);return p},e.getStaticACLs=function(i,s){var r=loopback.findModel(i),o=[];r&&r.settings.acls&&r.settings.acls.forEach(function(r){var n=r.property;Array.isArray(n)&&n.indexOf(s)>=0&&(n=s),n&&n!==e.ALL&&s!==n||o.push(new e({model:i,property:n||e.ALL,principalType:r.principalType,principalId:r.principalId,accessType:r.accessType||e.ALL,permission:r.permission}))});var n=r&&(r.definition.properties[s]||r._scopeMeta&&r._scopeMeta[s]||r[s]||r.prototype[s]);return n&&n.acls&&n.acls.forEach(function(i){o.push(new e({model:r.modelName,property:s,principalType:i.principalType,principalId:i.principalId,accessType:i.accessType,permission:i.permission}))}),o},e.checkPermission=function(i,s,r,o,n,c){null!==s&&void 0!==s&&"string"!=typeof s&&(s=s.toString()),o=o||e.ALL;var t=o===e.ALL?void 0:{inq:[o,e.ALL]};n=n||e.ALL;var a=n===e.ALL?void 0:{inq:[n,e.ALL,e.EXECUTE]},p=new AccessRequest(r,o,n),l=this.getStaticACLs(r,o),d=this.resolvePermission(l,p);if(d&&d.permission===e.DENY)return debug("Permission denied by statically resolved permission"),debug(" Resolved Permission: %j",d),void process.nextTick(function(){c&&c(null,d)});var u=this;this.find({where:{principalType:i,principalId:s,model:r,property:t,accessType:a}},function(i,s){if(i)return void(c&&c(i));if(l=l.concat(s),d=u.resolvePermission(l,p),d&&d.permission===e.DEFAULT){var o=loopback.findModel(r);d.permission=o&&o.settings.defaultPermission||e.ALLOW}c&&c(null,d)})},e.prototype.debug=function(){debug.enabled&&(debug("---ACL---"),debug("model %s",this.model),debug("property %s",this.property),debug("principalType %s",this.principalType),debug("principalId %s",this.principalId),debug("accessType %s",this.accessType),debug("permission %s",this.permission))},e.checkAccessForContext=function(i,s){var r=this.registry;i instanceof AccessContext||(i=new AccessContext(i));var o=i.model,n=i.property,c=i.accessType,t=i.modelName,a=i.methodNames,p=n===e.ALL?void 0:{inq:a.concat([e.ALL])},l=c===e.ALL?void 0:c===e.REPLICATE?{inq:[e.REPLICATE,e.WRITE,e.ALL]}:{inq:[c,e.ALL]},d=new AccessRequest(t,n,c,e.DEFAULT,a),u=[],A=this.getStaticACLs(o.modelName,n),L=this,f=r.getModelByType(Role);this.find({where:{model:o.modelName,property:p,accessType:l}},function(r,n){if(r)return void(s&&s(r));var c=[];n=n.concat(A),n.forEach(function(s){for(var r=0;r<i.principals.length;r++){var o=i.principals[r],n=o.type===s.principalType,t=String(o.id)===String(s.principalId);if(n&&t)return void u.push(s)}s.principalType===e.ROLE&&c.push(function(e){f.isInRole(s.principalId,i,function(i,r){!i&&r&&u.push(s),e(i,s)})})}),async.parallel(c,function(i,r){if(i)return void(s&&s(i,null));var n=L.resolvePermission(u,d);n&&n.permission===e.DEFAULT&&(n.permission=o&&o.settings.defaultPermission||e.ALLOW),debug("---Resolved---"),n.debug(),s&&s(null,n)})})},e.checkAccessForToken=function(i,s,r,o,n){assert(i,"Access token is required");var c=new AccessContext({accessToken:i,model:s,property:o,method:o,modelId:r});this.checkAccessForContext(c,function(i,s){return i?void(n&&n(i)):void(n&&n(null,s.permission!==e.DENY))})},e.resolveRelatedModels=function(){if(!this.roleModel){var e=this.registry;this.roleModel=e.getModelByType(loopback.Role),this.roleMappingModel=e.getModelByType(loopback.RoleMapping),this.userModel=e.getModelByType(loopback.User),this.applicationModel=e.getModelByType(loopback.Application)}},e.resolvePrincipal=function(i,s,r){switch(i=i||e.ROLE,this.resolveRelatedModels(),i){case e.ROLE:this.roleModel.findOne({where:{or:[{name:s},{id:s}]}},r);break;case e.USER:this.userModel.findOne({where:{or:[{username:s},{email:s},{id:s}]}},r);break;case e.APP:this.applicationModel.findOne({where:{or:[{name:s},{email:s},{id:s}]}},r);break;default:process.nextTick(function(){var e=new Error("Invalid principal type: "+i);e.statusCode=400,r(e)})}},e.isMappedToRole=function(e,i,s,r){var o=this;this.resolvePrincipal(e,i,function(n,c){return n?r(n):(null!=c&&(i=c.id),e=e||"ROLE",void o.resolvePrincipal("ROLE",s,function(s,n){return s||!n?r(s,n):void o.roleMappingModel.findOne({where:{roleId:n.id,principalType:e,principalId:String(i)}},function(e,i){return e?r(e):r(null,!!i)})}))})}};
}).call(this,require('_process'))

},{"../../lib/access-context":173,"../../lib/loopback":181,"_process":425,"assert":2,"async":187,"debug":190}],156:[function(require,module,exports){
module.exports={"name":"Application","properties":{"id":{"type":"string","id":true},"realm":{"type":"string"},"name":{"type":"string","required":true},"description":"string","icon":{"type":"string","description":"The icon image url"},"owner":{"type":"string","description":"The user id of the developer who registers the application"},"collaborators":{"type":["string"],"description":"A list of users ids who have permissions to work on this app"},"email":"string","emailVerified":"boolean","url":{"type":"string","description":"The application URL for OAuth 2.0"},"callbackUrls":{"type":["string"],"description":"OAuth 2.0 code/token callback URLs"},"permissions":{"type":["string"],"description":"A list of permissions required by the application"},"clientKey":"string","javaScriptKey":"string","restApiKey":"string","windowsKey":"string","masterKey":"string","pushSettings":{"apns":{"production":{"type":"boolean","description":["Production or development mode. It denotes what default APNS","servers to be used to send notifications.","See API documentation for more details."]},"certData":{"type":"string","description":"The certificate data loaded from the cert.pem file"},"keyData":{"type":"string","description":"The key data loaded from the key.pem file"},"pushOptions":{"type":{"gateway":"string","port":"number"}},"feedbackOptions":{"type":{"gateway":"string","port":"number","batchFeedback":"boolean","interval":"number"}}},"gcm":{"serverApiKey":"string"}},"authenticationEnabled":{"type":"boolean","default":true},"anonymousAllowed":{"type":"boolean","default":true},"authenticationSchemes":[{"scheme":{"type":"string","description":"See the API docs for the list of supported values."},"credential":{"type":"object","description":"Scheme-specific credentials"}}],"status":{"type":"string","default":"sandbox","description":"Status of the application, production/sandbox/disabled"},"created":"date","modified":"date"}}
},{}],157:[function(require,module,exports){
function generateKey(e,t,r){e=e||"loopback",t=t||"sha1",r=r||"hex";var i=crypto.createHmac(t,e),n=crypto.randomBytes(32);i.update(n);var a=i.digest(r);return a}var assert=require("assert"),utils=require("../../lib/utils"),crypto=require("crypto");module.exports=function(e){e.definition.rawProperties.created["default"]=e.definition.properties.created["default"]=function(){return new Date},e.definition.rawProperties.modified["default"]=e.definition.properties.modified["default"]=function(){return new Date},e.observe("before save",function(e,t){if(!e.instance)return t();var r=e.instance;r.created=r.modified=new Date,r.id||(r.id=generateKey("id","md5")),r.clientKey=generateKey("client"),r.javaScriptKey=generateKey("javaScript"),r.restApiKey=generateKey("restApi"),r.windowsKey=generateKey("windows"),r.masterKey=generateKey("master"),t()}),e.register=function(e,t,r,i){assert(e,"owner is required"),assert(t,"name is required"),"function"!=typeof r||i||(i=r,r={}),i=i||utils.createPromiseCallback();var n={owner:e,name:t};for(var a in r)a in n||(n[a]=r[a]);return this.create(n,i),i.promise},e.prototype.resetKeys=function(e){this.clientKey=generateKey("client"),this.javaScriptKey=generateKey("javaScript"),this.restApiKey=generateKey("restApi"),this.windowsKey=generateKey("windows"),this.masterKey=generateKey("master"),this.modified=new Date,this.save(e)},e.resetKeys=function(e,t){return t=t||utils.createPromiseCallback(),this.findById(e,function(e,r){return e?void(t&&t(e,r)):void r.resetKeys(t)}),t.promise},e.authenticate=function(e,t,r){return r=r||utils.createPromiseCallback(),this.findById(e,function(e,i){if(e||!i)return r(e,null),r.promise;for(var n=null,a=["clientKey","javaScriptKey","restApiKey","windowsKey","masterKey"],s=0;s<a.length;s++)if(i[a[s]]===t){n={application:i,keyType:a[s]};break}r(null,n)}),r.promise}};
},{"../../lib/utils":186,"assert":2,"crypto":52}],158:[function(require,module,exports){
module.exports={"name":"Change","trackChanges":false,"properties":{"id":{"type":"string","id":true},"rev":{"type":"string"},"prev":{"type":"string"},"checkpoint":{"type":"number"},"modelName":{"type":"string"},"modelId":{"type":"string"}}}
},{}],159:[function(require,module,exports){
var PersistedModel=require("../../lib/loopback").PersistedModel,loopback=require("../../lib/loopback"),crypto=require("crypto"),CJSON={stringify:require("canonical-json")},async=require("async"),assert=require("assert"),debug=require("debug")("loopback:change"),deprecate=require("depd")("loopback");module.exports=function(e){function t(e,t,n){this.SourceModel=t,this.TargetModel=n,this.SourceChange=t.getChangeModel(),this.TargetChange=n.getChangeModel(),this.modelId=e}e.UPDATE="update",e.CREATE="create",e.DELETE="delete",e.UNKNOWN="unknown",e.Conflict=t,e.setup=function(){PersistedModel.setup.call(this);var e=this;e.getter.id=function(){var t=this.modelName&&this.modelId;return t?e.idForModel(this.modelName,this.modelId):null}},e.setup(),e.rectifyModelChanges=function(e,t,n){var r=this,o=[],i=t.map(function(t){return function(n){function i(r){r&&(r.modelName=e,r.modelId=t,o.push(r)),n()}r.findOrCreateChange(e,t,function(e,t){return e?i(e):void t.rectify(i)})}});async.parallel(i,function(t){if(t)return n(t);if(o.length){var r=o.map(function(e){return"#"+e.modelId+" - "+e.toString()}).join("\n"),i="Cannot rectify "+e+" changes:\n"+r;return t=new Error(i),t.details={errors:o},n(t)}n()})},e.idForModel=function(e,t){return this.hash([e,t].join("-"))},e.findOrCreateChange=function(e,t,n){assert(loopback.findModel(e),e+" does not exist");var r=this.idForModel(e,t),o=this;this.findById(r,function(i,d){if(i)return n(i);if(d)n(null,d);else{var u=new o({id:r,modelName:e,modelId:t});u.debug("creating change"),o.updateOrCreate(u,n)}})},e.prototype.rectify=function(t){function n(n,i){if(i){if(o===i)return r.debug("ASSERTION FAILED: Change currentRev==rev should have been already handled"),t(null,r);r.rev=i,r.debug("updated revision (was "+o+")"),r.checkpoint!==n&&(r.prev=o,r.debug("updated prev"))}else r.rev=null,r.debug("updated revision (was "+o+")"),r.checkpoint!==n&&(o?r.prev=o:r.prev||(r.debug("ERROR - could not determing prev"),r.prev=e.UNKNOWN),r.debug("updated prev"));r.checkpoint!=n&&(debug("update checkpoint to",n),r.checkpoint=n),r.prev===e.UNKNOWN?r.remove(t):r.save(t)}var r=this,o=this.rev;r.debug("rectify change"),t=t||function(e){if(e)throw new Error(e)},r.currentRevision(function(e,i){return e?t(e):o===i?(r.debug("rev and prev are equal (not updating anything)"),t(null,r)):void r.constructor.getCheckpointModel().current(function(e,r){return e?t(e):void n(r,i)})})},e.prototype.currentRevision=function(t){var n=this.getModelCtor(),r=this.getModelId();n.findById(r,function(n,r){return n?t(n):void(r?t(null,e.revisionForInst(r)):t(null,null))})},e.hash=function(t){return crypto.createHash(e.settings.hashAlgorithm||"sha1").update(t).digest("hex")},e.revisionForInst=function(e){return assert(e,"Change.revisionForInst() requires an instance object."),this.hash(CJSON.stringify(e))},e.prototype.type=function(){return this.rev&&this.prev?e.UPDATE:this.rev&&!this.prev?e.CREATE:!this.rev&&this.prev?e.DELETE:e.UNKNOWN},e.prototype.equals=function(e){if(!e)return!1;var t=this.rev||null,n=e.rev||null;return t===n},e.prototype.conflictsWith=function(t){return t?this.equals(t)?!1:e.bothDeleted(this,t)?!1:this.isBasedOn(t)?!1:!0:!1},e.bothDeleted=function(t,n){return t.type()===e.DELETE&&n.type()===e.DELETE},e.prototype.isBasedOn=function(e){return this.prev===e.rev},e.diff=function(t,n,r,o){if(!Array.isArray(r)||0===r.length)return o(null,{deltas:[],conflicts:[]});var i={},d=[];r.forEach(function(t){d.push(t.modelId),i[t.modelId]=new e(t)}),n=Number(n)||0,this.find({where:{modelName:t,modelId:{inq:d}}},function(t,r){if(t)return o(t);var u=[],s=[],c=[],l=r.filter(function(e){return e.checkpoint>=n});l.forEach(function(t){t=new e(t),c.push(t.modelId);var n=i[t.modelId];n&&!t.equals(n)&&(n.conflictsWith(t)?(n.debug("remote conflict"),t.debug("local conflict"),s.push(t)):(n.debug("remote delta"),u.push(n)))}),d.forEach(function(e){if(-1===c.indexOf(e)){var t=i[e],n=r.filter(function(t){return t.modelId===e})[0];n?t.prev=n.rev:t.prev=null,u.push(t)}}),o(null,{deltas:u,conflicts:s})})},e.rectifyAll=function(e){debug("rectify all");this.find(function(t,n){return t?e(t):void async.each(n,function(e,t){e.rectify(t)},e)})},e.getCheckpointModel=function(){var e=this.Checkpoint;return e?e:(this.Checkpoint=e=loopback.Checkpoint.extend("checkpoint"),assert(this.dataSource,"Cannot getCheckpointModel(): "+this.modelName+" is not attached to a dataSource"),e.attachTo(this.dataSource),e)},e.handleError=function(e){if(deprecate("Change.handleError is deprecated, you should pass errors to your callback instead."),!this.settings.ignoreErrors)throw e},e.prototype.debug=function(){if(debug.enabled){var e=Array.prototype.slice.call(arguments);e[0]=e[0]+" %s",e.push(this.modelName),debug.apply(this,e),debug("	id",this.id),debug("	rev",this.rev),debug("	prev",this.prev),debug("	checkpoint",this.checkpoint),debug("	modelName",this.modelName),debug("	modelId",this.modelId),debug("	type",this.type())}},e.prototype.getModelCtor=function(){return this.constructor.settings.trackModel},e.prototype.getModelId=function(){var e=this.getModelCtor(),t=this.modelId,n=new e;return n.setId(t),n.getId()},e.prototype.getModel=function(e){var t=this.constructor.settings.trackModel,n=this.getModelId();t.findById(n,e)},t.prototype.models=function(e){function t(e){u.findById(d.modelId,function(t,n){return t?e(t):(o=n,void e())})}function n(e){s.findById(d.modelId,function(t,n){return t?e(t):(i=n,void e())})}function r(t){return t?e(t):void e(null,o,i)}var o,i,d=this,u=this.SourceModel,s=this.TargetModel;async.parallel([t,n],r)},t.prototype.changes=function(e){function t(e){var t=d.SourceModel;t.findLastChange(d.modelId,function(t,n){return t?e(t):(o=n,void e())})}function n(e){var t=d.TargetModel;t.findLastChange(d.modelId,function(t,n){return t?e(t):(i=n,void e())})}function r(t){return t?e(t):void e(null,o,i)}var o,i,d=this;async.parallel([t,n],r)},t.prototype.resolve=function(e){var t=this;t.TargetModel.findLastChange(this.modelId,function(n,r){return n?e(n):void t.SourceModel.updateLastChange(t.modelId,{prev:r.rev},e)})},t.prototype.resolveUsingSource=function(e){this.resolve(function(t){e(t)})},t.prototype.resolveUsingTarget=function(e){function t(t){e(t)}var n=this;n.models(function(e,r,o){if(e)return t(e);if(null===o)return n.SourceModel.deleteById(n.modelId,t);var i=new n.SourceModel(o.toObject(),{persisted:!0});i.save(t)})},t.prototype.swapParties=function(){var e=this.constructor;return new e(this.modelId,this.TargetModel,this.SourceModel)},t.prototype.resolveManually=function(e,t){function n(e){t(e)}var r=this;return e?void r.models(function(t,o,i){if(t)return n(t);var d=o||new r.SourceModel(i);d.setAttributes(e),d.save(function(e){return e?n(e):void r.resolve(n)})}):r.SourceModel.deleteById(r.modelId,n)},t.prototype.type=function(t){this.changes(function(n,r,o){if(n)return t(n);var i=r.type(),d=o.type();return i===e.UPDATE&&d===e.UPDATE?t(null,e.UPDATE):i===e.DELETE||d===e.DELETE?t(null,e.DELETE):t(null,e.UNKNOWN)})}};
},{"../../lib/loopback":181,"assert":2,"async":187,"canonical-json":189,"crypto":52,"debug":190,"depd":110}],160:[function(require,module,exports){
module.exports={"name":"Checkpoint","properties":{"seq":{"type":"number"},"time":{"type":"date"},"sourceId":{"type":"string"}}}
},{}],161:[function(require,module,exports){
var assert=require("assert");module.exports=function(e){e.definition.rawProperties.time["default"]=e.definition.properties.time["default"]=function(){return new Date},e.current=function(e){var r=this;this.find({limit:1,order:"seq DESC"},function(t,n){if(t)return e(t);var i=n[0];i?e(null,i.seq):r.create({seq:1},function(r,t){return r?e(r):void e(null,t.seq)})})},e.observe("before save",function(e,r){if(!e.instance)return r(new Error("Checkpoint does not support partial updates."));var t=e.instance;t.getId()||void 0!==t.seq?r():t.constructor.current(function(e,n){return e?r(e):(t.seq=n+1,void r())})})};
},{"assert":2}],162:[function(require,module,exports){
module.exports={"name":"Email","base":"Model","properties":{"to":{"type":"String","required":true},"from":{"type":"String","required":true},"subject":{"type":"String","required":true},"text":{"type":"String"},"html":{"type":"String"}}}
},{}],163:[function(require,module,exports){
module.exports=function(o){o.send=function(){throw new Error("You must connect the Email Model to a Mail connector")},o.prototype.send=function(){throw new Error("You must connect the Email Model to a Mail connector")}};
},{}],164:[function(require,module,exports){
module.exports={"name":"RoleMapping","description":"Map principals to roles","properties":{"id":{"type":"string","id":true,"generated":true},"principalType":{"type":"string","description":"The principal type, such as user, application, or role"},"principalId":"string"},"relations":{"role":{"type":"belongsTo","model":"Role","foreignKey":"roleId"}}}
},{}],165:[function(require,module,exports){
(function (process){
var loopback=require("../../lib/loopback");module.exports=function(e){e.USER="USER",e.APP=e.APPLICATION="APP",e.ROLE="ROLE",e.resolveRelatedModels=function(){if(!this.userModel){var e=this.registry;this.roleModel=e.getModelByType(loopback.Role),this.userModel=e.getModelByType(loopback.User),this.applicationModel=e.getModelByType(loopback.Application)}},e.prototype.application=function(o){if(this.constructor.resolveRelatedModels(),this.principalType===e.APPLICATION){var i=this.constructor.applicationModel;i.findById(this.principalId,o)}else process.nextTick(function(){o&&o(null,null)})},e.prototype.user=function(o){if(this.constructor.resolveRelatedModels(),this.principalType===e.USER){var i=this.constructor.userModel;i.findById(this.principalId,o)}else process.nextTick(function(){o&&o(null,null)})},e.prototype.childRole=function(o){if(this.constructor.resolveRelatedModels(),this.principalType===e.ROLE){var i=this.constructor.roleModel;i.findById(this.principalId,o)}else process.nextTick(function(){o&&o(null,null)})}};
}).call(this,require('_process'))

},{"../../lib/loopback":181,"_process":425}],166:[function(require,module,exports){
module.exports={"name":"Role","properties":{"id":{"type":"string","id":true,"generated":true},"name":{"type":"string","required":true},"description":"string","created":"date","modified":"date"},"relations":{"principals":{"type":"hasMany","model":"RoleMapping","foreignKey":"roleId"}}}
},{}],167:[function(require,module,exports){
(function (process){
var loopback=require("../../lib/loopback"),debug=require("debug")("loopback:security:role"),assert=require("assert"),async=require("async"),AccessContext=require("../../lib/access-context").AccessContext,RoleMapping=loopback.RoleMapping;assert(RoleMapping,"RoleMapping model must be defined before Role model"),module.exports=function(e){function n(e){return e?e===loopback.User||e.prototype instanceof loopback.User:!1}function o(e,n){return void 0===e||null===e||""===e||void 0===n||null===n||""===n?!1:e===n||e.toString()===n.toString()}e.definition.rawProperties.created["default"]=e.definition.properties.created["default"]=function(){return new Date},e.definition.rawProperties.modified["default"]=e.definition.properties.modified["default"]=function(){return new Date},e.resolveRelatedModels=function(){if(!this.userModel){var e=this.registry;this.roleMappingModel=e.getModelByType(loopback.RoleMapping),this.userModel=e.getModelByType(loopback.User),this.applicationModel=e.getModelByType(loopback.Application)}},e.once("dataSourceAttached",function(n){function o(e,o,i,t){void 0===t&&(t=i,i={}),n.roleMappingModel.find({where:{roleId:this.id,principalType:o}},function(n,o){var r;return n?t(n):(r=o.map(function(e){return e.principalId}),i.where=i.where||{},i.where.id={inq:r},void e.find(i,function(e,n){t(e,n)}))})}["users","applications","roles"].forEach(function(i){e.prototype[i]=function(e,t){n.resolveRelatedModels();var r={users:n.userModel,applications:n.applicationModel,roles:n},s=loopback.ACL,l={users:s.USER,applications:s.APP,roles:s.ROLE},u=r[i];o(u,l[i],e,t)}})}),e.OWNER="$owner",e.RELATED="$related",e.AUTHENTICATED="$authenticated",e.UNAUTHENTICATED="$unauthenticated",e.EVERYONE="$everyone",e.registerResolver=function(n,o){e.resolvers||(e.resolvers={}),e.resolvers[n]=o},e.registerResolver(e.OWNER,function(n,o,i){if(!o||!o.model||!o.modelId)return void process.nextTick(function(){i&&i(null,!1)});var t=o.model,r=o.modelId,s=o.getUserId();e.isOwner(t,r,s,i)}),e.isOwner=function(e,i,t,r){return assert(e,"Model class is required"),debug("isOwner(): %s %s userId: %s",e&&e.modelName,i,t),t?n(e)?void process.nextTick(function(){r(null,o(i,t))}):void e.findById(i,function(s,l){function u(e,n){!e&&n?(debug("User found: %j",n.id),r&&r(null,o(n.id,t))):r&&r(e,!1)}if(s||!l)return debug("Model not found for id %j",i),void(r&&r(s,!1));debug("Model found: %j",l);var d=l.userId||l.owner;if(d&&"function"!=typeof d)return void(r&&r(null,o(d,t)));for(var c in e.relations){var a=e.relations[c];if("belongsTo"===a.type&&n(a.modelTo))return debug("Checking relation %s to %s: %j",c,a.modelTo.modelName,a),void l[c](u)}debug("No matching belongsTo relation found for model %j and user: %j",i,t),r&&r(null,!1)}):void process.nextTick(function(){r(null,!1)})},e.registerResolver(e.AUTHENTICATED,function(n,o,i){return o?void e.isAuthenticated(o,i):void process.nextTick(function(){i&&i(null,!1)})}),e.isAuthenticated=function(e,n){process.nextTick(function(){n&&n(null,e.isAuthenticated())})},e.registerResolver(e.UNAUTHENTICATED,function(e,n,o){process.nextTick(function(){o&&o(null,!n||!n.isAuthenticated())})}),e.registerResolver(e.EVERYONE,function(e,n,o){process.nextTick(function(){o&&o(null,!0)})}),e.isInRole=function(n,o,i){o instanceof AccessContext||(o=new AccessContext(o)),this.resolveRelatedModels(),debug("isInRole(): %s",n),o.debug();var t=e.resolvers[n];if(t)return debug("Custom resolver found for role %s",n),void t(n,o,i);if(0===o.principals.length)return debug("isInRole() returns: false"),void process.nextTick(function(){i&&i(null,!1)});var r=o.principals.some(function(e){var o=e.type||void 0,i=e.id||void 0;return o===RoleMapping.ROLE&&i===n});if(r)return debug("isInRole() returns: %j",r),void process.nextTick(function(){i&&i(null,!0)});var s=this.roleMappingModel;this.findOne({where:{name:n}},function(e,n){return e?void(i&&i(e)):n?(debug("Role found: %j",n),void async.some(o.principals,function(e,o){var i=e.type||void 0,t=e.id||void 0,r=n.id.toString();null!==t&&void 0!==t&&"string"!=typeof t&&(t=t.toString()),i&&t?s.findOne({where:{roleId:r,principalType:i,principalId:t}},function(e,n){debug("Role mapping found: %j",n),o(!e&&n)}):process.nextTick(function(){o(!1)})},function(e){debug("isInRole() returns: %j",e),i&&i(null,e)})):void(i&&i(null,!1))})},e.getRoles=function(n,o){n instanceof AccessContext||(n=new AccessContext(n));var i=[];this.resolveRelatedModels();var t=function(e){e&&-1===i.indexOf(e)&&i.push(e)},r=this,s=[];Object.keys(e.resolvers).forEach(function(e){s.push(function(o){r.isInRole(e,n,function(n,i){debug.enabled&&debug("In role %j: %j",e,i),!n&&i?(t(e),o()):o(n,null)})})});var l=this.roleMappingModel;n.principals.forEach(function(e){var n=e.type||void 0,o=null==e.id?void 0:e.id;"string"!=typeof o&&null!=o&&(o=o.toString()),n===RoleMapping.ROLE&&o&&t(o),n&&o&&s.push(function(e){l.find({where:{principalType:n,principalId:o}},function(n,o){return debug("Role mappings found: %s %j",n,o),n?void(e&&e(n)):(o.forEach(function(e){t(e.roleId)}),void(e&&e()))})})}),async.parallel(s,function(e,n){debug("getRoles() returns: %j %j",e,i),o&&o(e,i)})}};
}).call(this,require('_process'))

},{"../../lib/access-context":173,"../../lib/loopback":181,"_process":425,"assert":2,"async":187,"debug":190}],168:[function(require,module,exports){
module.exports={"name":"Scope","description":["Schema for Scope which represents the permissions that are granted","to client applications by the resource owner"],"properties":{"name":{"type":"string","required":true},"description":"string"}}
},{}],169:[function(require,module,exports){
var assert=require("assert"),loopback=require("../../lib/loopback");module.exports=function(e){e.resolveRelatedModels=function(){if(!this.aclModel){var e=this.registry;this.aclModel=e.getModelByType(loopback.ACL)}},e.checkPermission=function(e,o,s,i,l){this.resolveRelatedModels();var r=this.aclModel;assert(r,"ACL model must be defined before Scope.checkPermission is called"),this.findOne({where:{name:e}},function(e,t){e?l&&l(e):r.checkPermission(r.SCOPE,t.id,o,s,i,l)})}};
},{"../../lib/loopback":181,"assert":2}],170:[function(require,module,exports){
module.exports={"name":"User","properties":{"realm":{"type":"string"},"username":{"type":"string"},"password":{"type":"string","required":true},"credentials":{"type":"object","deprecated":true},"challenges":{"type":"object","deprecated":true},"email":{"type":"string","required":true},"emailVerified":"boolean","verificationToken":"string","status":"string","created":"date","lastUpdated":"date"},"options":{"caseSensitiveEmail":true},"hidden":["password"],"acls":[{"principalType":"ROLE","principalId":"$everyone","permission":"DENY"},{"principalType":"ROLE","principalId":"$everyone","permission":"ALLOW","property":"create"},{"principalType":"ROLE","principalId":"$owner","permission":"ALLOW","property":"deleteById"},{"principalType":"ROLE","principalId":"$everyone","permission":"ALLOW","property":"login"},{"principalType":"ROLE","principalId":"$everyone","permission":"ALLOW","property":"logout"},{"principalType":"ROLE","principalId":"$owner","permission":"ALLOW","property":"findById"},{"principalType":"ROLE","principalId":"$owner","permission":"ALLOW","property":"updateAttributes"},{"principalType":"ROLE","principalId":"$everyone","permission":"ALLOW","property":"confirm"},{"principalType":"ROLE","principalId":"$everyone","permission":"ALLOW","property":"resetPassword","accessType":"EXECUTE"}],"relations":{"accessTokens":{"type":"hasMany","model":"AccessToken","foreignKey":"userId","options":{"disableInclude":true}}}}
},{}],171:[function(require,module,exports){
(function (__dirname){
var loopback=require("../../lib/loopback"),utils=require("../../lib/utils"),path=require("path"),SALT_WORK_FACTOR=10,crypto=require("crypto"),bcrypt;try{bcrypt=require("bcrypt"),bcrypt&&"function"!=typeof bcrypt.compare&&(bcrypt=require("bcryptjs"))}catch(err){bcrypt=require("bcryptjs")}var DEFAULT_TTL=1209600,DEFAULT_RESET_PW_TTL=900,DEFAULT_MAX_TTL=31556926,assert=require("assert"),debug=require("debug")("loopback:user");module.exports=function(e){function r(e,r){var t=[null,e];if(!r)return t;var s=e.indexOf(r);return-1!==s&&(t[0]=e.substring(0,s),t[1]=e.substring(s+r.length)),t}e.prototype.createAccessToken=function(e,r,t){void 0===t&&"function"==typeof r&&(t=r,r=void 0),t=t||utils.createPromiseCallback(),"object"!=typeof e||r||(r=e,e=r.ttl),r=r||{};var s=this.constructor;return e=Math.min(e||s.settings.ttl,s.settings.maxTTL),this.accessTokens.create({ttl:e},t),t.promise},e.normalizeCredentials=function(e,t,s){var i={};if(e=e||{},t){e.realm&&(i.realm=e.realm);var o;e.email?(o=r(e.email,s),i.email=o[1],o[0]&&(i.realm=o[0])):e.username&&(o=r(e.username,s),i.username=o[1],o[0]&&(i.realm=o[0]))}else e.email?i.email=e.email:e.username&&(i.username=e.username);return i},e.login=function(e,r,t){var s=this;"function"==typeof r&&(t=r,r=void 0),t=t||utils.createPromiseCallback(),r=r||"",r=Array.isArray(r)?r.map(function(e){return e.toLowerCase()}):r.toLowerCase();var i,o=!(!s.settings.realmRequired&&!s.settings.realmDelimiter);o&&(i=s.settings.realmDelimiter);var a=s.normalizeCredentials(e,o,i);if(o&&!a.realm){var n=new Error("realm is required");return n.statusCode=400,n.code="REALM_REQUIRED",t(n),t.promise}if(!a.email&&!a.username){var c=new Error("username or email is required");return c.statusCode=400,c.code="USERNAME_EMAIL_REQUIRED",t(c),t.promise}return s.findOne({where:a},function(i,o){function n(e,s){return e?t(e):((Array.isArray(r)?-1!==r.indexOf("user"):"user"===r)&&(s.__data.user=o),void t(e,s))}var c=new Error("login failed");c.statusCode=401,c.code="LOGIN_FAILED",i?(debug("An error is reported from User.findOne: %j",i),t(c)):o?o.hasPassword(e.password,function(r,i){r?(debug("An error is reported from User.hasPassword: %j",r),t(c)):i?s.settings.emailVerificationRequired&&!o.emailVerified?(debug("User email has not been verified"),r=new Error("login failed as the email has not been verified"),r.statusCode=401,r.code="LOGIN_FAILED_EMAIL_NOT_VERIFIED",t(r)):2===o.createAccessToken.length?o.createAccessToken(e.ttl,n):o.createAccessToken(e.ttl,e,n):(debug("The password is invalid for user %s",a.email||a.username),t(c))}):(debug("No matching record is found for user %s",a.email||a.username),t(c))}),t.promise},e.logout=function(e,r){return r=r||utils.createPromiseCallback(),this.relations.accessTokens.modelTo.findById(e,function(e,t){e?r(e):t?t.destroy(r):r(new Error("could not find accessToken"))}),r.promise},e.prototype.hasPassword=function(e,r){return r=r||utils.createPromiseCallback(),this.password&&e?bcrypt.compare(e,this.password,function(e,t){return e?r(e):void r(null,t)}):r(null,!1),r.promise},e.prototype.verify=function(r,t){function s(e){r.verifyHref+="&token="+e.verificationToken,r.text=r.text||"Please verify your email by opening this link in a web browser:\n	{href}",r.text=r.text.replace("{href}",r.verifyHref),r.to=r.to||e.email,r.subject=r.subject||"Thanks for Registering",r.headers=r.headers||{};var s=loopback.template(r.template);r.html=s(r),u.send(r,function(r,s){r?t(r):t(null,{email:s,token:e.verificationToken,uid:e.id})})}t=t||utils.createPromiseCallback();var i=this,o=this.constructor,a=o.registry;assert("object"==typeof r,"options required when calling user.verify()"),assert(r.type,"You must supply a verification type (options.type)"),assert("email"===r.type,"Unsupported verification type"),assert(r.to||this.email,"Must include options.to when calling user.verify() or the user must have an email property"),assert(r.from,"Must include options.from when calling user.verify()"),r.redirect=r.redirect||"/",r.template=path.resolve(r.template||path.join(__dirname,"..","..","templates","verify.ejs")),r.user=this,r.protocol=r.protocol||"http";var n=o.app;r.host=r.host||n&&n.get("host")||"localhost",r.port=r.port||n&&n.get("port")||3e3,r.restApiRoot=r.restApiRoot||n&&n.get("restApiRoot")||"/api";var c="http"===r.protocol&&"80"==r.port||"https"===r.protocol&&"443"==r.port?"":":"+r.port;r.verifyHref=r.verifyHref||r.protocol+"://"+r.host+c+r.restApiRoot+o.http.path+o.sharedClass.find("confirm",!0).http.path+"?uid="+r.user.id+"&redirect="+r.redirect;var u=r.mailer||this.constructor.email||a.getModelByType(loopback.Email),l=r.generateVerificationToken||e.generateVerificationToken;return l(i,function(e,r){return e?t(e):(i.verificationToken=r,void i.save(function(e){e?t(e):s(i)}))}),t.promise},e.generateVerificationToken=function(e,r){crypto.randomBytes(64,function(e,t){r(e,t&&t.toString("hex"))})},e.confirm=function(e,r,t,s){return s=s||utils.createPromiseCallback(),this.findById(e,function(t,i){t?s(t):i&&i.verificationToken===r?(i.verificationToken=void 0,i.emailVerified=!0,i.save(function(e){e?s(e):s()})):(i?(t=new Error("Invalid token: "+r),t.statusCode=400,t.code="INVALID_TOKEN"):(t=new Error("User not found: "+e),t.statusCode=404,t.code="USER_NOT_FOUND"),s(t))}),s.promise},e.resetPassword=function(e,r){r=r||utils.createPromiseCallback();var t=this,s=t.settings.resetPasswordTokenTTL||DEFAULT_RESET_PW_TTL;if(e=e||{},"string"!=typeof e.email){var i=new Error("Email is required");return i.statusCode=400,i.code="EMAIL_REQUIRED",r(i),r.promise}return t.findOne({where:{email:e.email}},function(i,o){return i?r(i):o?void o.accessTokens.create({ttl:s},function(s,i){return s?r(s):(r(),void t.emit("resetPasswordRequest",{email:e.email,accessToken:i,user:o}))}):(i=new Error("Email not found"),i.statusCode=404,i.code="EMAIL_NOT_FOUND",r(i))}),r.promise},e.hashPassword=function(e){this.validatePassword(e);var r=bcrypt.genSaltSync(this.settings.saltWorkFactor||SALT_WORK_FACTOR);return bcrypt.hashSync(e,r)},e.validatePassword=function(e){if("string"==typeof e&&e)return!0;var r=new Error("Invalid password: "+e);throw r.statusCode=422,r},e.setup=function(){e.base.setup.call(this);var r=this;this.settings.maxTTL=this.settings.maxTTL||DEFAULT_MAX_TTL,this.settings.ttl=this.settings.ttl||DEFAULT_TTL,r.setter.email=function(e){r.settings.caseSensitiveEmail?this.$email=e:this.$email=e.toLowerCase()},r.setter.password=function(e){"string"==typeof e&&(0===e.indexOf("$2a$")&&60===e.length?this.$password=e:this.$password=this.constructor.hashPassword(e))},r.observe("access",function(e,r){!e.Model.settings.caseSensitiveEmail&&e.query.where&&e.query.where.email&&(e.query.where.email=e.query.where.email.toLowerCase()),r()}),r.beforeRemote("create",function(e,r,t){var s=e.req.body;s&&s.emailVerified&&(s.emailVerified=!1),t()}),r.remoteMethod("login",{description:"Login a user with username/email and password.",accepts:[{arg:"credentials",type:"object",required:!0,http:{source:"body"}},{arg:"include",type:["string"],http:{source:"query"},description:"Related objects to include in the response. See the description of return value for more details."}],returns:{arg:"accessToken",type:"object",root:!0,description:"The response body contains properties of the AccessToken created on login.\nDepending on the value of `include` parameter, the body may contain additional properties:\n\n  - `user` - `{User}` - Data of the currently logged in user. (`include=user`)\n\n"},http:{verb:"post"}}),r.remoteMethod("logout",{description:"Logout a user with access token.",accepts:[{arg:"access_token",type:"string",required:!0,http:function(e){var r=e&&e.req,t=r&&r.accessToken,s=t&&t.id;return s},description:"Do not supply this argument, it is automatically extracted from request headers."}],http:{verb:"all"}}),r.remoteMethod("confirm",{description:"Confirm a user registration with email verification token.",accepts:[{arg:"uid",type:"string",required:!0},{arg:"token",type:"string",required:!0},{arg:"redirect",type:"string"}],http:{verb:"get",path:"/confirm"}}),r.remoteMethod("resetPassword",{description:"Reset password for a user with email.",accepts:[{arg:"options",type:"object",required:!0,http:{source:"body"}}],http:{verb:"post",path:"/reset"}}),r.afterRemote("confirm",function(e,r,t){if(void 0!==e.args.redirect){if(!e.res)return t(new Error("The transport does not support HTTP redirects."));e.res.location(e.args.redirect),e.res.status(302)}t()}),assert(loopback.Email,"Email model must be defined before User model"),r.email=loopback.Email,assert(loopback.AccessToken,"AccessToken model must be defined before User model"),r.accessToken=loopback.AccessToken;var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return r.validatesFormatOf("email",{"with":t,message:"Must provide a valid email"}),r.settings.realmRequired||r.settings.realmDelimiter||(r.validatesUniquenessOf("email",{message:"Email already exists"}),r.validatesUniquenessOf("username",{message:"User already exists"})),r},e.setup()};
}).call(this,"/..\\..\\loopback\\common\\models")

},{"../../lib/loopback":181,"../../lib/utils":186,"assert":2,"bcrypt":6,"bcryptjs":188,"crypto":52,"debug":190,"path":423}],172:[function(require,module,exports){
var loopback=module.exports=require("./lib/loopback"),datasourceJuggler=require("loopback-datasource-juggler");loopback.Connector=require("./lib/connectors/base-connector"),loopback.Memory=require("./lib/connectors/memory"),loopback.Mail=require("./lib/connectors/mail"),loopback.Remote=require("loopback-connector-remote"),loopback.GeoPoint=require("loopback-datasource-juggler/lib/geo").GeoPoint,loopback.ValidationError=loopback.Model.ValidationError;
},{"./lib/connectors/base-connector":177,"./lib/connectors/mail":178,"./lib/connectors/memory":179,"./lib/loopback":181,"loopback-connector-remote":197,"loopback-datasource-juggler":109,"loopback-datasource-juggler/lib/geo":114}],173:[function(require,module,exports){
function AccessContext(e){if(!(this instanceof AccessContext))return new AccessContext(e);e=e||{},this.principals=e.principals||[];var s=e.model;s="string"==typeof s?loopback.getModel(s):s,this.model=s,this.modelName=s&&s.modelName,this.modelId=e.id||e.modelId,this.property=e.property||AccessContext.ALL,this.method=e.method,this.sharedMethod=e.sharedMethod,this.sharedClass=this.sharedMethod&&this.sharedMethod.sharedClass,this.sharedMethod?this.methodNames=this.sharedMethod.aliases.concat([this.sharedMethod.name]):this.methodNames=[],this.sharedMethod&&(this.accessType=this.model._getAccessTypeForMethod(this.sharedMethod)),this.accessType=e.accessType||AccessContext.ALL,assert(loopback.AccessToken,"AccessToken model must be defined before AccessContext model"),this.accessToken=e.accessToken||loopback.AccessToken.ANONYMOUS;var t=e.principalType||Principal.USER,i=e.principalId||void 0,c=e.principalName||void 0;i&&this.addPrincipal(t,i,c);var o=this.accessToken||{};o.userId&&this.addPrincipal(Principal.USER,o.userId),o.appId&&this.addPrincipal(Principal.APPLICATION,o.appId),this.remotingContext=e.remotingContext}function Principal(e,s,t){return this instanceof Principal?(this.type=e,this.id=s,void(this.name=t)):new Principal(e,s,t)}function AccessRequest(e,s,t,i,c){if(!(this instanceof AccessRequest))return new AccessRequest(e,s,t);if(1===arguments.length&&"object"==typeof e){var o=e||{};this.model=o.model||AccessContext.ALL,this.property=o.property||AccessContext.ALL,this.accessType=o.accessType||AccessContext.ALL,this.permission=o.permission||AccessContext.DEFAULT,this.methodNames=c||[]}else this.model=e||AccessContext.ALL,this.property=s||AccessContext.ALL,this.accessType=t||AccessContext.ALL,this.permission=i||AccessContext.DEFAULT,this.methodNames=c||[]}var assert=require("assert"),loopback=require("./loopback"),debug=require("debug")("loopback:security:access-context");AccessContext.ALL="*",AccessContext.READ="READ",AccessContext.REPLICATE="REPLICATE",AccessContext.WRITE="WRITE",AccessContext.EXECUTE="EXECUTE",AccessContext.DEFAULT="DEFAULT",AccessContext.ALLOW="ALLOW",AccessContext.ALARM="ALARM",AccessContext.AUDIT="AUDIT",AccessContext.DENY="DENY",AccessContext.permissionOrder={DEFAULT:0,ALLOW:1,ALARM:2,AUDIT:3,DENY:4},AccessContext.prototype.addPrincipal=function(e,s,t){for(var i=new Principal(e,s,t),c=0;c<this.principals.length;c++){var o=this.principals[c];if(o.equals(i))return!1}return this.principals.push(i),!0},AccessContext.prototype.getUserId=function(){for(var e=0;e<this.principals.length;e++){var s=this.principals[e];if(s.type===Principal.USER)return s.id}return null},AccessContext.prototype.getAppId=function(){for(var e=0;e<this.principals.length;e++){var s=this.principals[e];if(s.type===Principal.APPLICATION)return s.id}return null},AccessContext.prototype.isAuthenticated=function(){return!(!this.getUserId()&&!this.getAppId())},AccessContext.prototype.debug=function(){debug.enabled&&(debug("---AccessContext---"),this.principals&&this.principals.length?(debug("principals:"),this.principals.forEach(function(e){debug("principal: %j",e)})):debug("principals: %j",this.principals),debug("modelName %s",this.modelName),debug("modelId %s",this.modelId),debug("property %s",this.property),debug("method %s",this.method),debug("accessType %s",this.accessType),this.accessToken&&(debug("accessToken:"),debug("  id %j",this.accessToken.id),debug("  ttl %j",this.accessToken.ttl)),debug("getUserId() %s",this.getUserId()),debug("isAuthenticated() %s",this.isAuthenticated()))},Principal.USER="USER",Principal.APP=Principal.APPLICATION="APP",Principal.ROLE="ROLE",Principal.SCOPE="SCOPE",Principal.prototype.equals=function(e){return e instanceof Principal?this.type===e.type&&String(this.id)===String(e.id):!1},AccessRequest.prototype.isWildcard=function(){return this.model===AccessContext.ALL||this.property===AccessContext.ALL||this.accessType===AccessContext.ALL},AccessRequest.prototype.exactlyMatches=function(e){var s=e.model===this.model,t=e.property===this.property,i=-1!==this.methodNames.indexOf(e.property),c=e.accessType===this.accessType;return s&&c?t||i:!1},AccessRequest.prototype.isAllowed=function(){return this.permission!==loopback.ACL.DENY},AccessRequest.prototype.debug=function(){debug.enabled&&(debug("---AccessRequest---"),debug(" model %s",this.model),debug(" property %s",this.property),debug(" accessType %s",this.accessType),debug(" permission %s",this.permission),debug(" isWildcard() %s",this.isWildcard()),debug(" isAllowed() %s",this.isAllowed()))},module.exports.AccessContext=AccessContext,module.exports.Principal=Principal,module.exports.AccessRequest=AccessRequest;
},{"./loopback":181,"assert":2,"debug":190}],174:[function(require,module,exports){
(function (process,__dirname){
function App(){}function dataSourcesFromConfig(e,t,r,s){var o;return assert("object"==typeof t,"cannont create data source without config object"),"string"==typeof t.connector&&(e=t.connector,r[e]?t.connector=r[e]:(o=path.join(__dirname,"connectors",e+".js"),fs.existsSync(o)&&(t.connector=require(o)))),s.createDataSource(t)}function configureModel(e,t,r){assert(e.prototype instanceof e.registry.getModel("Model"),e.modelName+" must be a descendant of loopback.Model");var s=t.dataSource;s&&("string"==typeof s&&(s=r.dataSources[s]),assert(s instanceof DataSource,e.modelName+' is referencing a dataSource that does not exist: "'+t.dataSource+'"')),t=extend({},t),t.dataSource=s,setSharedMethodSharedProperties(e,r,t),r.registry.configureModel(e,t)}function setSharedMethodSharedProperties(e,t,r){var s={},o=t.get("remoting"),a=o&&o.sharedMethods&&"object"==typeof o.sharedMethods;a&&util._extend(s,o.sharedMethods);var i=r.options,n=i&&i.remoting&&i.remoting.sharedMethods&&"object"==typeof i.remoting.sharedMethods;n&&util._extend(s,i.remoting.sharedMethods),Object.keys(s).forEach(function(e){var t=s[e],r=typeof t;if("boolean"!==r)throw new TypeError("Expected boolean, got "+r)});var c=e.sharedClass.methods({includeDisabled:!0});c.forEach(function(e){var t=s.hasOwnProperty(e.name);if(t)e.shared=s[e.name];else{var r=s.hasOwnProperty("*");r&&(e.shared=s["*"])}})}function clearHandlerCache(e){e._handlers=void 0}var DataSource=require("loopback-datasource-juggler").DataSource,Registry=require("./registry"),assert=require("assert"),fs=require("fs"),extend=require("util")._extend,RemoteObjects=require("strong-remoting"),classify=require("underscore.string/classify"),camelize=require("underscore.string/camelize"),path=require("path"),util=require("util"),app=module.exports={};app.remotes=function(){if(this._remotes)return this._remotes;var e={};return this.get&&(e=this.get("remoting")),this._remotes=RemoteObjects.create(e)},app.disuse=function(e){if(this.stack)for(var t=0;t<this.stack.length;t++)this.stack[t].route===e&&this.stack.splice(t,1)},app.model=function(e,t){var r=!0,s=this.registry;if(arguments.length>1){if(t=t||{},"string"==typeof e){var o=extend({},t);o.options=extend({},t.options),o.name=e,delete o.dataSource,e=s.createModel(o),["relations","base","acls","hidden","methods"].forEach(function(e){delete t[e],t.options&&delete t.options[e]}),delete t.properties}configureModel(e,t,this),r=t["public"]!==!1}else assert(e.prototype instanceof e.registry.getModel("Model"),e.modelName+" must be a descendant of loopback.Model");var a=e.modelName;return this.models[a]=this.models[classify(a)]=this.models[camelize(a)]=e,this.models().push(e),r&&e.sharedClass&&(this.remotes().addClass(e.sharedClass),e.settings.trackChanges&&e.Change&&this.remotes().addClass(e.Change.sharedClass),clearHandlerCache(this),this.emit("modelRemoted",e.sharedClass)),e.shared=r,e.app=this,e.emit("attached",this),e},app.models=function(){return this._models||(this._models=[])},app.dataSource=function(e,t){var r=dataSourcesFromConfig(e,t,this.connectors,this.registry);return this.dataSources[e]=this.dataSources[classify(e)]=this.dataSources[camelize(e)]=r,r},app.connector=function(e,t){this.connectors[e]=this.connectors[classify(e)]=this.connectors[camelize(e)]=t},app.remoteObjects=function(){var e={};return this.remotes().classes().forEach(function(t){e[t.name]=t.ctor}),e},app.handler=function(e,t){var r=this._handlers||(this._handlers={});if(r[e])return r[e];var s=this.remotes(),o=this._handlers[e]=s.handler(e,t);return s.classes().forEach(function(e){e.ctor.emit("mounted",app,e,s)}),o},app.dataSources=app.datasources={},app.enableAuth=function(e){var t=["User","AccessToken","ACL","Role","RoleMapping"],r=this.remotes(),s=this;if(e&&e.dataSource){var o=s.registry.modelBuilder.models;t.forEach(function(t){var r=s.registry.findModel(t);if(!r)throw new Error("Authentication requires model "+t+" to be defined.");if(!t.dataSource&&!t.app){for(var a in o){var i=o[a],n=i.prototype instanceof r,c=!!i.dataSource||!!i.app;if(n&&c)return}s.model(r,{dataSource:e.dataSource,"public":"User"===t})}})}r.authorization=function(e,t){var r=e.method,o=e.req,a=r.ctor,i=e.instance,n=i&&i.id||(o.params&&void 0!==o.params.id?o.params.id:o.body&&void 0!==o.body.id?o.body.id:o.query&&void 0!==o.query.id?o.query.id:void 0),c=a.modelName,d=a.settings||{},h=d.aclErrorStatus||s.get("aclErrorStatus")||401;o.accessToken||(h=401),a.checkAccess?a.checkAccess(o.accessToken,n,r,e,function(e,r){if(e)console.log(e),t(e);else if(r)t();else{var s={403:{message:"Access Denied",code:"ACCESS_DENIED"},404:{message:"could not find "+c+" with id "+n,code:"MODEL_NOT_FOUND"},401:{message:"Authorization Required",code:"AUTHORIZATION_REQUIRED"}},o=new Error(s[h].message||s[403].message);o.statusCode=h,o.code=s[h].code||s[403].code,t(o)}}):t()},this.isAuthEnabled=!0},app.boot=function(e){throw new Error("`app.boot` was removed, use the new module loopback-boot instead")},app.listen=function(e){var t=this,r=require("http").createServer(this);r.on("listening",function(){t.set("port",this.address().port);var e=!1,r=t.get("host");if(r?("0.0.0.0"===r||"::"===r)&&(e=!0):(e=!0,r=this.address().address,t.set("host",r)),!t.get("url")){"win32"===process.platform&&e&&(r="localhost");var s="http://"+r+":"+t.get("port")+"/";t.set("url",s)}});var s=0===arguments.length||1==arguments.length&&"function"==typeof arguments[0];return s?r.listen(this.get("port"),this.get("host"),e):r.listen.apply(r,arguments),r};
}).call(this,require('_process'),"/..\\..\\loopback\\lib")

},{"./registry":184,"_process":425,"assert":2,"fs":35,"http":92,"loopback-datasource-juggler":109,"path":423,"strong-remoting":226,"underscore.string/camelize":379,"underscore.string/classify":381,"util":594}],175:[function(require,module,exports){
function browserExpress(){return new BrowserExpress}function BrowserExpress(){this.settings={}}var EventEmitter=require("events").EventEmitter,util=require("util");module.exports=browserExpress,browserExpress.errorHandler={},util.inherits(BrowserExpress,EventEmitter),BrowserExpress.prototype.set=function(e,r){return 1==arguments.length?this.get(e):(this.settings[e]=r,this)},BrowserExpress.prototype.get=function(e){return this.settings[e]};
},{"events":84,"util":594}],176:[function(require,module,exports){
module.exports=function(o){function e(e,m){var c=o.createModel(e);return m(c),c}o.Email=e(require("../common/models/email.json"),require("../common/models/email.js")),o.Application=e(require("../common/models/application.json"),require("../common/models/application.js")),o.AccessToken=e(require("../common/models/access-token.json"),require("../common/models/access-token.js")),o.User=e(require("../common/models/user.json"),require("../common/models/user.js")),o.RoleMapping=e(require("../common/models/role-mapping.json"),require("../common/models/role-mapping.js")),o.Role=e(require("../common/models/role.json"),require("../common/models/role.js")),o.ACL=e(require("../common/models/acl.json"),require("../common/models/acl.js")),o.Scope=e(require("../common/models/scope.json"),require("../common/models/scope.js")),o.Change=e(require("../common/models/change.json"),require("../common/models/change.js")),o.Checkpoint=e(require("../common/models/checkpoint.json"),require("../common/models/checkpoint.js"));var m={DB:"db",MAIL:"mail"};o.Email.autoAttach=m.MAIL,o.getModel("PersistedModel").autoAttach=m.DB,o.User.autoAttach=m.DB,o.AccessToken.autoAttach=m.DB,o.Role.autoAttach=m.DB,o.RoleMapping.autoAttach=m.DB,o.ACL.autoAttach=m.DB,o.Scope.autoAttach=m.DB,o.Application.autoAttach=m.DB};
},{"../common/models/access-token.js":153,"../common/models/access-token.json":152,"../common/models/acl.js":155,"../common/models/acl.json":154,"../common/models/application.js":157,"../common/models/application.json":156,"../common/models/change.js":159,"../common/models/change.json":158,"../common/models/checkpoint.js":161,"../common/models/checkpoint.json":160,"../common/models/email.js":163,"../common/models/email.json":162,"../common/models/role-mapping.js":165,"../common/models/role-mapping.json":164,"../common/models/role.js":167,"../common/models/role.json":166,"../common/models/scope.js":169,"../common/models/scope.json":168,"../common/models/user.js":171,"../common/models/user.json":170}],177:[function(require,module,exports){
function Connector(t){EventEmitter.apply(this,arguments),this.options=t,debug("created with options",t)}module.exports=Connector;var EventEmitter=require("events").EventEmitter,debug=require("debug")("connector"),util=require("util"),inherits=util.inherits,assert=require("assert");inherits(Connector,EventEmitter),Connector._createJDBAdapter=function(t){var e={};t.initialize(e,function(){})},Connector.prototype._addCrudOperationsFromJDBAdapter=function(t){};
},{"assert":2,"debug":190,"events":84,"util":594}],178:[function(require,module,exports){
(function (process){
function MailConnector(t){assert("object"==typeof t,"cannot initialize MailConnector without a settings object");var r=t.transports;!r&&t.transport&&(r=[t.transport]),r||(r=[]),this.transportsIndex={},this.transports=[],loopback.isServer&&r.forEach(this.setupTransport.bind(this))}function Mailer(){}var mailer=require("nodemailer"),assert=require("assert"),debug=require("debug")("loopback:connector:mail"),loopback=require("../loopback");module.exports=MailConnector,MailConnector.initialize=function(t,r){t.connector=new MailConnector(t.settings),r()},MailConnector.prototype.DataAccessObject=Mailer,MailConnector.prototype.setupTransport=function(t){var r=this;r.transports=r.transports||[],r.transportsIndex=r.transportsIndex||{};var o,e=(t.type||"STUB").toLowerCase();if("direct"===e)o=mailer.createTransport();else if("smtp"===e)o=mailer.createTransport(t);else{var n="nodemailer-"+e+"-transport",a=require(n);o=mailer.createTransport(a(t))}r.transportsIndex[t.type]=o,r.transports.push(o)},MailConnector.prototype.transportForName=function(t){return this.transportsIndex[t]},MailConnector.prototype.defaultTransport=function(){return this.transports[0]||this.stubTransport},Mailer.send=function(t,r){var o=this.dataSource,e=o&&o.settings,n=o.connector;assert(n,"Cannot send mail without a connector!");var a=n.transportForName(t.transport);a||(a=n.defaultTransport()),(debug.enabled||e&&e.debug)&&(console.log("Sending Mail:"),t.transport&&console.log("	 TRANSPORT:",t.transport),console.log("	 TO:",t.to),console.log("	 FROM:",t.from),console.log("	 SUBJECT:",t.subject),console.log("	 TEXT:",t.text),console.log("	 HTML:",t.html)),a?(assert(a.sendMail,"You must supply an Email.settings.transports containing a valid transport"),a.sendMail(t,r)):(console.warn("Warning: No email transport specified for sending email. Setup a transport to send mail messages."),process.nextTick(function(){r(null,t)}))},Mailer.prototype.send=function(t){this.constructor.send(this,t)},MailConnector.mailer=MailConnector.prototype.mailer=Mailer.mailer=Mailer.prototype.mailer=mailer;
}).call(this,require('_process'))

},{"../loopback":181,"_process":425,"assert":2,"debug":190,"nodemailer":6}],179:[function(require,module,exports){
function Memory(){}module.exports=Memory;var Connector=require("./base-connector"),debug=require("debug")("memory"),util=require("util"),inherits=util.inherits,assert=require("assert"),JdbMemory=require("loopback-datasource-juggler/lib/connectors/memory");inherits(Memory,Connector),Memory.initialize=JdbMemory.initialize;
},{"./base-connector":177,"assert":2,"debug":190,"loopback-datasource-juggler/lib/connectors/memory":111,"util":594}],180:[function(require,module,exports){
(function (__dirname){
function safeRequire(e){try{return require(e)}catch(r){return}}function createMiddlewareNotInstalled(e,r){return function(){var o="The middleware loopback."+e+" is not installed.\nRun `npm install --save "+r+"` to fix the problem.";throw new Error(o)}}var path=require("path"),middlewares=exports,middlewareModules={compress:"compression",timeout:"connect-timeout",cookieParser:"cookie-parser",cookieSession:"cookie-session",csrf:"csurf",errorHandler:"errorhandler",session:"express-session",methodOverride:"method-override",logger:"morgan",responseTime:"response-time",favicon:"serve-favicon",directory:"serve-index",vhost:"vhost"};middlewares.bodyParser=safeRequire("body-parser"),middlewares.json=middlewares.bodyParser&&middlewares.bodyParser.json,middlewares.urlencoded=middlewares.bodyParser&&middlewares.bodyParser.urlencoded;for(var m in middlewareModules){var moduleName=middlewareModules[m];middlewares[m]=safeRequire(moduleName)||createMiddlewareNotInstalled(m,moduleName)}var favicon=middlewares.favicon;middlewares.favicon=function(e,r){return e=e||path.join(__dirname,"../favicon.ico"),favicon(e,r)};
}).call(this,"/..\\..\\loopback\\lib")

},{"path":423}],181:[function(require,module,exports){
(function (__dirname){
function createApplication(e){var r=loopbackExpress();if(merge(r,proto),r.loopback=loopback,r.models=function(){return proto.models.apply(this,arguments)},r.datasources=r.dataSources={},r.connectors={},r.connector("memory",loopback.Memory),r.connector("remote",loopback.Remote),loopback.localRegistry||e&&e.localRegistry===!0){var t=r.registry=new Registry;e&&e.loadBuiltinModels===!0&&require("./builtin-models")(t)}else r.registry=loopback.registry;return r}function mixin(e){for(var r in e){var t=Object.getOwnPropertyDescriptor(e,r);t&&Object.defineProperty(loopback,r,t)}}var express=require("express"),loopbackExpress=require("./server-app"),proto=require("./application"),fs=require("fs"),ejs=require("ejs"),path=require("path"),merge=require("util")._extend,assert=require("assert"),Registry=require("./registry"),juggler=require("loopback-datasource-juggler"),loopback=module.exports=createApplication;if(loopback.version=require("../package.json").version,loopback.mime=express.mime,loopback.registry=new Registry,Object.defineProperties(loopback,{Model:{get:function(){return this.registry.getModel("Model")}},PersistedModel:{get:function(){return this.registry.getModel("PersistedModel")}},defaultDataSources:{get:function(){return this.registry.defaultDataSources}},modelBuilder:{get:function(){return this.registry.modelBuilder}}}),mixin(require("./runtime")),mixin(express),loopback.isServer){var middlewares=require("./express-middleware");mixin(middlewares)}loopback.isServer&&(fs.readdirSync(path.join(__dirname,"..","server","middleware")).filter(function(e){return e.match(/\.js$/)}).forEach(function(e){loopback[e.replace(/\.js$/,"")]=require("../server/middleware/"+e)}),loopback.urlNotFound=loopback["url-not-found"],delete loopback["url-not-found"],loopback.errorHandler=loopback["error-handler"],delete loopback["error-handler"]),loopback.isServer&&(loopback.faviconFile=path.resolve(__dirname,"../favicon.ico")),loopback.remoteMethod=function(e,r){e.shared=!0,"object"==typeof r&&Object.keys(r).forEach(function(t){e[t]=r[t]}),e.http=e.http||{verb:"get"}},loopback.template=function(e){var r=this._templates||(this._templates={}),t=r[e]||(r[e]=fs.readFileSync(e,"utf8"));return ejs.compile(t,{filename:e})},require("../server/current-context")(loopback),loopback.createModel=function(e,r,t){return this.registry.createModel.apply(this.registry,arguments)},loopback.configureModel=function(e,r){return this.registry.configureModel.apply(this.registry,arguments)},loopback.findModel=function(e){return this.registry.findModel.apply(this.registry,arguments)},loopback.getModel=function(e){return this.registry.getModel.apply(this.registry,arguments)},loopback.getModelByType=function(e){return this.registry.getModelByType.apply(this.registry,arguments)},loopback.createDataSource=function(e,r){return this.registry.createDataSource.apply(this.registry,arguments)},loopback.memory=function(e){return this.registry.memory.apply(this.registry,arguments)},loopback.setDefaultDataSourceForType=function(e,r){return this.registry.setDefaultDataSourceForType.apply(this.registry,arguments)},loopback.getDefaultDataSourceForType=function(e){return this.registry.getDefaultDataSourceForType.apply(this.registry,arguments)},loopback.autoAttach=function(){return this.registry.autoAttach.apply(this.registry,arguments)},loopback.autoAttachModel=function(e){return this.registry.autoAttachModel.apply(this.registry,arguments)},Object.defineProperty(loopback,"DataModel",{get:function(){return this.registry.DataModel}}),require("./builtin-models")(loopback),loopback.DataSource=juggler.DataSource;
}).call(this,"/..\\..\\loopback\\lib")

},{"../package.json":387,"../server/current-context":151,"./application":174,"./builtin-models":176,"./express-middleware":180,"./registry":184,"./runtime":185,"./server-app":175,"assert":2,"ejs":193,"express":175,"fs":35,"loopback-datasource-juggler":109,"path":423,"util":594}],182:[function(require,module,exports){
var assert=require("assert"),RemoteObjects=require("strong-remoting"),SharedClass=require("strong-remoting").SharedClass,extend=require("util")._extend;module.exports=function(e){function t(e,t,r){if(null!==t.result)return r();var o=t.getArgByName("fk"),a='Unknown "'+e+'" id "'+o+'".',s=new Error(a);s.statusCode=s.status=404,s.code="MODEL_NOT_FOUND",r(s)}var r=e.modelBuilder.define("Model");r.registry=e,r.setup=function(){var e=this,t=this.super_;!e.registry&&t&&t.registry&&(e.registry=t.registry);var r=this.settings,o=this.modelName,a={};extend(a,r.remoting||{});var s=e.sharedClass=new SharedClass(e.modelName,e,a);RemoteObjects.convert(o,function(t){return t?new e(t):t}),e.sharedCtor=function(e,t,r){var o=this;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,"object"!=typeof e?(t=e,e=null):t=null),t&&e){var a=new o(e);a.id=t,r(null,a)}else e?r(null,new o(e)):t?o.findById(t,function(e,o){e?r(e):o?r(null,o):(e=new Error("could not find a model with id "+t),e.statusCode=404,e.code="MODEL_NOT_FOUND",r(e))}):r(new Error("must specify an id or data"))};var n=e.modelName+" id";return e.sharedCtor.accepts=[{arg:"id",type:"any",required:!0,http:{source:"path"},description:n}],e.sharedCtor.http=[{path:"/:id"}],e.sharedCtor.returns={root:!0},e.beforeRemote=function(e,t){var r=this.modelName;this._runWhenAttachedToApp(function(o){var a=o.remotes();a.before(r+"."+e,function(e,r){t(e,e.result,r)})})},e.afterRemote=function(e,t){var r=this.modelName;this._runWhenAttachedToApp(function(o){var a=o.remotes();a.after(r+"."+e,function(e,r){t(e,e.result,r)})})},e.afterRemoteError=function(e,t){var r=this.modelName;this._runWhenAttachedToApp(function(o){var a=o.remotes();a.afterError(r+"."+e,t)})},e._runWhenAttachedToApp=function(e){if(this.app)return e(this.app);var t=this;t.once("attached",function(){e(t.app)})},s.resolve(function(t){var r=e.relations||{};for(var o in r){var a=r[o];"belongsTo"===a.type?e.belongsToRemoting(o,a,t):"hasOne"===a.type||"embedsOne"===a.type?e.hasOneRemoting(o,a,t):("hasMany"===a.type||"embedsMany"===a.type||"referencesMany"===a.type)&&e.hasManyRemoting(o,a,t)}var s=e.scopes||{};for(var n in s)e.scopeRemoting(n,s[n],t)}),e};var o=null;return r._ACL=function(e){var t=this.registry;if(void 0!==e&&(o=e),o)return o;var r=t.getModel("ACL");return o=t.getModelByType(r)},r.checkAccess=function(t,o,a,s,n){var i=e.getModel("AccessToken").ANONYMOUS;t=t||i;var c=r._ACL();s=s||{},"function"==typeof s&&void 0===n&&(n=s,s={}),c.checkAccessForContext({accessToken:t,model:this,property:a.name,method:a.name,sharedMethod:a,modelId:o,accessType:this._getAccessTypeForMethod(a),remotingContext:s},function(e,t){return e?n(e):void n(null,t.isAllowed())})},r._getAccessTypeForMethod=function(e){"string"==typeof e&&(e={name:e}),assert("object"==typeof e,"method is a required argument and must be a RemoteMethod object");var t=r._ACL();if(e.accessType)return assert(e.accessType===t.READ||e.accessType===t.REPLICATE||e.accessType===t.WRITE||e.accessType===t.EXECUTE,"invalid accessType "+e.accessType+'. It must be "READ", "REPLICATE", "WRITE", or "EXECUTE"'),e.accessType;var o=e.http&&e.http.verb;if("string"==typeof o&&(o=o.toUpperCase()),"GET"===o||"HEAD"===o)return t.READ;switch(e.name){case"create":return t.WRITE;case"updateOrCreate":return t.WRITE;case"upsert":return t.WRITE;case"exists":return t.READ;case"findById":return t.READ;case"find":return t.READ;case"findOne":return t.READ;case"destroyById":return t.WRITE;case"deleteById":return t.WRITE;case"removeById":return t.WRITE;case"count":return t.READ;default:return t.EXECUTE}},r.getApp=function(e){var t=this;t._runWhenAttachedToApp(function(r){assert(t.app),assert.equal(r,t.app),e(null,r)})},r.remoteMethod=function(e,t){void 0===t.isStatic&&(t.isStatic=!0),this.sharedClass.defineMethod(e,t)},r.disableRemoteMethod=function(e,t){this.sharedClass.disableMethod(e,t||!1)},r.belongsToRemoting=function(e,t,r){var o=t.modelTo&&t.modelTo.modelName;o=o||"PersistedModel";var a=this.prototype[e],s=t.options.http&&t.options.http.path||e;r("__get__"+e,{isStatic:!1,http:{verb:"get",path:"/"+s},accepts:{arg:"refresh",type:"boolean",http:{source:"query"}},accessType:"READ",description:"Fetches belongsTo relation "+e+".",returns:{arg:e,type:o,root:!0}},a)},r.hasOneRemoting=function(e,r,o){var a=r.options.http&&r.options.http.path||e,s=r.modelTo.modelName;o("__get__"+e,{isStatic:!1,http:{verb:"get",path:"/"+a},accepts:{arg:"refresh",type:"boolean",http:{source:"query"}},description:"Fetches hasOne relation "+e+".",accessType:"READ",returns:{arg:e,type:r.modelTo.modelName,root:!0},rest:{after:t.bind(null,s)}}),o("__create__"+e,{isStatic:!1,http:{verb:"post",path:"/"+a},accepts:{arg:"data",type:s,http:{source:"body"}},description:"Creates a new instance in "+e+" of this model.",accessType:"WRITE",returns:{arg:"data",type:s,root:!0}}),o("__update__"+e,{isStatic:!1,http:{verb:"put",path:"/"+a},accepts:{arg:"data",type:s,http:{source:"body"}},description:"Update "+e+" of this model.",accessType:"WRITE",returns:{arg:"data",type:s,root:!0}}),o("__destroy__"+e,{isStatic:!1,http:{verb:"delete",path:"/"+a},description:"Deletes "+e+" of this model.",accessType:"WRITE"})},r.hasManyRemoting=function(e,r,o){var a=r.options.http&&r.options.http.path||e,s=r.modelTo.modelName,n=this.prototype["__findById__"+e];o("__findById__"+e,{isStatic:!1,http:{verb:"get",path:"/"+a+"/:fk"},accepts:{arg:"fk",type:"any",description:"Foreign key for "+e,required:!0,http:{source:"path"}},description:"Find a related item by id for "+e+".",accessType:"READ",returns:{arg:"result",type:s,root:!0},rest:{after:t.bind(null,s)}},n);var i=this.prototype["__destroyById__"+e];o("__destroyById__"+e,{isStatic:!1,http:{verb:"delete",path:"/"+a+"/:fk"},accepts:{arg:"fk",type:"any",description:"Foreign key for "+e,required:!0,http:{source:"path"}},description:"Delete a related item by id for "+e+".",accessType:"WRITE",returns:[]},i);var c=this.prototype["__updateById__"+e];if(o("__updateById__"+e,{isStatic:!1,http:{verb:"put",path:"/"+a+"/:fk"},accepts:[{arg:"fk",type:"any",description:"Foreign key for "+e,required:!0,http:{source:"path"}},{arg:"data",type:s,http:{source:"body"}}],description:"Update a related item by id for "+e+".",accessType:"WRITE",returns:{arg:"result",type:s,root:!0}},c),r.modelThrough||"referencesMany"===r.type){var p=r.modelThrough||r.modelTo,d=[];"hasMany"===r.type&&r.modelThrough&&d.push({arg:"data",type:p.modelName,http:{source:"body"}});var h=this.prototype["__link__"+e];o("__link__"+e,{isStatic:!1,http:{verb:"put",path:"/"+a+"/rel/:fk"},accepts:[{arg:"fk",type:"any",description:"Foreign key for "+e,required:!0,http:{source:"path"}}].concat(d),description:"Add a related item by id for "+e+".",accessType:"WRITE",returns:{arg:e,type:p.modelName,root:!0}},h);var u=this.prototype["__unlink__"+e];o("__unlink__"+e,{isStatic:!1,http:{verb:"delete",path:"/"+a+"/rel/:fk"},accepts:{arg:"fk",type:"any",description:"Foreign key for "+e,required:!0,http:{source:"path"}},description:"Remove the "+e+" relation to an item by id.",accessType:"WRITE",returns:[]},u);var l=this.prototype["__exists__"+e];o("__exists__"+e,{isStatic:!1,http:{verb:"head",path:"/"+a+"/rel/:fk"},accepts:{arg:"fk",type:"any",description:"Foreign key for "+e,required:!0,http:{source:"path"}},description:"Check the existence of "+e+" relation to an item by id.",accessType:"READ",returns:{arg:"exists",type:"boolean",root:!0},rest:{after:function(e,t){if(e.result===!1){var r=e.method.sharedClass.name,o=e.getArgByName("id"),a='Unknown "'+r+'" id "'+o+'".',s=new Error(a);s.statusCode=s.status=404,s.code="MODEL_NOT_FOUND",t(s)}else t()}}},l)}},r.scopeRemoting=function(e,t,r){var o=t.options&&t.options.http&&t.options.http.path||e,a=t.isStatic,s=t.modelTo.modelName,n=this.relations[e];n&&n.modelTo&&(s=n.modelTo.modelName),r("__get__"+e,{isStatic:a,http:{verb:"get",path:"/"+o},accepts:{arg:"filter",type:"object"},description:"Queries "+e+" of "+this.modelName+".",accessType:"READ",returns:{arg:e,type:[s],root:!0}}),r("__create__"+e,{isStatic:a,http:{verb:"post",path:"/"+o},accepts:{arg:"data",type:s,http:{source:"body"}},description:"Creates a new instance in "+e+" of this model.",accessType:"WRITE",returns:{arg:"data",type:s,root:!0}}),r("__delete__"+e,{isStatic:a,http:{verb:"delete",path:"/"+o},description:"Deletes all "+e+" of this model.",accessType:"WRITE"}),r("__count__"+e,{isStatic:a,http:{verb:"get",path:"/"+o+"/count"},accepts:{arg:"where",type:"object",description:"Criteria to match model instances"},description:"Counts "+e+" of "+this.modelName+".",accessType:"READ",returns:{arg:"count",type:"number"}})},r.nestRemoting=function(e,t,r){"function"!=typeof t||r||(r=t,t={}),t=t||{};var o=/^__([^_]+)__([^_]+)$/,a=this.relations[e];if(!(a&&a.modelTo&&a.modelTo.sharedClass))throw new Error("Relation `"+e+"` does not exist for model `"+this.modelName+"`");var s,n,i=this,c=this.sharedClass,p=a.modelTo.sharedClass,d=a.modelTo.modelName,h=t.pathName||a.options.path||e,u=t.paramName||"nk";[].concat(p.http||[])[0];a.multiple?(s=h+"/:"+u,n=[{arg:u,type:"any",http:{source:"path"},description:"Foreign key for "+a.name+".",required:!0}]):(s=h,n=[]),"/"!==s[0]&&(s="/"+s);var l=r||t.filterMethod||function(e,t){var r=e.name.match(o);return r?"__"+r[1]+"__"+t.name+"__"+r[2]:void 0};p.methods().forEach(function(r){var o;if(!r.isStatic&&(o=l(r,a))){var i=a.multiple?"__findById__":"__get__",p=t.getterName||i+e,d=a.modelFrom.prototype[p];if("function"!=typeof d)throw new Error("Invalid remote method: `"+p+"`");var h=a.modelTo.prototype[r.name];if("function"!=typeof h)throw new Error("Invalid remote method: `"+r.name+"`");var u={};u.accepts=n.concat(r.accepts||[]),u.returns=[].concat(r.returns||[]),u.description=r.description,u.accessType=r.accessType,u.rest=extend({},r.rest||{}),u.rest.delegateTo=r,u.http=[];var f=[].concat(r.http||[]);f.forEach(function(e){if(e.path){var t=extend({},e);t.path=s+e.path,u.http.push(t)}}),a.multiple?c.defineMethod(o,u,function(e){var t=Array.prototype.slice.call(arguments,1),r=t[t.length-1],o="function"==typeof r?r:null;this[p](e,function(e,r){if(e&&o)return o(e);if(r instanceof a.modelTo)try{h.apply(r,t)}catch(e){if(o)return o(e)}else o&&o(e,null)})},r.isStatic):c.defineMethod(o,u,function(){var e=Array.prototype.slice.call(arguments),t=e[e.length-1],r="function"==typeof t?t:null;this[p](function(t,o){if(t&&r)return r(t);if(o instanceof a.modelTo)try{h.apply(o,e)}catch(t){if(r)return r(t)}else r&&r(t,null)})},r.isStatic)}}),t.hooks!==!1&&i.once("mounted",function(e,t,r){var o=extend({},r.listenerTree||{});o.before=o.before||{},o.after=o.after||{};var s=r.listenerTree.before[d]||{},n=r.listenerTree.after[d]||{};c.methods().forEach(function(e){var t=e.rest&&e.rest.delegateTo;if(t&&t.ctor==a.modelTo){var r=e.isStatic?s:s.prototype,o=e.isStatic?n:n.prototype,c=e.isStatic?e.name:"prototype."+e.name;r&&r[t.name]&&i.beforeRemote(c,function(e,o,a){r[t.name]._listeners.call(null,e,a)}),o&&o[t.name]&&i.afterRemote(c,function(e,r,a){o[t.name]._listeners.call(null,e,a)})}})})},r.ValidationError=require("loopback-datasource-juggler").ValidationError,r.setup(),r};
},{"assert":2,"loopback-datasource-juggler":109,"strong-remoting":226,"util":594}],183:[function(require,module,exports){
(function (process){
var runtime=require("./runtime"),assert=require("assert"),async=require("async"),deprecated=require("depd")("loopback"),debug=require("debug")("loopback:persisted-model"),PassThrough=require("stream").PassThrough,utils=require("./utils");module.exports=function(e){function t(e,t){throw new Error("Cannot call "+e+"."+t+"(). The "+t+" method has not been setup. The PersistedModel has not been correctly attached to a DataSource!")}function n(e,t){if(null!==e.result)return t();var n=e.method.sharedClass.name,r=e.getArgByName("id"),a='Unknown "'+n+'" id "'+r+'".',o=new Error(a);o.statusCode=o.status=404,o.code="MODEL_NOT_FOUND",t(o)}function r(e,t,n,r,a){function o(t){function a(e,n){return e?t(e):(debug("	using source changes"),n.forEach(function(e){debug("		%j",e)}),void t(e,n))}e.changes(n.source,r.filter,debug.enabled?a:t)}function i(e,r){function a(e,t){return e?r(e):(t.conflicts&&t.conflicts.length&&(debug("	diff conflicts"),t.conflicts.forEach(function(e){debug("		%j",e)})),t.deltas&&t.deltas.length&&(debug("	diff deltas"),t.deltas.forEach(function(e){debug("		%j",e)})),void r(e,t))}t.diff(n.target,e,debug.enabled?a:r)}function c(t,n){f=t,f.conflicts=f.conflicts||[],f&&f.deltas&&f.deltas.length?(debug("	building a list of updates"),e.createUpdates(f.deltas,n)):u()}function s(e,n){debug("	starting bulk update"),g=e,t.bulkUpdate(g,function(e){var t=e&&e.details&&e.details.conflicts;return t&&409==e.statusCode?(f.conflicts=t,g=g.filter(function(e){return 0===t.filter(function(t){return t.modelId===e.change.modelId}).length}),n()):void n(e)})}function d(){var n=arguments[arguments.length-1];e.checkpoint(function(r,a){return r?n(r):(m=a.seq,void t.checkpoint(function(r,a){return r?n(r):(y=a.seq,debug("	created checkpoints"),debug("		%s for source model %s",m,e.modelName),debug("		%s for target model %s",y,t.modelName),void n())}))})}function u(n){if(n)return a(n);debug("	replication finished"),debug("		%s conflict(s) detected",f.conflicts.length),debug("		%s change(s) applied",g?g.length:0),debug("		new checkpoints: { source: %j, target: %j }",m,y);var r=f.conflicts.map(function(n){return new h.Conflict(n.modelId,e,t)});if(r.length&&e.emit("conflicts",r),a){var o={source:m,target:y};a(null,r,o,g)}}var h=e.getChangeModel(),l=t.getChangeModel(),p=h&&l;assert(p,"You must enable change tracking before replicating");var f,g,m,y,b=[d,o,i,c,s];async.waterfall(b,u)}function a(e,t,n){var r=e.dataSource.idName(e.modelName),a=t.map(function(e){return e.change.modelId}),o={};o[r]={inq:a},e.find({where:o},function(e,t){if(e)return n(e);var a={};t.forEach(function(e){a[e[r]]=e}),n(null,a)})}function o(e,t,n,r,a,o,i){var c=e.getChangeModel(),s=n?c.revisionForInst(n):null;return s!==a.prev?(debug("Detected non-rectified change of %s %j",e.modelName,t),debug("	Expected revision: %s",a.rev),debug("	Actual revision:   %s",s),o.push(a),c.rectifyModelChanges(e.modelName,[t],i)):void e.updateAll(n.toObject(),r,function(n,r){if(n)return i(n);var c=r&&r.count;switch(c){case 1:return i();case 0:return debug("UpdateAll detected non-rectified change of %s %j",e.modelName,t),o.push(a),i();case void 0:case null:return i(new Error("Cannot apply bulk updates, the connector does not correctly report the number of updated records."));default:return debug("%s.updateAll modified unexpected number of instances: %j",e.modelName,c),i(new Error("Bulk update failed, the connector has modified unexpected number of records: "+JSON.stringify(c)))}})}function i(e,t,n,r,a,o,i){function c(){debug("Detected non-rectified new instance of %s %j",e.modelName,t),o.push(a);var n=e.getChangeModel();return n.rectifyModelChanges(e.modelName,[t],i)}e.create(r,function(n){return n?void e.findById(t,function(e,t){return e||!t?i(n):c()}):i()})}function c(e,t,n,r,a,o){if(!n)return o();var i=e.getChangeModel(),c=i.revisionForInst(n);return c!==r.prev?(debug("Detected non-rectified change of %s %j",e.modelName,t),debug("	Expected revision: %s",r.rev),debug("	Actual revision:   %s",c),a.push(r),i.rectifyModelChanges(e.modelName,[t],o)):void e.deleteAll(n.toObject(),function(n,i){if(n)return o(n);var c=i&&i.count;switch(c){case 1:return o();case 0:return debug("DeleteAll detected non-rectified change of %s %j",e.modelName,t),a.push(r),o();case void 0:case null:return o(new Error("Cannot apply bulk updates, the connector does not correctly report the number of deleted records."));default:return debug("%s.deleteAll modified unexpected number of instances: %j",e.modelName,c),o(new Error("Bulk update failed, the connector has deleted unexpected number of records: "+JSON.stringify(c)))}})}function s(e,t){function n(n){n&&e.Model.handleChangeError(n,"after save"),t()}var r=e.instance||e.currentInstance,a=r?r.getId():u(e.Model,e.where);debug.enabled&&(debug("rectifyOnSave %s -> "+(a?"id %j":"%s"),e.Model.modelName,a?a:"ALL"),debug("context instance:%j currentInstance:%j where:%j data %j",e.instance,e.currentInstance,e.where,e.data)),a?e.Model.rectifyChange(a,n):e.Model.rectifyAllChanges(n)}function d(e,t){function n(n){n&&e.Model.handleChangeError(n,"after delete"),t()}var r=e.instance?e.instance.getId():u(e.Model,e.where);debug.enabled&&(debug("rectifyOnDelete %s -> "+(r?"id %j":"%s"),e.Model.modelName,r?r:"ALL"),debug("context instance:%j where:%j",e.instance,e.where)),r?e.Model.rectifyChange(r,n):e.Model.rectifyAllChanges(n)}function u(e,t){var n=e.getIdName();if(n in t){var r=t[n];return"string"==typeof r||"number"==typeof r?r:void 0}}var h=e.getModel("Model"),l=h.extend("PersistedModel");return l.setup=function(){h.setup.call(this);var e=this;this.settings.trackChanges?(e._defineChangeModel(),e.once("dataSourceAttached",function(){e.enableChangeTracking()})):this.settings.enableRemoteReplication&&e._defineChangeModel(),e.setupRemoting()},l.create=function(e,n){t(this.modelName,"create")},l.upsert=l.updateOrCreate=function(e,n){t(this.modelName,"upsert")},l.findOrCreate=function(e,n,r){t(this.modelName,"findOrCreate")},l.findOrCreate._delegate=!0,l.exists=function(e,n){t(this.modelName,"exists")},l.findById=function(e,n,r){t(this.modelName,"findById")},l.find=function(e,n){t(this.modelName,"find")},l.findOne=function(e,n){t(this.modelName,"findOne")},l.destroyAll=function(e,n){t(this.modelName,"destroyAll")},l.remove=l.destroyAll,l.deleteAll=l.destroyAll,l.updateAll=function(e,n,r){t(this.modelName,"updateAll")},l.update=l.updateAll,l.destroyById=function(e,n){t(this.modelName,"deleteById")},l.removeById=l.destroyById,l.deleteById=l.destroyById,l.count=function(e,n){t(this.modelName,"count")},l.prototype.save=function(e,t){function n(){a.trigger("save",function(e){a.trigger("update",function(n){r.upsert(a,function(r){a._initProperties(o),n.call(a,function(){e.call(a,function(){t(r,a)})})})},o)},o)}var r=this.constructor;"function"==typeof e&&(t=e,e={}),t=t||function(){},e=e||{},"validate"in e||(e.validate=!0),"throws"in e||(e["throws"]=!1);var a=this,o=a.toObject(!0),i=this.getId();return i?e.validate?void a.isValid(function(o){if(o)n();else{var i=new r.ValidationError(a);if(e["throws"])throw i;t(i,a)}}):n():r.create(this,t)},l.prototype.isNewRecord=function(){t(this.constructor.modelName,"isNewRecord")},l.prototype.destroy=function(e){t(this.constructor.modelName,"destroy")},l.prototype.remove=l.prototype.destroy,l.prototype["delete"]=l.prototype.destroy,l.prototype.destroy._delegate=!0,l.prototype.updateAttribute=function(e,n,r){t(this.constructor.modelName,"updateAttribute")},l.prototype.updateAttributes=function(e,n){t(this.modelName,"updateAttributes")},l.prototype.reload=function(e){t(this.constructor.modelName,"reload")},l.prototype.setId=function(e){this.getDataSource();this[this.getIdName()]=e},l.prototype.getId=function(){var e=this.toObject();if(e)return e[this.getIdName()]},l.prototype.getIdName=function(){return this.constructor.getIdName()},l.getIdName=function(){var e=this,t=e.getDataSource();return t.idName?t.idName(e.modelName):"id"},l.setupRemoting=function(){function e(e,n,r){var a=e[n];a._delegate=!0,r.isStatic=e===t,t.remoteMethod(n,r)}var t=this,r=t.modelName,a=t.settings;e(t,"create",{description:"Create a new instance of the model and persist it into the data source.",accessType:"WRITE",accepts:{arg:"data",type:"object",description:"Model instance data",http:{source:"body"}},returns:{arg:"data",type:r,root:!0},http:{verb:"post",path:"/"}}),e(t,"upsert",{aliases:["updateOrCreate"],description:"Update an existing model instance or insert a new one into the data source.",accessType:"WRITE",accepts:{arg:"data",type:"object",description:"Model instance data",http:{source:"body"}},returns:{arg:"data",type:r,root:!0},http:{verb:"put",path:"/"}}),e(t,"exists",{description:"Check whether a model instance exists in the data source.",accessType:"READ",accepts:{arg:"id",type:"any",description:"Model id",required:!0},returns:{arg:"exists",type:"boolean"},http:[{verb:"get",path:"/:id/exists"},{verb:"head",path:"/:id"}],rest:{after:function(e,t){if("GET"===e.req.method)return t();if(e.result.exists)t();else{var n=e.method.sharedClass.name,r=e.getArgByName("id"),a='Unknown "'+n+'" id "'+r+'".',o=new Error(a);o.statusCode=o.status=404,o.code="MODEL_NOT_FOUND",t(o)}}}}),e(t,"findById",{description:"Find a model instance by id from the data source.",accessType:"READ",accepts:[{arg:"id",type:"any",description:"Model id",required:!0,http:{source:"path"}},{arg:"filter",type:"object",description:"Filter defining fields and include"}],returns:{arg:"data",type:r,root:!0},http:{verb:"get",path:"/:id"},rest:{after:n}}),e(t,"find",{description:"Find all instances of the model matched by filter from the data source.",accessType:"READ",accepts:{arg:"filter",type:"object",description:"Filter defining fields, where, include, order, offset, and limit"},returns:{arg:"data",type:[r],root:!0},http:{verb:"get",path:"/"}}),e(t,"findOne",{description:"Find first instance of the model matched by filter from the data source.",accessType:"READ",accepts:{arg:"filter",type:"object",description:"Filter defining fields, where, include, order, offset, and limit"},returns:{arg:"data",type:r,root:!0},http:{verb:"get",path:"/findOne"},rest:{after:n}}),e(t,"destroyAll",{description:"Delete all matching records.",accessType:"WRITE",accepts:{arg:"where",type:"object",description:"filter.where object"},returns:{arg:"count",type:"object",description:"The number of instances deleted",root:!0},http:{verb:"del",path:"/"},shared:!1}),e(t,"updateAll",{aliases:["update"],description:"Update instances of the model matched by where from the data source.",accessType:"WRITE",accepts:[{arg:"where",type:"object",http:{source:"query"},description:"Criteria to match model instances"},{arg:"data",type:"object",http:{source:"body"},description:"An object of model property name/value pairs"}],returns:{arg:"count",description:"The number of instances updated",type:"object",root:!0},http:{verb:"post",path:"/update"}}),e(t,"deleteById",{aliases:["destroyById","removeById"],description:"Delete a model instance by id from the data source.",accessType:"WRITE",accepts:{arg:"id",type:"any",description:"Model id",required:!0,http:{source:"path"}},http:{verb:"del",path:"/:id"},returns:{arg:"count",type:"object",root:!0}}),e(t,"count",{description:"Count instances of the model matched by where from the data source.",accessType:"READ",accepts:{arg:"where",type:"object",description:"Criteria to match model instances"},returns:{arg:"count",type:"number"},http:{verb:"get",path:"/count"}}),e(t.prototype,"updateAttributes",{description:"Update attributes for a model instance and persist it into the data source.",accessType:"WRITE",accepts:{arg:"data",type:"object",http:{source:"body"},description:"An object of model property name/value pairs"},returns:{arg:"data",type:r,root:!0},http:{verb:"put",path:"/"}}),(a.trackChanges||a.enableRemoteReplication)&&(e(t,"diff",{description:"Get a set of deltas and conflicts since the given checkpoint.",accessType:"READ",accepts:[{arg:"since",type:"number",description:"Find deltas since this checkpoint"},{arg:"remoteChanges",type:"array",description:"an array of change objects",http:{source:"body"}}],returns:{arg:"result",type:"object",root:!0},http:{verb:"post",path:"/diff"}}),e(t,"changes",{description:"Get the changes to a model since a given checkpoint.Provide a filter object to reduce the number of results returned.",accessType:"READ",accepts:[{arg:"since",type:"number",description:"Only return changes since this checkpoint"},{arg:"filter",type:"object",description:"Only include changes that match this filter"}],returns:{arg:"changes",type:"array",root:!0},http:{verb:"get",path:"/changes"}}),e(t,"checkpoint",{description:"Create a checkpoint.",accessType:"REPLICATE",returns:{arg:"checkpoint",type:"object",root:!0},http:{verb:"post",path:"/checkpoint"}}),e(t,"currentCheckpoint",{description:"Get the current checkpoint.",accessType:"READ",returns:{arg:"checkpoint",type:"object",root:!0},http:{verb:"get",path:"/checkpoint"}}),e(t,"createUpdates",{description:"Create an update list from a delta list.",accessType:"READ",accepts:{arg:"deltas",type:"array",http:{source:"body"}},returns:{arg:"updates",type:"array",root:!0},http:{verb:"post",path:"/create-updates"}}),e(t,"bulkUpdate",{description:"Run multiple updates at once. Note: this is not atomic.",accessType:"WRITE",accepts:{arg:"updates",type:"array"},http:{verb:"post",path:"/bulk-update"}}),e(t,"findLastChange",{description:"Get the most recent change record for this instance.",accessType:"READ",accepts:{arg:"id",type:"any",required:!0,http:{source:"path"},description:"Model id"},returns:{arg:"result",type:this.Change.modelName,root:!0},http:{verb:"get",path:"/:id/changes/last"}}),e(t,"updateLastChange",{description:["Update the properties of the most recent change record","kept for this instance."],accessType:"WRITE",accepts:[{arg:"id",type:"any",required:!0,http:{source:"path"},description:"Model id"},{arg:"data",type:"object",http:{source:"body"},description:"An object of Change property name/value pairs"}],returns:{arg:"result",type:this.Change.modelName,root:!0},http:{verb:"put",path:"/:id/changes/last"}})),a.trackChanges&&(e(t,"rectifyAllChanges",{description:"Rectify all Model changes.",accessType:"WRITE",http:{verb:"post",path:"/rectify-all"}}),e(t,"rectifyChange",{description:"Tell loopback that a change to the model with the given id has occurred.",accessType:"WRITE",accepts:{arg:"id",type:"any",http:{source:"path"}},http:{verb:"post",path:"/:id/rectify-change"}})),e(t,"createChangeStream",{description:"Create a change stream.",accessType:"READ",http:[{verb:"post",path:"/change-stream"},{verb:"get",path:"/change-stream"}],accepts:{arg:"options",type:"object"},returns:{arg:"changes",type:"ReadableStream",json:!0}})},l.diff=function(e,t,n){var r=this.getChangeModel();r.diff(this.modelName,e,t,n)},l.changes=function(e,t,n){"function"==typeof e&&(t={},n=e,e=-1),"function"==typeof t&&(n=t,e=-1,t={});var r=this.dataSource.idName(this.modelName),a=this.getChangeModel(),o=this;t=t||{},t.fields={},t.where=t.where||{},t.fields[r]=!0,a.find({where:{checkpoint:{gte:e},modelName:this.modelName}},function(e,i){if(e)return n(e);if(!Array.isArray(i)||0===i.length)return n(null,[]);var c=i.map(function(e){return e.getModelId()});t.where[r]={inq:c},o.find(t,function(e,t){if(e)return n(e);var o=t.map(function(e){return e[r].toString()});n(null,i.filter(function(e){return e.type()===a.DELETE?!0:o.indexOf(e.modelId)>-1}))})})},l.checkpoint=function(e){var t=this.getChangeModel().getCheckpointModel();this.getSourceId(function(n,r){return n?e(n):void t.create({sourceId:r},e)})},l.currentCheckpoint=function(e){var t=this.getChangeModel().getCheckpointModel();t.current(e)},l.replicate=function(e,t,n,a){function o(e,i){function d(t,n,r,i){var c=t||n.length||!i||0===i.length||e>=s;return c?a(t,n,r):void o(e+1,r)}debug("	iteration #%s",e),r(c,t,i,n,d)}var i=arguments[arguments.length-1];"function"==typeof i&&arguments.length>1&&(a=i),"function"==typeof e&&e.modelName&&(t=e,e=-1),"object"!=typeof e&&(e={source:e,target:e}),n=n||{};var c=this;a=a||utils.createPromiseCallback(),debug("replicating %s since %s to %s since %s",c.modelName,e.source,t.modelName,e.target),n.filter&&debug("	with filter %j",n.filter);var s=3;return o(1,e),a.promise},l.createUpdates=function(e,t){var n=this.getChangeModel(),r=[],a=this,o=[];e.forEach(function(e){e=new n(e);var t=e.type(),i={type:t,change:e};switch(t){case n.CREATE:case n.UPDATE:o.push(function(t){a.findById(e.modelId,function(n,a){return n?t(n):a?(a.toObject?i.data=a.toObject():i.data=a,r.push(i),void t()):t&&t(new Error("Missing data for change: "+e.modelId))})});break;case n.DELETE:r.push(i)}}),async.parallel(o,function(e){return e?t(e):void t(null,r)})},l.bulkUpdate=function(e,t){var n=[],r=this,s=this.getChangeModel(),d=[];a(r,e,function(a,u){return a?t(a):(e.forEach(function(e){var t=e.change.modelId,a=u[t];switch(e.type){case s.UPDATE:n.push(function(n){o(r,t,a,e.data,e.change,d,n)});break;case s.CREATE:n.push(function(n){i(r,t,a,e.data,e.change,d,n)});break;case s.DELETE:n.push(function(n){c(r,t,a,e.change,d,n)})}}),void async.parallel(n,function(e){return e?t(e):d.length?(e=new Error("Conflict"),e.statusCode=409,e.details={conflicts:d},t(e)):void t()}))})},l.getChangeModel=function(){var e=this.Change,t=e&&e.dataSource;return assert(t,"Cannot get a setup Change model for "+this.modelName),e},l.getSourceId=function(e){var t=this.dataSource;t||this.once("dataSourceAttached",this.getSourceId.bind(this,e)),assert(t.connector.name,"Model.getSourceId: cannot get id without dataSource.connector.name");var n=[t.connector.name,this.modelName].join("-");e(null,n)},l.enableChangeTracking=function(){function e(){t.rectifyAllChanges(function(e){e&&t.handleChangeError(e,"cleanup")})}var t=this,n=(this.Change||this._defineChangeModel(),t.settings.changeCleanupInterval||3e4);assert(this.dataSource,"Cannot enableChangeTracking(): "+this.modelName+" is not attached to a dataSource");var r=this.getIdName(),a=this.definition.properties[r],o=a&&a.type,i=a&&a.defaultFn;(o!==String||"uuid"!==i&&"guid"!==i)&&deprecated("The model "+this.modelName+" is tracking changes, which requries a string id with GUID/UUID default value."),t.observe("after save",s),t.observe("after delete",d),runtime.isServer&&(e(),setInterval(e,n))},l._defineChangeModel=function(){function e(e){e.Change.attachTo(e.dataSource),e.Change.getCheckpointModel().attachTo(e.dataSource)}var t=this.registry.getModel("Change");assert(t,"Change model must be defined before enabling change replication"),this.Change=t.extend(this.modelName+"-change",{},{trackModel:this}),this.dataSource&&e(this);var n=this;return this.on("dataSourceAttached",function(){e(n)}),this.Change},l.rectifyAllChanges=function(e){this.getChangeModel().rectifyAll(e)},l.handleChangeError=function(e,t){e&&this.emit("error",e,t)},l.rectifyChange=function(e,t){var n=this.getChangeModel();n.rectifyModelChanges(this.modelName,[e],t)},l.findLastChange=function(e,t){var n=this.getChangeModel();n.findOne({where:{modelId:e}},t)},l.updateLastChange=function(e,t,n){var r=this;this.findLastChange(e,function(a,o){return a?n(a):o?void o.updateAttributes(t,n):(a=new Error("No change record found for "+r.modelName+" with id "+e),a.statusCode=404,n(a))})},l.createChangeStream=function(e,t){function n(e){return function(t,n){if(!o)return n();var a,c=t.where,s=t.instance||t.data;c&&c[r];s&&(s[r]||0===s[r])?a=s[r]:c&&(c[r]||0===c[r])&&(a=c[r]);var d=0===a||!!a,u={target:a,where:c,data:s};switch(e){case"save":void 0===t.isNewInstance?u.type=d?"update":"create":u.type=t.isNewInstance?"create":"update";break;case"delete":u.type="remove"}i&&o.write(u),n()}}"function"==typeof e&&(t=e,e=void 0);var r=this.getIdName(),a=this,o=new PassThrough({objectMode:!0}),i=!0;o.destroy=function(){o.removeAllListeners("error"),o.removeAllListeners("end"),i=!1,o=null},o.on("error",function(){i=!1}),o.on("end",function(){i=!1}),process.nextTick(function(){t(null,o)}),a.observe("after save",n("save")),a.observe("after delete",n("delete"))},l.setup(),l};
}).call(this,require('_process'))

},{"./runtime":185,"./utils":186,"_process":425,"assert":2,"async":187,"debug":190,"depd":110,"stream":573}],184:[function(require,module,exports){
function Registry(){this.defaultDataSources={},this.modelBuilder=new ModelBuilder,require("./model")(this),require("./persisted-model")(this),this.modelBuilder.defaultModelBaseClass=this.getModel("Model")}function buildModelOptionsFromConfig(e){var t=extend({},e.options);for(var o in e)-1===["name","properties","options"].indexOf(o)&&void 0===t[o]&&(t[o]=e[o]);return t}function addACL(e,t){for(var o=0,r=e.length;r>o;o++)if(e[o].property===t.property&&e[o].accessType===t.accessType&&e[o].principalType===t.principalType&&e[o].principalId===t.principalId)return void(e[o]=t);e.push(t)}var assert=require("assert"),extend=require("util")._extend,juggler=require("loopback-datasource-juggler"),debug=require("debug")("loopback:registry"),DataSource=juggler.DataSource,ModelBuilder=juggler.ModelBuilder;module.exports=Registry,Registry.prototype.createModel=function(e,t,o){if(1===arguments.length&&"object"==typeof e){var r=e;e=r.name,t=r.properties,o=buildModelOptionsFromConfig(r),assert("string"==typeof e,"The model-config property `name` must be a string")}o=o||{};var a=o.base||o["super"];if("string"==typeof a){var s=a;a=this.getModel(a),void 0===a&&("DataModel"===s?(console.warn("Model `%s` is extending deprecated `DataModel. Use `PersistedModel` instead.",e),a=this.getModel("PersistedModel")):console.warn("Model `%s` is extending an unknown model `%s`. Using `PersistedModel` as the base.",e,s))}a=a||this.getModel("PersistedModel");var n=a.extend(e,t,o);n.registry=this,this._defineRemoteMethods(n,o.methods);try{this.autoAttachModel(n)}catch(i){}return n},Registry.prototype.configureModel=function(e,t){var o=e.settings,r=e.modelName;if("object"==typeof t.relations&&null!==t.relations){var a=o.relations=o.relations||{};Object.keys(t.relations).forEach(function(e){a[e]=extend(a[e]||{},t.relations[e])})}else null!=t.relations&&console.warn("The relations property of `%s` configuration must be an object",r);if(Array.isArray(t.acls)){var s=o.acls=o.acls||[];t.acls.forEach(function(e){addACL(s,e)})}else null!=t.acls&&console.warn("The acls property of `%s` configuration must be an array of objects",r);var n={base:!0,"super":!0,relations:!0,acls:!0,dataSource:!0};if("object"==typeof t.options&&null!==t.options)for(var i in t.options)i in n?console.warn("Property `%s` cannot be reconfigured for `%s`",i,r):o[i]=t.options[i];else null!=t.options&&console.warn("The options property of `%s` configuration must be an object",r);t.dataSource?(assert(t.dataSource instanceof DataSource,"Cannot configure "+e.modelName+": config.dataSource must be an instance of DataSource"),e.attachTo(t.dataSource),debug("Attached model `%s` to dataSource `%s`",r,t.dataSource.name)):null===t.dataSource||t.dataSource===!1?debug("Model `%s` is not attached to any DataSource by configuration.",r):(debug("Model `%s` is not attached to any DataSource, possibly by a mistake.",r),console.warn("The configuration of `%s` is missing `dataSource` property.\nUse `null` or `false` to mark models not attached to any data source.",r)),this._defineRemoteMethods(e,t.methods)},Registry.prototype._defineRemoteMethods=function(e,t){return t?"object"!=typeof t?void console.warn('Ignoring non-object "methods" setting of "%s".',e.modelName):void Object.keys(t).forEach(function(o){var r=t[o];"boolean"!=typeof r.isStatic&&(console.warn('Remoting metadata for "%s.%s" is missing "isStatic" flag, the method is registered as an instance method.',e.modelName,o),console.warn("This behaviour may change in the next major version.")),e.remoteMethod(o,r)}):void 0},Registry.prototype.findModel=function(e){return"function"==typeof e?e:this.modelBuilder.models[e]},Registry.prototype.getModel=function(e){var t=this.findModel(e);if(t)return t;throw new Error("Model not found: "+e)},Registry.prototype.getModelByType=function(e){var t=typeof e,o=["function","string"];assert(o.indexOf(t)>-1,"The model type must be a constructor or model name"),"string"===t&&(e=this.getModel(e));var r=this.modelBuilder.models;for(var a in r)if(r[a].prototype instanceof e)return r[a];return e},Registry.prototype.createDataSource=function(e,t){var o=this,r=new DataSource(e,t,o.modelBuilder);return r.createModel=function(e,t,a){a=a||{};var s=a.base||a["super"];if(!s){var n=r.getTypes();s=Array.isArray(n)&&-1!==n.indexOf("db")?o.PersistedModel:o.Model,a.base=s}var i=o.createModel(e,t,a);return i.attachTo(r),i},r.settings&&r.settings.defaultForType&&this.setDefaultDataSourceForType(r.settings.defaultForType,r),r},Registry.prototype.memory=function(e){e=e||"default";var t=(this._memoryDataSources||(this._memoryDataSources={}))[e];return t||(t=this._memoryDataSources[e]=this.createDataSource({connector:"memory"})),t},Registry.prototype.setDefaultDataSourceForType=function(e,t){var o=this.defaultDataSources;return t instanceof DataSource||(t=this.createDataSource(t)),o[e]=t,t},Registry.prototype.getDefaultDataSourceForType=function(e){return this.defaultDataSources&&this.defaultDataSources[e]},Registry.prototype.autoAttach=function(){var e=this.modelBuilder.models;assert.equal(typeof e,"object","Cannot autoAttach without a models object"),Object.keys(e).forEach(function(t){var o=e[t];!o||o.dataSource instanceof DataSource||this.autoAttachModel(o)},this)},Registry.prototype.autoAttachModel=function(e){if(e.autoAttach){var t=this.getDefaultDataSourceForType(e.autoAttach);assert(t instanceof DataSource,'cannot autoAttach model "'+e.modelName+'". No dataSource found of type '+e.autoAttach),e.attachTo(t)}},Object.defineProperty(Registry.prototype,"DataModel",{get:function(){var e=(new Error).stack.split("\n");return console.warn("loopback.DataModel is deprecated, use loopback.PersistedModel instead."),console.warn(e[2]),this.PersistedModel}});
},{"./model":182,"./persisted-model":183,"assert":2,"debug":190,"loopback-datasource-juggler":109,"util":594}],185:[function(require,module,exports){
var runtime=exports;runtime.isBrowser="undefined"!=typeof window,runtime.isServer=!runtime.isBrowser;
},{}],186:[function(require,module,exports){
(function (global){
function createPromiseCallback(){var e;if(!global.Promise)return e=function(){},e.promise={},Object.defineProperty(e.promise,"then",{get:throwPromiseNotDefined}),Object.defineProperty(e.promise,"catch",{get:throwPromiseNotDefined}),e;var r=new global.Promise(function(r,o){e=function(e,t){return e?o(e):r(t)}});return e.promise=r,e}function throwPromiseNotDefined(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')}exports.createPromiseCallback=createPromiseCallback;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],187:[function(require,module,exports){
(function (process){
!function(){function n(n){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,n.apply(t,arguments)}}var t,e,r={};t=this,null!=t&&(e=t.async),r.noConflict=function(){return t.async=e,r};var u=Object.prototype.toString,i=Array.isArray||function(n){return"[object Array]"===u.call(n)},c=function(n,t){for(var e=0;e<n.length;e+=1)t(n[e],e,n)},a=function(n,t){if(n.map)return n.map(t);var e=[];return c(n,function(n,r,u){e.push(t(n,r,u))}),e},o=function(n,t,e){return n.reduce?n.reduce(t,e):(c(n,function(n,r,u){e=t(e,n,r,u)}),e)},l=function(n){if(Object.keys)return Object.keys(n);var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t};"undefined"!=typeof process&&process.nextTick?(r.nextTick=process.nextTick,"undefined"!=typeof setImmediate?r.setImmediate=function(n){setImmediate(n)}:r.setImmediate=r.nextTick):"function"==typeof setImmediate?(r.nextTick=function(n){setImmediate(n)},r.setImmediate=r.nextTick):(r.nextTick=function(n){setTimeout(n,0)},r.setImmediate=r.nextTick),r.each=function(t,e,r){function u(n){n?(r(n),r=function(){}):(i+=1,i>=t.length&&r())}if(r=r||function(){},!t.length)return r();var i=0;c(t,function(t){e(t,n(u))})},r.forEach=r.each,r.eachSeries=function(n,t,e){if(e=e||function(){},!n.length)return e();var r=0,u=function(){t(n[r],function(t){t?(e(t),e=function(){}):(r+=1,r>=n.length?e():u())})};u()},r.forEachSeries=r.eachSeries,r.eachLimit=function(n,t,e,r){var u=f(t);u.apply(null,[n,e,r])},r.forEachLimit=r.eachLimit;var f=function(n){return function(t,e,r){if(r=r||function(){},!t.length||0>=n)return r();var u=0,i=0,c=0;!function a(){if(u>=t.length)return r();for(;n>c&&i<t.length;)i+=1,c+=1,e(t[i-1],function(n){n?(r(n),r=function(){}):(u+=1,c-=1,u>=t.length?r():a())})}()}},s=function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[r.each].concat(t))}},p=function(n,t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[f(n)].concat(e))}},d=function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[r.eachSeries].concat(t))}},y=function(n,t,e,r){if(t=a(t,function(n,t){return{index:t,value:n}}),r){var u=[];n(t,function(n,t){e(n.value,function(e,r){u[n.index]=r,t(e)})},function(n){r(n,u)})}else n(t,function(n,t){e(n.value,function(n){t(n)})})};r.map=s(y),r.mapSeries=d(y),r.mapLimit=function(n,t,e,r){return m(t)(n,e,r)};var m=function(n){return p(n,y)};r.reduce=function(n,t,e,u){r.eachSeries(n,function(n,r){e(t,n,function(n,e){t=e,r(n)})},function(n){u(n,t)})},r.inject=r.reduce,r.foldl=r.reduce,r.reduceRight=function(n,t,e,u){var i=a(n,function(n){return n}).reverse();r.reduce(i,t,e,u)},r.foldr=r.reduceRight;var v=function(n,t,e,r){var u=[];t=a(t,function(n,t){return{index:t,value:n}}),n(t,function(n,t){e(n.value,function(e){e&&u.push(n),t()})},function(n){r(a(u.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})};r.filter=s(v),r.filterSeries=d(v),r.select=r.filter,r.selectSeries=r.filterSeries;var h=function(n,t,e,r){var u=[];t=a(t,function(n,t){return{index:t,value:n}}),n(t,function(n,t){e(n.value,function(e){e||u.push(n),t()})},function(n){r(a(u.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})};r.reject=s(h),r.rejectSeries=d(h);var g=function(n,t,e,r){n(t,function(n,t){e(n,function(e){e?(r(n),r=function(){}):t()})},function(n){r()})};r.detect=s(g),r.detectSeries=d(g),r.some=function(n,t,e){r.each(n,function(n,r){t(n,function(n){n&&(e(!0),e=function(){}),r()})},function(n){e(!1)})},r.any=r.some,r.every=function(n,t,e){r.each(n,function(n,r){t(n,function(n){n||(e(!1),e=function(){}),r()})},function(n){e(!0)})},r.all=r.every,r.sortBy=function(n,t,e){r.map(n,function(n,e){t(n,function(t,r){t?e(t):e(null,{value:n,criteria:r})})},function(n,t){if(n)return e(n);var r=function(n,t){var e=n.criteria,r=t.criteria;return r>e?-1:e>r?1:0};e(null,a(t.sort(r),function(n){return n.value}))})},r.auto=function(n,t){t=t||function(){};var e=l(n),u=e.length;if(!u)return t();var a={},f=[],s=function(n){f.unshift(n)},p=function(n){for(var t=0;t<f.length;t+=1)if(f[t]===n)return void f.splice(t,1)},d=function(){u--,c(f.slice(0),function(n){n()})};s(function(){if(!u){var n=t;t=function(){},n(null,a)}}),c(e,function(e){var u=i(n[e])?n[e]:[n[e]],f=function(n){var u=Array.prototype.slice.call(arguments,1);if(u.length<=1&&(u=u[0]),n){var i={};c(l(a),function(n){i[n]=a[n]}),i[e]=u,t(n,i),t=function(){}}else a[e]=u,r.setImmediate(d)},y=u.slice(0,Math.abs(u.length-1))||[],m=function(){return o(y,function(n,t){return n&&a.hasOwnProperty(t)},!0)&&!a.hasOwnProperty(e)};if(m())u[u.length-1](f,a);else{var v=function(){m()&&(p(v),u[u.length-1](f,a))};s(v)}})},r.retry=function(n,t,e){var u=5,i=[];"function"==typeof n&&(e=t,t=n,n=u),n=parseInt(n,10)||u;var c=function(u,c){for(var a=function(n,t){return function(e){n(function(n,r){e(!n||t,{err:n,result:r})},c)}};n;)i.push(a(t,!(n-=1)));r.series(i,function(n,t){t=t[t.length-1],(u||e)(t.err,t.result)})};return e?c():c},r.waterfall=function(n,t){if(t=t||function(){},!i(n)){var e=new Error("First argument to waterfall must be an array of functions");return t(e)}if(!n.length)return t();var u=function(n){return function(e){if(e)t.apply(null,arguments),t=function(){};else{var i=Array.prototype.slice.call(arguments,1),c=n.next();c?i.push(u(c)):i.push(t),r.setImmediate(function(){n.apply(null,i)})}}};u(r.iterator(n))()};var k=function(n,t,e){if(e=e||function(){},i(t))n.map(t,function(n,t){n&&n(function(n){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),t.call(null,n,e)})},e);else{var r={};n.each(l(t),function(n,e){t[n](function(t){var u=Array.prototype.slice.call(arguments,1);u.length<=1&&(u=u[0]),r[n]=u,e(t)})},function(n){e(n,r)})}};r.parallel=function(n,t){k({map:r.map,each:r.each},n,t)},r.parallelLimit=function(n,t,e){k({map:m(t),each:f(t)},n,e)},r.series=function(n,t){if(t=t||function(){},i(n))r.mapSeries(n,function(n,t){n&&n(function(n){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),t.call(null,n,e)})},t);else{var e={};r.eachSeries(l(n),function(t,r){n[t](function(n){var u=Array.prototype.slice.call(arguments,1);u.length<=1&&(u=u[0]),e[t]=u,r(n)})},function(n){t(n,e)})}},r.iterator=function(n){var t=function(e){var r=function(){return n.length&&n[e].apply(null,arguments),r.next()};return r.next=function(){return e<n.length-1?t(e+1):null},r};return t(0)},r.apply=function(n){var t=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var A=function(n,t,e,r){var u=[];n(t,function(n,t){e(n,function(n,e){u=u.concat(e||[]),t(n)})},function(n){r(n,u)})};r.concat=s(A),r.concatSeries=d(A),r.whilst=function(n,t,e){n()?t(function(u){return u?e(u):void r.whilst(n,t,e)}):e()},r.doWhilst=function(n,t,e){n(function(u){if(u)return e(u);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?r.doWhilst(n,t,e):e()})},r.until=function(n,t,e){n()?e():t(function(u){return u?e(u):void r.until(n,t,e)})},r.doUntil=function(n,t,e){n(function(u){if(u)return e(u);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?e():r.doUntil(n,t,e)})},r.queue=function(t,e){function u(n,t,e,u){return n.started||(n.started=!0),i(t)||(t=[t]),0==t.length?r.setImmediate(function(){n.drain&&n.drain()}):void c(t,function(t){var i={data:t,callback:"function"==typeof u?u:null};e?n.tasks.unshift(i):n.tasks.push(i),n.saturated&&n.tasks.length===n.concurrency&&n.saturated(),r.setImmediate(n.process)})}void 0===e&&(e=1);var a=0,o={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(n,t){u(o,n,!1,t)},kill:function(){o.drain=null,o.tasks=[]},unshift:function(n,t){u(o,n,!0,t)},process:function(){if(!o.paused&&a<o.concurrency&&o.tasks.length){var e=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),a+=1;var r=function(){a-=1,e.callback&&e.callback.apply(e,arguments),o.drain&&o.tasks.length+a===0&&o.drain(),o.process()},u=n(r);t(e.data,u)}},length:function(){return o.tasks.length},running:function(){return a},idle:function(){return o.tasks.length+a===0},pause:function(){o.paused!==!0&&(o.paused=!0)},resume:function(){if(o.paused!==!1){o.paused=!1;for(var n=1;n<=o.concurrency;n++)r.setImmediate(o.process)}}};return o},r.priorityQueue=function(n,t){function e(n,t){return n.priority-t.priority}function u(n,t,e){for(var r=-1,u=n.length-1;u>r;){var i=r+(u-r+1>>>1);e(t,n[i])>=0?r=i:u=i-1}return r}function a(n,t,a,o){return n.started||(n.started=!0),i(t)||(t=[t]),0==t.length?r.setImmediate(function(){n.drain&&n.drain()}):void c(t,function(t){var i={data:t,priority:a,callback:"function"==typeof o?o:null};n.tasks.splice(u(n.tasks,i,e)+1,0,i),n.saturated&&n.tasks.length===n.concurrency&&n.saturated(),r.setImmediate(n.process)})}var o=r.queue(n,t);return o.push=function(n,t,e){a(o,n,t,e)},delete o.unshift,o},r.cargo=function(n,t){var e=!1,u=[],o={tasks:u,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(n,e){i(n)||(n=[n]),c(n,function(n){u.push({data:n,callback:"function"==typeof e?e:null}),o.drained=!1,o.saturated&&u.length===t&&o.saturated()}),r.setImmediate(o.process)},process:function l(){if(!e){if(0===u.length)return o.drain&&!o.drained&&o.drain(),void(o.drained=!0);var r="number"==typeof t?u.splice(0,t):u.splice(0,u.length),i=a(r,function(n){return n.data});o.empty&&o.empty(),e=!0,n(i,function(){e=!1;var n=arguments;c(r,function(t){t.callback&&t.callback.apply(null,n)}),l()})}},length:function(){return u.length},running:function(){return e}};return o};var x=function(n){return function(t){var e=Array.prototype.slice.call(arguments,1);t.apply(null,e.concat([function(t){var e=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[n]&&c(e,function(t){console[n](t)}))}]))}};r.log=x("log"),r.dir=x("dir"),r.memoize=function(n,t){var e={},u={};t=t||function(n){return n};var i=function(){var i=Array.prototype.slice.call(arguments),c=i.pop(),a=t.apply(null,i);a in e?r.nextTick(function(){c.apply(null,e[a])}):a in u?u[a].push(c):(u[a]=[c],n.apply(null,i.concat([function(){e[a]=arguments;var n=u[a];delete u[a];for(var t=0,r=n.length;r>t;t++)n[t].apply(null,arguments)}])))};return i.memo=e,i.unmemoized=n,i},r.unmemoize=function(n){return function(){return(n.unmemoized||n).apply(null,arguments)}},r.times=function(n,t,e){for(var u=[],i=0;n>i;i++)u.push(i);return r.map(u,t,e)},r.timesSeries=function(n,t,e){for(var u=[],i=0;n>i;i++)u.push(i);return r.mapSeries(u,t,e)},r.seq=function(){var n=arguments;return function(){var t=this,e=Array.prototype.slice.call(arguments),u=e.pop();r.reduce(n,e,function(n,e,r){e.apply(t,n.concat([function(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);r(n,t)}]))},function(n,e){u.apply(t,[n].concat(e))})}},r.compose=function(){return r.seq.apply(null,Array.prototype.reverse.call(arguments))};var S=function(n,t){var e=function(){var e=this,r=Array.prototype.slice.call(arguments),u=r.pop();return n(t,function(n,t){n.apply(e,r.concat([t]))},u)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return e.apply(this,r)}return e};r.applyEach=s(S),r.applyEachSeries=d(S),r.forever=function(n,t){function e(r){if(r){if(t)return t(r);throw r}n(e)}e()},"undefined"!=typeof module&&module.exports?module.exports=r:"undefined"!=typeof define&&define.amd?define([],function(){return r}):t.async=r}();
}).call(this,require('_process'))

},{"_process":425}],188:[function(require,module,exports){
(function (process){
!function(t,n){"function"==typeof define&&define.amd?define([],n):"function"==typeof require&&"object"==typeof module&&module&&module.exports?module.exports=n():(t.dcodeIO=t.dcodeIO||{}).bcrypt=n()}(this,function(){"use strict";function t(t){if("undefined"!=typeof module&&module&&module.exports)try{return require("crypto").randomBytes(t)}catch(n){}try{var r;return(self.crypto||self.msCrypto).getRandomValues(r=new Uint32Array(t)),Array.prototype.slice.call(r)}catch(n){}if(!h)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return h(t)}function n(t,n){for(var r=0,e=0,o=0,l=t.length;l>o;++o)t.charCodeAt(o)===n.charCodeAt(o)?++r:++e;return 0>r?!1:0===e}function r(t){var n=[],r=0;return m.encodeUTF16toUTF8(function(){return r>=t.length?null:t.charCodeAt(r++)},function(t){n.push(t)}),n}function e(t,n){var r,e,o=0,l=[];if(0>=n||n>t.length)throw Error("Illegal len: "+n);for(;n>o;){if(r=255&t[o++],l.push(y[r>>2&63]),r=(3&r)<<4,o>=n){l.push(y[63&r]);break}if(e=255&t[o++],r|=e>>4&15,l.push(y[63&r]),r=(15&e)<<2,o>=n){l.push(y[63&r]);break}e=255&t[o++],r|=e>>6&3,l.push(y[63&r]),l.push(y[63&e])}return l.join("")}function o(t,n){var r,e,o,l,u,i,f=0,a=t.length,s=0,c=[];if(0>=n)throw Error("Illegal len: "+n);for(;a-1>f&&n>s&&(i=t.charCodeAt(f++),r=i<v.length?v[i]:-1,i=t.charCodeAt(f++),e=i<v.length?v[i]:-1,-1!=r&&-1!=e)&&(u=r<<2>>>0,u|=(48&e)>>4,c.push(b(u)),!(++s>=n||f>=a))&&(i=t.charCodeAt(f++),o=i<v.length?v[i]:-1,-1!=o)&&(u=(15&e)<<4>>>0,u|=(60&o)>>2,c.push(b(u)),!(++s>=n||f>=a));)i=t.charCodeAt(f++),l=i<v.length?v[i]:-1,u=(3&o)<<6>>>0,u|=l,c.push(b(u)),++s;var h=[];for(f=0;s>f;f++)h.push(c[f].charCodeAt(0));return h}function l(t,n,r,e){var o,l=t[n],u=t[n+1];l^=r[0];for(var i=0,f=w-2;f>=i;)o=e[l>>24&255],o+=e[256|l>>16&255],o^=e[512|l>>8&255],o+=e[768|255&l],u^=o^r[++i],o=e[u>>24&255],o+=e[256|u>>16&255],o^=e[512|u>>8&255],o+=e[768|255&u],l^=o^r[++i];return t[n]=u^r[w+1],t[n+1]=l,t}function u(t,n){for(var r=0,e=0;4>r;++r)e=e<<8|255&t[n],n=(n+1)%t.length;return{key:e,offp:n}}function i(t,n,r){for(var e,o=0,i=[0,0],f=n.length,a=r.length,s=0;f>s;s++)e=u(t,o),o=e.offp,n[s]=n[s]^e.key;for(s=0;f>s;s+=2)i=l(i,0,n,r),n[s]=i[0],n[s+1]=i[1];for(s=0;a>s;s+=2)i=l(i,0,n,r),r[s]=i[0],r[s+1]=i[1]}function f(t,n,r,e){for(var o,i=0,f=[0,0],a=r.length,s=e.length,c=0;a>c;c++)o=u(n,i),i=o.offp,r[c]=r[c]^o.key;for(i=0,c=0;a>c;c+=2)o=u(t,i),i=o.offp,f[0]^=o.key,o=u(t,i),i=o.offp,f[1]^=o.key,f=l(f,0,r,e),r[c]=f[0],r[c+1]=f[1];for(c=0;s>c;c+=2)o=u(t,i),i=o.offp,f[0]^=o.key,o=u(t,i),i=o.offp,f[1]^=o.key,f=l(f,0,r,e),e[c]=f[0],e[c+1]=f[1]}function a(t,n,r,e,o){function u(){if(o&&o(y/r),!(r>y)){for(y=0;64>y;y++)for(h=0;c>>1>h;h++)l(s,h<<1,p,d);var f=[];for(y=0;c>y;y++)f.push((s[y]>>24&255)>>>0),f.push((s[y]>>16&255)>>>0),f.push((s[y]>>8&255)>>>0),f.push((255&s[y])>>>0);return e?void e(null,f):f}for(var a=Date.now();r>y&&(y+=1,i(t,p,d),i(n,p,d),!(Date.now()-a>E)););e&&g(u)}var a,s=A.slice(),c=s.length;if(4>r||r>31){if(a=Error("Illegal number of rounds (4-31): "+r),e)return void g(e.bind(this,a));throw a}if(n.length!==I){if(a=Error("Illegal salt length: "+n.length+" != "+I),e)return void g(e.bind(this,a));throw a}r=1<<r>>>0;var h,p=F.slice(),d=U.slice(),y=0;if(f(n,t,p,d),"undefined"!=typeof e)u();else for(var v;;)if("undefined"!=typeof(v=u()))return v||[]}function s(t,n,l,u){function i(t){var n=[];return n.push("$2"),s>="a"&&n.push(s),n.push("$"),10>d&&n.push("0"),n.push(d.toString()),n.push("$"),n.push(e(b,b.length)),n.push(e(t,4*A.length-1)),n.join("")}var f;if("string"!=typeof t||"string"!=typeof n){if(f=Error("Invalid string / salt: Not a string"),l)return void g(l.bind(this,f));throw f}var s,c;if("$"!==n.charAt(0)||"2"!==n.charAt(1)){if(f=Error("Invalid salt version: "+n.substring(0,2)),l)return void g(l.bind(this,f));throw f}if("$"===n.charAt(2))s=String.fromCharCode(0),c=3;else{if(s=n.charAt(2),"a"!==s&&"b"!==s&&"y"!==s||"$"!==n.charAt(3)){if(f=Error("Invalid salt revision: "+n.substring(2,4)),l)return void g(l.bind(this,f));throw f}c=4}if(n.charAt(c+2)>"$"){if(f=Error("Missing salt rounds"),l)return void g(l.bind(this,f));throw f}var h=10*parseInt(n.substring(c,c+1),10),p=parseInt(n.substring(c+1,c+2),10),d=h+p,y=n.substring(c+3,c+25);t+=s>="a"?"\x00":"";var v=r(t),b=o(y,I);return"undefined"==typeof l?i(a(v,b,d)):void a(v,b,d,function(t,n){t?l(t,null):l(null,i(n))},u)}var c={},h=null,p=!1;try{t(1),p=!0}catch(d){}h=null,c.setRandomFallback=function(t){h=t},c.genSaltSync=function(n,r){if(n=n||T,"number"!=typeof n)throw Error("Illegal arguments: "+typeof n+", "+typeof r);4>n?n=4:n>31&&(n=31);var o=[];return o.push("$2a$"),10>n&&o.push("0"),o.push(n.toString()),o.push("$"),o.push(e(t(I),I)),o.join("")},c.genSalt=function(t,n,r){if("function"==typeof n&&(r=n,n=void 0),"function"==typeof t&&(r=t,t=T),"function"!=typeof r)throw Error("Illegal callback: "+typeof r);return"number"!=typeof t?void g(r.bind(this,Error("Illegal arguments: "+typeof t))):void g(function(){try{r(null,c.genSaltSync(t))}catch(n){r(n)}})},c.hashSync=function(t,n){if("undefined"==typeof n&&(n=T),"number"==typeof n&&(n=c.genSaltSync(n)),"string"!=typeof t||"string"!=typeof n)throw Error("Illegal arguments: "+typeof t+", "+typeof n);return s(t,n)},c.hash=function(t,n,r,e){if("function"!=typeof r)throw Error("Illegal callback: "+typeof r);"string"==typeof t&&"number"==typeof n?c.genSalt(n,function(n,o){s(t,o,r,e)}):"string"==typeof t&&"string"==typeof n?s(t,n,r,e):g(r.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof n)))},c.compareSync=function(t,r){if("string"!=typeof t||"string"!=typeof r)throw Error("Illegal arguments: "+typeof t+", "+typeof r);return 60!==r.length?!1:n(c.hashSync(t,r.substr(0,r.length-31)),r)},c.compare=function(t,r,e,o){if("function"!=typeof e)throw Error("Illegal callback: "+typeof e);return"string"!=typeof t||"string"!=typeof r?void g(e.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof r))):60!==r.length?void g(e.bind(this,null,!1)):void c.hash(t,r.substr(0,29),function(t,o){t?e(t):e(null,n(o,r))},o)},c.getRounds=function(t){if("string"!=typeof t)throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)},c.getSalt=function(t){if("string"!=typeof t)throw Error("Illegal arguments: "+typeof t);if(60!==t.length)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)};var g="undefined"!=typeof process&&process&&"function"==typeof process.nextTick?"function"==typeof setImmediate?setImmediate:process.nextTick:setTimeout,y="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),v=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],b=String.fromCharCode,m=function(){var t={};return t.MAX_CODEPOINT=1114111,t.encodeUTF8=function(t,n){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)128>r?n(127&r):2048>r?(n(r>>6&31|192),n(63&r|128)):65536>r?(n(r>>12&15|224),n(r>>6&63|128),n(63&r|128)):(n(r>>18&7|240),n(r>>12&63|128),n(r>>6&63|128),n(63&r|128)),r=null},t.decodeUTF8=function(t,n){for(var r,e,o,l,u=function(t){t=t.slice(0,t.indexOf(null));var n=Error(t.toString());throw n.name="TruncatedError",n.bytes=t,n};null!==(r=t());)if(0===(128&r))n(r);else if(192===(224&r))null===(e=t())&&u([r,e]),n((31&r)<<6|63&e);else if(224===(240&r))(null===(e=t())||null===(o=t()))&&u([r,e,o]),n((15&r)<<12|(63&e)<<6|63&o);else{if(240!==(248&r))throw RangeError("Illegal starting byte: "+r);(null===(e=t())||null===(o=t())||null===(l=t()))&&u([r,e,o,l]),n((7&r)<<18|(63&e)<<12|(63&o)<<6|63&l)}},t.UTF16toUTF8=function(t,n){for(var r,e=null;;){if(null===(r=null!==e?e:t()))break;r>=55296&&57343>=r&&null!==(e=t())&&e>=56320&&57343>=e?(n(1024*(r-55296)+e-56320+65536),e=null):n(r)}null!==e&&n(e)},t.UTF8toUTF16=function(t,n){var r=null;for("number"==typeof t&&(r=t,t=function(){return null});null!==r||null!==(r=t());)65535>=r?n(r):(r-=65536,n((r>>10)+55296),n(r%1024+56320)),r=null},t.encodeUTF16toUTF8=function(n,r){t.UTF16toUTF8(n,function(n){t.encodeUTF8(n,r)})},t.decodeUTF8toUTF16=function(n,r){t.decodeUTF8(n,function(n){t.UTF8toUTF16(n,r)})},t.calculateCodePoint=function(t){return 128>t?1:2048>t?2:65536>t?3:4},t.calculateUTF8=function(n){for(var r,e=0;null!==(r=n());)e+=t.calculateCodePoint(r);return e},t.calculateUTF16asUTF8=function(n){var r=0,e=0;return t.UTF16toUTF8(n,function(n){++r,e+=t.calculateCodePoint(n)}),[r,e]},t}();Date.now=Date.now||function(){return+new Date};var I=16,T=10,w=16,E=100,F=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],U=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],A=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];return c.encodeBase64=e,c.decodeBase64=o,c});
}).call(this,require('_process'))

},{"_process":425,"crypto":52}],189:[function(require,module,exports){
function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,f,u,o,p=gap,a=t[e];switch(a&&"object"==typeof a&&"function"==typeof a.toJSON&&(a=a.toJSON(e)),"function"==typeof rep&&(a=rep.call(t,e,a)),typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(a)){for(u=a.length,n=0;u>n;n+=1)o[n]=str(n,a)||"null";return f=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+p+"]":"["+o.join(",")+"]",gap=p,f}if(rep&&"object"==typeof rep)for(u=rep.length,n=0;u>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],f=str(r,a),f&&o.push(quote(r)+(gap?": ":":")+f));else{var i=Object.keys(a).sort();for(n in i)r=i[n],Object.prototype.hasOwnProperty.call(a,r)&&(f=str(r,a),f&&o.push(quote(r)+(gap?": ":":")+f))}return f=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+p+"}":"{"+o.join(",")+"}",gap=p,f}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep,stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})};module.exports=stringify;
},{}],190:[function(require,module,exports){
arguments[4][53][0].apply(exports,arguments)
},{"./debug":191,"dup":53}],191:[function(require,module,exports){
arguments[4][54][0].apply(exports,arguments)
},{"dup":54,"ms":192}],192:[function(require,module,exports){
arguments[4][107][0].apply(exports,arguments)
},{"dup":107}],193:[function(require,module,exports){
"use strict";function handleCache(e,t){var n,r=e.filename,i=arguments.length>1;if(e.cache){if(!r)throw new Error("cache option requires a filename");if(n=exports.cache.get(r))return n;i||(t=fs.readFileSync(r).toString().replace(_BOM,""))}else if(!i){if(!r)throw new Error("Internal EJS error: no file name or template provided");t=fs.readFileSync(r).toString().replace(_BOM,"")}return n=exports.compile(t,e),e.cache&&exports.cache.set(r,n),n}function includeFile(e,t){var n=utils.shallowCopy({},t);if(!n.filename)throw new Error("`include` requires the 'filename' option.");return n.filename=exports.resolveInclude(e,n.filename),handleCache(n)}function includeSource(e,t){var n,r,i=utils.shallowCopy({},t);if(!i.filename)throw new Error("`include` requires the 'filename' option.");n=exports.resolveInclude(e,i.filename),r=fs.readFileSync(n).toString().replace(_BOM,""),i.filename=n;var s=new Template(r,i);return s.generateSource(),s.source}function rethrow(e,t,n,r){var i=t.split("\n"),s=Math.max(r-3,0),a=Math.min(i.length,r+3),o=i.slice(s,a).map(function(e,t){var n=t+s+1;return(n==r?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=n,e.message=(n||"ejs")+":"+r+"\n"+o+"\n\n"+e.message,e}function cpOptsInData(e,t){_OPTS.forEach(function(n){"undefined"!=typeof e[n]&&(t[n]=e[n])})}function Template(e,t){t=t||{};var n={};this.templateText=e,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",this.dependencies=[],n.client=t.client||!1,n.escapeFunction=t.escape||utils.escapeXML,n.compileDebug=t.compileDebug!==!1,n.debug=!!t.debug,n.filename=t.filename,n.delimiter=t.delimiter||exports.delimiter||_DEFAULT_DELIMITER,n._with="undefined"!=typeof t._with?t._with:!0,n.context=t.context,n.cache=t.cache||!1,n.rmWhitespace=t.rmWhitespace,this.opts=n,this.regex=this.createRegex()}var fs=require("fs"),utils=require("./utils"),scopeOptionWarned=!1,_VERSION_STRING=require("../package.json").version,_DEFAULT_DELIMITER="%",_DEFAULT_LOCALS_NAME="locals",_REGEX_STRING="(<%%|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",_OPTS=["cache","filename","delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace"],_TRAILING_SEMCOL=/;\s*$/,_BOM=/^\uFEFF/;exports.cache=utils.cache,exports.localsName=_DEFAULT_LOCALS_NAME,exports.resolveInclude=function(e,t){var n=require("path"),r=n.dirname,i=n.extname,s=n.resolve,a=s(r(t),e),o=i(e);return o||(a+=".ejs"),a},exports.compile=function(e,t){var n;return t&&t.scope&&(scopeOptionWarned||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),scopeOptionWarned=!0),t.context||(t.context=t.scope),delete t.scope),n=new Template(e,t),n.compile()},exports.render=function(e,t,n){t=t||{},n=n||{};return 2==arguments.length&&cpOptsInData(t,n),handleCache(n,e)(t)},exports.renderFile=function(){var e,t=Array.prototype.slice.call(arguments),n=t.shift(),r=t.pop(),i=t.shift()||{},s=t.pop()||{};s=utils.shallowCopy({},s),3==arguments.length&&cpOptsInData(i,s),s.filename=n;try{e=handleCache(s)(i)}catch(a){return r(a)}return r(null,e)},exports.clearCache=function(){exports.cache.reset()},Template.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},Template.prototype={createRegex:function(){var e=_REGEX_STRING,t=utils.escapeRegExpChars(this.opts.delimiter);return e=e.replace(/%/g,t),new RegExp(e)},compile:function(){var e,t,n=this.opts,r="",i="",s=n.escapeFunction;n.rmWhitespace&&(this.templateText=this.templateText.replace(/\r/g,"").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>"),this.source||(this.generateSource(),r+="  var __output = [], __append = __output.push.bind(__output);\n",n._with!==!1&&(r+="  with ("+exports.localsName+" || {}) {\n",i+="  }\n"),i+='  return __output.join("");\n',this.source=r+this.source+i),e=n.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+(n.filename?JSON.stringify(n.filename):"undefined")+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line);\n}\n":this.source,n.debug&&console.log(e),n.client&&(e="escape = escape || "+s.toString()+";\n"+e,n.compileDebug&&(e="rethrow = rethrow || "+rethrow.toString()+";\n"+e));try{t=new Function(exports.localsName+", escape, include, rethrow",e)}catch(a){throw a instanceof SyntaxError&&(n.filename&&(a.message+=" in "+n.filename),a.message+=" while compiling ejs"),a}if(n.client)return t.dependencies=this.dependencies,t;var o=function(e){var r=function(t,r){var i=utils.shallowCopy({},e);return r&&(i=utils.shallowCopy(i,r)),includeFile(t,n)(i)};return t.apply(n.context,[e||{},s,r,rethrow])};return o.dependencies=this.dependencies,o},generateSource:function(){var e=this,t=this.parseTemplateText(),n=this.opts.delimiter;t&&t.length&&t.forEach(function(r,i){var s,a,o,c,l;if(0===r.indexOf("<"+n)&&0!==r.indexOf("<"+n+n)&&(a=t[i+2],a!=n+">"&&a!="-"+n+">"&&a!="_"+n+">"))throw new Error('Could not find matching close tag for "'+r+'".');return(o=r.match(/^\s*include\s+(\S+)/))&&(s=t[i-1],s&&(s=="<"+n||s=="<"+n+"-"||s=="<"+n+"_"))?(c=utils.shallowCopy({},e.opts),l=includeSource(o[1],c),l="    ; (function(){\n"+l+"    ; })()\n",e.source+=l,void e.dependencies.push(exports.resolveInclude(o[1],c.filename))):void e.scanLine(r)})},parseTemplateText:function(){for(var e,t,n=this.templateText,r=this.regex,i=r.exec(n),s=[];i;)e=i.index,t=r.lastIndex,0!==e&&(s.push(n.substring(0,e)),n=n.slice(e)),s.push(i[0]),n=n.slice(i[0].length),i=r.exec(n);return n&&s.push(n),s},scanLine:function(e){function t(){n.truncate?(e=e.replace("\n",""),n.truncate=!1):n.opts.rmWhitespace&&(e=e.replace(/^\n/,"")),e&&(e=e.replace(/\\/g,"\\\\"),e=e.replace(/\n/g,"\\n"),e=e.replace(/\r/g,"\\r"),e=e.replace(/"/g,'\\"'),n.source+='    ; __append("'+e+'")\n')}var n=this,r=this.opts.delimiter,i=0;switch(i=e.split("\n").length-1,e){case"<"+r:case"<"+r+"_":this.mode=Template.modes.EVAL;break;case"<"+r+"=":this.mode=Template.modes.ESCAPED;break;case"<"+r+"-":this.mode=Template.modes.RAW;break;case"<"+r+"#":this.mode=Template.modes.COMMENT;break;case"<"+r+r:this.mode=Template.modes.LITERAL,this.source+='    ; __append("'+e.replace("<"+r+r,"<"+r)+'")\n';break;case r+">":case"-"+r+">":case"_"+r+">":this.mode==Template.modes.LITERAL&&t(),this.mode=null,this.truncate=0===e.indexOf("-")||0===e.indexOf("_");break;default:if(this.mode){switch(this.mode){case Template.modes.EVAL:case Template.modes.ESCAPED:case Template.modes.RAW:e.lastIndexOf("//")>e.lastIndexOf("\n")&&(e+="\n")}switch(this.mode){case Template.modes.EVAL:this.source+="    ; "+e+"\n";break;case Template.modes.ESCAPED:this.source+="    ; __append(escape("+e.replace(_TRAILING_SEMCOL,"").trim()+"))\n";break;case Template.modes.RAW:this.source+="    ; __append("+e.replace(_TRAILING_SEMCOL,"").trim()+")\n";break;case Template.modes.COMMENT:break;case Template.modes.LITERAL:t()}}else t()}n.opts.compileDebug&&i&&(this.currentLine+=i,this.source+="    ; __line = "+this.currentLine+"\n")}},exports.__express=exports.renderFile,require.extensions&&(require.extensions[".ejs"]=function(e,t){t=t||e.filename;var n={filename:t,client:!0},r=fs.readFileSync(t).toString(),i=exports.compile(r,n);e._compile("module.exports = "+i.toString()+";",t)}),exports.VERSION=_VERSION_STRING,"undefined"!=typeof window&&(window.ejs=exports);
},{"../package.json":195,"./utils":194,"fs":35,"path":423}],194:[function(require,module,exports){
"use strict";function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var regExpChars=/[|\\{}()[\]^$+*?.]/g;exports.escapeRegExpChars=function(n){return n?String(n).replace(regExpChars,"\\$&"):""};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>\'"]/g,escapeFuncStr='var _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n';exports.escapeXML=function(n){return void 0==n?"":String(n).replace(_MATCH_HTML,encode_char)},exports.escapeXML.toString=function(){return Function.prototype.toString.call(this)+";\n"+escapeFuncStr},exports.shallowCopy=function(n,t){t=t||{};for(var r in t)n[r]=t[r];return n},exports.cache={_data:{},set:function(n,t){this._data[n]=t},get:function(n){return this._data[n]},reset:function(){this._data={}}};
},{}],195:[function(require,module,exports){
module.exports={"name":"ejs","description":"Embedded JavaScript templates","keywords":["template","engine","ejs"],"version":"2.3.4","author":{"name":"Matthew Eernisse","email":"mde@fleegix.org","url":"http://fleegix.org"},"contributors":[{"name":"Timothy Gu","email":"timothygu99@gmail.com","url":"https://timothygu.github.io"}],"license":"Apache-2.0","main":"./lib/ejs.js","repository":{"type":"git","url":"git://github.com/mde/ejs.git"},"bugs":{"url":"https://github.com/mde/ejs/issues"},"homepage":"https://github.com/mde/ejs","dependencies":{},"devDependencies":{"browserify":"^8.0.3","istanbul":"~0.3.5","jake":"^8.0.0","jsdoc":"^3.3.0-beta1","lru-cache":"^2.5.0","mocha":"^2.1.0","rimraf":"^2.2.8","uglify-js":"^2.4.16"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha","coverage":"istanbul cover node_modules/mocha/bin/_mocha","doc":"rimraf out && jsdoc -c jsdoc.json lib/* docs/jsdoc/*","devdoc":"rimraf out && jsdoc -p -c jsdoc.json lib/* docs/jsdoc/*"},"readme":"# EJS\n\nEmbedded JavaScript templates\n\n[![Build Status](https://img.shields.io/travis/mde/ejs/master.svg?style=flat)](https://travis-ci.org/mde/ejs)\n[![Developing Dependencies](https://img.shields.io/david/dev/mde/ejs.svg?style=flat)](https://david-dm.org/mde/ejs#info=devDependencies)\n\n## Installation\n\n```bash\n$ npm install ejs\n```\n\n## Features\n\n  * Control flow with `<% %>`\n  * Escaped output with `<%= %>`\n  * Unescaped raw output with `<%- %>`\n  * Trim-mode ('newline slurping') with `-%>` ending tag\n  * Custom delimiters (e.g., use '<? ?>' instead of '<% %>')\n  * Includes\n  * Client-side support\n  * Static caching of intermediate JavaScript\n  * Static caching of templates\n  * Complies with the [Express](http://expressjs.com) view system\n\n## Example\n\n```html\n<% if (user) { %>\n  <h2><%= user.name %></h2>\n<% } %>\n```\n\n## Usage\n\n```javascript\nvar template = ejs.compile(str, options);\ntemplate(data);\n// => Rendered HTML string\n\nejs.render(str, data, options);\n// => Rendered HTML string\n```\n\nYou can also use the shortcut `ejs.render(dataAndOptions);` where you pass\neverything in a single object. In that case, you'll end up with local variables\nfor all the passed options.\n\n## Options\n\n  - `cache`           Compiled functions are cached, requires `filename`\n  - `filename`        Used by `cache` to key caches, and for includes\n  - `context`         Function execution context\n  - `compileDebug`    When `false` no debug instrumentation is compiled\n  - `client`          Returns standalone compiled function\n  - `delimiter`       Character to use with angle brackets for open/close\n  - `debug`           Output generated function body\n  - `_with`           Whether or not to use `with() {}` constructs. If `false` then the locals will be stored in the `locals` object.\n  - `rmWhitespace`    Remove all safe-to-remove whitespace, including leading\n    and trailing whitespace. It also enables a safer version of `-%>` line\n    slurping for all scriptlet tags (it does not strip new lines of tags in\n    the middle of a line).\n\n## Tags\n\n  - `<%`              'Scriptlet' tag, for control-flow, no output\n  - `<%=`             Outputs the value into the template (HTML escaped)\n  - `<%-`             Outputs the unescaped value into the template\n  - `<%#`             Comment tag, no execution, no output\n  - `<%%`             Outputs a literal '<%'\n  - `%>`              Plain ending tag\n  - `-%>`             Trim-mode ('newline slurp') tag, trims following newline\n\n## Includes\n\nIncludes either have to be an absolute path, or, if not, are assumed as\nrelative to the template with the `include` call. (This requires the\n`filename` option.) For example if you are including `./views/user/show.ejs`\nfrom `./views/users.ejs` you would use `<%- include('user/show') %>`.\n\nYou'll likely want to use the raw output tag (`<%-`) with your include to avoid\ndouble-escaping the HTML output.\n\n```html\n<ul>\n  <% users.forEach(function(user){ %>\n    <%- include('user/show', {user: user}) %>\n  <% }); %>\n</ul>\n```\n\nIncludes are inserted at runtime, so you can use variables for the path in the\n`include` call (for example `<%- include(somePath) %>`). Variables in your\ntop-level data object are available to all your includes, but local variables\nneed to be passed down.\n\nNOTE: Include preprocessor directives (`<% include user/show %>`) are\nstill supported.\n\n## Custom delimiters\n\nCustom delimiters can be applied on a per-template basis, or globally:\n\n```javascript\nvar ejs = require('ejs'),\n    users = ['geddy', 'neil', 'alex'];\n\n// Just one template\nejs.render('<?= users.join(\" | \"); ?>', {users: users}, {delimiter: '?'});\n// => 'geddy | neil | alex'\n\n// Or globally\nejs.delimiter = '$';\nejs.render('<$= users.join(\" | \"); $>', {users: users});\n// => 'geddy | neil | alex'\n```\n\n## Caching\n\nEJS ships with a basic in-process cache for caching the intermediate JavaScript\nfunctions used to render templates. It's easy to plug in LRU caching using\nNode's `lru-cache` library:\n\n```javascript\nvar ejs = require('ejs')\n  , LRU = require('lru-cache');\nejs.cache = LRU(100); // LRU cache with 100-item limit\n```\n\nIf you want to clear the EJS cache, call `ejs.clearCache`. If you're using the\nLRU cache and need a different limit, simple reset `ejs.cache` to a new instance\nof the LRU.\n\n## Layouts\n\nEJS does not specifically support blocks, but layouts can be implemented by\nincluding headers and footers, like so:\n\n\n```html\n<%- include('header') -%>\n<h1>\n  Title\n</h1>\n<p>\n  My page\n</p>\n<%- include('footer') -%>\n```\n\n## Client-side support\n\nGo to the [Latest Release](https://github.com/mde/ejs/releases/latest), download\n`./ejs.js` or `./ejs.min.js`.\n\nInclude one of these on your page, and `ejs.render(str)`.\n\n## Related projects\n\nThere are a number of implementations of EJS:\n\n * TJ's implementation, the v1 of this library: https://github.com/tj/ejs\n * Jupiter Consulting's EJS: http://www.embeddedjs.com/\n * EJS Embedded JavaScript Framework on Google Code: https://code.google.com/p/embeddedjavascript/\n * Sam Stephenson's Ruby implementation: https://rubygems.org/gems/ejs\n * Erubis, an ERB implementation which also runs JavaScript: http://www.kuwata-lab.com/erubis/users-guide.04.html#lang-javascript\n\n## License\n\nLicensed under the Apache License, Version 2.0\n(<http://www.apache.org/licenses/LICENSE-2.0>)\n\n- - -\nEJS Embedded JavaScript templates copyright 2112\nmde@fleegix.org.\n\n\n","readmeFilename":"README.md","_id":"ejs@2.3.4","_shasum":"3c76caa09664b3583b0037af9dc136e79ec68b98","_from":"ejs@^2.3.1","_resolved":"https://registry.npmjs.org/ejs/-/ejs-2.3.4.tgz"}
},{}],196:[function(require,module,exports){
arguments[4][137][0].apply(exports,arguments)
},{"dup":137}],197:[function(require,module,exports){
module.exports=require("./lib/remote-connector");
},{"./lib/remote-connector":199}],198:[function(require,module,exports){
function RelationMixin(){}function defineRelationProperty(e,n){Object.defineProperty(e.prototype,n.name,{get:function(){var e=this,i=function(){return e["__get__"+n.name].apply(e,arguments)};return i.count=function(){return e["__count__"+n.name].apply(e,arguments)},i.create=function(){return e["__create__"+n.name].apply(e,arguments)},i.deleteById=destroyById=function(){return e["__destroyById__"+n.name].apply(e,arguments)},i.exists=function(){return e["__exists__"+n.name].apply(e,arguments)},i.findById=function(){return e["__findById__"+n.name].apply(e,arguments)},i}})}var relation=require("loopback-datasource-juggler/lib/relation-definition"),RelationDefinition=relation.RelationDefinition;module.exports=RelationMixin,RelationMixin.hasMany=function(e,n){var i=RelationDefinition.hasMany(this,e,n);this.dataSource.adapter.resolve(this),defineRelationProperty(this,i)},RelationMixin.belongsTo=function(e,n){var i=RelationDefinition.belongsTo(this,e,n);this.dataSource.adapter.resolve(this),defineRelationProperty(this,i)},RelationMixin.hasAndBelongsToMany=function(e,n){var i=RelationDefinition.hasAndBelongsToMany(this,e,n);this.dataSource.adapter.resolve(this),defineRelationProperty(this,i)},RelationMixin.hasOne=function(e,n){var i=RelationDefinition.hasOne(this,e,n);this.dataSource.adapter.resolve(this),defineRelationProperty(this,i)},RelationMixin.referencesMany=function(e,n){var i=RelationDefinition.referencesMany(this,e,n);this.dataSource.adapter.resolve(this),defineRelationProperty(this,i)},RelationMixin.embedsOne=function(e,n){var i=RelationDefinition.embedsOne(this,e,n);this.dataSource.adapter.resolve(this),defineRelationProperty(this,i)},RelationMixin.embedsMany=function(e,n){var i=RelationDefinition.embedsMany(this,e,n);this.dataSource.adapter.resolve(this),defineRelationProperty(this,i)};
},{"loopback-datasource-juggler/lib/relation-definition":208}],199:[function(require,module,exports){
(function (process){
function RemoteConnector(t){assert("object"==typeof t,"cannot initiaze RemoteConnector without a settings object"),this.client=t.client,this.adapter=t.adapter||"rest",this.protocol=t.protocol||"http",this.root=t.root||"",this.host=t.host||"localhost",this.port=t.port||3e3,this.remotes=remoting.create(),this.name="remote-connector",t.url?this.url=t.url:this.url=this.protocol+"://"+this.host+":"+this.port+this.root;this.DataAccessObject=function(){}}function createProxyMethod(t,e,o){var n=o.isStatic?t:t.prototype;n[o.name];n[o.name]=function(){var t,n=Array.prototype.slice.call(arguments),r="function"==typeof n[n.length-1];if(r&&(t=n.pop()),o.isStatic)return e.invoke(o.stringName,n,t);var i=[this.id];return e.invoke(o.stringName,i,n,t)}}function noop(){}var assert=require("assert"),remoting=require("strong-remoting"),jutil=require("loopback-datasource-juggler/lib/jutil"),RelationMixin=require("./relations");module.exports=RemoteConnector,RemoteConnector.prototype.connect=function(){this.remotes.connect(this.url,this.adapter)},RemoteConnector.initialize=function(t,e){var o=t.connector=new RemoteConnector(t.settings);o.connect(),process.nextTick(e)},RemoteConnector.prototype.define=function(t){var e=t.model,o=this.remotes;assert(e.sharedClass,"cannot attach "+e.modelName+" to a remote connector without a Model.sharedClass"),jutil.mixin(e,RelationMixin),o.addClass(e.sharedClass),this.resolve(e)},RemoteConnector.prototype.resolve=function(t){var e=this.remotes;t.sharedClass.methods().forEach(function(o){"Change"!==o.name&&"Checkpoint"!==o.name&&createProxyMethod(t,e,o)})};
}).call(this,require('_process'))

},{"./relations":198,"_process":425,"assert":2,"loopback-datasource-juggler/lib/jutil":204,"strong-remoting":226}],200:[function(require,module,exports){
(function (process){
module.exports=function(e){var o={};return function(r){o[r]||(o[r]=!0,process.noDeprecation||(process.traceDeprecation?console.trace(e,"deprecated",r):console.warn(e,"deprecated",r)))}};
}).call(this,require('_process'))

},{"_process":425}],201:[function(require,module,exports){
(function (process){
function Memory(e,t){e instanceof Memory?(this.isTransaction=!0,this.cache=e.cache,this.ids=e.ids,this.constructor.super_.call(this,"memory",t),this._models=e._models):(this.isTransaction=!1,this.cache={},this.ids={},this.constructor.super_.call(this,"memory",t))}function serialize(e){return null===e||void 0===e?e:JSON.stringify(e)}function deserialize(e){return null===e||void 0===e?e:"string"==typeof e?JSON.parse(e):e}function getValue(e,t){if(null!=e){for(var i=t.split("."),r=e,n=0,o=i.length;o>n;n++)if(r=r[i[n]],null==r)return r;return r}}function applyFilter(e){function t(e){if(e instanceof RegExp)return e;var t="";e=e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1");for(var i=0,r=e.length;r>i;i++){var n=e.charAt(i);"\\"!==n?t+="%"===n?".*":"_"===n?".":"."===n?"\\.":"*"===n?"\\*":n:(i++,r>i&&(t+=e.charAt(i)))}return t}function i(e,i){if("string"==typeof i&&e instanceof RegExp)return i.match(e);if(void 0!==e){if("object"==typeof e&&null!==e){if(e.regexp)return i?i.match(e.regexp):!1;if(e.near)return!0;if(e.inq){for(var o=0;o<e.inq.length;o++)if(e.inq[o]==i)return!0;return!1}if("neq"in e)return 0!==r(e.neq,i);if("between"in e)return n({gte:e.between[0]},i)&&n({lte:e.between[1]},i);if(e.like||e.nlike){var s=e.like||e.nlike;if("string"==typeof s&&(s=t(s)),e.like)return!!new RegExp(s).test(i);if(e.nlike)return!new RegExp(s).test(i)}if(n(e,i))return!0}return(null!==e?e.toString():e)==(null!=i?i.toString():i)}}function r(e,t){if(null==e||null==t)return e==t?0:NaN;if("number"==typeof e)return e-t;if("string"==typeof e)return e>t?1:t>e?-1:e==t?0:NaN;if("boolean"==typeof e)return e-t;if(e instanceof Date){var i=e-t;return i}return e==t?0:NaN}function n(e,t){return"gt"in e?r(t,e.gt)>0:"gte"in e?r(t,e.gte)>=0:"lt"in e?r(t,e.lt)<0:"lte"in e?r(t,e.lte)<=0:!1}var o=e.where;if("function"==typeof o)return o;var s=Object.keys(o);return function(e){return s.every(function(t){if(("and"===t||"or"===t)&&Array.isArray(o[t])){if("and"===t)return o[t].every(function(t){return applyFilter({where:t})(e)});if("or"===t)return o[t].some(function(t){return applyFilter({where:t})(e)})}var r=getValue(e,t);if(Array.isArray(r)){var n=o[t];return void 0!==n.neq&&r.length<=0?!0:r.some(function(e,t){var i={where:{}};return i.where[t]=n,applyFilter(i)(r)})}if(i(o[t],r))return!0;var s=t.indexOf("."),l=e[t.substring(0,s)];if(-1!==s&&Array.isArray(l)){var c={where:{}},a=t.substring(s+1);return c.where[a]=o[t],l.some(applyFilter(c))}return!1})}}function merge(e,t){if(!e)return t;for(var i in t){var r=t[i];"function"!=typeof r&&(e[i]=r)}return e}var util=require("util"),Connector=require("loopback-connector").Connector,geo=require("../geo"),utils=require("../utils"),fs=require("fs"),async=require("async");exports.initialize=function(e,t){e.connector=new Memory(null,e.settings),e.connector.connect(t)},exports.Memory=Memory,exports.applyFilter=applyFilter,util.inherits(Memory,Connector),Memory.prototype.getDefaultIdType=function(){return Number},Memory.prototype.getTypes=function(){return["db","nosql","memory"]},Memory.prototype.connect=function(e){this.isTransaction?this.onTransactionExec=e:this.loadFromFile(e)},Memory.prototype.getCollection=function(e){var t=this._models[e];return t&&t.settings.memory&&(e=t.settings.memory.collection||e),e},Memory.prototype.initCollection=function(e){this.collection(e,{}),this.collectionSeq(e,1)},Memory.prototype.collection=function(e,t){return e=this.getCollection(e),arguments.length>1&&(this.cache[e]=t),this.cache[e]},Memory.prototype.collectionSeq=function(e,t){return e=this.getCollection(e),arguments.length>1&&(this.ids[e]=t),this.ids[e]},Memory.prototype.loadFromFile=function(e){function t(t){if(t){try{t=JSON.parse(t.toString())}catch(r){return e(r)}i.ids=t.ids||{},i.cache=t.models||{}}else i.cache||(i.ids={},i.cache={});e&&e()}var i=this,r="undefined"!=typeof window&&window.localStorage,n=r&&this.settings.localStorage;if(i.settings.file)fs.readFile(i.settings.file,{encoding:"utf8",flag:"r"},function(i,r){i&&"ENOENT"!==i.code?e&&e(i):t(r)});else if(n){var o=window.localStorage.getItem(n);o=o||"{}",t(o)}else process.nextTick(e)},Memory.prototype.saveToFile=function(e,t){var i=this,r=this.settings.file,n="undefined"!=typeof window&&window.localStorage,o=n&&this.settings.localStorage;if(r)i.writeQueue||(i.writeQueue=async.queue(function(e,t){var r=JSON.stringify({ids:i.ids,models:i.cache},null,"  ");fs.writeFile(i.settings.file,r,function(i){t(i),e.callback&&e.callback(i,e.data)})},1)),i.writeQueue.push({data:e,callback:t});else if(o){var s=JSON.stringify({ids:i.ids,models:i.cache},null,"  ");window.localStorage.setItem(o,s),process.nextTick(function(){t&&t(null,e)})}else process.nextTick(function(){t&&t(null,e)})},Memory.prototype.define=function(e){this.constructor.super_.prototype.define.apply(this,[].slice.call(arguments));var t=e.model.modelName;this.collection(t)||this.initCollection(t)},Memory.prototype.create=function(e,t,i,r){var n=this.collectionSeq(e);void 0===n&&(n=this.collectionSeq(e,1));var o=this.getIdValue(e,t)||n;o>n&&(n=o),this.collectionSeq(e,Number(n)+1);var s=this._models[e].properties,l=this.idName(e);return o=s[l]&&s[l].type&&s[l].type(o)||o,this.setIdValue(e,t,o),this.collection(e)||this.collection(e,{}),this.collection(e)[o]?process.nextTick(function(){r(new Error("Duplicate entry for "+e+"."+l))}):(this.collection(e)[o]=serialize(t),void this.saveToFile(o,r))},Memory.prototype.updateOrCreate=function(e,t,i,r){var n=this;this.exists(e,n.getIdValue(e,t),i,function(o,s){s?n.save(e,t,i,function(e,t){r(e,t,{isNewInstance:!1})}):n.create(e,t,i,function(i,o){n.setIdValue(e,t,o),r(i,t,{isNewInstance:!0})})})},Memory.prototype.save=function(e,t,i,r){var n=this,o=this.getIdValue(e,t),s=this.collection(e),l=s&&this.collection(e)[o];l=l&&deserialize(l),l&&(t=merge(l,t)),this.collection(e)[o]=serialize(t),this.saveToFile(t,function(i){r(i,n.fromDb(e,t),{isNewInstance:!l})})},Memory.prototype.exists=function(e,t,i,r){process.nextTick(function(){r(null,this.collection(e)&&this.collection(e).hasOwnProperty(t))}.bind(this))},Memory.prototype.find=function(e,t,i,r){process.nextTick(function(){r(null,t in this.collection(e)&&this.fromDb(e,this.collection(e)[t]))}.bind(this))},Memory.prototype.destroy=function(e,t,i,r){var n=this.collection(e)[t];delete this.collection(e)[t],this.saveToFile({count:n?1:0},r)},Memory.prototype.fromDb=function(e,t){if(!t)return null;t=deserialize(t);var i=this._models[e].properties;for(var r in t){var n=t[r];if(void 0!==n&&null!==n){if(i[r])switch(i[r].type.name){case"Date":n=new Date(n.toString().replace(/GMT.*$/,"GMT"));break;case"Boolean":n=Boolean(n);break;case"Number":n=Number(n)}t[r]=n}}return t},Memory.prototype.all=function(e,t,i,r){function n(e,t){for(var i,r,n=0,o=this.length;o>n;n++){var s=getValue(e,this[n].key),l=getValue(t,this[n].key);if(r=void 0===l&&void 0!==s,i=void 0===s&&void 0!==l,r||s>l)return 1*this[n].reverse;if(i||l>s)return-1*this[n].reverse}return 0}var o=this,s=Object.keys(this.collection(e)).map(function(t){return this.fromDb(e,this.collection(e)[t])}.bind(this));if(t){if(!t.order){var l=this.idNames(e);l&&l.length&&(t.order=l)}if(t.order){var c=t.order;"string"==typeof t.order&&(c=[t.order]),c.forEach(function(e,t){var i=1,r=e.match(/\s+(A|DE)SC$/i);r&&(e=e.replace(/\s+(A|DE)SC/i,""),"de"===r[1].toLowerCase()&&(i=-1)),c[t]={key:e,reverse:i}}),s=s.sort(n.bind(c))}var a=geo.nearFilter(t.where);a&&(s=geo.filter(s,a)),t.where&&s&&(s=s.filter(applyFilter(t))),t.fields&&(s=s.map(utils.selectFields(t.fields)));var u=t.skip||t.offset||0,f=t.limit||s.length;s=s.slice(u,u+f)}process.nextTick(function(){t&&t.include?o._models[e].model.include(s,t.include,i,r):r(null,s)})},Memory.prototype.destroyAll=function(e,t,i,r){var n=this.collection(e),o=null,s=0;t?(o=applyFilter({where:t}),Object.keys(n).forEach(function(t){(!o||o(this.fromDb(e,n[t])))&&(s++,delete n[t])}.bind(this))):(s=Object.keys(n).length,this.collection(e,{})),this.saveToFile({count:s},r)},Memory.prototype.count=function(e,t,i,r){var n=this.collection(e),o=Object.keys(n);if(t){var s={where:t};o=o.map(function(t){return this.fromDb(e,n[t])}.bind(this)),o=o.filter(applyFilter(s))}process.nextTick(function(){r(null,o.length)})},Memory.prototype.update=Memory.prototype.updateAll=function(e,t,i,r,n){var o=this,s=this.collection(e),l=null;t=t||{},l=applyFilter({where:t});var c=Object.keys(s),a=0;async.each(c,function(t,n){var c=o.fromDb(e,s[t]);!l||l(c)?(a++,t=o.getIdValue(e,c),o.updateAttributes(e,t,i,r,n)):process.nextTick(n)},function(e){return e?n(e):void o.saveToFile({count:a},n)})},Memory.prototype.updateAttributes=function(e,t,i,r,n){if(!t){var o=new Error("You must provide an id when updating attributes!");if(n)return n(o);throw o}i=Object.create(i),this.setIdValue(e,i,t);var s=this.collection(e),l=s&&this.collection(e)[t];l?this.save(e,i,r,n):n(new Error("Could not update attributes. Object with id "+t+" does not exist!"))},Memory.prototype.transaction=function(){return new Memory(this)},Memory.prototype.exec=function(e){this.onTransactionExec(),setTimeout(e,50)},Memory.prototype.buildNearFilter=function(e){},Memory.prototype.automigrate=function(e,t){var i=this;if(t||"function"!=typeof e||(t=e,e=void 0),"string"==typeof e&&(e=[e]),e=e||Object.keys(i._models),0===e.length)return process.nextTick(t);var r=e.filter(function(e){return!(e in i._models)});return r.length?process.nextTick(function(){t(new Error("Cannot migrate models not attached to this datasource: "+r.join(" ")))}):(e.forEach(function(e){i.initCollection(e)}),void(t&&process.nextTick(t)))};
}).call(this,require('_process'))

},{"../geo":202,"../utils":211,"_process":425,"async":213,"fs":35,"loopback-connector":214,"util":594}],202:[function(require,module,exports){
arguments[4][114][0].apply(exports,arguments)
},{"assert":2,"dup":114}],203:[function(require,module,exports){
arguments[4][115][0].apply(exports,arguments)
},{"depd":200,"dup":115}],204:[function(require,module,exports){
arguments[4][119][0].apply(exports,arguments)
},{"dup":119,"util":594}],205:[function(require,module,exports){
arguments[4][120][0].apply(exports,arguments)
},{"./types":210,"dup":120,"util":594}],206:[function(require,module,exports){
(function (process){
function ModelBaseClass(e,t){t=t||{},"applySetters"in t||(t.applySetters=!0),"applyDefaultValues"in t||(t.applyDefaultValues=!0),this._initProperties(e,t)}module.exports=ModelBaseClass;var async=require("async"),util=require("util"),jutil=require("./jutil"),List=require("./list"),Hookable=require("./hooks"),validations=require("./validations"),_extend=util._extend,utils=require("./utils"),fieldsToArray=utils.fieldsToArray,uuid=require("node-uuid"),deprecated=require("depd")("loopback-datasource-juggler"),BASE_TYPES={String:!0,Boolean:!0,Number:!0,Date:!0,Text:!0,ObjectID:!0};ModelBaseClass.prototype._initProperties=function(e,t){var i=this,r=this.constructor;e instanceof r&&(e=e.toObject(!1));var o=_extend({},r.definition.properties);e=e||{},"function"==typeof r.applyProperties&&r.applyProperties(e),t=t||{};var a=t.applySetters,s=t.applyDefaultValues,n=t.strict;void 0===n&&(n=r.definition.settings.strict);var d=r.definition.settings.persistUndefinedAsNull;r.hideInternalProperties?(Object.defineProperties(this,{__cachedRelations:{writable:!0,enumerable:!1,configurable:!0,value:{}},__data:{writable:!0,enumerable:!1,configurable:!0,value:{}},__dataSource:{writable:!0,enumerable:!1,configurable:!0,value:t.dataSource},__strict:{writable:!0,enumerable:!1,configurable:!0,value:n},__persisted:{writable:!0,enumerable:!1,configurable:!0,value:!1}}),"validate"===n&&Object.defineProperty(this,"__unknownProperties",{writable:!0,enumerable:!1,configrable:!0,value:[]})):(this.__cachedRelations={},this.__data={},this.__dataSource=t.dataSource,this.__strict=n,this.__persisted=!1,"validate"===n&&(this.__unknownProperties=[])),void 0!==t.persisted&&(this.__persisted=t.persisted===!0),e.__cachedRelations&&(this.__cachedRelations=e.__cachedRelations);var l=Object.keys(e);Array.isArray(t.fields)&&(l=l.filter(function(e){return-1!=t.fields.indexOf(e)}));for(var u,p,c=l.length,f=0;c>f;f++)if(u=l[f],p=e[u],"function"!=typeof p)if(void 0===p&&d&&(p=null),o[u])a||o[u].id?i[u]=p:i.__data[u]=p;else if(r.relations[u]){var _,y=r.relations[u].type;if(!o[u]){_=r.relations[u].modelTo||ModelBaseClass;var h=r.relations[u].multiple,v=h?"Array":_.modelName,b=h?[_]:_;o[u]={name:v,type:b},this.setStrict(!1)}if("belongsTo"===y&&null!=p&&(i.__data[r.relations[u].keyFrom]=p[r.relations[u].keyTo],r.relations[u].options.embedsProperties)){var P=fieldsToArray(r.relations[u].properties,_.definition.properties,_.settings.strict);~P.indexOf(r.relations[u].keyTo)||P.push(r.relations[u].keyTo),i.__data[u]=new _(p,{fields:P,applySetters:!1,persisted:t.persisted})}i.__cachedRelations[u]=p}else if(n===!1||i.__cachedRelations[u])i[u]=i.__data[u]=void 0!==p?p:i.__cachedRelations[u],/\./.test(u)&&deprecated("Property names containing a dot are not supported. Model: "+this.constructor.modelName+", dynamic property: "+u);else{if("throw"===n)throw new Error("Unknown property: "+u);"validate"===n&&this.__unknownProperties.push(u)}for(l=Object.keys(o),Array.isArray(t.fields)&&(l=l.filter(function(e){return-1!=t.fields.indexOf(e)})),c=l.length,f=0;c>f;f++){u=l[f],p=i.__data[u];var m=o[u].type;if(s&&void 0===p){var g=o[u]["default"];void 0!==g&&("function"==typeof g?g=g===Date?new Date:g():"Date"===m.name&&"$now"===g&&(g=new Date),i.__data[u]=p=g)}if(s&&void 0===p){var S=o[u].defaultFn;switch(S){case void 0:break;case"guid":case"uuid":p=uuid.v1();break;case"uuidv4":p=uuid.v4();break;case"now":p=new Date;break;default:console.warn("Unknown default value provider "+S)}void 0!==p&&(i.__data[u]=p)}if(void 0===p&&d&&(i.__data[u]=p=null),!BASE_TYPES[m.name]){if("object"!=typeof i.__data[u]&&i.__data[u])try{i.__data[u]=JSON.parse(i.__data[u]+"")}catch(B){i.__data[u]=String(i.__data[u])}m.prototype instanceof ModelBaseClass?i.__data[u]instanceof m||"object"!=typeof i.__data[u]||null===i.__data[u]||(i.__data[u]=new m(i.__data[u])):("Array"===m.name||Array.isArray(m))&&(i.__data[u]instanceof List||void 0===i.__data[u]||null===i.__data[u]||(i.__data[u]=List(i.__data[u],m,i)))}}this.trigger("initialize")},ModelBaseClass.defineProperty=function(e,t){this.dataSource?this.dataSource.defineProperty(this.modelName,e,t):this.modelBuilder.defineProperty(this.modelName,e,t)},ModelBaseClass.getPropertyType=function(e){var t=this.definition.properties[e];if(!t)return null;if(!t.type)throw new Error("Type not defined for property "+this.modelName+"."+e);return t.type.name},ModelBaseClass.prototype.getPropertyType=function(e){return this.constructor.getPropertyType(e)},ModelBaseClass.toString=function(){return"[Model "+this.modelName+"]"},ModelBaseClass.prototype.toObject=function(e,t,i){void 0===e&&(e=!0);var r={},o=this,a=this.constructor;if(a===Object)return o;for(var s,n,d=this.__strict,l=d===!1||!e,u=a.definition.settings.persistUndefinedAsNull,p=a.definition.properties,c=Object.keys(p),f=0;f<c.length;f++)s=c[f],n=o[s],"function"!=typeof n&&(t&&a.isHiddenProperty(s)||i&&a.isProtectedProperty(s)||(n instanceof List?r[s]=n.toObject(!l,t,!0):void 0!==n&&null!==n&&n.toObject?r[s]=n.toObject(!l,t,!0):(void 0===n&&u&&(n=null),r[s]=n)));if(l){c=Object.keys(o);var _=c.length;for(f=0;_>f;f++)if(s=c[f],!p[s]&&0!==s.indexOf("__")&&!(t&&a.isHiddenProperty(s)||i&&a.isProtectedProperty(s)||void 0!==r[s]))if(n=o[s],void 0!==n){if("function"==typeof n)continue;null!==n&&n.toObject?r[s]=n.toObject(!l,t,!0):r[s]=n}else u&&(r[s]=null);for(c=Object.keys(o.__data),_=c.length,f=0;_>f;f++)if(s=c[f],0!==s.indexOf("__")&&void 0===r[s]){if(t&&a.isHiddenProperty(s))continue;if(i&&a.isProtectedProperty(s))continue;var y=o[s];if(n=void 0!==y&&"function"!=typeof y?y:o.__data[s],"function"==typeof n)continue;void 0!==n&&null!==n&&n.toObject?r[s]=n.toObject(!l,t,!0):void 0===n&&u?r[s]=null:r[s]=n}}return r},ModelBaseClass.isProtectedProperty=function(e){var t=this,i=t.definition&&t.definition.settings,r=i&&(i.protectedProperties||i["protected"]);if(Array.isArray(r)){i.protectedProperties={};for(var o=0;o<r.length;o++)i.protectedProperties[r[o]]=!0;r=i.protectedProperties}return r?r[e]:!1},ModelBaseClass.isHiddenProperty=function(e){var t=this,i=t.definition&&t.definition.settings,r=i&&(i.hiddenProperties||i.hidden);if(Array.isArray(r)){i.hiddenProperties={};for(var o=0;o<r.length;o++)i.hiddenProperties[r[o]]=!0;r=i.hiddenProperties}return r?r[e]:!1},ModelBaseClass.prototype.toJSON=function(){return this.toObject(!1,!0,!1)},ModelBaseClass.prototype.fromObject=function(e){for(var t in e)this[t]=e[t]},ModelBaseClass.prototype.reset=function(){var e=this;for(var t in e)"id"===t||e.constructor.dataSource.definitions[e.constructor.modelName].properties[t]||delete e[t]};var versionParts=process.versions&&process.versions.node?process.versions.node.split(/\./g).map(function(e){return+e}):[1,0,0],INSPECT_SUPPORTS_OBJECT_RETVAL=versionParts[0]>0||versionParts[1]>11||11===versionParts[0]&&versionParts[1]>=14;ModelBaseClass.prototype.inspect=function(e){return INSPECT_SUPPORTS_OBJECT_RETVAL?this.__data:util.inspect(this.__data,{showHidden:!1,depth:e,colors:!1})},ModelBaseClass.mixin=function(e,t){if("string"!=typeof e){if(e.prototype instanceof ModelBaseClass){var i=e.definition.properties;for(var r in i)this.definition.properties[r]||this.defineProperty(r,i[r])}return jutil.mixin(this,e,t)}this.modelBuilder.mixins.applyMixin(this,e,t)},ModelBaseClass.prototype.getDataSource=function(){return this.__dataSource||this.constructor.dataSource},ModelBaseClass.getDataSource=function(){return this.dataSource},ModelBaseClass.prototype.setStrict=function(e){this.__strict=e},jutil.mixin(ModelBaseClass,require("./observer")),jutil.mixin(ModelBaseClass,Hookable),jutil.mixin(ModelBaseClass,validations.Validatable);
}).call(this,require('_process'))

},{"./hooks":203,"./jutil":204,"./list":205,"./observer":207,"./utils":211,"./validations":212,"_process":425,"async":213,"depd":200,"node-uuid":219,"util":594}],207:[function(require,module,exports){
arguments[4][125][0].apply(exports,arguments)
},{"./utils":211,"async":213,"dup":125}],208:[function(require,module,exports){
(function (process){
function normalizeType(e){if(!e)return e;var o=e.toLowerCase();for(var t in RelationTypes)if(t.toLowerCase()===o)return t;return null}function extendScopeMethods(e,o,t){function i(e,o){return function(){var t=new r(e,this);return o.apply(t,arguments)}}var n=[],r=RelationClasses[e.type];if(e.type===RelationTypes.hasMany&&e.modelThrough&&(r=RelationClasses.hasManyThrough),"function"==typeof t)n=t.call(e,o,r);else if("object"==typeof t)for(var s in t){var a=t[s],d=o[s]=i(e,a);a.shared&&sharedMethod(e,s,d,a),n.push(s)}return[].concat(n||[])}function bindRelationMethods(e,o,t){var i=t.methods||{};Object.keys(i).forEach(function(t){"function"==typeof i[t]&&(o[t]=i[t].bind(e))})}function RelationDefinition(e){return this instanceof RelationDefinition?(e=e||{},this.name=e.name,assert(this.name,"Relation name is missing"),this.type=normalizeType(e.type),assert(this.type,"Invalid relation type: "+e.type),this.modelFrom=e.modelFrom,assert(this.modelFrom,"Source model is required"),this.keyFrom=e.keyFrom,this.modelTo=e.modelTo,this.keyTo=e.keyTo,this.polymorphic=e.polymorphic,"object"!=typeof this.polymorphic&&assert(this.modelTo,"Target model is required"),this.modelThrough=e.modelThrough,this.keyThrough=e.keyThrough,this.multiple=e.multiple,this.properties=e.properties||{},this.options=e.options||{},this.scope=e.scope,this.embed=e.embed===!0,void(this.methods=e.methods||{})):new RelationDefinition(e)}function Relation(e,o){return this instanceof Relation?(e instanceof RelationDefinition||(e=new RelationDefinition(e)),this.definition=e,void(this.modelInstance=o)):new Relation(e,o)}function HasMany(e,o){return this instanceof HasMany?(assert(e.type===RelationTypes.hasMany),void Relation.apply(this,arguments)):new HasMany(e,o)}function HasManyThrough(e,o){return this instanceof HasManyThrough?(assert(e.type===RelationTypes.hasMany),assert(e.modelThrough),void HasMany.apply(this,arguments)):new HasManyThrough(e,o)}function BelongsTo(e,o){return this instanceof BelongsTo?(assert(e.type===RelationTypes.belongsTo),void Relation.apply(this,arguments)):new BelongsTo(e,o)}function HasAndBelongsToMany(e,o){return this instanceof HasAndBelongsToMany?(assert(e.type===RelationTypes.hasAndBelongsToMany),void Relation.apply(this,arguments)):new HasAndBelongsToMany(e,o)}function HasOne(e,o){return this instanceof HasOne?(assert(e.type===RelationTypes.hasOne),void Relation.apply(this,arguments)):new HasOne(e,o)}function EmbedsOne(e,o){return this instanceof EmbedsOne?(assert(e.type===RelationTypes.embedsOne),void Relation.apply(this,arguments)):new EmbedsOne(e,o)}function EmbedsMany(e,o){return this instanceof EmbedsMany?(assert(e.type===RelationTypes.embedsMany),void Relation.apply(this,arguments)):new EmbedsMany(e,o)}function ReferencesMany(e,o){return this instanceof ReferencesMany?(assert(e.type===RelationTypes.referencesMany),void Relation.apply(this,arguments)):new ReferencesMany(e,o)}function findBelongsTo(e,o,t){return Object.keys(e.relations).map(function(o){return e.relations[o]}).filter(function(e){return e.type===RelationTypes.belongsTo&&e.modelTo===o&&(void 0===t||e.keyTo===t)}).map(function(e){return e.keyFrom})}function lookupModel(e,o){if(e[o])return e[o];var t=o.toLowerCase();for(var i in e)if(i.toLowerCase()===t)return e[i]}function lookupModelTo(e,o,t,i){if("string"==typeof o){var n;if(t.as=t.as||o,o=t.model||o,"string"==typeof o&&(n=(i?i8n.singularize(o):o).toLowerCase(),o=lookupModel(e.dataSource.modelBuilder.models,n)||o),"string"==typeof o&&(n=(i?i8n.singularize(t.as):t.as).toLowerCase(),o=lookupModel(e.dataSource.modelBuilder.models,n)||o),"function"!=typeof o)throw new Error('Could not find "'+t.as+'" relation for '+e.modelName)}return o}function polymorphicParams(e,o){return"string"==typeof e&&(e={as:e}),"string"!=typeof e.as&&(e.as=o||"reference"),e.foreignKey=e.foreignKey||i8n.camelize(e.as+"_id",!0),e.discriminator=e.discriminator||i8n.camelize(e.as+"_type",!0),e}function scopeMethod(e,o){var t=RelationClasses[e.type];e.type===RelationTypes.hasMany&&e.modelThrough&&(t=RelationClasses.hasManyThrough);var i=function(){var i=new t(e,this);return i[o].apply(i,arguments)},n=t.prototype[o];return n.shared&&sharedMethod(e,o,i,n),i}function sharedMethod(e,o,t,i){t.shared=!0,t.accepts=i.accepts,t.returns=i.returns,t.http=i.http,t.description=i.description}var assert=require("assert"),util=require("util"),async=require("async"),utils=require("./utils"),i8n=require("inflection"),defineScope=require("./scope.js").defineScope,mergeQuery=utils.mergeQuery,idEquals=utils.idEquals,ModelBaseClass=require("./model.js"),applyFilter=require("./connectors/memory").applyFilter,ValidationError=require("./validations.js").ValidationError,debug=require("debug")("loopback:relations"),RelationTypes={belongsTo:"belongsTo",hasMany:"hasMany",hasOne:"hasOne",hasAndBelongsToMany:"hasAndBelongsToMany",referencesMany:"referencesMany",embedsOne:"embedsOne",embedsMany:"embedsMany"},RelationClasses={belongsTo:BelongsTo,hasMany:HasMany,hasManyThrough:HasManyThrough,hasOne:HasOne,hasAndBelongsToMany:HasAndBelongsToMany,referencesMany:ReferencesMany,embedsOne:EmbedsOne,embedsMany:EmbedsMany};exports.Relation=Relation,exports.RelationDefinition=RelationDefinition,exports.RelationTypes=RelationTypes,exports.RelationClasses=RelationClasses,exports.HasMany=HasMany,exports.HasManyThrough=HasManyThrough,exports.HasOne=HasOne,exports.HasAndBelongsToMany=HasAndBelongsToMany,exports.BelongsTo=BelongsTo,exports.ReferencesMany=ReferencesMany,exports.EmbedsOne=EmbedsOne,exports.EmbedsMany=EmbedsMany,RelationDefinition.prototype.toJSON=function(){var e="object"==typeof this.polymorphic,o=this.modelTo&&this.modelTo.modelName;!o&&e&&"belongsTo"===this.type&&(o="<polymorphic>");var t={name:this.name,type:this.type,modelFrom:this.modelFrom.modelName,keyFrom:this.keyFrom,modelTo:o,keyTo:this.keyTo,multiple:this.multiple};return this.modelThrough&&(t.modelThrough=this.modelThrough.modelName,t.keyThrough=this.keyThrough),e&&(t.polymorphic=this.polymorphic),t},RelationDefinition.prototype.defineMethod=function(e,o){var t,i=RelationClasses[this.type],n=this.name,r=this.modelFrom,s=this;if(s.multiple){var a=this.modelFrom.scopes[this.name];if(!a)throw new Error("Unknown relation scope: "+this.name);t=a.defineMethod(e,function(){var e=new i(s,this);return o.apply(e,arguments)})}else s.methods[e]=o,t=function(){var o=this[n];return o[e].apply(o,arguments)};return t&&o.shared&&(sharedMethod(s,e,t,o),r.prototype["__"+e+"__"+n]=t),t},RelationDefinition.prototype.applyScope=function(e,o){if(o=o||{},o.where=o.where||{},("belongsTo"!==this.type||"hasOne"===this.type)&&"object"==typeof this.polymorphic){var t=this.polymorphic.discriminator;this.polymorphic.invert?o.where[t]=this.modelTo.modelName:o.where[t]=this.modelFrom.modelName}var i;i="function"==typeof this.scope?this.scope.call(this,e,o):this.scope,"object"==typeof i&&mergeQuery(o,i)},RelationDefinition.prototype.applyProperties=function(e,o){var t=e,i=o;this.options.invertProperties&&(t=o,i=e),this.options.embedsProperties&&(i=i.__data[this.name]={},i[this.keyTo]=t[this.keyTo]);var n,r;if("function"==typeof this.properties){var s=this.properties.call(this,t,i);for(n in s)i[n]=s[n]}else if(Array.isArray(this.properties))for(n=0;n<this.properties.length;n++)r=this.properties[n],i[r]=t[r];else if("object"==typeof this.properties)for(n in this.properties)r=this.properties[n],i[r]=t[n];if(("belongsTo"!==this.type||"hasOne"===this.type)&&"object"==typeof this.polymorphic){var a=this.polymorphic.discriminator;this.polymorphic.invert?i[a]=this.modelTo.modelName:i[a]=this.modelFrom.modelName}},Relation.prototype.resetCache=function(e){e=e||void 0,this.modelInstance.__cachedRelations[this.definition.name]=e},Relation.prototype.getCache=function(){return this.modelInstance.__cachedRelations[this.definition.name]},Relation.prototype.callScopeMethod=function(e){var o=Array.prototype.slice.call(arguments,1),t=this.modelInstance,i=t[this.definition.name];if(i&&"function"==typeof i[e])return i[e].apply(i,o);throw new Error("Unknown scope method: "+e)},Relation.prototype.fetch=function(e,o,t){this.modelInstance[this.definition.name].apply(this.modelInstance,arguments)},util.inherits(HasMany,Relation),HasMany.prototype.removeFromCache=function(e){var o=this.modelInstance.__cachedRelations[this.definition.name],t=this.definition.modelTo.definition.idName();if(Array.isArray(o))for(var i=0,n=o.length;n>i;i++)if(idEquals(o[i][t],e))return o.splice(i,1);return null},HasMany.prototype.addToCache=function(e){if(e){var o=this.modelInstance.__cachedRelations[this.definition.name];void 0===o&&(o=this.modelInstance.__cachedRelations[this.definition.name]=[]);var t=this.definition.modelTo.definition.idName();if(Array.isArray(o)){for(var i=0,n=o.length;n>i;i++)if(idEquals(o[i][t],e[t]))return void(o[i]=e);o.push(e)}}},util.inherits(HasManyThrough,HasMany),util.inherits(BelongsTo,Relation),util.inherits(HasAndBelongsToMany,Relation),util.inherits(HasOne,Relation),util.inherits(EmbedsOne,Relation),util.inherits(EmbedsMany,Relation),util.inherits(ReferencesMany,Relation),RelationDefinition.hasMany=function(e,o,t){var i=e.modelName;t=t||{},o=lookupModelTo(e,o,t,!0);var n,r,s=t.as||i8n.camelize(o.pluralModelName,!0),a=t.foreignKey||i8n.camelize(i+"_id",!0),d=t.keyThrough||i8n.camelize(o.modelName+"_id",!0),l=t.primaryKey||e.dataSource.idName(e.modelName)||"id";t.polymorphic&&(r=polymorphicParams(t.polymorphic),t.invert&&(r.invert=!0,d=r.foreignKey),n=r.discriminator,t.invert||(a=r.foreignKey),t.through||o.dataSource.defineProperty(o.modelName,n,{type:"string",index:!0}));var p=new RelationDefinition({name:s,type:RelationTypes.hasMany,modelFrom:e,keyFrom:l,keyTo:a,modelTo:o,multiple:!0,properties:t.properties,scope:t.scope,options:t.options,keyThrough:d,polymorphic:r});p.modelThrough=t.through,e.relations[s]=p,t.through||o.dataSource.defineForeignKey(o.modelName,a,e.modelName,l);var c={findById:scopeMethod(p,"findById"),destroy:scopeMethod(p,"destroyById"),updateById:scopeMethod(p,"updateById"),exists:scopeMethod(p,"exists")},f=c.findById;e.prototype["__findById__"+s]=f;var u=c.destroy;e.prototype["__destroyById__"+s]=u;var m=c.updateById;e.prototype["__updateById__"+s]=m;var y=c.exists;if(e.prototype["__exists__"+s]=y,p.modelThrough){c.create=scopeMethod(p,"create"),c.add=scopeMethod(p,"add"),c.remove=scopeMethod(p,"remove");var h=c.add;e.prototype["__link__"+s]=h;var v=c.remove;e.prototype["__unlink__"+s]=v}else c.create=scopeMethod(p,"create"),c.build=scopeMethod(p,"build");for(var T=extendScopeMethods(p,c,t.scopeMethods),g=0;g<T.length;g++){var b=T[g],M=c[b];"function"==typeof M&&M.shared===!0&&(e.prototype["__"+b+"__"+s]=M)}return defineScope(e.prototype,t.through||o,s,function(){var e={};if(e.where={},e.where[a]=this[l],p.applyScope(this,e),p.modelThrough){var t;for(var i in p.modelThrough.relations){var n=p.modelThrough.relations[i];if(n.type===RelationTypes.belongsTo&&(n.polymorphic&&!n.modelTo||n.modelTo===p.modelTo)&&n.keyFrom===p.keyThrough){t=n.name;break}}p.polymorphic&&p.polymorphic.invert?(e.collect=p.polymorphic.as,e.include=e.collect):(e.collect=t||i8n.camelize(o.modelName,!0),e.include=e.collect)}return e},c,p.options),p},HasMany.prototype.findById=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition.modelTo,n=this.definition.modelFrom,r=this.definition.keyTo,s=this.definition.keyFrom,a=this.modelInstance,d=this.definition.modelTo.definition.idName(),l={};return l.where={},l.where[d]=e,l.where[r]=a[s],t=t||utils.createPromiseCallback(),void 0===l.where[r]?(process.nextTick(t),t.promise):(this.definition.applyScope(a,l),i.findOne(l,o,function(o,d){return o?t(o):d?void(null!=d[r]&&idEquals(d[r],a[s])?t(null,d):(o=new Error("Key mismatch: "+n.modelName+"."+s+": "+a[s]+", "+i.modelName+"."+r+": "+d[r]),o.statusCode=400,t(o))):(o=new Error("No instance with id "+e+" found for "+i.modelName),o.statusCode=404,t(o))}),t.promise)},HasMany.prototype.exists=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition.keyTo,n=this.definition.keyFrom,r=this.modelInstance;return t=t||utils.createPromiseCallback(),this.findById(e,function(e,o){return e?t(e):o?void(o[i]&&o[i].toString()===r[n].toString()?t(null,!0):t(null,!1)):t(null,!1)}),t.promise},HasMany.prototype.updateById=function(e,o,t,i){return"function"==typeof t&&void 0===i&&(i=t,t={}),i=i||utils.createPromiseCallback(),this.findById(e,t,function(e,n){return e?i&&i(e):void n.updateAttributes(o,t,i)}),i.promise},HasMany.prototype.destroyById=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={}),t=t||utils.createPromiseCallback();var i=this;return this.findById(e,o,function(n,r){return n?t(n):(i.removeFromCache(e),void r.destroy(o,t))}),t.promise};var throughKeys=function(e){var o=e.modelThrough,t=e.modelTo.definition.idName();if("object"==typeof e.polymorphic){var i=e.keyTo;if(e.polymorphic.invert)var n=e.polymorphic.foreignKey;else var n=e.keyThrough}else{if(e.modelFrom===e.modelTo)return findBelongsTo(o,e.modelTo,t).sort(function(o,t){return e.keyTo===o?-1:1});var i=findBelongsTo(o,e.modelFrom,e.keyFrom)[0],n=findBelongsTo(o,e.modelTo,t)[0]}return[i,n]};HasManyThrough.prototype.findById=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this,n=this.definition.modelTo,r=this.definition.keyFrom,s=this.modelInstance,a=this.definition.modelThrough;return t=t||utils.createPromiseCallback(),i.exists(e,o,function(d,l){return d||!l?(d||(d=new Error("No relation found in "+a.modelName+" for ("+i.definition.modelFrom.modelName+"."+s[r]+","+n.modelName+"."+e+")"),d.statusCode=404),t(d)):void n.findById(e,o,function(o,i){return o?t(o):i?void t(o,i):(o=new Error("No instance with id "+e+" found for "+n.modelName),o.statusCode=404,t(o))})}),t.promise},HasManyThrough.prototype.destroyById=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this,n=this.definition.modelTo,r=this.definition.keyFrom,s=this.modelInstance,a=this.definition.modelThrough;return t=t||utils.createPromiseCallback(),i.exists(e,o,function(d,l){return d||!l?(d||(d=new Error("No record found in "+a.modelName+" for ("+i.definition.modelFrom.modelName+"."+s[r]+" ,"+n.modelName+"."+e+")"),d.statusCode=404),t(d)):void i.remove(e,o,function(i){return i?t(i):void n.deleteById(e,o,t)})}),t.promise},HasManyThrough.prototype.create=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this,n=this.definition,r=n.modelTo,s=n.modelThrough;"function"!=typeof e||t||(t=e,e={}),t=t||utils.createPromiseCallback();var a=this.modelInstance;return r.create(e,o,function(e,r){function d(t,r){var d={},p={},u={where:p};d[c]=p[c]=a[n.keyFrom],d[f]=p[f]=t[l],n.applyProperties(a,d),n.applyScope(a,u),s.findOrCreate(u,d,o,function(n,s){n?t.destroy(o,function(){r(n)}):(i.addToCache(t),r(e,t))})}if(e)return t(e,r);var l=n.modelTo.definition.idName(),p=throughKeys(n),c=p[0],f=p[1];Array.isArray(r)?async.map(r,d,t):d(r,t)}),t.promise},HasManyThrough.prototype.add=function(e,o,t,i){"function"==typeof t&&void 0===i&&(i=t,t={});var n=this,r=this.definition,s=r.modelThrough,a=r.keyFrom;"function"==typeof o&&(i=o,o={});var d={};o=o||{},i=i||utils.createPromiseCallback();var l=r.modelTo.definition.idName(),p=throughKeys(r),c=p[0],f=p[1];d[c]=this.modelInstance[a],d[f]=e instanceof r.modelTo?e[l]:e;var u={where:d};return r.applyScope(this.modelInstance,u),o[c]=this.modelInstance[a],o[f]=e instanceof r.modelTo?e[l]:e,r.applyProperties(this.modelInstance,o),s.findOrCreate(u,o,t,function(o,t){o||e instanceof r.modelTo&&n.addToCache(e),i(o,t)}),i.promise},HasManyThrough.prototype.exists=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition,n=i.modelThrough,r=i.keyFrom,s={},a=i.modelTo.definition.idName(),d=throughKeys(i),l=d[0],p=d[1];s[l]=this.modelInstance[r],s[p]=e instanceof i.modelTo?e[a]:e;var c={where:s};return i.applyScope(this.modelInstance,c),t=t||utils.createPromiseCallback(),n.count(c.where,o,function(e,o){t(e,o>0)}),t.promise},HasManyThrough.prototype.remove=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this,n=this.definition,r=n.modelThrough,s=n.keyFrom,a={},d=n.modelTo.definition.idName(),l=throughKeys(n),p=l[0],c=l[1];a[p]=this.modelInstance[s],a[c]=e instanceof n.modelTo?e[d]:e;var f={where:a};return n.applyScope(this.modelInstance,f),t=t||utils.createPromiseCallback(),r.deleteAll(f.where,o,function(e){e||i.removeFromCache(a[c]),t(e)}),t.promise},RelationDefinition.belongsTo=function(e,o,t){var i,n;t=t||{},"string"!=typeof o||t.polymorphic||(o=lookupModelTo(e,o,t));var r,s,a;t.polymorphic?(s=t.as||("string"==typeof o?o:null),n=t.polymorphic===!0?polymorphicParams(o,s):polymorphicParams(t.polymorphic,s),o=null,r=t.primaryKey||t.idName||"id",s=t.as||n.as,a=n.foreignKey,i=n.discriminator,n.idType?e.dataSource.defineProperty(e.modelName,a,{type:n.idType,index:!0}):e.dataSource.defineForeignKey(e.modelName,a,e.modelName,r),e.dataSource.defineProperty(e.modelName,i,{type:"string",index:!0})):(r=t.primaryKey||o.dataSource.idName(o.modelName)||"id",s=t.as||i8n.camelize(o.modelName,!0),a=t.foreignKey||s+"Id",e.dataSource.defineForeignKey(e.modelName,a,o.modelName,r));var d=e.relations[s]=new RelationDefinition({name:s,type:RelationTypes.belongsTo,modelFrom:e,keyFrom:a,keyTo:r,modelTo:o,multiple:!1,properties:t.properties,scope:t.scope,options:t.options,polymorphic:n,methods:t.methods});Object.defineProperty(e.prototype,s,{enumerable:!0,configurable:!0,get:function(){var e=new BelongsTo(d,this),o=e.related.bind(e);return o.getAsync=e.getAsync.bind(e),o.update=e.update.bind(e),o.destroy=e.destroy.bind(e),n||(o.create=e.create.bind(e),o.build=e.build.bind(e),o._targetClass=d.modelTo.modelName),bindRelationMethods(e,o,d),o}});var l=function(){var e=this[s];e.apply(this,arguments)};return e.prototype["__get__"+s]=l,d},BelongsTo.prototype.create=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this,n=this.definition.modelTo,r=this.definition.keyFrom,s=this.definition.keyTo,a=this.modelInstance;return"function"!=typeof e||t||(t=e,e={}),t=t||utils.createPromiseCallback(),this.definition.applyProperties(a,e||{}),n.create(e,o,function(e,n){e?t&&t(e):(a[r]=n[s],a.isNewRecord()?(i.resetCache(n),t&&t(e,n)):a.save(o,function(e,o){return t&&e?t&&t(e):(i.resetCache(n),void(t&&t(e,n)))}))}),t.promise},BelongsTo.prototype.build=function(e){var o=this.definition.modelTo;return this.definition.applyProperties(this.modelInstance,e||{}),new o(e)},BelongsTo.prototype.update=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={}),t=t||utils.createPromiseCallback();var i=this.definition;return this.fetch(o,function(n,r){r instanceof ModelBaseClass?r.updateAttributes(e,o,t):t(new Error("BelongsTo relation "+i.name+" is empty"))}),t.promise},BelongsTo.prototype.destroy=function(e,o){"function"==typeof e&&void 0===o&&(o=e,e={});var t=(this.definition.modelTo,this.modelInstance),i=this.definition.keyFrom;return o=o||utils.createPromiseCallback(),this.fetch(e,function(n,r){r instanceof ModelBaseClass?(t[i]=null,t.save(e,function(e,t){return o&&e?o&&o(e):void(o&&o(e,t))})):o(new Error("BelongsTo relation "+definition.name+" is empty"))}),o.promise},BelongsTo.prototype.related=function(e,o,t){var i,n,r=this,s=this.definition.modelFrom,a=this.definition.modelTo,d=this.definition.keyTo,l=this.definition.keyFrom,p=this.modelInstance,c=null;e instanceof ModelBaseClass&&void 0===o&&void 0===t?(n=e,e=!1):"function"==typeof e&&void 0===o&&void 0===t?(t=e,e=!1):"function"==typeof o&&void 0===t&&(t=o,o={}),n||(c=e),"object"==typeof this.definition.polymorphic&&(i=this.definition.polymorphic.discriminator);var f;if(e||(f=r.getCache()),n)p[l]=n[d],i&&(p[i]=n.constructor.modelName),this.definition.applyProperties(p,n),r.resetCache(n);else{if("function"==typeof t){if(i){var u=p[i];if("string"!=typeof u)throw new Error("Polymorphic model not found: `"+i+"` not set");if(u=u.toLowerCase(),a=lookupModel(s.dataSource.modelBuilder.models,u),!a)throw new Error("Polymorphic model not found: `"+u+"`")}if(void 0!==f&&f instanceof ModelBaseClass)return t(null,f),f;var m={where:{}};return m.where[d]=p[l],void 0===m.where[d]||null===m.where[d]?process.nextTick(t):(this.definition.applyScope(p,m),c&&mergeQuery(m,c),Array.isArray(m.fields)&&-1===m.fields.indexOf(d)&&m.fields.push(d),a.findOne(m,o,function(e,o){return e?t(e):o?void(null!=o[d]&&null!=p[l]&&o[d].toString()===p[l].toString()?(r.resetCache(o),t(null,o)):(e=new Error("Key mismatch: "+r.definition.modelFrom.modelName+"."+l+": "+p[l]+", "+a.modelName+"."+d+": "+o[d]),e.statusCode=400,t(e))):t(null,null)}),p[l])}if(void 0===e)return f;p[l]=n,r.resetCache()}},BelongsTo.prototype.getAsync=function(e,o){return"function"==typeof e&&void 0===o&&(o=e,e={}),o=o||utils.createPromiseCallback(),this.related(!0,e,o),o.promise},RelationDefinition.hasAndBelongsToMany=function(e,o,t){t=t||{},o=lookupModelTo(e,o,t,!0);var i=e.dataSource.modelBuilder.models;if(!t.through){if(t.polymorphic)throw new Error("Polymorphic relations need a through model");var n=e.modelName+o.modelName,r=o.modelName+e.modelName;t.through=lookupModel(i,n)||lookupModel(i,r)||e.dataSource.define(n)}var s={as:t.as,through:t.through};if(s.properties=t.properties,s.scope=t.scope,t.polymorphic){var a=polymorphicParams(t.polymorphic);s.polymorphic=a;var d=t.through.prototype[a.as];"function"!=typeof d&&t.through.belongsTo(a.as,{polymorphic:!0})}else t.through.belongsTo(e);return t.through.belongsTo(o),this.hasMany(e,o,s)},RelationDefinition.hasOne=function(e,o,t){t=t||{},o=lookupModelTo(e,o,t);var i,n,r=t.primaryKey||e.dataSource.idName(e.modelName)||"id",s=t.as||i8n.camelize(o.modelName,!0),a=t.foreignKey||i8n.camelize(e.modelName+"_id",!0);t.polymorphic&&(n=polymorphicParams(t.polymorphic),a=n.foreignKey,i=n.discriminator,t.through||o.dataSource.defineProperty(o.modelName,i,{type:"string",index:!0}));var d=e.relations[s]=new RelationDefinition({name:s,type:RelationTypes.hasOne,modelFrom:e,keyFrom:r,keyTo:a,modelTo:o,multiple:!1,properties:t.properties,scope:t.scope,options:t.options,polymorphic:n,methods:t.methods});return o.dataSource.defineForeignKey(o.modelName,a,e.modelName,r),Object.defineProperty(e.prototype,s,{enumerable:!0,configurable:!0,get:function(){var e=new HasOne(d,this),o=e.related.bind(e);return o.getAsync=e.getAsync.bind(e),o.create=e.create.bind(e),o.build=e.build.bind(e),o.update=e.update.bind(e),o.destroy=e.destroy.bind(e),o._targetClass=d.modelTo.modelName,bindRelationMethods(e,o,d),o}}),e.prototype["__get__"+s]=function(){var e=this[s];e.apply(this,arguments)},e.prototype["__create__"+s]=function(){var e=this[s].create;e.apply(this,arguments)},e.prototype["__update__"+s]=function(){var e=this[s].update;e.apply(this,arguments)},e.prototype["__destroy__"+s]=function(){var e=this[s].destroy;e.apply(this,arguments)},d},HasOne.prototype.create=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this,n=this.definition.modelTo,r=this.definition.keyTo,s=this.definition.keyFrom,a=this.modelInstance;"function"!=typeof e||t||(t=e,e={}),e=e||{},t=t||utils.createPromiseCallback(),e[r]=a[s];var d={where:{}};return d.where[r]=e[r],this.definition.applyScope(a,d),this.definition.applyProperties(a,e),n.findOrCreate(d,e,o,function(e,o,r){return e?t&&t(e):void(r?(i.resetCache(o),t&&t(e,o)):t&&t(new Error("HasOne relation cannot create more than one instance of "+n.modelName)))}),t.promise},HasOne.prototype.update=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={}),t=t||utils.createPromiseCallback();var i=this.definition,n=this.definition.keyTo;return this.fetch(function(o,r){r instanceof ModelBaseClass?(delete e[n],r.updateAttributes(e,t)):t(new Error("HasOne relation "+i.name+" is empty"))}),t.promise},HasOne.prototype.destroy=function(e,o){"function"==typeof e&&void 0===o&&(o=e,e={}),o=o||utils.createPromiseCallback();var t=this.definition;return this.fetch(function(i,n){n instanceof ModelBaseClass?n.destroy(e,o):o(new Error("HasOne relation "+t.name+" is empty"))}),o.promise},HasMany.prototype.create=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this,n=this.definition.modelTo,r=this.definition.keyTo,s=this.definition.keyFrom,a=this.modelInstance;"function"!=typeof e||t||(t=e,e={}),e=e||{},t=t||utils.createPromiseCallback();var d=function(e){e[r]=a[s],i.definition.applyProperties(a,e)},l=function(e,o){Array.isArray(e)?e.forEach(o):o(e)};return l(e,d),n.create(e,o,function(e,o){e?t&&t(e):(l(o,i.addToCache.bind(i)),t&&t(e,o))}),t.promise},HasMany.prototype.build=HasOne.prototype.build=function(e){var o=this.definition.modelTo,t=this.definition.keyFrom,i=this.definition.keyTo;return e=e||{},e[i]=this.modelInstance[t],this.definition.applyProperties(this.modelInstance,e),new o(e)},HasOne.prototype.related=function(e,o,t){var i,n=this,r=this.definition.modelTo,s=this.definition.keyTo,a=this.definition.keyFrom,d=this.definition,l=this.modelInstance;e instanceof ModelBaseClass&&void 0===o&&void 0===t?(i=e,e=!1):"function"==typeof e&&void 0===o&&void 0===t?(t=e,e=!1):"function"==typeof o&&void 0===t&&(t=o,o={});var p;if(e||(p=n.getCache()),i)i[s]=l[a],n.resetCache(i);else{if("function"==typeof t){if(void 0===p){var c={where:{}};return c.where[s]=l[a],d.applyScope(l,c),r.findOne(c,o,function(e,o){return e?t(e):o?void(null!=o[s]&&null!=l[a]&&o[s].toString()===l[a].toString()?(n.resetCache(o),t(null,o)):(e=new Error("Key mismatch: "+n.definition.modelFrom.modelName+"."+a+": "+l[a]+", "+r.modelName+"."+s+": "+o[s]),e.statusCode=400,t(e))):t(null,null)}),l[a]}return t(null,p),p}if(void 0===e)return p;i[s]=l[a],n.resetCache()}},HasOne.prototype.getAsync=function(e,o){return"function"==typeof e&&void 0===o&&(o=e,e={}),o=o||utils.createPromiseCallback(),this.related(!0,o),o.promise},RelationDefinition.embedsOne=function(e,o,t){t=t||{},o=lookupModelTo(e,o,t);var i=(e.modelName,t.as||i8n.camelize(o.modelName,!0)+"Item"),n=t.property||i8n.camelize(o.modelName,!0),r=o.dataSource.idName(o.modelName)||"id";i===n&&(n="_"+n,debug("EmbedsOne property cannot be equal to relation name: forcing property %s for relation %s",n,i));var s=e.relations[i]=new RelationDefinition({name:i,type:RelationTypes.embedsOne,modelFrom:e,keyFrom:n,keyTo:r,modelTo:o,multiple:!1,properties:t.properties,scope:t.scope,options:t.options,embed:!0,methods:t.methods}),a={type:o};return t["default"]===!0?a["default"]=function(){return new o}:"object"==typeof t["default"]&&(a["default"]=function(e){return function(){return new o(e)}}(t["default"])),e.dataSource.defineProperty(e.modelName,n,a),s.options.validate!==!1&&e.validate(i,function(e){var t=this[n];if(t instanceof o&&!t.isValid()){var r=Object.keys(t.errors)[0],s="is invalid: `"+r+"` "+t.errors[r];this.errors.add(i,s,"invalid"),e(!1)}}),Object.defineProperty(e.prototype,i,{enumerable:!0,configurable:!0,get:function(){var e=new EmbedsOne(s,this),o=e.related.bind(e);return o.create=e.create.bind(e),o.build=e.build.bind(e),o.update=e.update.bind(e),o.destroy=e.destroy.bind(e),o.value=e.embeddedValue.bind(e),o._targetClass=s.modelTo.modelName,bindRelationMethods(e,o,s),o}}),e.prototype["__get__"+i]=function(){var e=this[i];e.apply(this,arguments)},e.prototype["__create__"+i]=function(){var e=this[i].create;e.apply(this,arguments)},e.prototype["__update__"+i]=function(){var e=this[i].update;e.apply(this,arguments)},e.prototype["__destroy__"+i]=function(){var e=this[i].destroy;e.apply(this,arguments)},s},EmbedsOne.prototype.related=function(e,o,t){var i,n=this.definition.modelTo,r=this.modelInstance,s=this.definition.keyFrom;if(e instanceof ModelBaseClass&&void 0===o&&void 0===t?(i=e,e=!1):"function"==typeof e&&void 0===o&&void 0===t?(t=e,e=!1):"function"==typeof o&&void 0===t&&(t=o,o={}),i)return void(i instanceof n&&(this.definition.applyProperties(r,i),r.setAttribute(s,i)));var a=r[s];if(a&&(a.__persisted=!0),"function"==typeof t)process.nextTick(function(){t(null,a)});else if(void 0===e)return a},EmbedsOne.prototype.embeddedValue=function(e){return e=e||this.modelInstance,e[this.definition.keyFrom]},EmbedsOne.prototype.create=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=(this.definition.modelTo,this.definition.keyFrom),n=this.modelInstance;"function"!=typeof e||t||(t=e,e={}),e=e||{},t=t||utils.createPromiseCallback();var r=this.callScopeMethod("build",e),s=function(){n.isNewRecord()?(n.setAttribute(i,r),n.save(o,function(e){t(e,e?null:r)})):n.updateAttribute(i,r,o,function(e){t(e,e?null:r)})};if(this.definition.options.persistent)r.save(o,function(e){return e?t(e,r):void s()});else{var a=r.isValid()?null:new ValidationError(r);a?process.nextTick(function(){t(a)}):s()}return t.promise},EmbedsOne.prototype.build=function(e){var o=this.definition.modelTo,t=this.modelInstance,i=this.definition.keyFrom,n=this.definition.options.forceId,r=this.definition.options.persistent,s=o.dataSource.connector;e=e||{},this.definition.applyProperties(t,e);var a=this.definition.keyTo,d=o.definition.properties[a],l=n||void 0===e[a];if(l=l&&!r&&d&&d.generated,l&&"function"==typeof s.generateId){var p=s.generateId(o.modelName,e,a);e[a]=p}var c=new o(e);return t[i]=c,c},EmbedsOne.prototype.update=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition.modelTo,n=this.modelInstance,r=this.definition.keyFrom,s=e instanceof ModelBaseClass,a=s?e.toObject():e,d=n[r];if(d instanceof i)d.setAttributes(a),t=t||utils.createPromiseCallback(),"function"==typeof t&&n.save(o,function(e,o){t(e,o?o[r]:d)});else{if(!d&&t)return this.callScopeMethod("create",a,t);if(!d)return this.callScopeMethod("build",a)}return t.promise},EmbedsOne.prototype.destroy=function(e,o){"function"==typeof e&&void 0===o&&(o=e,e={});var t=this.modelInstance,i=this.definition.keyFrom;return t.unsetAttribute(i,!0),o=o||utils.createPromiseCallback(),t.save(function(e,t){o&&o(e,t)}),o.promise},RelationDefinition.embedsMany=function(e,o,t){t=t||{},o=lookupModelTo(e,o,t,!0);var i=(e.modelName,t.as||i8n.camelize(o.modelName,!0)+"List"),n=t.property||i8n.camelize(o.pluralModelName,!0),r=o.dataSource.idName(o.modelName)||"id";i===n&&(n="_"+n,debug("EmbedsMany property cannot be equal to relation name: forcing property %s for relation %s",n,i));var s=e.relations[i]=new RelationDefinition({name:i,type:RelationTypes.embedsMany,modelFrom:e,keyFrom:n,keyTo:r,modelTo:o,multiple:!0,properties:t.properties,scope:t.scope,options:t.options,embed:!0});e.dataSource.defineProperty(e.modelName,n,{type:[o],"default":function(){return[]}}),"function"!=typeof o.dataSource.connector.generateId&&e.validate(n,function(e){var t=this,i=this[n]||[],s=!1;i.forEach(function(e,i){if(e instanceof o&&void 0==e[r]){s=!0;var a="contains invalid item at index `"+i+"`:";a+=" `"+r+"` is blank",t.errors.add(n,a,"invalid")}}),s&&e(!1)}),t.polymorphic||e.validate(n,function(e){var o=this[n]||[],t=o.map(function(e){return e[r]&&e[r].toString()}),i=t.filter(function(e,o){return utils.findIndexOf(t,e,idEquals)===o});t.length!==i.length&&(this.errors.add(n,"contains duplicate `"+r+"`","uniqueness"),e(!1))},{code:"uniqueness"}),s.options.validate!==!1&&e.validate(n,function(e){var t=this,i=this[n]||[],s=!1;i.forEach(function(e,i){if(e instanceof o){if(!e.isValid()){s=!0;var a=e[r],d=Object.keys(e.errors)[0];if(a)var l="contains invalid item: `"+a+"`";else var l="contains invalid item at index `"+i+"`";l+=" (`"+d+"` "+e.errors[d]+")",t.errors.add(n,l,"invalid")}}else s=!0,t.errors.add(n,"contains invalid item","invalid")}),s&&e(!1)});var a={findById:scopeMethod(s,"findById"),destroy:scopeMethod(s,"destroyById"),updateById:scopeMethod(s,"updateById"),exists:scopeMethod(s,"exists"),add:scopeMethod(s,"add"),remove:scopeMethod(s,"remove"),get:scopeMethod(s,"get"),set:scopeMethod(s,"set"),unset:scopeMethod(s,"unset"),at:scopeMethod(s,"at"),value:scopeMethod(s,"embeddedValue")},d=a.findById;e.prototype["__findById__"+i]=d;var l=a.destroy;e.prototype["__destroyById__"+i]=l;var p=a.updateById;e.prototype["__updateById__"+i]=p;var c=a.add;e.prototype["__link__"+i]=c;
var f=a.remove;e.prototype["__unlink__"+i]=f,a.create=scopeMethod(s,"create"),a.build=scopeMethod(s,"build"),a.related=scopeMethod(s,"related"),s.options.persistent||(a.destroyAll=scopeMethod(s,"destroyAll"));for(var u=extendScopeMethods(s,a,t.scopeMethods),m=0;m<u.length;m++){var y=u[m],h=a[y];"function"==typeof h&&h.shared===!0&&(e.prototype["__"+y+"__"+i]=h)}var v=defineScope(e.prototype,o,i,function(){return{}},a,s.options);return v.related=a.related,s},EmbedsMany.prototype.prepareEmbeddedInstance=function(e){if(e&&"function"!==e.triggerParent){var o=this,t=this.definition.keyFrom,i=this.modelInstance;if(this.definition.options.persistent){var n=this.definition.keyTo;e.__persisted=!!e[n]}else e.__persisted=!0;e.triggerParent=function(n,r){if("save"===n||"destroy"===n){var s=o.embeddedList();if("destroy"===n){var a=s.indexOf(e);a>-1&&s.splice(a,1)}i.updateAttribute(t,s,function(e,o){r(e,e?null:o)})}else process.nextTick(r)};var r=e.trigger;e.trigger=function(o,t,i,n){if("function"==typeof t){var s=t;t=function(t){s.call(this,function(i){e.triggerParent(o,function(e,o){t(i)})})}}r.call(this,o,t,i,n)}}},EmbedsMany.prototype.embeddedList=EmbedsMany.prototype.embeddedValue=function(e){e=e||this.modelInstance;var o=e[this.definition.keyFrom]||[];return o.forEach(this.prepareEmbeddedInstance.bind(this)),o},EmbedsMany.prototype.related=function(e,o,t,i,n){var r=this.definition.modelTo,s=(this.modelInstance,{});"function"==typeof t&&void 0===i&&void 0===n?(n=t,t=!1):"function"==typeof i&&void 0===n&&(n=i,i={}),"object"==typeof t&&(s=t);var a=this.embeddedList(e);this.definition.applyScope(e,s);var d=mergeQuery(s,o);d.where&&Object.keys(d.where).length>0&&(a=a?a.filter(applyFilter(d)):a);var l=function(e){d.include?r.include(e,d.include,i,n):process.nextTick(function(){n(null,e)})};l(a)},EmbedsMany.prototype.findById=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition.keyTo,n=this.definition.modelTo,r=(this.modelInstance,this.embeddedList()),s=function(e){for(var o=0;o<r.length;o++){var t=r[o];if(idEquals(t[i],e))return t}return null},a=s(e.toString());return a=a instanceof n?a:null,"function"==typeof t&&process.nextTick(function(){t(null,a)}),a},EmbedsMany.prototype.exists=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition.modelTo,n=this.findById(e,o,function(e,o){t&&t(e,o instanceof i)});return n instanceof i},EmbedsMany.prototype.updateById=function(e,o,t,i){"function"==typeof t&&void 0===i&&(i=t,t={}),"function"==typeof o&&(i=o,o={});var n=this.definition.modelTo,r=this.definition.keyFrom,s=this.modelInstance,a=this.embeddedList(),d=this.findById(e);if(d instanceof n){"object"==typeof o&&d.setAttributes(o);var l=d.isValid()?null:new ValidationError(d);if(l&&"function"==typeof i)return process.nextTick(function(){i(l,d)});"function"==typeof i&&s.updateAttribute(r,a,t,function(e){i(e,d)})}else"function"==typeof i&&process.nextTick(function(){i(null,null)});return d},EmbedsMany.prototype.destroyById=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition.modelTo,n=this.definition.keyFrom,r=this.modelInstance,s=this.embeddedList(),a=e instanceof i?e:this.findById(e);if(a instanceof i){var d=s.indexOf(a);d>-1&&s.splice(d,1),"function"==typeof t&&r.updateAttribute(n,s,function(e){t(e),i.emit("deleted",a.id,a.toJSON())})}else"function"==typeof t&&process.nextTick(t);return a},EmbedsMany.prototype.destroyAll=function(e,o,t){"function"==typeof o&&void 0===t?(t=o,o={}):"function"==typeof e&&void 0===o&&void 0===t&&(t=e,e={});var i=this.definition.keyFrom,n=this.modelInstance,r=this.embeddedList();if(e&&Object.keys(e).length>0){var s=applyFilter({where:e}),a=function(e){return!s(e)};r=r?r.filter(a):r}else r=[];"function"==typeof t?n.updateAttribute(i,r,function(e){t(e)}):n.setAttribute(i,r)},EmbedsMany.prototype.get=EmbedsMany.prototype.findById,EmbedsMany.prototype.set=EmbedsMany.prototype.updateById,EmbedsMany.prototype.unset=EmbedsMany.prototype.destroyById,EmbedsMany.prototype.at=function(e,o){var t=this.definition.modelTo,i=(this.modelInstance,this.embeddedList()),n=i[parseInt(e)];return n=n instanceof t?n:null,"function"==typeof o&&process.nextTick(function(){o(null,n)}),n},EmbedsMany.prototype.create=function(e,o,t){var i=(this.definition.keyTo,this.definition.modelTo,this.definition.keyFrom),n=this.modelInstance;"function"==typeof o&&void 0===t&&(t=o,o={}),"function"!=typeof e||t||(t=e,e={}),e=e||{},t=t||utils.createPromiseCallback();var r=this.embeddedList(),s=this.callScopeMethod("build",e),a=function(){n.isNewRecord()?(n.setAttribute(i,r),n.save(o,function(e){t(e,e?null:s)})):n.updateAttribute(i,r,o,function(e){t(e,e?null:s)})};if(this.definition.options.persistent)s.save(function(e){return e?t(e,s):void a()});else{var d=s.isValid()?null:new ValidationError(s);d?process.nextTick(function(){t(d)}):a()}return t.promise},EmbedsMany.prototype.build=function(e){var o=this.definition.modelTo,t=this.modelInstance,i=this.definition.options.forceId,n=this.definition.options.persistent,r=o.dataSource.connector,s=this.definition.keyTo,a=o.definition.properties[s],d=a&&a.type,l=this.embeddedList();e=e||{};var p=i||void 0===e[s];if(p=p&&!n,p&&d===Number){var c=l.map(function(e){return"number"==typeof e[s]?e[s]:0});c.length>0?e[s]=Math.max.apply(null,c)+1:e[s]=1}else if(p&&"function"==typeof r.generateId){var f=r.generateId(o.modelName,e,s);e[s]=f}this.definition.applyProperties(t,e);var u=new o(e);return this.definition.options.prepend?l.unshift(u):l.push(u),this.prepareEmbeddedInstance(u),u},EmbedsMany.prototype.add=function(e,o,t,i){"function"==typeof t&&void 0===i?(i=t,t={}):"function"==typeof o&&void 0===t&&void 0===i&&(i=o,o={}),i=i||utils.createPromiseCallback();var n=this,r=this.definition,s=this.definition.modelTo,a=this.modelInstance,t=r.options,d=t.belongsTo&&s.relations[t.belongsTo];if(!d)throw new Error("Invalid reference: "+t.belongsTo||"(none)");var l=d.keyTo,p=d.modelTo.definition.idName()||"id",c={};c[l]=e instanceof d.modelTo?e[p]:e;var f={where:c};return d.applyScope(a,f),d.modelTo.findOne(f,t,function(e,r){if(r instanceof d.modelTo){var s=n.build(o||{});s[t.belongsTo](r),a.save(function(e){i(e,e?null:s)})}else i(null,null)}),i.promise},EmbedsMany.prototype.remove=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this,n=this.definition,r=this.definition.modelTo,s=this.modelInstance,o=n.options,a=o.belongsTo&&r.relations[o.belongsTo];if(!a)throw new Error("Invalid reference: "+o.belongsTo||"(none)");var d=a.keyTo,l=a.modelTo.definition.idName()||"id",p={};p[d]=e instanceof a.modelTo?e[l]:e;var c={where:p};return a.applyScope(s,c),t=t||utils.createPromiseCallback(),s[n.name](c,o,function(e,n){return e?t(e):(n.forEach(function(e){i.unset(e)}),void s.save(o,function(e){t(e)}))}),t.promise},RelationDefinition.referencesMany=function(e,o,t){t=t||{},o=lookupModelTo(e,o,t,!0);var i=(e.modelName,t.as||i8n.camelize(o.pluralModelName,!0)),n=t.foreignKey||i8n.camelize(o.modelName+"_ids",!0),r=o.dataSource.idName(o.modelName)||"id",s=o.definition.properties[r].type,a=e.relations[i]=new RelationDefinition({name:i,type:RelationTypes.referencesMany,modelFrom:e,keyFrom:n,keyTo:r,modelTo:o,multiple:!0,properties:t.properties,scope:t.scope,options:t.options});e.dataSource.defineProperty(e.modelName,n,{type:[s],"default":function(){return[]}}),e.validate(i,function(e){var t=this[n]||[],r=t.filter(function(e,o){return utils.findIndexOf(t,e,idEquals)===o});if(t.length!==r.length){var s="contains duplicate `"+o.modelName+"` instance";this.errors.add(i,s,"uniqueness"),e(!1)}},{code:"uniqueness"});var d={findById:scopeMethod(a,"findById"),destroy:scopeMethod(a,"destroyById"),updateById:scopeMethod(a,"updateById"),exists:scopeMethod(a,"exists"),add:scopeMethod(a,"add"),remove:scopeMethod(a,"remove"),at:scopeMethod(a,"at")},l=d.findById;e.prototype["__findById__"+i]=l;var p=d.destroy;e.prototype["__destroyById__"+i]=p;var c=d.updateById;e.prototype["__updateById__"+i]=c;var f=d.add;e.prototype["__link__"+i]=f;var u=d.remove;e.prototype["__unlink__"+i]=u,d.create=scopeMethod(a,"create"),d.build=scopeMethod(a,"build"),d.related=scopeMethod(a,"related");for(var m=extendScopeMethods(a,d,t.scopeMethods),y=0;y<m.length;y++){var h=m[y],v=d[h];"function"==typeof v&&v.shared===!0&&(e.prototype["__"+h+"__"+i]=v)}var T=defineScope(e.prototype,o,i,function(){return{}},d,a.options);return T.related=d.related,a},ReferencesMany.prototype.related=function(e,o,t,i,n){var r=this.definition.keyFrom,s=this.definition.modelTo,a=(this.definition.name,this.modelInstance),d=e,l={},p=!1;"function"==typeof t&&void 0===i&&void 0===n?(n=t,t=void 0):"function"==typeof i&&void 0===n&&(n=i,i={},"boolean"==typeof t?(p=t,t={}):p=!0),l=t||{};var c=d[r]||[];this.definition.applyScope(a,l);var f=mergeQuery(l,o);return s.findByIds(c,f,i,n)},ReferencesMany.prototype.findById=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition.modelTo,n=this.definition.modelFrom,r=(this.definition.name,this.modelInstance),s=this.definition.keyTo,a=this.definition.keyFrom;"object"==typeof e&&(e=e.toString());var d=r[a]||[],l={};return this.definition.applyScope(r,l),t=t||utils.createPromiseCallback(),i.findByIds([e],l,o,function(o,l){if(o)return t(o);var p=l[0];return p?void(utils.findIndexOf(d,p[s],idEquals)>-1?t(null,p):(o=new Error("Key mismatch: "+n.modelName+"."+a+": "+r[a]+", "+i.modelName+"."+s+": "+p[s]),o.statusCode=400,t(o))):(o=new Error("No instance with id "+e+" found for "+i.modelName),o.statusCode=404,t(o))}),t.promise},ReferencesMany.prototype.exists=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition.keyFrom,n=this.modelInstance[i]||[];return t=t||utils.createPromiseCallback(),process.nextTick(function(){t(null,utils.findIndexOf(n,e,idEquals)>-1)}),t.promise},ReferencesMany.prototype.updateById=function(e,o,t,i){return"function"==typeof t&&void 0===i?(i=t,t={}):"function"==typeof o&&void 0===t&&void 0===i&&(i=o,o={}),i=i||utils.createPromiseCallback(),this.findById(e,t,function(e,n){return e?i(e):void n.updateAttributes(o,t,i)}),i.promise},ReferencesMany.prototype.destroyById=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this;return t=t||utils.createPromiseCallback(),this.findById(e,function(e,o){return e?t(e):void i.remove(o,function(e,i){o.destroy(t)})}),t.promise},ReferencesMany.prototype.at=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition.keyFrom,n=this.modelInstance[i]||[];return t=t||utils.createPromiseCallback(),this.findById(n[e],o,t),t.promise},ReferencesMany.prototype.create=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition,n=(this.definition.modelTo,this.definition.name,this.modelInstance),r=this.definition.keyTo,s=this.definition.keyFrom;"function"!=typeof e||t||(t=e,e={}),e=e||{},t=t||utils.createPromiseCallback();var a=n[s]||[],d=this.callScopeMethod("build",e);return d.save(o,function(e,d){if(e)return t(e,d);var l=d[r];"object"==typeof l&&(l=l.toString()),i.options.prepend?a.unshift(l):a.push(l),n.updateAttribute(s,a,o,function(e,o){t(e,d)})}),t.promise},ReferencesMany.prototype.build=function(e){var o=this.definition.modelTo;return e=e||{},this.definition.applyProperties(this.modelInstance,e),new o(e)},ReferencesMany.prototype.add=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition,n=this.definition.modelTo,r=this.modelInstance,s=this.definition.keyTo,a=this.definition.keyFrom,d=function(e,t){var n=e[s];"object"==typeof n&&(n=n.toString());var d=r[a]||[];i.options.prepend?d.unshift(n):d.push(n),r.updateAttribute(a,d,o,function(o){t(o,o?null:e)})};if(t=t||utils.createPromiseCallback(),e instanceof n)d(e,t);else{var l={where:{}};l.where[s]=e,i.applyScope(r,l),n.findOne(l,o,function(e,o){return e||!o?t(e,null):void d(o,t)})}return t.promise},ReferencesMany.prototype.remove=function(e,o,t){"function"==typeof o&&void 0===t&&(t=o,o={});var i=this.definition,n=this.modelInstance,r=this.definition.keyTo,s=this.definition.keyFrom,a=n[s]||[],d=e instanceof i.modelTo?e[r]:e;t=t||utils.createPromiseCallback();var l=utils.findIndexOf(a,d,idEquals);return l>-1?(a.splice(l,1),n.updateAttribute(s,a,o,function(e,o){t(e,o[s]||[])})):process.nextTick(function(){t(null,a)}),t.promise};
}).call(this,require('_process'))

},{"./connectors/memory":201,"./model.js":206,"./scope.js":209,"./utils":211,"./validations.js":212,"_process":425,"assert":2,"async":213,"debug":190,"inflection":196,"util":594}],209:[function(require,module,exports){
arguments[4][128][0].apply(exports,arguments)
},{"./model.js":206,"./utils":211,"dup":128,"inflection":196}],210:[function(require,module,exports){
(function (Buffer){
var Types={};Types.Text=function e(t){return this instanceof e?void(this.value=t):t},Types.Text.prototype.toObject=Types.Text.prototype.toJSON=function(){return this.value},Types.JSON=function t(e){return this instanceof t?void(this.value=e):e},Types.JSON.prototype.toObject=Types.JSON.prototype.toJSON=function(){return this.value},Types.Any=function r(e){return this instanceof r?void(this.value=e):e},Types.Any.prototype.toObject=Types.Any.prototype.toJSON=function(){return this.value},module.exports=function(e){var t=require("./geo").GeoPoint;for(var r in Types)e[r]=Types[r];e.schemaTypes={},e.registerType=function(e,t){t=t||[],t=t.concat([e.name]);for(var r=0;r<t.length;r++)this.schemaTypes[t[r].toLowerCase()]=e},e.registerType(Types.Text),e.registerType(Types.JSON),e.registerType(Types.Any),e.registerType(String),e.registerType(Number),e.registerType(Boolean),e.registerType(Date),e.registerType(Buffer,["Binary"]),e.registerType(Array),e.registerType(t),e.registerType(Object)},module.exports.Types=Types;
}).call(this,require("buffer").Buffer)

},{"./geo":202,"buffer":42}],211:[function(require,module,exports){
(function (process,global){
function safeRequire(e){try{return require(e)}catch(r){console.log('Run "npm install loopback-datasource-juggler '+e+'" command to use loopback-datasource-juggler using '+e+" database engine"),process.exit(1)}}function setScopeValuesFromWhere(e,r,t){for(var n in r)if("and"!==n){var i=t.definition.properties[n];if(i){var o=r[n];("object"!=typeof o||o instanceof i.type||"ObjectID"===i.type.name)&&(e[n]=r[n])}}else for(var s=0,a=r[n].length;a>s;s++)setScopeValuesFromWhere(e,r[n][s],t)}function mergeIncludes(e,r){var t=convertToArray(e),n=convertToArray(r);if(0===t.length)return n;if(0===n.length)return t;var i=[],o=[];for(var s in n){var a=n[s],u="string"==typeof(a.rel||a.relation)?a.relation:Object.keys(a)[0];i.push(u),o.push(a)}for(var f in t){var l=t[f],c="string"==typeof(l.rel||l.relation)?l.relation:Object.keys(l)[0];-1===i.indexOf(c)&&o.push(l)}return o}function convertToArray(e){if("string"==typeof e){var r={};return r[e]=!0,[r]}if(isPlainObject(e)){if(e.rel||e.relation)return[e];var t=[];for(var n in e){var r={};r[n]=e[n],t.push(r)}return t}if(Array.isArray(e)){var i=[];for(var o in e){var s=e[o];if("string"==typeof s){var r={};r[s]=!0,i.push(r)}else i.push(s)}return i}return[]}function mergeQuery(e,r,t){if(r){if(t=t||{},e=e||{},r.where&&Object.keys(r.where).length>0&&(e.where&&Object.keys(e.where).length>0?e.where={and:[e.where,r.where]}:e.where=r.where),t.include!==!1&&r.include)if(e.include)if(t.nestedInclude===!0){var n=e.include;e.include={},e.include[r.include]=n}else e.include=mergeIncludes(e.include,r.include);else e.include=r.include;t.collect!==!1&&r.collect&&(e.collect=r.collect),t.fields!==!1&&void 0!==r.fields?e.fields=r.fields:void 0!==r.fields&&(e.fields=[].concat(e.fields).concat(r.fields)),e.order&&t.order!==!1||!r.order||(e.order=r.order),t.limit!==!1&&void 0!==r.limit&&(e.limit=r.limit);var i=t.skip!==!1&&t.offset!==!1;return i&&void 0!==r.skip&&(e.skip=r.skip),i&&void 0!==r.offset&&(e.offset=r.offset),e}}function fieldsToArray(e,r,t){if(e){var n,i,o=r;if("string"==typeof e)o=[e];else if(Array.isArray(e)&&e.length>0)o=e;else if("object"==typeof e){var s=[],a=[],u=Object.keys(e);if(!u.length)return;for(n=0,i=u.length;i>n;n++){var f=u[n];e[f]?s.push(f):f in e&&!e[f]&&a.push(f)}if(s.length>0)o=s;else if(a.length>0)for(n=0,i=a.length;i>n;n++){var l=o.indexOf(a[n]);o.splice(l,1)}}var c=[];if(t)for(n=0,i=o.length;i>n;n++)-1!==r.indexOf(o[n])&&c.push(o[n]);else c=o;return c}}function selectFields(e){return function(r){for(var t,n={},i=0;i<e.length;i++)t=e[i],n[t]=r[t];return n}}function removeUndefined(e,r){return"object"!=typeof e||null===e?e:traverse(e).forEach(function(e){if(void 0===e)switch(r){case"nullify":this.update(null);break;case"throw":throw new Error("Unexpected `undefined` in query");case"ignore":default:this.remove()}return Array.isArray(e)||"object"!=typeof e||null===e||e.constructor===Object?e:(this.update(e,!0),e)})}function parseSettings(e){if(!e)return{};var r=url.parse(e,!1),t={};if(t.connector=r.protocol&&r.protocol.split(":")[0],t.host=t.hostname=r.hostname,t.port=r.port&&Number(r.port),t.user=t.username=r.auth&&r.auth.split(":")[0],t.password=r.auth&&r.auth.split(":")[1],t.database=r.pathname&&r.pathname.split("/")[1],t.url=e,r.query){var n=qs.parse(r.query);for(var i in n)t[i]=n[i]}return t}function mergeSettings(e,r){var t=Array.isArray(r),n=t&&[]||{};return t?(e=e||[],n=n.concat(e),r.forEach(function(e){-1===n.indexOf(e)&&n.push(e)})):(null!=e&&"object"==typeof e&&Object.keys(e).forEach(function(r){n[r]=e[r]}),null!=r&&"object"==typeof r&&Object.keys(r).forEach(function(t){var i=r[t];null==i||"object"!=typeof i?n[t]=i:null==e||"object"!=typeof e||null==e[t]?n[t]=i:n[t]=mergeSettings(e[t],r[t])})),n}function defineCachedRelations(e){e.__cachedRelations||Object.defineProperty(e,"__cachedRelations",{writable:!0,enumerable:!1,configurable:!0,value:{}})}function isPlainObject(e){return"object"==typeof e&&null!==e&&e.constructor===Object}function sortObjectsByIds(e,r,t,n){r=r.map(function(e){return"object"==typeof e?String(e):e});var i=function(t){var n="object"==typeof t[e],i=n?String(t[e]):t[e];return r.indexOf(i)},o=[],s=[];return t.forEach(function(e){if("object"==typeof e){var r=i(e);if(n&&-1===r)return;-1===r?s.push(e):o.push(e)}}),o.sort(function(e,r){var t=i(e),n=i(r);return-1===t||-1===n?1:t===n?0:t>n?1:n>t?-1:void 0}),o.concat(s)}function createPromiseCallback(){var e;if(!global.Promise)return e=function(){},e.promise={},Object.defineProperty(e.promise,"then",{get:throwPromiseNotDefined}),Object.defineProperty(e.promise,"catch",{get:throwPromiseNotDefined}),e;var r=new Promise(function(r,t){e=function(e,n){return e?t(e):r(n)}});return e.promise=r,e}function throwPromiseNotDefined(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')}function uniq(e){var r=[];if(!e)return r;assert(Array.isArray(e),"array argument is required");for(var t=0,n=e.length;n>t;t++)e.indexOf(e[t])===t&&r.push(e[t]);return r}function toRegExp(e){var r="string"==typeof e,t=e instanceof RegExp;if(!r&&!t)return new Error("Invalid argument, must be a string, regex literal, or RegExp object");if(t)return e;if(!hasRegExpFlags(e))return new RegExp(e);var n=e.split("/").pop().split(""),i=["i","g","m"],o=[];n.forEach(function(e){-1===i.indexOf(e)&&o.push(e)});var s=o.length>0;if(s)return new Error("Invalid regex flags: "+o);var a=e.substr(1,e.lastIndexOf("/")-1);return new RegExp(a,n.join(""))}function hasRegExpFlags(e){return e instanceof RegExp?e.toString().split("/").pop():!!e.match(/.*\/.+$/)}function idEquals(e,r){return e===r?!0:"number"==typeof e&&"string"==typeof r||"string"==typeof e&&"number"==typeof r?e==r:(e=JSON.stringify(e),r=JSON.stringify(r),e===r?!0:!1)}function findIndexOf(e,r,t){if(!t)return e.indexOf(r);for(var n=0;n<e.length;n++)if(t(e[n],r))return n;return-1}exports.safeRequire=safeRequire,exports.fieldsToArray=fieldsToArray,exports.selectFields=selectFields,exports.removeUndefined=removeUndefined,exports.parseSettings=parseSettings,exports.mergeSettings=exports.deepMerge=mergeSettings,exports.isPlainObject=isPlainObject,exports.defineCachedRelations=defineCachedRelations,exports.sortObjectsByIds=sortObjectsByIds,exports.setScopeValuesFromWhere=setScopeValuesFromWhere,exports.mergeQuery=mergeQuery,exports.mergeIncludes=mergeIncludes,exports.createPromiseCallback=createPromiseCallback,exports.uniq=uniq,exports.toRegExp=toRegExp,exports.hasRegExpFlags=hasRegExpFlags,exports.idEquals=idEquals,exports.findIndexOf=findIndexOf;var traverse=require("traverse"),assert=require("assert"),url=require("url"),qs=require("qs");
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":425,"assert":2,"qs":220,"traverse":225,"url":592}],212:[function(require,module,exports){
(function (process){
function Validatable(){}function validatePresence(t,i,n){blank(this[t])&&n()}function validateAbsence(t,i,n){blank(this[t])||n()}function validateLength(t,i,n){if(!nullCheck.call(this,t,i,n)){var e=this[t].length;i.min&&e<i.min&&n("min"),i.max&&e>i.max&&n("max"),i.is&&e!==i.is&&n("is")}}function validateNumericality(t,i,n){return nullCheck.call(this,t,i,n)?void 0:"number"!=typeof this[t]?n("number"):i["int"]&&this[t]!==Math.round(this[t])?n("int"):void 0}function validateInclusion(t,i,n){nullCheck.call(this,t,i,n)||~i["in"].indexOf(this[t])||n()}function validateExclusion(t,i,n){nullCheck.call(this,t,i,n)||~i["in"].indexOf(this[t])&&n()}function validateFormat(t,i,n){nullCheck.call(this,t,i,n)||("string"==typeof this[t]?this[t].match(i["with"])||n():n())}function validateCustom(t,i,n,e){i.customValidator.call(this,n,e)}function validateUniqueness(t,i,n,e){if(blank(this[t]))return process.nextTick(e);var r={where:{}};r.where[t]=this[t],i&&i.scopedTo&&i.scopedTo.forEach(function(t){var i=this[t];void 0!==i&&(r.where[t]=this[t])},this);var a=this.constructor.definition.idName(),o=this.isNewRecord();this.constructor.find(r,function(i,r){i?n(i):r.length>1?n():1===r.length&&a===t&&o?n():1!==r.length||this.id&&r[0].id&&r[0].id.toString()==this.id.toString()||n(),e()}.bind(this))}function getConfigurator(t,i){return function(){var n=Array.prototype.slice.call(arguments);n[1]=n[1]||{},configure(this,t,n,i)}}function cleanErrors(t){Object.defineProperty(t,"errors",{enumerable:!1,configurable:!0,value:!1})}function validationFailed(t,i,n,e){n.options||{};if("string"!=typeof i)return!1;if(skipValidation(t,n,"if")||skipValidation(t,n,"unless"))return e&&e(!1),!1;var r=!1,a=validators[n.validation],o=[];return o.push(i),o.push(n),o.push(function(e){var a,o=n.code||n.validation;n.message&&(a=n.message),!a&&defaultMessages[n.validation]&&(a=defaultMessages[n.validation]),a||(a="is invalid"),e&&(o+="."+e,a=a[e]?a[e]:defaultMessages.common[e]?defaultMessages.common[e]:"is invalid"),e!==!1&&t.errors.add(i,a,o),r=!0}),e&&o.push(function(){e(r)}),a.apply(t,o),r}function skipValidation(t,i,n){var e=!0;return"function"==typeof i[n]?(e=i[n].call(t),"unless"===n&&(e=!e)):"string"==typeof i[n]&&("function"==typeof t[i[n]]?(e=t[i[n]].call(t),"unless"===n&&(e=!e)):t.__data.hasOwnProperty(i[n])?(e=t[i[n]],"unless"===n&&(e=!e)):e="if"===n),!e}function nullCheck(t,i,n){return null==this[t]?(i.allowNull||n("null"),!0):blank(this[t])?(i.allowBlank||n("blank"),!0):!1}function blank(t){return"undefined"==typeof t?!0:t instanceof Array&&0===t.length?!0:null===t?!0:"number"==typeof t&&isNaN(t)?!0:"string"==typeof t&&""===t?!0:!1}function configure(t,i,n,e){t.validations||Object.defineProperty(t,"validations",{writable:!0,configurable:!0,enumerable:!1,value:{}}),n=[].slice.call(n);var r;r="object"==typeof n[n.length-1]?n.pop():{},"custom"===i&&"function"==typeof n[n.length-1]&&(r.customValidator=n.pop()),r.validation=i,n.forEach(function(i){if("string"==typeof i){var n=extend({},r);n.options=e||{},t.validations[i]=t.validations[i]||[],t.validations[i].push(n)}})}function Errors(){Object.defineProperty(this,"codes",{enumerable:!1,configurable:!0,value:{}})}function ErrorCodes(t){var i=this;Object.keys(t).forEach(function(n){i[n]=t[n].codes})}function ValidationError(t){if(!(this instanceof ValidationError))return new ValidationError(t);this.name="ValidationError";var i=t&&t.constructor&&t.constructor.modelName;this.message=util.format("The %s instance is not valid. Details: %s.",i?"`"+i+"`":"model",formatErrors(t.errors,t.toJSON())||"(unknown)"),this.statusCode=422,this.details={context:i,codes:t.errors&&t.errors.codes,messages:t.errors},Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):errorHasStackProperty&&(this.stack=(new Error).stack)}function formatErrors(t,i){var n="; ";return t=t||{},Object.getOwnPropertyNames(t).filter(function(i){return Array.isArray(t[i])}).map(function(e){var r=t[e],a=i[e];return r.map(function(t){return formatPropertyError(e,a,t)}).join(n)}).join(n)}function formatPropertyError(t,i,n){var e,r=typeof i;return"string"===r?e=JSON.stringify(truncatePropertyString(i)):i instanceof Date?e=i.toISOString():"object"===r?(e=util.inspect(i,{showHidden:!1,color:!1,depth:Array.isArray(i)?1:0}),e=truncatePropertyString(e)):e=truncatePropertyString(""+i),"`"+t+"` "+n+" (value: "+e+")"}function truncatePropertyString(t){var i=ValidationError.maxPropertyStringLength;if(t.length<=i)return t;var n,e=t.match(/([ \t})\]]+)$/);return e?(n=e[1].slice(-3),i-=n.length):(n=t.slice(-3),i-=3),t.slice(0,i-4)+"..."+n}var util=require("util"),extend=util._extend;exports.ValidationError=ValidationError,exports.Validatable=Validatable,Validatable.validatesPresenceOf=getConfigurator("presence"),Validatable.validatesAbsenceOf=getConfigurator("absence"),Validatable.validatesLengthOf=getConfigurator("length"),Validatable.validatesNumericalityOf=getConfigurator("numericality"),Validatable.validatesInclusionOf=getConfigurator("inclusion"),Validatable.validatesExclusionOf=getConfigurator("exclusion"),Validatable.validatesFormatOf=getConfigurator("format"),Validatable.validate=getConfigurator("custom"),Validatable.validateAsync=getConfigurator("custom",{async:!0}),Validatable.validatesUniquenessOf=getConfigurator("uniqueness",{async:!0});var validators={presence:validatePresence,absence:validateAbsence,length:validateLength,numericality:validateNumericality,inclusion:validateInclusion,exclusion:validateExclusion,format:validateFormat,custom:validateCustom,uniqueness:validateUniqueness};Validatable.prototype.isValid=function(t,i){var n=!0,e=this,r=0,a=!1,o=this.constructor.validations,s="validate"===this.__strict&&this.__unknownProperties&&this.__unknownProperties.length;return"object"==typeof o||s?(Object.defineProperty(this,"errors",{enumerable:!1,configurable:!0,value:new Errors}),this.trigger("validate",function(i){function e(e){c=c||e,0===--r&&i.call(l,function(){n&&!c&&cleanErrors(l),t&&t(n&&!c)})}var l=this,c=!1,u=Object.keys(o||{});if(u.forEach(function(t){var i=o[t]||[];i.forEach(function(i){i.options&&i.options.async?(a=!0,r+=1,process.nextTick(function(){validationFailed(l,t,i,e)})):validationFailed(l,t,i)&&(n=!1)})}),s)for(var d in l.__unknownProperties){var f=l.__unknownProperties[d],h="unknown-property",v=defaultMessages[h];l.errors.add(f,v,h),n=!1}a||i.call(l,function(){n&&cleanErrors(l),t&&t(n)})},i,t),a?void 0:n):(cleanErrors(this),t&&this.trigger("validate",function(i){i.call(e,function(){t(n)})},i,t),n)};var defaultMessages={presence:"can't be blank",absence:"can't be set","unknown-property":"is not defined in the model",length:{min:"too short",max:"too long",is:"length is wrong"},common:{blank:"is blank","null":"is null"},numericality:{"int":"is not an integer",number:"is not a number"},inclusion:"is not included in the list",exclusion:"is reserved",uniqueness:"is not unique"};Errors.prototype.add=function(t,i,n){n=n||"invalid",this[t]||(this[t]=[],this.codes[t]=[]),this[t].push(i),this.codes[t].push(n)},util.inherits(ValidationError,Error);var errorHasStackProperty=!!(new Error).stack;ValidationError.maxPropertyStringLength=32;
}).call(this,require('_process'))

},{"_process":425,"util":594}],213:[function(require,module,exports){
(function (process,global){
!function(){function n(n){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,n.apply(t,arguments)}}var t,e,r={},u=function(){};t="object"==typeof window&&this===window?window:"object"==typeof global&&this===global?global:this,null!=t&&(e=t.async),r.noConflict=function(){return t.async=e,r};var i,a=Object.prototype.toString,o=Array.isArray||function(n){return"[object Array]"===a.call(n)},c=function(n,t){for(var e=-1,r=n.length;++e<r;)t(n[e],e,n)},f=function(n,t){for(var e=-1,r=n.length,u=Array(r);++e<r;)u[e]=t(n[e],e,n);return u},l=function(n,t,e){return c(n,function(n,r,u){e=t(e,n,r,u)}),e},s=function(n,t){c(p(n),function(e){t(n[e],e)})},p=Object.keys||function(n){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t},d=function(n,t){t=t||0;var e=-1,r=n.length;t&&(r-=t,r=0>r?0:r);for(var u=Array(r);++e<r;)u[e]=n[e+t];return u};"function"==typeof setImmediate&&(i=setImmediate),"undefined"!=typeof process&&process.nextTick?(r.nextTick=process.nextTick,i?r.setImmediate=function(n){i(n)}:r.setImmediate=r.nextTick):i?(r.nextTick=function(n){i(n)},r.setImmediate=r.nextTick):(r.nextTick=function(n){setTimeout(n,0)},r.setImmediate=r.nextTick),r.each=function(t,e,r){function i(n){n?(r(n),r=u):(a+=1,a>=t.length&&r())}if(r=r||u,!t.length)return r();var a=0;c(t,function(t){e(t,n(i))})},r.forEach=r.each,r.eachSeries=function(n,t,e){if(e=e||u,!n.length)return e();var r=0,i=function(){t(n[r],function(t){t?(e(t),e=u):(r+=1,r>=n.length?e():i())})};i()},r.forEachSeries=r.eachSeries,r.eachLimit=function(n,t,e,r){var u=h(t);u.apply(null,[n,e,r])},r.forEachLimit=r.eachLimit;var h=function(n){return function(t,e,r){if(r=r||u,!t.length||0>=n)return r();var i=0,a=0,o=0;!function c(){if(i>=t.length)return r();for(;n>o&&a<t.length;)a+=1,o+=1,e(t[a-1],function(n){n?(r(n),r=u):(i+=1,o-=1,i>=t.length?r():c())})}()}};r.forEachOf=r.eachOf=function(n,t,e){e=e||function(){};var r=n.length||p(n).length,u=0;return r?void s(n,function(i,a){t(n[a],a,function(n){n?(e(n),e=function(){}):(u+=1,u===r&&e(null))})}):e()},r.forEachOfSeries=r.eachOfSeries=function(n,t,e){e=e||function(){};var u=p(n),i=u.length;if(!i)return e();var a=0,o=function(){var c=!0,f=u[a];t(n[f],f,function(n){n?(e(n),e=function(){}):(a+=1,a>=i?e(null):c?r.nextTick(o):o())}),c=!1};o()},r.forEachOfLimit=r.eachOfLimit=function(n,t,e,r){v(t)(n,e,r)};var v=function(n){return function(t,e,r){r=r||function(){};var u=p(t),i=u.length;if(!i||0>=n)return r();var a=0,o=0,c=0;!function f(){if(a>=i)return r();for(;n>c&&i>o;){o+=1,c+=1;var l=u[o-1];e(t[l],l,function(n){n?(r(n),r=function(){}):(a+=1,c-=1,a>=i?r():f())})}}()}},m=function(n){return function(){var t=d(arguments);return n.apply(null,[r.each].concat(t))}},g=function(n,t){return function(){var e=d(arguments);return t.apply(null,[h(n)].concat(e))}},y=function(n){return function(){var t=d(arguments);return n.apply(null,[r.eachSeries].concat(t))}},k=function(n,t,e,r){if(t=f(t,function(n,t){return{index:t,value:n}}),r){var u=[];n(t,function(n,t){e(n.value,function(e,r){u[n.index]=r,t(e)})},function(n){r(n,u)})}else n(t,function(n,t){e(n.value,function(n){t(n)})})};r.map=m(k),r.mapSeries=y(k),r.mapLimit=function(n,t,e,r){return x(t)(n,e,r)};var x=function(n){return g(n,k)};r.reduce=function(n,t,e,u){r.eachSeries(n,function(n,r){e(t,n,function(n,e){t=e,r(n)})},function(n){u(n,t)})},r.inject=r.reduce,r.foldl=r.reduce,r.reduceRight=function(n,t,e,u){var i=f(n,function(n){return n}).reverse();r.reduce(i,t,e,u)},r.foldr=r.reduceRight;var w=function(n,t,e,r){var u=[];t=f(t,function(n,t){return{index:t,value:n}}),n(t,function(n,t){e(n.value,function(e){e&&u.push(n),t()})},function(n){r(f(u.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})};r.filter=m(w),r.filterSeries=y(w),r.select=r.filter,r.selectSeries=r.filterSeries;var b=function(n,t,e,r){var u=[];t=f(t,function(n,t){return{index:t,value:n}}),n(t,function(n,t){e(n.value,function(e){e||u.push(n),t()})},function(n){r(f(u.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})};r.reject=m(b),r.rejectSeries=y(b);var S=function(n,t,e,r){n(t,function(n,t){e(n,function(e){e?(r(n),r=u):t()})},function(n){r()})};r.detect=m(S),r.detectSeries=y(S),r.some=function(n,t,e){r.each(n,function(n,r){t(n,function(n){n&&(e(!0),e=u),r()})},function(n){e(!1)})},r.any=r.some,r.every=function(n,t,e){r.each(n,function(n,r){t(n,function(n){n||(e(!1),e=u),r()})},function(n){e(!0)})},r.all=r.every,r.sortBy=function(n,t,e){r.map(n,function(n,e){t(n,function(t,r){t?e(t):e(null,{value:n,criteria:r})})},function(n,t){if(n)return e(n);var r=function(n,t){var e=n.criteria,r=t.criteria;return r>e?-1:e>r?1:0};e(null,f(t.sort(r),function(n){return n.value}))})},r.auto=function(n,t){t=t||u;var e=p(n),i=e.length;if(!i)return t();var a={},f=[],s=function(n){f.unshift(n)},h=function(n){for(var t=0;t<f.length;t+=1)if(f[t]===n)return void f.splice(t,1)},v=function(){i--,c(f.slice(0),function(n){n()})};s(function(){if(!i){var n=t;t=u,n(null,a)}}),c(e,function(e){for(var i,f=o(n[e])?n[e]:[n[e]],m=function(n){var i=d(arguments,1);if(i.length<=1&&(i=i[0]),n){var o={};c(p(a),function(n){o[n]=a[n]}),o[e]=i,t(n,o),t=u}else a[e]=i,r.setImmediate(v)},g=f.slice(0,Math.abs(f.length-1))||[],y=g.length;y--;){if(!(i=n[g[y]]))throw new Error("Has inexistant dependency");if(o(i)&&~i.indexOf(e))throw new Error("Has cyclic dependencies")}var k=function(){return l(g,function(n,t){return n&&a.hasOwnProperty(t)},!0)&&!a.hasOwnProperty(e)};if(k())f[f.length-1](m,a);else{var x=function(){k()&&(h(x),f[f.length-1](m,a))};s(x)}})},r.retry=function(n,t,e){var u=5,i=[];"function"==typeof n&&(e=t,t=n,n=u),n=parseInt(n,10)||u;var a=function(u,a){for(var o=function(n,t){return function(e){n(function(n,r){e(!n||t,{err:n,result:r})},a)}};n;)i.push(o(t,!(n-=1)));r.series(i,function(n,t){t=t[t.length-1],(u||e)(t.err,t.result)})};return e?a():a},r.waterfall=function(n,t){if(t=t||u,!o(n)){var e=new Error("First argument to waterfall must be an array of functions");return t(e)}if(!n.length)return t();var i=function(n){return function(e){if(e)t.apply(null,arguments),t=u;else{var a=d(arguments,1),o=n.next();o?a.push(i(o)):a.push(t),r.setImmediate(function(){n.apply(null,a)})}}};i(r.iterator(n))()};var I=function(n,t,e){if(e=e||u,o(t))n.map(t,function(n,t){n&&n(function(n){var e=d(arguments,1);e.length<=1&&(e=e[0]),t.call(null,n,e)})},e);else{var r={};n.each(p(t),function(n,e){t[n](function(t){var u=d(arguments,1);u.length<=1&&(u=u[0]),r[n]=u,e(t)})},function(n){e(n,r)})}};r.parallel=function(n,t){I({map:r.map,each:r.each},n,t)},r.parallelLimit=function(n,t,e){I({map:x(t),each:h(t)},n,e)},r.series=function(n,t){if(t=t||u,o(n))r.mapSeries(n,function(n,t){n&&n(function(n){var e=d(arguments,1);e.length<=1&&(e=e[0]),t.call(null,n,e)})},t);else{var e={};r.eachSeries(p(n),function(t,r){n[t](function(n){var u=d(arguments,1);u.length<=1&&(u=u[0]),e[t]=u,r(n)})},function(n){t(n,e)})}},r.iterator=function(n){var t=function(e){var r=function(){return n.length&&n[e].apply(null,arguments),r.next()};return r.next=function(){return e<n.length-1?t(e+1):null},r};return t(0)},r.apply=function(n){var t=d(arguments,1);return function(){return n.apply(null,t.concat(d(arguments)))}};var E=function(n,t,e,r){var u=[];n(t,function(n,t){e(n,function(n,e){u=u.concat(e||[]),t(n)})},function(n){r(n,u)})};r.concat=m(E),r.concatSeries=y(E),r.whilst=function(n,t,e){n()?t(function(u){return u?e(u):void r.whilst(n,t,e)}):e()},r.doWhilst=function(n,t,e){n(function(u){if(u)return e(u);var i=d(arguments,1);t.apply(null,i)?r.doWhilst(n,t,e):e()})},r.until=function(n,t,e){n()?e():t(function(u){return u?e(u):void r.until(n,t,e)})},r.doUntil=function(n,t,e){n(function(u){if(u)return e(u);var i=d(arguments,1);t.apply(null,i)?e():r.doUntil(n,t,e)})},r.queue=function(t,e){function u(n,t,e,u){return n.started||(n.started=!0),o(t)||(t=[t]),0===t.length?r.setImmediate(function(){n.drain&&n.drain()}):void c(t,function(t){var i={data:t,callback:"function"==typeof u?u:null};e?n.tasks.unshift(i):n.tasks.push(i),n.saturated&&n.tasks.length===n.concurrency&&n.saturated(),r.setImmediate(n.process)})}if(void 0===e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var i=0,a={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(n,t){u(a,n,!1,t)},kill:function(){a.drain=null,a.tasks=[]},unshift:function(n,t){u(a,n,!0,t)},process:function(){if(!a.paused&&i<a.concurrency&&a.tasks.length){var e=a.tasks.shift();a.empty&&0===a.tasks.length&&a.empty(),i+=1;var r=function(){i-=1,e.callback&&e.callback.apply(e,arguments),a.drain&&a.tasks.length+i===0&&a.drain(),a.process()},u=n(r);t(e.data,u)}},length:function(){return a.tasks.length},running:function(){return i},idle:function(){return a.tasks.length+i===0},pause:function(){a.paused!==!0&&(a.paused=!0)},resume:function(){if(a.paused!==!1){a.paused=!1;for(var n=Math.min(a.concurrency,a.tasks.length),t=1;n>=t;t++)r.setImmediate(a.process)}}};return a},r.priorityQueue=function(n,t){function e(n,t){return n.priority-t.priority}function u(n,t,e){for(var r=-1,u=n.length-1;u>r;){var i=r+(u-r+1>>>1);e(t,n[i])>=0?r=i:u=i-1}return r}function i(n,t,i,a){return n.started||(n.started=!0),o(t)||(t=[t]),0===t.length?r.setImmediate(function(){n.drain&&n.drain()}):void c(t,function(t){var o={data:t,priority:i,callback:"function"==typeof a?a:null};n.tasks.splice(u(n.tasks,o,e)+1,0,o),n.saturated&&n.tasks.length===n.concurrency&&n.saturated(),r.setImmediate(n.process)})}var a=r.queue(n,t);return a.push=function(n,t,e){i(a,n,t,e)},delete a.unshift,a},r.cargo=function(n,t){var e=!1,u=[],i={tasks:u,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(n,e){o(n)||(n=[n]),c(n,function(n){u.push({data:n,callback:"function"==typeof e?e:null}),i.drained=!1,i.saturated&&u.length===t&&i.saturated()}),r.setImmediate(i.process)},process:function a(){if(!e){if(0===u.length)return i.drain&&!i.drained&&i.drain(),void(i.drained=!0);var r="number"==typeof t?u.splice(0,t):u.splice(0,u.length),o=f(r,function(n){return n.data});i.empty&&i.empty(),e=!0,n(o,function(){e=!1;var n=arguments;c(r,function(t){t.callback&&t.callback.apply(null,n)}),a()})}},length:function(){return u.length},running:function(){return e}};return i};var O=function(n){return function(t){var e=d(arguments,1);t.apply(null,e.concat([function(t){var e=d(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[n]&&c(e,function(t){console[n](t)}))}]))}};r.log=O("log"),r.dir=O("dir"),r.memoize=function(n,t){var e={},u={};t=t||function(n){return n};var i=function(){var i=d(arguments),a=i.pop(),o=t.apply(null,i);o in e?r.nextTick(function(){a.apply(null,e[o])}):o in u?u[o].push(a):(u[o]=[a],n.apply(null,i.concat([function(){e[o]=d(arguments);var n=u[o];delete u[o];for(var t=0,r=n.length;r>t;t++)n[t].apply(null,arguments)}])))};return i.memo=e,i.unmemoized=n,i},r.unmemoize=function(n){return function(){return(n.unmemoized||n).apply(null,arguments)}},r.times=function(n,t,e){for(var u=[],i=0;n>i;i++)u.push(i);return r.map(u,t,e)},r.timesSeries=function(n,t,e){for(var u=[],i=0;n>i;i++)u.push(i);return r.mapSeries(u,t,e)},r.seq=function(){var n=arguments;return function(){var t=this,e=d(arguments),u=e.pop();r.reduce(n,e,function(n,e,r){e.apply(t,n.concat([function(){var n=arguments[0],t=d(arguments,1);r(n,t)}]))},function(n,e){u.apply(t,[n].concat(e))})}},r.compose=function(){return r.seq.apply(null,Array.prototype.reverse.call(arguments))};var T=function(n,t){var e=function(){var e=this,r=d(arguments),u=r.pop();return n(t,function(n,t){n.apply(e,r.concat([t]))},u)};if(arguments.length>2){var r=d(arguments,2);return e.apply(this,r)}return e};r.applyEach=m(T),r.applyEachSeries=y(T),r.forever=function(n,t){function e(r){if(r){if(t)return t(r);throw r}n(e)}e()},"undefined"!=typeof module&&module.exports?module.exports=r:"undefined"!=typeof define&&define.amd?define([],function(){return r}):t.async=r}();
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":425}],214:[function(require,module,exports){
arguments[4][138][0].apply(exports,arguments)
},{"./lib/connector":215,"./lib/sql":217,"./lib/transaction":218,"dup":138}],215:[function(require,module,exports){
(function (process){
function Connector(t,e){this._models={},this.name=t,this.settings=e||{}}var debug=require("debug")("loopback:connector");module.exports=Connector,Connector.prototype.relational=!1,Connector.prototype.isRelational=function(){return this.isRelational||-1!==this.getTypes().indexOf("rdbms")},Connector.prototype.getTypes=function(){return["db","nosql"]},Connector.prototype.getDefaultIdType=function(t){return String},Connector.prototype.getMetadata=function(){return this._metadata||(this._metadata={types:this.getTypes(),defaultIdType:this.getDefaultIdType(),isRelational:this.isRelational(),schemaForSettings:{}}),this._metadata},Connector.prototype.execute=function(t,e,o,n){throw new Error("execute() must be implemented by the connector")},Connector.prototype.getModelDefinition=function(t){return this._models[t]},Connector.prototype.getConnectorSpecificSettings=function(t){var e=this.getModelDefinition(t).settings||{};return e[this.name]},Connector.prototype.getPropertyDefinition=function(t,e){var o=this.getModelDefinition(t);return o&&o.properties[e]},Connector.prototype.getDataSource=function(t){var e=this.getModelDefinition(t);return e||debug("Model not found: "+t),e&&e.model.dataSource},Connector.prototype.idName=function(t){return this.getDataSource(t).idName(t)},Connector.prototype.idNames=function(t){return this.getDataSource(t).idNames(t)},Connector.prototype.id=function(t,e){var o=this.getModelDefinition(t).properties[e];return o&&o.id},Connector.prototype.define=function(t){t.settings=t.settings||{},this._models[t.model.modelName]=t},Connector.prototype.defineProperty=function(t,e,o){var n=this.getModelDefinition(t);n.properties[e]=o},Connector.prototype.disconnect=function(t){t&&process.nextTick(t)},Connector.prototype.getIdValue=function(t,e){return e&&e[this.idName(t)]},Connector.prototype.setIdValue=function(t,e,o){e&&(e[this.idName(t)]=o)},Connector.prototype.isNullable=function(t){return t.required||t.id?!1:t.nullable||t["null"]||t.allowNull?!0:t.nullable===!1||t["null"]===!1||t.allowNull===!1?!1:!0},Connector.prototype.getDataAccessObject=function(){return this.DataAccessObject},Connector.defineAliases=function(t,e,o){"string"==typeof o&&(o=[o]),Array.isArray(o)&&o.forEach(function(o){"string"==typeof o&&Object.defineProperty(t,o,{get:function(){return this[e]}})})},Connector.defineAliases(Connector.prototype,"execute",["command","query"]);
}).call(this,require('_process'))

},{"_process":425,"debug":190}],216:[function(require,module,exports){
arguments[4][140][0].apply(exports,arguments)
},{"assert":2,"dup":140}],217:[function(require,module,exports){
(function (process){
function SQLConnector(){Connector.apply(this,[].slice.call(arguments))}function isIdValuePresent(e,t,r){try{return assert(null!==e&&void 0!==e,"id value is required"),!0}catch(n){return process.nextTick(function(){t&&t(r?null:n)}),!1}}var util=require("util"),async=require("async"),assert=require("assert"),Connector=require("./connector"),debug=require("debug")("loopback:connector:sql"),ParameterizedSQL=require("./parameterized-sql"),Transaction=require("./transaction");module.exports=SQLConnector,util.inherits(SQLConnector,Connector),SQLConnector.ParameterizedSQL=ParameterizedSQL;var PLACEHOLDER=SQLConnector.PLACEHOLDER=ParameterizedSQL.PLACEHOLDER;SQLConnector.Transaction=Transaction,SQLConnector.prototype.relational=!0,SQLConnector.prototype.invokeSuper=function(e){var t=[].slice.call(arguments,1),r=this.constructor.super_.prototype[e];return r.apply(this,t)},SQLConnector.prototype.getTypes=function(){return["db","rdbms","sql"]},SQLConnector.prototype.getDefaultIdType=function(e){return Number},SQLConnector.prototype.getDefaultSchemaName=function(){return""},SQLConnector.prototype.schema=function(e){var t=this.getConnectorSpecificSettings(e),r=t&&(t.schema||t.schemaName)||this.settings.schema||this.settings.schemaName||this.getDefaultSchemaName();return r},SQLConnector.prototype.table=function(e){var t,r=this.getConnectorSpecificSettings(e);return r&&(t=r.table||r.tableName)?t:(t=e,"function"==typeof this.dbName&&(t=this.dbName(t)),t)},SQLConnector.prototype.column=function(e,t){var r,n=this.getPropertyDefinition(e,t);return n&&n[this.name]&&(r=n[this.name].column||n[this.name].columnName)?r:(r=t,"function"==typeof this.dbName&&(r=this.dbName(r)),r)},SQLConnector.prototype.columnMetadata=function(e,t){return this.getDataSource(e).columnMetadata(e,t)},SQLConnector.prototype.propertyName=function(e,t){var r=this.getModelDefinition(e).properties;for(var n in r)if(this.column(e,n)===t)return n;return null},SQLConnector.prototype.idColumn=function(e){var t=this.getDataSource(e).idColumnName(e),r=this.dbName;return"function"==typeof r&&(t=r(t)),t},SQLConnector.prototype.idColumnEscaped=function(e){return this.escapeName(this.idColumn(e))},SQLConnector.prototype.tableEscaped=function(e){return this.escapeName(this.table(e))},SQLConnector.prototype.columnEscaped=function(e,t){return this.escapeName(this.column(e,t))},SQLConnector.prototype.idColumnValue=function(e,t){var r=this.getDataSource(e).idProperty(e);return"function"==typeof this.toColumnValue?this.toColumnValue(r,t):t},SQLConnector.prototype.parameterize=function(e){e=new ParameterizedSQL(e);for(var t=e.sql.split(PLACEHOLDER),r=[],n=0,o=t.length;o>n;n++)r.push(t[n]),n!==t.length-1&&r.push(this.getPlaceholderForValue(n+1));return e.sql=r.join(""),e},SQLConnector.prototype.buildInsertInto=function(e,t,r){var n=new ParameterizedSQL("INSERT INTO "+this.tableEscaped(e)),o=t.names.join(",");return o&&n.merge("("+o+")",""),n},SQLConnector.prototype.buildInsertReturning=function(e,t,r){return""},SQLConnector.prototype.buildInsertDefaultValues=function(e,t,r){return"VALUES()"},SQLConnector.prototype.buildInsert=function(e,t,r){var n=this.buildFields(e,t),o=this.buildInsertInto(e,n,r),i=n.columnValues,a=n.names;if(a.length){var s=ParameterizedSQL.join(i,",");s.sql="VALUES("+s.sql+")",o.merge(s)}else o.merge(this.buildInsertDefaultValues(e,t,r));var u=this.buildInsertReturning(e,t,r);return u&&o.merge(u),this.parameterize(o)},SQLConnector.prototype.execute=function(e,t,r,n){assert("string"==typeof e,"sql must be a string"),"function"==typeof t&&void 0===r&&void 0===n?(r={},n=t,t=[]):"function"==typeof r&&void 0===n&&(n=r,r={}),t=t||[],r=r||{},assert(Array.isArray(t),"params must be an array"),assert("object"==typeof r,"options must be an object"),assert("function"==typeof n,"callback must be a function");var o=this;if(!this.dataSource.connected)return this.dataSource.once("connected",function(){o.execute(e,t,r,n)});var i={req:{sql:e,params:t},options:r};this.notifyObserversAround("execute",i,function(e,t){o.executeSQL(e.req.sql,e.req.params,e.options,function(r,n){r||null==n||(e.res=n),t(r,n)})},n)},SQLConnector.prototype.create=function(e,t,r,n){var o=this,i=this.buildInsert(e,t,r);this.execute(i.sql,i.params,r,function(t,r){if(t)n(t);else{var i=o.getInsertedId(e,r);n(t,i)}})},SQLConnector.prototype.save=function(e,t,r,n){var o=this.idName(e),i=t[o];if(isIdValuePresent(i,n)){var a={};a[o]=i;var s=new ParameterizedSQL("UPDATE "+this.tableEscaped(e));s.merge(this.buildFieldsForUpdate(e,t));var u=this.buildWhere(e,a);s.merge(u),s=this.parameterize(s),this.execute(s.sql,s.params,r,function(e,t){n&&n(e,t)})}},SQLConnector.prototype.exists=function(e,t,r,n){if(isIdValuePresent(t,n,!0)){var o=this.idName(e),i={};i[o]=t;var a=new ParameterizedSQL("SELECT 1 FROM "+this.tableEscaped(e)+" WHERE "+this.idColumnEscaped(e));a.merge(this.buildWhere(e,i)),a=this.applyPagination(e,a,{limit:1,offset:0,order:[o]}),a=this.parameterize(a),this.execute(a.sql,a.params,r,function(e,t){n&&(e?n(e):n(null,t.length>=1))})}},SQLConnector.prototype.destroy=function(e,t,r,n){if(isIdValuePresent(t,n,!0)){var o=this.idName(e),i={};i[o]=t,this.destroyAll(e,i,r,n)}},Connector.defineAliases(SQLConnector.prototype,"destroy",["delete","deleteById","destroyById"]),SQLConnector.prototype.buildDelete=function(e,t,r){var n=new ParameterizedSQL("DELETE FROM "+this.tableEscaped(e));return n.merge(this.buildWhere(e,t)),this.parameterize(n)},SQLConnector.prototype.destroyAll=function(e,t,r,n){var o=this,i=this.buildDelete(e,t,r);this.execute(i.sql,i.params,r,function(t,r){var i=o.getCountForAffectedRows(e,r);n&&n(t,{count:i})})},Connector.defineAliases(SQLConnector.prototype,"destroyAll",["deleteAll"]),SQLConnector.prototype.updateAttributes=function(e,t,r,n,o){if(isIdValuePresent(t,o)){var i=this.idName(e);delete r[i];var a={};a[i]=t,this.updateAll(e,a,r,n,o)}},SQLConnector.prototype.buildUpdate=function(e,t,r,n){var o=this.buildFieldsForUpdate(e,r),i=new ParameterizedSQL("UPDATE "+this.tableEscaped(e)),a=this.buildWhere(e,t);return i.merge([o,a]),this.parameterize(i)},SQLConnector.prototype.update=function(e,t,r,n,o){var i=this,a=this.buildUpdate(e,t,r,n);this.execute(a.sql,a.params,n,function(t,r){var n=i.getCountForAffectedRows(e,r);o&&o(t,{count:n})})},Connector.defineAliases(SQLConnector.prototype,"update",["updateAll"]),SQLConnector.prototype.buildWhere=function(e,t){var r=this._buildWhere(e,t);return r.sql&&(r.sql="WHERE "+r.sql),r},SQLConnector.prototype.buildExpression=function(e,t,r,n){function o(e,t,r){for(var n=[],o=0,i=e.length;i>o;o++)e[o]instanceof ParameterizedSQL?n.push(e[o]):n.push(new ParameterizedSQL(PLACEHOLDER,[e[o]]));t=t||",";var a=ParameterizedSQL.join(n,t);return r&&(a.sql="("+a.sql+")"),a}var i,a=e;switch(i=r instanceof ParameterizedSQL?r:new ParameterizedSQL(PLACEHOLDER,[r]),t){case"gt":a+=">";break;case"gte":a+=">=";break;case"lt":a+="<";break;case"lte":a+="<=";break;case"between":a+=" BETWEEN ",i=o(r," AND ",!1);break;case"inq":a+=" IN ",i=o(r,",",!0);break;case"nin":a+=" NOT IN ",i=o(r,",",!0);break;case"neq":if(null==r)return new ParameterizedSQL(a+" IS NOT NULL");a+="!=";break;case"like":a+=" LIKE ";break;case"nlike":a+=" NOT LIKE ";break;case"regexp":a+=" REGEXP "}var s=ParameterizedSQL.join([a,i],"");return s},SQLConnector.prototype._buildWhere=function(e,t){if(!t)return new ParameterizedSQL("");if("object"!=typeof t||Array.isArray(t))return debug("Invalid value for where: %j",t),new ParameterizedSQL("");var r=this,n=r.getModelDefinition(e).properties,o=[];for(var i in t){var a=new ParameterizedSQL("",[]);if("and"===i||"or"===i){var s=[],u=[],c=t[i];if(Array.isArray(c)){for(var l=0,p=c.length;p>l;l++){var d=r._buildWhere(e,c[l]);d.sql="("+d.sql+")",u=u.concat(d.params),s.push(d.sql)}a.merge({sql:s.join(" "+i.toUpperCase()+" "),params:u}),o.push(a);continue}}var f,m,h=r.columnEscaped(e,i),y=t[i];if(null===y||void 0===y)a.merge(h+" IS NULL");else if(y&&y.constructor===Object){var L=Object.keys(y)[0];if(y=y[L],"inq"===L||"nin"===L||"between"===L){if(f=[],Array.isArray(y))for(var S=0,b=y.length;b>S;S++)f.push(this.toColumnValue(n[i],y[S]));else f.push(this.toColumnValue(n[i],y));if("between"===L){var C=void 0===f[0]?null:f[0],v=void 0===f[1]?null:f[1];f=[C,v]}else if(0===f.length){if("inq"!==L)continue;f=[null]}}else f="regexp"===L&&y instanceof RegExp?y:this.toColumnValue(n[i],y);m=r.buildExpression(h,L,f,n[i]),a.merge(m)}else f=r.toColumnValue(n[i],y),null===f?a.merge(h+" IS NULL"):f instanceof ParameterizedSQL?a.merge(h+"=").merge(f):a.merge({sql:h+"=?",params:[f]});o.push(a)}for(var Q=[],g=[],E=0,P=o.length;P>E;E++)g.push(o[E].sql),Q=Q.concat(o[E].params);var w=new ParameterizedSQL({sql:g.join(" AND "),params:Q});return w},SQLConnector.prototype.buildOrderBy=function(e,t){if(!t)return"";var r=this;"string"==typeof t&&(t=[t]);for(var n=[],o=0,i=t.length;i>o;o++){var a=t[o].split(/[\s,]+/);1===a.length?n.push(r.columnEscaped(e,t[o])):n.push(r.columnEscaped(e,a[0])+" "+a[1])}return"ORDER BY "+n.join(",")},SQLConnector.prototype.buildFields=function(e,t,r){for(var n={names:[],columnValues:[],properties:[]},o=this.getModelDefinition(e).properties,i=Object.keys(t),a=0,s=i.length;s>a;a++){var u=i[a],c=o[u];if(null!=c){if(!r||!c.id){var l=this.columnEscaped(e,u),p=this.toColumnValue(c,t[u]);void 0!==p&&(n.names.push(l),p instanceof ParameterizedSQL?n.columnValues.push(p):n.columnValues.push(new ParameterizedSQL(PLACEHOLDER,[p])),n.properties.push(c))}}else debug("Unknown property %s is skipped for model %s",u,e)}return n},SQLConnector.prototype.buildFieldsForUpdate=function(e,t,r){void 0===r&&(r=!0);for(var n=this.buildFields(e,t,r),o=new ParameterizedSQL(""),i=0,a=n.names.length;a>i;i++){var s=ParameterizedSQL.append(n.names[i],n.columnValues[i],"=");o.merge(s,",")}return o.sql="SET "+o.sql,o},SQLConnector.prototype.buildColumnNames=function(e,t){var r=t&&t.fields,n=this.getModelDefinition(e).properties;if(!n)return"*";var o=this,i=Object.keys(n);if(Array.isArray(r)&&r.length>0)i=r.filter(function(e){return n[e]});else if("object"==typeof r&&Object.keys(r).length>0){var a=[],s=[];i.forEach(function(e){r[e]?a.push(e):e in r&&!r[e]&&s.push(e)}),a.length>0?i=a:s.length>0&&s.forEach(function(e){var t=i.indexOf(e);i.splice(t,1)})}var u=i.map(function(t){return o.columnEscaped(e,t)});return u.join(",")},SQLConnector.prototype.buildSelect=function(e,t,r){if(!t.order){var n=this.idNames(e);n&&n.length&&(t.order=n)}var o=new ParameterizedSQL("SELECT "+this.buildColumnNames(e,t)+" FROM "+this.tableEscaped(e));if(t){if(t.where){var i=this.buildWhere(e,t.where);o.merge(i)}t.order&&o.merge(this.buildOrderBy(e,t.order)),(t.limit||t.skip||t.offset)&&(o=this.applyPagination(e,o,t))}return this.parameterize(o)},SQLConnector.prototype.fromRow=SQLConnector.prototype.fromDatabase=function(e,t){if(null==t)return t;var r=this.getModelDefinition(e).properties,n={};for(var o in r){var i=this.column(e,o),a=this.fromColumnValue(r[o],t[i]);void 0!==a&&(n[o]=a)}return n},SQLConnector.prototype.all=function(e,t,r,n){var o=this;t=t||{};var i=this.buildSelect(e,t,r);this.execute(i.sql,i.params,r,function(i,a){if(i)return n(i,[]);var s=a.map(function(t){return o.fromRow(e,t)});t&&t.include?o.getModelDefinition(e).model.include(s,t.include,r,n):n(null,s)})},Connector.defineAliases(SQLConnector.prototype,"all",["findAll"]),SQLConnector.prototype.find=function(e,t,r,n){if(null==t)return void process.nextTick(function(){var e=new Error("id value is required");n&&n(e)});var o={},i=this.idName(e);o[i]=t;var a={limit:1,offset:0,order:i,where:o};return this.all(e,a,r,function(e,t){n(e,t&&t[0]||null)})},Connector.defineAliases(SQLConnector.prototype,"find",["findById"]),SQLConnector.prototype.count=function(e,t,r,n){if("function"==typeof t){var o=r;n=t,t=o}var i=new ParameterizedSQL('SELECT count(*) as "cnt" FROM '+this.tableEscaped(e));i=i.merge(this.buildWhere(e,t)),i=this.parameterize(i),this.execute(i.sql,i.params,function(e,t){if(e)return n(e);var r=t&&t[0]&&t[0].cnt||0;n(e,Number(r))})},SQLConnector.prototype.dropTable=function(e,t){this.execute("DROP TABLE IF EXISTS "+this.tableEscaped(e),t)},SQLConnector.prototype.createTable=function(e,t){var r="CREATE TABLE "+this.tableEscaped(e)+" (\n  "+this.buildColumnDefinitions(e)+"\n)";this.execute(r,t)},SQLConnector.prototype.automigrate=function(e,t){var r=this;if(t||"function"!=typeof e||(t=e,e=void 0),"string"==typeof e&&(e=[e]),e=e||Object.keys(r._models),0===e.length)return process.nextTick(t);var n=e.filter(function(e){return!(e in r._models)});return n.length?process.nextTick(function(){t(new Error("Cannot migrate models not attached to this datasource: "+n.join(" ")))}):void async.each(e,function(e,t){r.dropTable(e,function(n){n&&console.error(n),r.createTable(e,function(e,r){e&&console.error(e),t(e,r)})})},t)},SQLConnector.prototype.serializeObject=function(e){var t;return e&&"function"==typeof e.toJSON&&(e=e.toJSON()),t="string"!=typeof e?JSON.stringify(e):e},SQLConnector.prototype.escapeObject=function(e){var t=this.serializeObject(e);return this.escapeValue(t)},SQLConnector.prototype.toColumnValue=function(e,t){throw new Error("toColumnValue() must be implemented by the connector")},SQLConnector.prototype.fromColumnValue=function(e,t){throw new Error("fromColumnValue() must be implemented by the connector")},SQLConnector.prototype.escapeName=function(e){throw new Error("escapeName() must be implemented by the connector")},SQLConnector.prototype.escapeValue=function(e){throw new Error("escapeValue() must be implemented by the connector")},SQLConnector.prototype.getPlaceholderForIdentifier=function(e){throw new Error("getPlaceholderForIdentifier() must be implemented by the connector")},SQLConnector.prototype.getPlaceholderForValue=function(e){throw new Error("getPlaceholderForValue() must be implemented by the connector")},SQLConnector.prototype.applyPagination=function(e,t,r){throw new Error("applyPagination() must be implemented by the connector")},SQLConnector.prototype.getCountForAffectedRows=function(e,t){throw new Error("getCountForAffectedRows() must be implemented by the connector")},SQLConnector.prototype.getInsertedId=function(e,t){throw new Error("getInsertedId() must be implemented by the connector")},SQLConnector.prototype.executeSQL=function(e,t,r,n){throw new Error("executeSQL() must be implemented by the connector")};
}).call(this,require('_process'))

},{"./connector":215,"./parameterized-sql":216,"./transaction":218,"_process":425,"assert":2,"async":213,"debug":190,"util":594}],218:[function(require,module,exports){
arguments[4][142][0].apply(exports,arguments)
},{"assert":2,"debug":190,"dup":142,"events":84,"util":594}],219:[function(require,module,exports){
(function (Buffer){
!function(n){"use strict";function e(){var e=n.crypto||n.msCrypto;if(!f&&e&&e.getRandomValues)try{var r=new Uint8Array(16);s=f=function(){return e.getRandomValues(r),r},f()}catch(o){}if(!f){var t=new Array(16);i=f=function(){for(var n,e=0;16>e;e++)0===(3&e)&&(n=4294967296*Math.random()),t[e]=n>>>((3&e)<<3)&255;return t},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function r(){if("function"==typeof require)try{var n=require("crypto").randomBytes;c=f=n&&function(){return n(16)},f()}catch(e){}}function o(n,e,r){var o=e&&r||0,t=0;for(e=e||[],n.toLowerCase().replace(/[0-9a-f]{2}/g,function(n){16>t&&(e[o+t++]=y[n])});16>t;)e[o+t++]=0;return e}function t(n,e){var r=e||0,o=v;return o[n[r++]]+o[n[r++]]+o[n[r++]]+o[n[r++]]+"-"+o[n[r++]]+o[n[r++]]+"-"+o[n[r++]]+o[n[r++]]+"-"+o[n[r++]]+o[n[r++]]+"-"+o[n[r++]]+o[n[r++]]+o[n[r++]]+o[n[r++]]+o[n[r++]]+o[n[r++]]}function u(n,e,r){var o=e&&r||0,u=e||[];n=n||{};var a=null!=n.clockseq?n.clockseq:g,f=null!=n.msecs?n.msecs:(new Date).getTime(),i=null!=n.nsecs?n.nsecs:C+1,c=f-h+(i-C)/1e4;if(0>c&&null==n.clockseq&&(a=a+1&16383),(0>c||f>h)&&null==n.nsecs&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=f,C=i,g=a,f+=122192928e5;var s=(1e4*(268435455&f)+i)%4294967296;u[o++]=s>>>24&255,u[o++]=s>>>16&255,u[o++]=s>>>8&255,u[o++]=255&s;var l=f/4294967296*1e4&268435455;u[o++]=l>>>8&255,u[o++]=255&l,u[o++]=l>>>24&15|16,u[o++]=l>>>16&255,u[o++]=a>>>8|128,u[o++]=255&a;for(var d=n.node||w,v=0;6>v;v++)u[o+v]=d[v];return e?e:t(u)}function a(n,e,r){var o=e&&r||0;"string"==typeof n&&(e="binary"===n?new d(16):null,n=null),n=n||{};var u=n.random||(n.rng||f)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,e)for(var a=0;16>a;a++)e[o+a]=u[a];return e||t(u)}var f,i,c,s,l;n?e():r();for(var d="function"==typeof Buffer?Buffer:Array,v=[],y={},m=0;256>m;m++)v[m]=(m+256).toString(16).substr(1),y[v[m]]=m;var p=f(),w=[1|p[0],p[1],p[2],p[3],p[4],p[5]],g=16383&(p[6]<<8|p[7]),h=0,C=0,R=a;R.v1=u,R.v4=a,R.parse=o,R.unparse=t,R.BufferClass=d,R._rng=f,R._mathRNG=i,R._nodeRNG=c,R._whatwgRNG=s,"undefined"!=typeof module&&module.exports?module.exports=R:"function"==typeof define&&define.amd?define(function(){return R}):(l=n.uuid,R.noConflict=function(){return n.uuid=l,R},n.uuid=R)}("undefined"!=typeof window?window:null);
}).call(this,require("buffer").Buffer)

},{"buffer":42,"crypto":52}],220:[function(require,module,exports){
arguments[4][144][0].apply(exports,arguments)
},{"./lib/":221,"dup":144}],221:[function(require,module,exports){
arguments[4][145][0].apply(exports,arguments)
},{"./parse":222,"./stringify":223,"dup":145}],222:[function(require,module,exports){
arguments[4][146][0].apply(exports,arguments)
},{"./utils":224,"dup":146}],223:[function(require,module,exports){
arguments[4][147][0].apply(exports,arguments)
},{"./utils":224,"dup":147}],224:[function(require,module,exports){
arguments[4][148][0].apply(exports,arguments)
},{"dup":148}],225:[function(require,module,exports){
arguments[4][149][0].apply(exports,arguments)
},{"dup":149}],226:[function(require,module,exports){
module.exports=require("./lib/remote-objects"),module.exports.SharedClass=require("./lib/shared-class");
},{"./lib/remote-objects":231,"./lib/shared-class":233}],227:[function(require,module,exports){
function Dynamic(e,n){this.val=e,this.ctx=n}module.exports=Dynamic;var debug=require("debug")("strong-remoting:dynamic"),assert=require("assert");Dynamic.converters=[],Dynamic.define=function(e,n){n.typeName=e,this.converters.unshift(n)},Dynamic.canConvert=function(e){return!!this.getConverter(e)},Dynamic.getConverter=function(e){for(var n,t=this.converters,r=0;r<t.length;r++)if(n=t[r],n.typeName===e)return n},Dynamic.prototype.to=function(e){var n=this.constructor.getConverter(e);return assert(n,"No Type converter defined for "+e),n(this.val,this.ctx)},Dynamic.define("boolean",function(e){switch(typeof e){case"string":switch(e){case"false":case"undefined":case"null":case"0":case"":return!1;default:return!0}break;case"number":return 0!==e;default:return Boolean(e)}}),Dynamic.define("number",function(e){return 0===e?e:e?Number(e):e});
},{"assert":2,"debug":190}],228:[function(require,module,exports){
function ExportsHelper(t){return this instanceof ExportsHelper?void(this._obj=t):new ExportsHelper(t)}function setPath(t,e){var r=this,o=r._obj,p=t.split("."),n=p.pop();return p.forEach(function(t){o[t]||(o[t]={}),o=o[t]}),debug("Setting %s to %s",t,e),o[n]=e,r}function type(t,e){var r=this,o=e.path||e.name||t.name||null,p=e.sharedCtor||null,n=e.accepts||null;return o?(p||(p=function(){var e=[].slice.call(arguments);e.pop()(null,t.apply(null,e))}),p.accepts||(p.accepts=n),p.returns||(p.returns={type:"object",root:!0}),PASSTHROUGH_OPTIONS.forEach(function(t){e[t]&&(p[t]=e[t])}),r.setPath(o,t),t.shared=!0,t.sharedCtor=p,new ExportsHelper(t.prototype)):r}function method(t,e){var r=this,o=e.path||e.name||t.name||null,p=e.accepts||null,n=e.returns||null,s=e.errors||null;return o?(r.setPath(o,t),t.shared=!0,t.accepts=p,t.returns=n,t.errors=s,PASSTHROUGH_OPTIONS.forEach(function(r){e[r]&&(t[r]=e[r])}),r):r}module.exports=ExportsHelper;var debug=require("debug")("strong-remoting:exports-helper"),PASSTHROUGH_OPTIONS=["http","description","notes"];ExportsHelper.prototype.setPath=setPath,ExportsHelper.prototype.addType=type,ExportsHelper.prototype.type=type,ExportsHelper.prototype.addMethod=method,ExportsHelper.prototype.method=method;
},{"debug":190}],229:[function(require,module,exports){
(function (process){
function HttpContext(e,t,r,s){this.req=e,this.res=t,this.method=r,this.options=s||{},this.args=this.buildArgs(r),this.methodString=r.stringName,this.supportedTypes=this.options.supportedTypes||DEFAULT_SUPPORTED_TYPES,this.result={};var n=r.streams,o=n&&n.returns,i=!!o;this.supportedTypes!==DEFAULT_SUPPORTED_TYPES||this.options.xml||(this.supportedTypes=this.supportedTypes.filter(function(e){return!/\bxml\b/i.test(e)})),e.remotingContext=this,i&&this.createStream()}function escapeRegex(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function dynamic(e,t,r){return Array.isArray(e)?e.map(function(e){return dynamic(e,t,r)}):new Dynamic(e,r).to(t)}function coerce(e){return"string"!=typeof e?e:"null"===e?null:"true"===e?!0:"false"===e?!1:isfloat.test(e)?parseFloat(e,10):isint.test(e)&&"0"!==e.charAt(0)?parseInt(e,10):e}function coerceAll(e){var t,r,s=Array.isArray(e)?"array":typeof e;switch(s){case"string":return coerce(e);case"object":if(e){var n=Object.keys(e);for(t=0,r=n.length;r>t;t++){var o=n[t];e[o]=coerceAll(e[o])}}break;case"array":for(t=0,r=e.length;r>t;t++)coerceAll(e[t])}return e}function buildArgs(e,t,r){try{return e.buildArgs(t)}catch(s){return void process.nextTick(function(){r(s)})}}function toJSON(e){return e?"function"==typeof e.toJSON?e.toJSON():Array.isArray(e)?e.map(toJSON):e:e}function toXML(e){var t;return e&&"function"==typeof e.toXML?t=e.toXML():(e&&(e=toJSON(e)),Array.isArray(e)&&(e={result:e}),t=js2xmlparser("response",e,{prettyPrinting:{indentString:"  "},convertMap:{"[object Date]":function(e){return e.toISOString()}}})),t}function sendBodyJson(e,t){e.json(t)}function sendBodyJsonp(e,t){e.jsonp(t)}function sendBodyXml(e,t){if(null===t)e.header("Content-Length","7"),e.send("<null/>");else if(t)try{var r=toXML(t);e.send(r)}catch(s){e.status(500).send(s+"\n"+t)}}function sendBodyDefault(e){e.status(406).send("Not Acceptable")}module.exports=HttpContext;var EventEmitter=require("events").EventEmitter,debug=require("debug")("strong-remoting:http-context"),util=require("util"),inherits=util.inherits,assert=require("assert"),Dynamic=require("./dynamic"),js2xmlparser=require("js2xmlparser"),DEFAULT_SUPPORTED_TYPES=["application/json","application/javascript","application/xml","text/javascript","text/xml","json","xml","*/*"],MuxDemux=require("mux-demux"),SSEClient=require("sse").Client;inherits(HttpContext,EventEmitter),HttpContext.prototype.createStream=function(){var e=this.method.streams,t=e&&e.returns,r=this.muxDemuxStream=new MuxDemux,s=(this.io={},this.res);debug("create stream"),t.json&&"ReadableStream"===t.type&&(this.shouldReturnEventStream()||(s.setHeader("Content-Type",t.contentType||"application/json; boundary=NL"),s.setHeader("Transfer-Encoding","chunked"),this.io.out=r.createWriteStream(),r.pipe(s)))},HttpContext.prototype.buildArgs=function(e){for(var t={},r=this,s=e.accepts,n=0,o=s.length;o>n;n++){var i,a=s[n],p=a.http,u=a.name||a.arg,c=Array.isArray(a.type),d=c?a.type[0]:a.type;d="string"==typeof d&&d;var y=!d||"any"===d.toLowerCase();if(p)switch(typeof p){case"function":i=p(r);break;case"object":switch(p.source){case"body":i=r.req.body;break;case"form":i=r.req.body&&r.req.body[u];break;case"query":i=r.req.query[u];break;case"path":i=r.req.params[u];break;case"header":i=r.req.get(u);break;case"req":i=r.req;break;case"res":i=r.res;break;case"context":i=r}}else i=r.getArgByName(u,a),"object"!=typeof i||c&&!y||(i=coerceAll(i));if(i&&"string"==typeof i&&c){var h=!1;if("["===i[0])try{i=JSON.parse(i),h=!0}catch(l){}if(!h&&r.options.arrayItemDelimiters){var m=this.options.arrayItemDelimiters;Array.isArray(m)&&(m=new RegExp(m.map(escapeRegex).join("|"),"g"),this.options.arrayItemDelimiters=m),i=i.split(m)}}y&&"string"==typeof i&&(i=coerceAll(i)),!Array.isArray(i)&&c&&(i=void 0!==i&&""!==i?[i]:[]),Dynamic.canConvert(d)&&(i=dynamic(i,d,r)),t[a.arg]=i}return t},HttpContext.prototype.getArgByName=function(e,t){var r=this.req,s=r.params&&void 0!==r.params.args?r.params.args:r.body&&void 0!==r.body.args?r.body.args:r.query&&void 0!==r.query.args?r.query.args:void 0;s&&(s=JSON.parse(s)),"object"==typeof s&&s||(s={});var n=s&&void 0!==s[e]?s[e]:void 0!==this.req.params[e]?this.req.params[e]:void 0!==(this.req.body&&this.req.body[e])?this.req.body[e]:void 0!==this.req.query[e]?this.req.query[e]:this.req.get(e);return n};var isint=/^[0-9]+$/,isfloat=/^([0-9]+)?\.[0-9]+$/;HttpContext.prototype.invoke=function(e,t,r,s){var n=this.args;if(!s||(n=this.ctorArgs=buildArgs(this,t,r),void 0!==n)){var o=t.http,i=o&&o.pipe,a=i&&i.dest,p=i&&i.source,u=this,c=o&&o.errorStatus,d=this.res;if(a)switch(a){case"res":this.res.header("Content-Type","application/json"),this.res.header("Transfer-Encoding","chunked");var y=t.invoke(e,n,this.options,u,r);y.pipe(this.res);break;default:r(new Error("unsupported pipe destination"))}else if(p)switch(a){case"req":this.req.pipe(t.invoke(e,n,this.options,u,r));break;default:r(new Error("unsupported pipe source"))}else t.invoke(e,n,this.options,u,function(e,t){return e?(!c||void 0!==d.statusCode&&200!==d.statusCode||d.status(e.status||e.statusCode||c),r(e)):void r(null,t)})}},HttpContext.prototype.setReturnArgByName=function(e,t){var r=this.method.getReturnArgDescByName(e),s=this.result,n=this.res;if(!r)return debug("warning: cannot set return value for arg (%s) without description!",e);if(r.root)this.result=t;else if(r.http)switch(r.http.target){case"status":n.status(t);break;case"header":n.set(r.http.header||e,t)}else s[e]=t},HttpContext.prototype.shouldReturnEventStream=function(){var e=this.req,t=e.query,r=t._format,s=e.accepts("text/event-stream");return"event-stream"===r||s},HttpContext.prototype.respondWithEventStream=function(e){var t=new SSEClient(this.req,this.res);t.initialize(),e.on("data",function(e){t.send("data",JSON.stringify(e))}),e.on("error",function(e){var r={message:e.message};for(var s in e)r[s]=e[s];t.send("error",JSON.stringify(r))}),e.on("end",function(){t.send({event:"end",data:"null"})})},HttpContext.prototype.resolveReponseOperation=function(e){var t={sendBody:sendBodyJson,contentType:"application/json"};switch(e){case"*/*":case"application/json":case"json":break;case"application/vnd.api+json":t.contentType="application/vnd.api+json";break;case"application/javascript":case"text/javascript":t.sendBody=sendBodyJsonp;break;case"application/xml":case"text/xml":case"xml":"application/xml"==e?t.contentType="application/xml":t.contentType="text/xml",t.sendBody=sendBodyXml;break;default:t.sendBody=sendBodyDefault,t.contentType="text/plain"}return t},HttpContext.prototype.done=function(e){var t=this,r=this.method,s=r.streams,n=s&&s.returns,o=!!n,i=this.res,a=this.io&&this.io.out,p=(this.error,this.result);if(o)if(n.json){debug("handling json stream");var u=p[n.arg];if("ReadableStream"===n.type){if(t.shouldReturnEventStream())return debug("respondWithEventStream"),void t.respondWithEventStream(u);debug("piping to mdm stream"),u.pipe(a),u.on("error",function(e){var t={message:e.message};for(var r in e)t[r]=e[r];a.error(t),a.end()})}else e(new Error("unsupported stream type: "+n.type))}else e(new Error('Unsupported stream descriptor, only descriptors with property "json:true" are supported'));else{var c=this.result,d=this.req.accepts(this.supportedTypes),y=this.method.http.status;y&&i.status(y),this.req.query._format&&(d=this.req.query._format.toLowerCase());var h="undefined"!=typeof c,l=this.resolveReponseOperation(d);i.get("Content-Type")||i.header("Content-Type",l.contentType),h?l.sendBody(i,c):(void 0===i.statusCode||200===i.statusCode)&&(i.statusCode=204),i.end(),e()}};
}).call(this,require('_process'))

},{"./dynamic":227,"_process":425,"assert":2,"debug":190,"events":84,"js2xmlparser":6,"mux-demux":236,"sse":373,"util":594}],230:[function(require,module,exports){
function HttpInvocation(e,t,r,a,s){this.base=a,this.auth=s,this.method=e,this.args=r||[],this.ctorArgs=t||[],this.isStatic=e.hasOwnProperty("isStatic")&&e.isStatic||e.hasOwnProperty("sharedMethod")&&e.sharedMethod.isStatic;var o,i=this.namedArgs={};this.isStatic||e.restClass.ctor.accepts.forEach(function(e){o=t.shift(),HttpInvocation.isAcceptable(o,e)&&(i[e.arg||e.name]=o)}),e.accepts.forEach(function(e){o=r.shift(),HttpInvocation.isAcceptable(o,e)&&(i[e.arg||e.name]=o)})}module.exports=HttpInvocation;var EventEmitter=require("events").EventEmitter,debug=require("debug")("strong-remoting:http-invocation"),util=require("util"),inherits=util.inherits,path=require("path"),assert=require("assert"),request=require("request"),Dynamic=require("./dynamic"),SUPPORTED_TYPES=["json","application/javascript","text/javascript"],qs=require("qs"),urlUtil=require("url"),ReadableStream=require("stream").Readable,MuxDemux=require("mux-demux"),JSON_TYPES=["boolean","string","object","number"];inherits(HttpInvocation,EventEmitter),HttpInvocation.isAcceptable=function(e,t){var r=Array.isArray(t.type)||"array"===t.type.toLowerCase(),a=r?"array":t.type&&t.type.toLowerCase(),s=a&&"any"!==a;return r?Array.isArray(e):s?-1===JSON_TYPES.indexOf(a)?"object"==typeof e:(typeof e).toLowerCase()===a:!0},HttpInvocation.prototype._processArg=function(e,t,r,a){var s=a.http,o=a.name||a.arg,i=this.getArgByName(o);if(s)switch(typeof s){case"function":break;case"object":switch(s.source){case"body":e.body=i;break;case"form":e.body=e.body||{},e.body[o]=i;break;case"query":void 0!==i&&(r=r||{},r[o]=i);break;case"header":void 0!==i&&(e.headers=e.headers||{},e.headers[o]=i);break;case"path":e.url=e.url.replace(":"+o,i)}}else"get"===t.toLowerCase()?void 0!==i&&(r=r||{},r[o]=i):(e.body=e.body||{},e.body[o]=i);return r},HttpInvocation.prototype.createRequest=function(){var e,t,r=this.method,a=r.getHttpMethod(),s=this.req={method:a||"GET"},o=r.accepts,i=null,n=this.auth;s.url=this.base+r.getFullPath();var c=urlUtil.parse(s.url);if(s.protocol=c.protocol,s.json=!0,n&&(s.auth={},n.username&&n.password&&(s.auth.username=n.username,s.auth.password=n.password),n.bearer&&(s.auth.bearer=n.bearer),"sendImmediately"in n?s.auth.sendImmediately=n.sendImmediately:s.auth.sendImmediately=!1),!this.isStatic){i=r.restClass.ctor.accepts;for(t in i)e=this._processArg(s,a,e,i[t])}for(t in o)e=this._processArg(s,a,e,o[t]);return e&&(s.url+="?"+qs.stringify(e)),s},HttpInvocation.prototype.getArgByName=function(e){return this.namedArgs[e]},HttpInvocation.prototype.invoke=function(e){var t=this;this.req||this.createRequest();var r=this.method,a=r.sharedMethod.streams&&r.sharedMethod.streams.returns,s=!!a;if(s)if("ReadableStream"===a.type&&a.json){var o=new MuxDemux;o.on("connection",function(t){e(null,t)}),request(this.req).pipe(o)}else e(new Error("unsupported stream type"));else request(this.req,function(r,a,s){return r instanceof SyntaxError&&204===a.status&&(r=null),r?e(r):(t.res=a,void t.transformResponse(a,s,e))})},HttpInvocation.prototype.getResponse=function(){return this.res||null},HttpInvocation.prototype.transformResponse=function(e,t,r){var a,s=[null],o=this.method,i=o.returns,n="object"==typeof t,c=e.statusCode>=400,u={method:o,req:e.req,res:e};if(c){if(n&&t.error){a=new Error(t.error.message);for(var p in t.error)a[p]=t.error[p]}else a=new Error("Error: "+e.statusCode),a.statusCode=e.statusCode,a.details=t;return r(a)}for(var h=0,d=i.length;d>h;h++){var y,l,m=i[h],f=m.name||m.arg,v=m.type;if(y=m.root?e.body:e.body[f],"string"==typeof v&&Dynamic.canConvert(v))l=new Dynamic(y,u),y=l.to(v);else if(Array.isArray(v)&&Dynamic.canConvert(v[0])){v=v[0];for(var b=0,g=y.length;g>b;b++){var q=y[b];l=new Dynamic(q,u),y[b]=l.to(v)}}s.push(y)}r.apply(this,s)};
},{"./dynamic":227,"assert":2,"debug":190,"events":84,"mux-demux":236,"path":423,"qs":242,"request":247,"stream":573,"url":592,"util":594}],231:[function(require,module,exports){
(function (process){
function RemoteObjects(e){EventEmitter.call(this,{wildcard:!0}),this.setMaxListeners(16),this.options=e||{},this.exports=this.options.exports||{},this._classes={}}function searchListenerTree(e,t,r,s){if(!r)return[];var n,o,i,a,c,h,u,p=[],f=t.length,l=t[s],m=t[s+1];if(s===f&&r._listeners){if("function"==typeof r._listeners)return e&&e.push(r._listeners),[r];for(n=0,o=r._listeners.length;o>n;n++)e&&e.push(r._listeners[n]);return[r]}if("*"===l||"**"===l||r[l]){if("*"===l){for(i in r)"_listeners"!==i&&r.hasOwnProperty(i)&&(p=p.concat(searchListenerTree(e,t,r[i],s+1)));return p}if("**"===l){u=s+1===f||s+2===f&&"*"===m,u&&r._listeners&&(p=p.concat(searchListenerTree(e,t,r,f)));for(i in r)"_listeners"!==i&&r.hasOwnProperty(i)&&("*"===i||"**"===i?(r[i]._listeners&&!u&&(p=p.concat(searchListenerTree(e,t,r[i],f))),p=p.concat(searchListenerTree(e,t,r[i],s))):p=i===m?p.concat(searchListenerTree(e,t,r[i],s+2)):p.concat(searchListenerTree(e,t,r[i],s)));return p}p=p.concat(searchListenerTree(e,t,r[l],s+1))}if(a=r["*"],a&&searchListenerTree(e,t,a,s+1),c=r["**"])if(f>s){c._listeners&&searchListenerTree(e,t,c,f);for(i in c)"_listeners"!==i&&c.hasOwnProperty(i)&&(i===m?searchListenerTree(e,t,c[i],s+2):i===l?searchListenerTree(e,t,c[i],s+1):(h={},h[i]=c[i],searchListenerTree(e,t,{"**":h},s+1)))}else c._listeners?searchListenerTree(e,t,c,f):c["*"]&&c["*"]._listeners&&searchListenerTree(e,t,c["*"],f);return p}module.exports=RemoteObjects;var EventEmitter=require("eventemitter2").EventEmitter2,debug=require("debug")("strong-remoting:remotes"),util=require("util"),urlUtil=require("url"),inherits=util.inherits,assert=require("assert"),Dynamic=require("./dynamic"),SharedClass=require("./shared-class"),ExportsHelper=require("./exports-helper");require("./rest-adapter"),inherits(RemoteObjects,EventEmitter),RemoteObjects.create=function(e){return new RemoteObjects(e)},RemoteObjects.extend=function(e){return new ExportsHelper(e)},RemoteObjects.prototype.handler=function(e,t){var r=this.adapter(e),s=new r(this,t),n=s.createHandler();return n&&(n.adapter=s),n},RemoteObjects.prototype.connect=function(e,t){var r,s=e,n=urlUtil.parse(e);n.auth&&(r=this.auth={},r.username=n.auth.split(":")[0],r.password=n.auth.split(":")[1],delete n.auth,s=urlUtil.format(n),e[e.length-1]!==s[s.length-1]&&(s=s.slice(0,-1)));var o=this.adapter(t),i=new o(this);return this.serverAdapter=i,i.connect(s)},RemoteObjects.prototype.invoke=function(e,t,r,s){return assert(this.serverAdapter,"Cannot invoke method without an adapter. See RemoteObjects#connect()."),this.serverAdapter.invoke.apply(this.serverAdapter,arguments,s)},RemoteObjects.prototype.adapter=function(e){return require("./"+e+"-adapter")},RemoteObjects.prototype.classes=function(e){e=e||{};var t=this.exports,r=[],s=this._classes;return Object.keys(t).forEach(function(s){r.push(new SharedClass(s,t[s],e))}),Object.keys(s).forEach(function(e){r.push(s[e])}),r},RemoteObjects.prototype.addClass=function(e){assert(e&&"SharedClass"===e.constructor.name,"must provide a valid SharedClass"),this._classes[e.name]=e},RemoteObjects.prototype.findMethod=function(e){for(var t=this.methods(),r=0;r<t.length;r++)if(t[r].stringName===e)return t[r]},RemoteObjects.prototype.methods=function(){var e=[];return this.classes().forEach(function(t){e=t.methods().concat(e)}),e},RemoteObjects.prototype.toJSON=function(){var e={},t=this.methods();return t.forEach(function(t){e[t.stringName]={http:t.fn&&t.fn.http,accepts:t.accepts,returns:t.returns,errors:t.errors}}),e},RemoteObjects.prototype.before=function(e,t){this.on("before."+e,t)},RemoteObjects.prototype.after=function(e,t){this.on("after."+e,t)},RemoteObjects.prototype.afterError=function(e,t){this.on("afterError."+e,t)},RemoteObjects.prototype.execHooks=function(e,t,r,s,n){function o(e){h.push(e)}function i(e){if(e)return n(e);var o=h.shift();if(o)try{var a=o.call(r,s,i,t);a&&"function"==typeof a.then&&a.then(function(){n()},n)}catch(e){n(e)}else n()}var a,c,h=[],u=t.isStatic||t.sharedMethod&&t.sharedMethod.isStatic;if(this.objectName=t.sharedClass&&t.sharedClass.name||t.restClass&&t.restClass.name,this.methodName=t.name,a=t.fullName?e+"."+t.fullName:e+"."+this.objectName+(u?".":".prototype.")+this.methodName,this.wildcard){c=[];var p="string"==typeof a?a.split(this.delimiter):a.slice();searchListenerTree.call(this,c,p,this.listenerTree,0)}else c=this._events[a];if("function"==typeof c)return this.event=a,o(c),i();if(c){var f,l=arguments.length,m=new Array(l-1);for(f=1;l>f;f++)m[f-1]=arguments[f];var d=c.slice();for(f=0,l=d.length;l>f;f++)o(d[f])}return i()},RemoteObjects.prototype._executeAuthorizationHook=function(e,t){"function"==typeof this.authorization?this.authorization(e,t):process.nextTick(function(){t()})},RemoteObjects.prototype.invokeMethodInContext=function(e,t,r){function s(s){e.error=s,n.execHooks("afterError",t,o,e,function(e){r(e||s)})}var n=this,o=this.getScope(e,t);n._executeAuthorizationHook(e,function(i){return i?s(i):void n.execHooks("before",t,o,e,function(i){return i?s(i):void e.invoke(o,t,function(i,a){return i?s(i):(e.result=a,void n.execHooks("after",t,o,e,function(e){return e?s(e):void r()}))})})})},RemoteObjects.prototype.getScope=function(e,t){return e.instance||t.ctor||t.sharedMethod&&t.sharedMethod.ctor},RemoteObjects.defineType=RemoteObjects.convert=RemoteObjects.prototype.defineType=RemoteObjects.prototype.convert=function(e,t){Dynamic.define(e,t)};
}).call(this,require('_process'))

},{"./dynamic":227,"./exports-helper":228,"./rest-adapter":232,"./shared-class":233,"_process":425,"assert":2,"debug":190,"eventemitter2":235,"url":592,"util":594}],232:[function(require,module,exports){
(function (process){
function RestAdapter(t,e){EventEmitter.call(this),this.remotes=t,this.Context=HttpContext,this.options=e||(t.options||{}).rest}function getRoutes(t){var e=t.http;return e&&!Array.isArray(e)&&(e=[e]),e?e.forEach(function(e){e.verb=String(e.verb||"all").toLowerCase(),e.path=e.path||"/"+t.name}):e="sharedCtor"===t.name?[{verb:"all",path:"/prototype"}]:[{verb:"all",path:t.name?"/"+t.name:""}],e}function sortRoutes(t,e){var r=t.route,o=e.route,n=r.verb.toLowerCase(),s=o.verb.toLowerCase();if("del"===n&&(n="delete"),"del"===s&&(s="delete"),n>s)return-1;if(s>n)return 1;for(var a=r.path.split("/"),i=o.path.split("/"),u=Math.min(a.length,i.length),h=0;u>h;h++){if(""===a[h]&&""!==i[h])return 1;if(""!==a[h]&&""===i[h])return-1;if(":"===a[h][0]&&":"!==i[h][0])return 1;if(":"!==a[h][0]&&":"===i[h][0])return-1;if(a[h]>i[h])return 1;if(a[h]<i[h])return-1}return i.length-a.length}function RestClass(t){nonEnumerableConstPropery(this,"sharedClass",t),this.name=t.name,this.routes=getRoutes(t),this.ctor=t.sharedCtor&&new RestMethod(this,t.sharedCtor),this.methods=t.methods().filter(function(t){return!t.isSharedCtor}).map(function(t){return new RestMethod(this,t)}.bind(this))}function RestMethod(t,e){nonEnumerableConstPropery(this,"restClass",t),nonEnumerableConstPropery(this,"sharedMethod",e),this.fullName=e.stringName,this.name=this.fullName.split(".").slice(1).join("."),this.accepts=e.accepts,this.returns=e.returns,this.errors=e.errors,this.description=e.description,this.notes=e.notes,this.documented=e.documented;var r=getRoutes(e);if(e.isStatic||!t.ctor)this.routes=r;else{var o=this.routes=[];r.forEach(function(e){t.ctor.routes.forEach(function(t){var r=util._extend({},e);r.path=joinPaths(t.path,e.path),o.push(r)})})}}function getTypeString(t){return"function"==typeof t&&(t=t.name),"string"==typeof t?t.toLowerCase():Array.isArray(t)?"array":(debug("WARNING: unkown ctorOrName of type %s: %j",typeof t,t),"undefined")}function nonEnumerableConstPropery(t,e,r){Object.defineProperty(t,e,{value:r,enumerable:!1,writable:!1,configurable:!1})}function joinPaths(t,e){if(!t)return e;if(!e||"/"==e)return t;var r=t[t.length-1]+e[0];return"//"==r?t+e.slice(1):"/"==r[0]||"/"==r[1]?t+e:t+"/"+e}module.exports=RestAdapter,RestAdapter.RestClass=RestClass,RestAdapter.RestMethod=RestMethod;var EventEmitter=require("events").EventEmitter,debug=require("debug")("strong-remoting:rest-adapter"),util=require("util"),inherits=util.inherits,assert=require("assert"),express=require("express"),bodyParser=require("body-parser"),cors=require("cors"),async=require("async"),HttpInvocation=require("./http-invocation"),HttpContext=require("./http-context"),json=bodyParser.json,urlencoded=bodyParser.urlencoded;inherits(RestAdapter,EventEmitter),RestAdapter.create=RestAdapter.createRestAdapter=function(t){return new RestAdapter(t)},RestAdapter.prototype.getRoutes=getRoutes,RestAdapter.prototype.connect=function(t){this.connection=t},RestAdapter.prototype.invoke=function(t,e,r,o){assert(this.connection,"Cannot invoke method without a connection. See RemoteObjects#connect()."),assert("string"==typeof t,"method is required when calling invoke()");var n=arguments[arguments.length-1];o="function"==typeof n?n:void 0,e=Array.isArray(e)?e:[],Array.isArray(r)||(r=e,e=[]);var s=this.remotes,a=this.getRestMethodByName(t),i=new HttpInvocation(a,e,r,this.connection,s.auth),u={req:i.createRequest()},h=s.getScope(u,a);s.execHooks("before",a,h,u,function(t){return t?o(t):void i.invoke(function(t){if(t)return o(t);var e=Array.prototype.slice.call(arguments);u.result=e.slice(1),u.res=i.getResponse(),s.execHooks("after",a,h,u,function(t){return t?o(t):void o.apply(i,e)})})})},RestAdapter.prototype.getRestMethodByName=function(t){for(var e=this.getClasses(),r=0;r<e.length;r++)for(var o=e[r],n=0;n<o.methods.length;n++){var s=o.methods[n];if(s.fullName===t)return s}},RestAdapter.sortRoutes=sortRoutes,RestAdapter.prototype.createHandler=function(){var t=express.Router(),e=this,r=this.getClasses();t.use(function(t,e,r){t.is("application/json")&&"0"===t.get("Content-Length")&&(t._body=!0,t.body={}),r()}),debug("remoting options: %j",this.remotes.options);var o=this.remotes.options.urlencoded||{extended:!0};void 0===o.extended&&(o.extended=!0);var n=this.remotes.options.json||{strict:!1},s=this.remotes.options.cors;void 0===s&&(s={origin:!0,credentials:!0});var a=function(t,e,r){var o=t.protocol+"://"+t.get("host");"OPTIONS"===t.method||o!==t.get("origin")?cors(s)(t,e,r):r()};s&&t.use(a),t.use(urlencoded(o)),t.use(json(n));var i=this._shouldHandleUnknownPaths();return r.forEach(function(r){var o=express.Router(),n=r.sharedClass.name;debug("registering REST handler for class %j",n);var s=[];r.methods.forEach(function(t){var e=t.sharedMethod;debug("    method %s",e.stringName),t.routes.forEach(function(t){s.push({route:t,method:e})})}),s.sort(sortRoutes),s.forEach(function(t){e._registerMethodRouteHandlers(o,t.method,t.route)}),i&&o.use(RestAdapter.remoteMethodNotFoundHandler(n)),r.routes.forEach(function(e){debug("    at %s",e.path),t.use(e.path,o)})}),i&&t.use(RestAdapter.urlNotFoundHandler()),this._shouldHandleErrors()&&t.use(RestAdapter.errorHandler(this.remotes.options.errorHandler)),t},RestAdapter.prototype._shouldHandleUnknownPaths=function(){return!(this.options&&this.options.handleUnknownPaths===!1)},RestAdapter.prototype._shouldHandleErrors=function(){return!(this.options&&this.options.handleErrors===!1)},RestAdapter.remoteMethodNotFoundHandler=function(t){return t=t||"(unknown)",function(e,r,o){var n='Shared class "'+t+'" has no method handling '+e.method+" "+e.url,s=new Error(n);s.status=s.statusCode=404,o(s)}},RestAdapter.urlNotFoundHandler=function(){return function(t,e,r){var o="There is no method to handle "+t.method+" "+t.url,n=new Error(o);n.status=n.statusCode=404,r(n)}},RestAdapter.errorHandler=function(t){return t=t||{},function(e,r,o,n){function s(n){n&&(e=n),"string"==typeof e&&(e=new Error(e),e.status=e.statusCode=500),(void 0===o.statusCode||o.statusCode<400)&&(o.statusCode=e.statusCode||e.status||500),debug("Error in %s %s: %s",r.method,r.url,e.stack);var s={name:e.name,status:o.statusCode,message:e.message||"An unknown error occurred"};for(var a in e)s[a]=e[a];s.stack=e.stack,("production"===process.env.NODE_ENV||t.disableStackTrace)&&delete s.stack,o.send({error:s})}if("function"!=typeof t.handler)return s();try{t.handler(e,r,o,s)}catch(a){s(a)}}},RestAdapter.prototype._registerMethodRouteHandlers=function(t,e,r){var o=e.isStatic?this._createStaticMethodHandler(e):this._createPrototypeMethodHandler(e);debug("        %s %s %s",r.verb,r.path,o.name);var n=r.verb;"del"===n&&(n="delete"),t[n](r.path,o)},RestAdapter.prototype._createStaticMethodHandler=function(t){var e=this,r=this.Context;return function(o,n,s){var a=new r(o,n,t,e.options);e._invokeMethod(a,t,s)}},RestAdapter.prototype._createPrototypeMethodHandler=function(t){var e=this,r=this.Context;return function(o,n,s){var a=new r(o,n,t,e.options);a.invoke(t.ctor,t.sharedCtor,function(r,o){return r?s(r):(a.instance=o,void e._invokeMethod(a,t,s))},!0)}},RestAdapter.prototype._invokeMethod=function(t,e,r){var o=this.remotes,n=[];e.rest.before&&n.push(function(r){debug("Invoking rest.before for "+t.methodString),e.rest.before.call(o.getScope(t,e),t,r)}),n.push(this.remotes.invokeMethodInContext.bind(this.remotes,t,e)),e.rest.after&&n.push(function(r){debug("Invoking rest.after for "+t.methodString),e.rest.after.call(o.getScope(t,e),t,r)}),async.series(n,function(e){return e?r(e):void t.done(function(t){return t?r(t):void 0})})},RestAdapter.prototype.allRoutes=function(){function t(t,r,o){r="/"===r||"//"===r?n:n+r,"/"===r[r.length-1]&&(r=r.substr(0,r.length-1)),r=r.replace(/\/\//g,"/"),e.push({verb:t,path:r,description:o.description,notes:o.notes,documented:o.documented,method:o.stringName,accepts:o.accepts&&o.accepts.length?o.accepts:void 0,returns:o.returns&&o.returns.length?o.returns:void 0,errors:o.errors&&o.errors.length?o.errors:void 0})}var e=[],r=this,o=this.remotes.classes(this.options),n="";return o.forEach(function(e){r.getRoutes(e).forEach(function(o){n=o.path;var s=e.methods();s.forEach(function(e){r.getRoutes(e).forEach(function(o){e.isStatic?t(o.verb,o.path,e):r.getRoutes(e.sharedCtor).forEach(function(r){t(o.verb,r.path+o.path,e)})})})})}),e},RestAdapter.prototype.getClasses=function(){return this.remotes.classes(this.options).map(function(t){return new RestClass(t)})},RestClass.prototype.getPath=function(){return this.routes[0].path},RestMethod.prototype.isReturningArray=function(){return 1==this.returns.length&&this.returns[0].root&&"array"===getTypeString(this.returns[0].type)||!1},RestMethod.prototype.acceptsSingleBodyArgument=function(){if(1!=this.accepts.length)return!1;var t=this.accepts[0];return t.http&&"body"==t.http.source&&"object"==getTypeString(t.type)||!1},RestMethod.prototype.getHttpMethod=function(){var t=this.routes[0].verb;return"all"==t?"POST":"del"==t?"DELETE":t.toUpperCase()},RestMethod.prototype.getPath=function(){return this.routes[0].path},RestMethod.prototype.getFullPath=function(){return joinPaths(this.restClass.getPath(),this.getPath())};
}).call(this,require('_process'))

},{"./http-context":229,"./http-invocation":230,"_process":425,"assert":2,"async":187,"body-parser":6,"cors":6,"debug":190,"events":84,"express":6,"util":594}],233:[function(require,module,exports){
function SharedClass(t,e,r){r=r||{},this.name=t||e.remoteNamespace,this.ctor=e,this._methods=[],this._resolvers=[],this._disabledMethods={};var i=e&&e.http,n=r.normalizeHttpPath,s={};s.path="/"+this.name,Array.isArray(i)?(this.http=i,0===i.length&&i.push(s),n&&this.http.forEach(function(t){t.path=SharedClass.normalizeHttpPath(t.path)})):(this.http=util._extend(s,i),n&&(this.http.path=SharedClass.normalizeHttpPath(this.http.path))),"function"==typeof e&&e.sharedCtor&&(this.sharedCtor=new SharedMethod(e.sharedCtor,"sharedCtor",this)),assert(this.name,"must include a remoteNamespace when creating a SharedClass")}function _define(t,e,r,i){r=r||{};var n=new SharedMethod(i,e,this,r);return t.push(n),n}function find(t,e,r){for(var i=0;i<t.length;i++){var n=t[i];if(n.isDelegateFor(e,r))return n}return null}function eachRemoteFunctionInObject(t,e){if(t)for(var r in t)if("super_"!==r){var i;try{i=t[r]}catch(n){}"function"==typeof i&&i.shared&&!i.modelName&&e(i,r)}}module.exports=SharedClass;var debug=require("debug")("strong-remoting:shared-class"),util=require("util"),inherits=util.inherits,inflection=require("inflection"),SharedMethod=require("./shared-method"),assert=require("assert");SharedClass.normalizeHttpPath=function(t){return"string"==typeof t?t.replace(/[^\/]+/g,function(t){return t.indexOf(":")>-1?t:inflection.transform(t,["underscore","dasherize"])}):void 0},SharedClass.prototype.methods=function(t){var e=this.ctor,r=[],i=this,n=[];return t=t||{},eachRemoteFunctionInObject(e,function(t,e){if(-1!==n.indexOf(t)){var s=find(r,t);return void s.addAlias(e)}n.push(t),r.push(SharedMethod.fromFunction(t,e,i,!0))}),eachRemoteFunctionInObject(e.prototype,function(t,e){if(-1!==n.indexOf(t)){var s=find(r,t);return void s.addAlias(e)}n.push(t),r.push(SharedMethod.fromFunction(t,e,i))}),this._resolvers.forEach(function(t){t.call(this,_define.bind(i,r))}),r=r.concat(this._methods),t.includeDisabled===!0?r:r.filter(i.isMethodEnabled.bind(i))},SharedClass.prototype.isMethodEnabled=function(t){if(!t.shared)return!1;var e=this.getKeyFromMethodNameAndTarget(t.name,t.isStatic);return this._disabledMethods.hasOwnProperty(e)?!1:!0},SharedClass.prototype.defineMethod=function(t,e,r){return _define.call(this,this._methods,t,e,r)},SharedClass.prototype.resolve=function(t){this._resolvers.push(t)},SharedClass.prototype.find=function(t,e){var r=this.methods();return find(r,t,e)},SharedClass.prototype.disableMethod=function(t,e){var r=this._disabledMethods,i=this.getKeyFromMethodNameAndTarget(t,e);r[i]=!0},SharedClass.prototype.getKeyFromMethodNameAndTarget=function(t,e){return(e?"":"prototype.")+t};
},{"./shared-method":234,"assert":2,"debug":190,"inflection":196,"util":594}],234:[function(require,module,exports){
(function (Buffer){
function SharedMethod(e,t,r,s){"boolean"==typeof s&&(s={isStatic:s}),this.fn=e,e=e||{},this.name=t,assert("string"==typeof t,"The method name must be a string"),s=s||{},this.aliases=s.aliases||[];var a=this.isStatic=s.isStatic||!1;this.accepts=s.accepts||e.accepts||[],this.returns=s.returns||e.returns||[],this.errors=s.errors||e.errors||[],this.description=s.description||e.description,this.accessType=s.accessType||e.accessType,this.notes=s.notes||e.notes,this.documented=s.documented!==!1&&e.documented!==!1,this.http=s.http||e.http||{},this.rest=s.rest||e.rest||{},this.shared=s.shared,void 0===this.shared&&(this.shared=!0),e.shared===!1&&(this.shared=!1),this.sharedClass=r,r&&(this.ctor=r.ctor,this.sharedCtor=r.sharedCtor),"sharedCtor"===t&&(this.isSharedCtor=!0),this.accepts&&!Array.isArray(this.accepts)&&(this.accepts=[this.accepts]),this.accepts.forEach(normalizeArgumentDescriptor),this.returns&&!Array.isArray(this.returns)&&(this.returns=[this.returns]),this.returns.forEach(normalizeArgumentDescriptor);var n=this.returns[0],o=["ReadableStream","WriteableStream","DuplexStream"];n&&n.type&&o.indexOf(n.type)>-1&&(this.streams={returns:n}),this.errors&&!Array.isArray(this.errors)&&(this.errors=[this.errors]),this.stringName=(r?r.name:"")+(a?".":".prototype.")+t}function normalizeArgumentDescriptor(e){"array"===e.type&&(e.type=["any"])}function badArgumentError(e){var t=new Error(e);return t.statusCode=400,t}function escapeRegex(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function coerceAccepts(e,t){var r=t.name||t.arg,s=convertToBasicRemotingType(t.type),a=Array.isArray(s)&&1===s.length;if(a&&Array.isArray(e))return e.map(function(e,t){return coerceAccepts(e,{name:r+"["+t+"]",type:s[0]})});var n=SharedMethod.getType(e),o="any"!==s&&"undefined"!==n&&n!==s;if(o)try{e=convertValueToTargetType(r,e,s),n=SharedMethod.getType(e)}catch(i){var c=util.format("invalid value for argument '%s' of type '%s': %s. Received type was %s. Error: %s",r,s,e,typeof e,i.message);throw new badArgumentError(c)}var u="any"!==s&&"undefined"!==n&&s!==n&&!("object"===s&&"array"===n);if(u){var c=util.format("Invalid value for argument '%s' of type '%s': %s. Received type was converted to %s.",r,s,e,typeof e);throw new badArgumentError(c)}if("undefined"!==n){if("number"===n&&Number.isNaN(e))throw new badArgumentError(r+" must be a number");return e}if(t.required)throw new badArgumentError(r+" is a required arg")}function convertToBasicRemotingType(e){if(Array.isArray(e))return e.map(convertToBasicRemotingType);switch("object"==typeof e&&(e=e.modelName||e.name),e=String(e).toLowerCase()){case"string":case"number":case"date":case"boolean":case"buffer":case"object":case"any":return e;case"array":return["any"].map(convertToBasicRemotingType);default:return"object"}}function convertValueToTargetType(e,t,r){switch(r){case"string":return String(t).valueOf();case"date":return new Date(t);case"number":return Number(t).valueOf();case"boolean":return Boolean(t).valueOf();default:switch(typeof t){case"string":return JSON.parse(t);case"object":return t;default:throw new badArgumentError(e+" must be "+r)}}}module.exports=SharedMethod;var debug=require("debug")("strong-remoting:shared-method"),util=require("util"),traverse=require("traverse"),assert=require("assert");SharedMethod.fromFunction=function(e,t,r,s){return new SharedMethod(e,t,r,{isStatic:s,accepts:e.accepts,returns:e.returns,errors:e.errors,description:e.description,notes:e.notes,http:e.http,rest:e.rest})},SharedMethod.prototype.getReturnArgDescByName=function(e){for(var t,r=this.returns,s=0;s<r.length;s++)if(t=r[s],t&&(t.arg||t.name)===e)return t},SharedMethod.prototype.invoke=function(e,t,r,s,a){function n(e){if(e)return a(e);var t=[].slice.call(arguments,1),r=SharedMethod.toResult(i,t,s);debug("- %s - result %j",u.name,r),a(null,r)}var o=this.accepts,i=this.returns,c=(this.errors,this.getFunction()),u=this,h=[];if("function"==typeof s&&(a=s,s=void 0),void 0===a&&"function"==typeof r&&(a=r,r={}),o)for(var d=0;d<o.length;d++){var f=o[d],p=f.name||f.arg,y=SharedMethod.convertArg(f,t[p]);try{y=coerceAccepts(y,f,p)}catch(m){return debug("- %s - "+m.message,u.name),a(m)}h.push(y)}h.push(n),debug("- %s - invoke with",this.name,h);try{var g=c.apply(e,h);return g&&"function"==typeof g.then?g.then(function(e){1===i.length&&(e=[e]);var t=SharedMethod.toResult(i,e);debug("- %s - promise result %j",u.name,t),a(null,t)},a):g}catch(l){return debug("error caught during the invocation of %s",this.name),a(l)}},SharedMethod.getType=function(e){var t=typeof e;switch(t){case"undefined":case"boolean":case"number":case"function":case"string":return t;case"object":return null===e?"null":Buffer.isBuffer(e)?"buffer":Array.isArray(e)?"array":e instanceof Date?"date":"object"}},SharedMethod.convertArg=function(e,t){if(e.http&&("req"===e.http.source||"res"===e.http.source||"context"===e.http.source))return t;if(null===t||"object"!=typeof t)return t;if("object"==typeof t&&t.constructor!==Object&&t.constructor!==Array)return t;var r=traverse(t).forEach(function(e){if(null===e||"object"!=typeof e)return e;var t=e;if("base64"===e.$type||"date"===e.$type){switch(e.$type){case"base64":t=new Buffer(e.$data,"base64");break;case"date":t=new Date(e.$data)}this.update(t)}return t});return r},SharedMethod.toResult=function(e,t,r){function s(e){switch(SharedMethod.getType(e)){case"date":return{$type:"date",$data:e.toString()};case"buffer":return{$type:"base64",$data:e.toString("base64")}}return e}var a={};if(e.length)return e=e.filter(function(e,n){return n>=t.length?!1:e.root?(a=s(t[n]),r&&r.setReturnArgByName(e.name||e.arg,t[n]),!1):!0}),e.forEach(function(e,n){var o=s(t[n]),i=e.name||e.arg;a[i]=o,r&&r.setReturnArgByName(i,o)}),a},SharedMethod.prototype.getFunction=function(){var e;return this.ctor?(e=this.isStatic?this.ctor[this.name]:this.ctor.prototype[this.name],e||this.fn):this.fn},SharedMethod.prototype.isDelegateFor=function(e,t){var r=typeof e;if(t=t||!1,e)switch(r){case"function":return this.getFunction()===e;case"string":return this.isStatic!==t?!1:this.name===e||-1!==this.aliases.indexOf(e)}return!1},SharedMethod.prototype.addAlias=function(e){-1===this.aliases.indexOf(e)&&this.aliases.push(e)};
}).call(this,require("buffer").Buffer)

},{"assert":2,"buffer":42,"debug":190,"traverse":377,"util":594}],235:[function(require,module,exports){
!function(e){function t(){this._events={},this._conf&&s.call(this,this._conf)}function s(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners&&(this._events.maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),this.wildcard&&(this.listenerTree={}))}function i(e){this._events={},this.newListener=!1,s.call(this,e)}function n(e,t,s,i){if(!s)return[];var r,l,o,h,a,f,c,u=[],_=t.length,p=t[i],v=t[i+1];if(i===_&&s._listeners){if("function"==typeof s._listeners)return e&&e.push(s._listeners),[s];for(r=0,l=s._listeners.length;l>r;r++)e&&e.push(s._listeners[r]);return[s]}if("*"===p||"**"===p||s[p]){if("*"===p){for(o in s)"_listeners"!==o&&s.hasOwnProperty(o)&&(u=u.concat(n(e,t,s[o],i+1)));return u}if("**"===p){c=i+1===_||i+2===_&&"*"===v,c&&s._listeners&&(u=u.concat(n(e,t,s,_)));for(o in s)"_listeners"!==o&&s.hasOwnProperty(o)&&("*"===o||"**"===o?(s[o]._listeners&&!c&&(u=u.concat(n(e,t,s[o],_))),u=u.concat(n(e,t,s[o],i))):u=o===v?u.concat(n(e,t,s[o],i+2)):u.concat(n(e,t,s[o],i)));return u}u=u.concat(n(e,t,s[p],i+1))}if(h=s["*"],h&&n(e,t,h,i+1),a=s["**"])if(_>i){a._listeners&&n(e,t,a,_);for(o in a)"_listeners"!==o&&a.hasOwnProperty(o)&&(o===v?n(e,t,a[o],i+2):o===p?n(e,t,a[o],i+1):(f={},f[o]=a[o],n(e,t,{"**":f},i+1)))}else a._listeners?n(e,t,a,_):a["*"]&&a["*"]._listeners&&n(e,t,a["*"],_);return u}function r(e,t){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var s=0,i=e.length;i>s+1;s++)if("**"===e[s]&&"**"===e[s+1])return;for(var n=this.listenerTree,r=e.shift();r;){if(n[r]||(n[r]={}),n=n[r],0===e.length){if(n._listeners){if("function"==typeof n._listeners)n._listeners=[n._listeners,t];else if(l(n._listeners)&&(n._listeners.push(t),!n._listeners.warned)){var h=o;"undefined"!=typeof this._events.maxListeners&&(h=this._events.maxListeners),h>0&&n._listeners.length>h&&(n._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",n._listeners.length),console.trace())}}else n._listeners=t;return!0}r=e.shift()}return!0}var l=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=10;i.prototype.delimiter=".",i.prototype.setMaxListeners=function(e){this._events||t.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e},i.prototype.event="",i.prototype.once=function(e,t){return this.many(e,1,t),this},i.prototype.many=function(e,t,s){function i(){0===--t&&n.off(e,i),s.apply(this,arguments)}var n=this;if("function"!=typeof s)throw new Error("many only accepts instances of Function");return i._origin=s,this.on(e,i),n},i.prototype.emit=function(){this._events||t.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];for(r=0,s=this._all.length;s>r;r++)this.event=e,this._all[r].apply(this,i)}if("error"===e&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var l;if(this.wildcard){l=[];var o="string"==typeof e?e.split(this.delimiter):e.slice();n.call(this,l,o,this.listenerTree,0)}else l=this._events[e];if("function"==typeof l){if(this.event=e,1===arguments.length)l.call(this);else if(arguments.length>1)switch(arguments.length){case 2:l.call(this,arguments[1]);break;case 3:l.call(this,arguments[1],arguments[2]);break;default:for(var s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];l.apply(this,i)}return!0}if(l){for(var s=arguments.length,i=new Array(s-1),r=1;s>r;r++)i[r-1]=arguments[r];for(var h=l.slice(),r=0,s=h.length;s>r;r++)this.event=e,h[r].apply(this,i);return h.length>0||!!this._all}return!!this._all},i.prototype.on=function(e,s){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof s)throw new Error("on only accepts instances of Function");if(this._events||t.call(this),this.emit("newListener",e,s),this.wildcard)return r.call(this,e,s),this;if(this._events[e]){if("function"==typeof this._events[e])this._events[e]=[this._events[e],s];else if(l(this._events[e])&&(this._events[e].push(s),!this._events[e].warned)){var i=o;"undefined"!=typeof this._events.maxListeners&&(i=this._events.maxListeners),i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}}else this._events[e]=s;return this},i.prototype.onAny=function(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},i.prototype.addListener=i.prototype.on,i.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var s,i=[];if(this.wildcard){var r="string"==typeof e?e.split(this.delimiter):e.slice();i=n.call(this,null,r,this.listenerTree,0)}else{if(!this._events[e])return this;s=this._events[e],i.push({_listeners:s})}for(var o=0;o<i.length;o++){var h=i[o];if(s=h._listeners,l(s)){for(var a=-1,f=0,c=s.length;c>f;f++)if(s[f]===t||s[f].listener&&s[f].listener===t||s[f]._origin&&s[f]._origin===t){a=f;break}if(0>a)continue;return this.wildcard?h._listeners.splice(a,1):this._events[e].splice(a,1),0===s.length&&(this.wildcard?delete h._listeners:delete this._events[e]),this}(s===t||s.listener&&s.listener===t||s._origin&&s._origin===t)&&(this.wildcard?delete h._listeners:delete this._events[e])}return this},i.prototype.offAny=function(e){var t,s=0,i=0;if(e&&this._all&&this._all.length>0){for(t=this._all,s=0,i=t.length;i>s;s++)if(e===t[s])return t.splice(s,1),this}else this._all=[];return this},i.prototype.removeListener=i.prototype.off,i.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||t.call(this),this;if(this.wildcard)for(var s="string"==typeof e?e.split(this.delimiter):e.slice(),i=n.call(this,null,s,this.listenerTree,0),r=0;r<i.length;r++){var l=i[r];l._listeners=null}else{if(!this._events[e])return this;this._events[e]=null}return this},i.prototype.listeners=function(e){if(this.wildcard){var s=[],i="string"==typeof e?e.split(this.delimiter):e.slice();return n.call(this,s,i,this.listenerTree,0),s}return this._events||t.call(this),this._events[e]||(this._events[e]=[]),l(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},i.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof exports?exports.EventEmitter2=i:window.EventEmitter2=i}();
},{}],236:[function(require,module,exports){
var inject=require("./inject"),serializer=require("stream-serializer");module.exports=inject(function(e,r){return serializer(r&&r.wrapper)(e)});
},{"./inject":237,"stream-serializer":239}],237:[function(require,module,exports){
"use strict";var through=require("through"),extend=require("xtend"),duplex=require("duplex");module.exports=function(e){function r(r,t){function n(){return Math.random().toString(16).slice(2)+Math.random().toString(16).slice(2)}function i(e){s.removeListener("end",i),s.removeListener("error",i),s.removeListener("close",i);var t=e||new Error("unexpected disconnection");for(var n in a){var o=a[n];o.destroyed=!0,r.error!==!0?o.end():(o.emit("error",t),o.destroy())}}function o(e,r,t){c++;var n=through(function(r){if(!this.writable){var t=Error("stream is not writable: "+e);return t.stream=this,d.emit("error",t)}s._data([n.id,"data",r])},function(){s._data([n.id,"end"]),!this.readable||t.allowHalfOpen||this.ended||this.emit("end")});return n.pause=function(){s._data([n.id,"pause"])},n.resume=function(){s._data([n.id,"resume"])},n.error=function(e){s._data([n.id,"error",e])},n.once("close",function(){delete a[e],c--,s._data([n.id,"close"]),0===c&&s.emit("zero")}),n.writable=t.writable,n.readable=t.readable,a[n.id=e]=n,n.meta=r,n}"function"==typeof r&&(t=r,r=null),r=r||{};var a={},c=0,s=duplex();s.on("_data",function(e){if(Array.isArray(e)&&"string"==typeof e[0]&&"__proto__"!==e[0]&&"string"==typeof e[1]&&"__proto__"!==e[1]){var r=e.shift(),t=e[0],n=a[r];if(n)if("pause"===t)n.paused=!0;else if("resume"===t){var i=n.paused;n.paused=!1,i&&n.emit("drain")}else if("error"===t){var c=e[1];if("string"==typeof c)n.emit("error",new Error(c));else if("string"==typeof c.message){var u=new Error(c.message);extend(u,c),n.emit("error",u)}else n.emit("error",c)}else n.emit.apply(n,e);else{if("close"==t)return;if("new"!=t)return d.emit("unknown",r);s.emit("connection",o(r,e[1].meta,e[1].opts))}}}).on("_end",function(){i(),s._end()});var d=e(s,r);s!==d&&s.on("connection",function(e){d.emit("connection",e)}),d.close=function(e){return s.once("zero",function(){s._end(),e&&e()}),this},t&&d.on("connection",t),d.on("connection",function(e){1===d.listeners("connection").length&&e.error("remote end lacks connection listener "+d.listeners("connection").length)});var u=d.pipe;return d.pipe=function(e,r){return u.call(d,e,r),s.on("end",i),s.on("close",i),s.on("error",i),e},d.createStream=function(e,r){r=r||{},r.writable||r.readable||(r.readable=r.writable=!0);var t=o(n(),e,r),i={writable:r.readable,readable:r.writable};return s._data([t.id,"new",{meta:e,opts:i}]),t},d.createWriteStream=function(e){return d.createStream(e,{writable:!0,readable:!1})},d.createReadStream=function(e){return d.createStream(e,{writable:!1,readable:!0})},d}return r};
},{"duplex":238,"through":240,"xtend":241}],238:[function(require,module,exports){
(function (process){
var Stream=require("stream");module.exports=function(e,n){var t,a=new Stream,r=[],u=!1,d=!1;a.writable=a.readable=!0,a.paused=!1,a._paused=!1,a.buffer=r,a.on("pause",function(){a._paused=!0}).on("drain",function(){a._paused=!1}),e&&a.on("_data",e),n&&a.on("_end",n),a.once("end",function(){a.readable=!1,a.writable||process.nextTick(function(){a.destroy()})}),a.once("_end",function(){a.writable=!1,a.readable||a.destroy()}),a._data=function(e){return a.paused||r.length?r.push(e):a.emit("data",e),!(a.paused||r.length)},a._end=function(e){e&&a._data(e),t||(t=!0,a.drain())},a.write=function(e){return a.emit("_data",e),!a._paused},a.end=function(){a.writable=!1,a.ended||(a.ended=!0,a.emit("_end"))},a.drain=function(){if(r.length||t)for(;!a.paused;){if(!r.length)return t&&a.readable?(a.readable=!1,void a.emit("end")):!0;a.emit("data",r.shift()),0==r.length&&a.emit("_drain")}};var i=!1;a.resume=function(){return i=!0,a.paused=!1,a.drain(),a},a.destroy=function(){d||(d=u=!0,r.length=0,a.emit("close"))};return a.pause=function(){return i=!0,a.paused=!0,a.emit("_pause"),a},a._pause=function(){return a._paused||(a._paused=!0,a.emit("pause")),this},a.paused=!0,process.nextTick(function(){i||a.resume()}),a};
}).call(this,require('_process'))

},{"_process":425,"stream":573}],239:[function(require,module,exports){
var EventEmitter=require("events").EventEmitter;exports=module.exports=function(t){return"function"==typeof t?t:exports[t]||exports.json},exports.json=function(t,r){function e(e){var n;try{n=r.parse(e)}catch(o){return o.line=e,t.emit("error",o)}void 0!==n&&i.call(t,n)}function n(t){var r=(o+t).split("\n");for(o=r.pop();r.length;)e(r.shift())}r=r||JSON;var i=t.write,o="";t.write=n;var u=t.end;return t.end=function(r){return r&&t.write(r),o&&e(o),u.call(t)},t.emit=function(e,n){"data"==e&&(n=r.stringify(n)+"\n"),EventEmitter.prototype.emit.call(t,e,n)},t},exports.raw=function(t){return t};
},{"events":84}],240:[function(require,module,exports){
(function (process){
function through(e,t,u){function r(){for(;i.length&&!d.paused;){var e=i.shift();if(null===e)return d.emit("end");d.emit("data",e)}}function n(){d.writable=!1,t.call(d),!d.readable&&d.autoDestroy&&d.destroy()}e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var o=!1,a=!1,i=[],s=!1,d=new Stream;return d.readable=d.writable=!0,d.paused=!1,d.autoDestroy=!(u&&u.autoDestroy===!1),d.write=function(t){return e.call(this,t),!d.paused},d.queue=d.push=function(e){return s?d:(null===e&&(s=!0),i.push(e),r(),d)},d.on("end",function(){d.readable=!1,!d.writable&&d.autoDestroy&&process.nextTick(function(){d.destroy()})}),d.end=function(e){return o?void 0:(o=!0,arguments.length&&d.write(e),n(),d)},d.destroy=function(){return a?void 0:(a=!0,o=!0,i.length=0,d.writable=d.readable=!1,d.emit("close"),d)},d.pause=function(){return d.paused?void 0:(d.paused=!0,d)},d.resume=function(){return d.paused&&(d.paused=!1,d.emit("resume")),r(),d.paused||d.emit("drain"),d},d}var Stream=require("stream");exports=module.exports=through,through.through=through;
}).call(this,require('_process'))

},{"_process":425,"stream":573}],241:[function(require,module,exports){
function extend(e){for(var r=1;r<arguments.length;r++)for(var t=arguments[r],n=Object.keys(t),a=0;a<n.length;a++){var o=n[a];e[o]=t[o]}return e}module.exports=extend;
},{}],242:[function(require,module,exports){
arguments[4][144][0].apply(exports,arguments)
},{"./lib/":243,"dup":144}],243:[function(require,module,exports){
arguments[4][145][0].apply(exports,arguments)
},{"./parse":244,"./stringify":245,"dup":145}],244:[function(require,module,exports){
var Utils=require("./utils"),internals={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3};internals.parseValues=function(e,t){for(var r={},i=e.split(t.delimiter,t.parameterLimit===1/0?void 0:t.parameterLimit),a=0,n=i.length;n>a;++a){var s=i[a],l=-1===s.indexOf("]=")?s.indexOf("="):s.indexOf("]=")+1;if(-1===l)r[Utils.decode(s)]="";else{var p=Utils.decode(s.slice(0,l)),m=Utils.decode(s.slice(l+1));Object.prototype.hasOwnProperty.call(r,p)?r[p]=[].concat(r[p]).concat(m):r[p]=m}}return r},internals.parseObject=function(e,t,r){if(!e.length)return t;var i=e.shift(),a={};if("[]"===i)a=[],a=a.concat(internals.parseObject(e,t,r));else{var n="["===i[0]&&"]"===i[i.length-1]?i.slice(1,i.length-1):i,s=parseInt(n,10),l=""+s;!isNaN(s)&&i!==n&&l===n&&s>=0&&s<=r.arrayLimit?(a=[],a[s]=internals.parseObject(e,t,r)):a[n]=internals.parseObject(e,t,r)}return a},internals.parseKeys=function(e,t,r){if(e){var i=/^([^\[\]]*)/,a=/(\[[^\[\]]*\])/g,n=i.exec(e);if(!Object.prototype.hasOwnProperty(n[1])){var s=[];n[1]&&s.push(n[1]);for(var l=0;null!==(n=a.exec(e))&&l<r.depth;)++l,Object.prototype.hasOwnProperty(n[1].replace(/\[|\]/g,""))||s.push(n[1]);return n&&s.push("["+e.slice(n.index)+"]"),internals.parseObject(s,t,r)}}},module.exports=function(e,t){if(""===e||null===e||"undefined"==typeof e)return{};t=t||{},t.delimiter="string"==typeof t.delimiter||Utils.isRegExp(t.delimiter)?t.delimiter:internals.delimiter,t.depth="number"==typeof t.depth?t.depth:internals.depth,t.arrayLimit="number"==typeof t.arrayLimit?t.arrayLimit:internals.arrayLimit,t.parameterLimit="number"==typeof t.parameterLimit?t.parameterLimit:internals.parameterLimit;for(var r="string"==typeof e?internals.parseValues(e,t):e,i={},a=Object.keys(r),n=0,s=a.length;s>n;++n){var l=a[n],p=internals.parseKeys(l,r[l],t);i=Utils.merge(i,p)}return Utils.compact(i)};
},{"./utils":246}],245:[function(require,module,exports){
var Utils=require("./utils"),internals={delimiter:"&",arrayPrefixGenerators:{brackets:function(r,e){return r+"[]"},indices:function(r,e){return r+"["+e+"]"},repeat:function(r,e){return r}}};internals.stringify=function(r,e,n){if(Utils.isBuffer(r)?r=r.toString():r instanceof Date?r=r.toISOString():null===r&&(r=""),"string"==typeof r||"number"==typeof r||"boolean"==typeof r)return[encodeURIComponent(e)+"="+encodeURIComponent(r)];var t=[];if("undefined"==typeof r)return t;for(var i=Object.keys(r),a=0,o=i.length;o>a;++a){var s=i[a];t=Array.isArray(r)?t.concat(internals.stringify(r[s],n(e,s),n)):t.concat(internals.stringify(r[s],e+"["+s+"]",n))}return t},module.exports=function(r,e){e=e||{};var n="undefined"==typeof e.delimiter?internals.delimiter:e.delimiter,t=[];if("object"!=typeof r||null===r)return"";var i;i=e.arrayFormat in internals.arrayPrefixGenerators?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":"indices";for(var a=internals.arrayPrefixGenerators[i],o=Object.keys(r),s=0,f=o.length;f>s;++s){var c=o[s];t=t.concat(internals.stringify(r[c],c,a))}return t.join(n)};
},{"./utils":246}],246:[function(require,module,exports){
var internals={};exports.arrayToObject=function(r){for(var e={},t=0,n=r.length;n>t;++t)"undefined"!=typeof r[t]&&(e[t]=r[t]);return e},exports.merge=function(r,e){if(!e)return r;if("object"!=typeof e)return Array.isArray(r)?r.push(e):r[e]=!0,r;if("object"!=typeof r)return r=[r].concat(e);Array.isArray(r)&&!Array.isArray(e)&&(r=exports.arrayToObject(r));for(var t=Object.keys(e),n=0,o=t.length;o>n;++n){var c=t[n],u=e[c];r[c]?r[c]=exports.merge(r[c],u):r[c]=u}return r},exports.decode=function(r){try{return decodeURIComponent(r.replace(/\+/g," "))}catch(e){return r}},exports.compact=function(r,e){if("object"!=typeof r||null===r)return r;e=e||[];var t=e.indexOf(r);if(-1!==t)return e[t];if(e.push(r),Array.isArray(r)){for(var n=[],o=0,c=r.length;c>o;++o)"undefined"!=typeof r[o]&&n.push(r[o]);return n}var u=Object.keys(r);for(o=0,c=u.length;c>o;++o){var f=u[o];r[f]=exports.compact(r[f],e)}return r},exports.isRegExp=function(r){return"[object RegExp]"===Object.prototype.toString.call(r)},exports.isBuffer=function(r){return null===r||"undefined"==typeof r?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))};
},{}],247:[function(require,module,exports){
"use strict";function initParams(e,t,r){"function"==typeof t&&(r=t);var u={};return"object"==typeof t?extend(u,t,{uri:e}):"string"==typeof e?extend(u,{uri:e}):extend(u,e),u.callback=r,u}function request(e,t,r){if("undefined"==typeof e)throw new Error("undefined is not a valid uri or options object.");var u=initParams(e,t,r);if("HEAD"===u.method&&paramsHaveRequestBody(u))throw new Error("HTTP HEAD requests MUST NOT include a request body.");return new request.Request(u)}function verbFunc(e){var t="del"===e?"DELETE":e.toUpperCase();return function(e,r,u){var n=initParams(e,r,u);return n.method=t,request(n,n.callback)}}function wrapRequestMethod(e,t,r,u){return function(n,o,s){var a=initParams(n,o,s),i={};return extend(!0,i,t,a),i.pool=a.pool||t.pool,u&&(i.method="del"===u?"DELETE":u.toUpperCase()),isFunction(r)&&(e=r),e(i,i.callback)}}var extend=require("extend"),cookies=require("./lib/cookies"),helpers=require("./lib/helpers"),isFunction=helpers.isFunction,paramsHaveRequestBody=helpers.paramsHaveRequestBody;request.get=verbFunc("get"),request.head=verbFunc("head"),request.post=verbFunc("post"),request.put=verbFunc("put"),request.patch=verbFunc("patch"),request.del=verbFunc("del"),request.jar=function(e){return cookies.jar(e)},request.cookie=function(e){return cookies.parse(e)},request.defaults=function(e,t){var r=this;e=e||{},"function"==typeof e&&(t=e,e={});var u=wrapRequestMethod(r,e,t),n=["get","head","post","put","patch","del"];return n.forEach(function(n){u[n]=wrapRequestMethod(r[n],e,t,n)}),u.cookie=wrapRequestMethod(r.cookie,e,t),u.jar=r.jar,u.defaults=r.defaults,u},request.forever=function(e,t){var r={};return t&&extend(r,t),e&&(r.agentOptions=e),r.forever=!0,request.defaults(r)},module.exports=request,request.Request=require("./request"),request.initParams=initParams,Object.defineProperty(request,"debug",{enumerable:!0,get:function(){return request.Request.debug},set:function(e){request.Request.debug=e}});
},{"./lib/cookies":249,"./lib/helpers":252,"./request":372,"extend":273}],248:[function(require,module,exports){
"use strict";function Auth(e){this.request=e,this.hasAuth=!1,this.sentAuth=!1,this.bearerToken=null,this.user=null,this.pass=null}var caseless=require("caseless"),uuid=require("node-uuid"),helpers=require("./helpers"),md5=helpers.md5,toBase64=helpers.toBase64;Auth.prototype.basic=function(e,r,t){var s=this;("string"!=typeof e||void 0!==r&&"string"!=typeof r)&&s.request.emit("error",new Error("auth() received invalid user or password")),s.user=e,s.pass=r,s.hasAuth=!0;var a=e+":"+(r||"");if(t||"undefined"==typeof t){var u="Basic "+toBase64(a);return s.sentAuth=!0,u}},Auth.prototype.bearer=function(e,r){var t=this;if(t.bearerToken=e,t.hasAuth=!0,r||"undefined"==typeof r){"function"==typeof e&&(e=e());var s="Bearer "+(e||"");return t.sentAuth=!0,s}},Auth.prototype.digest=function(e,r,t){for(var s=this,a={},u=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;;){var n=u.exec(t);if(!n)break;a[n[1]]=n[2]||n[3]}var o=function(e,r,t,s,a,u){var n=md5(r+":"+t+":"+s);return e&&"md5-sess"===e.toLowerCase()?md5(n+":"+a+":"+u):n},i=/(^|,)\s*auth\s*($|,)/.test(a.qop)&&"auth",h=i&&"00000001",p=i&&uuid().replace(/-/g,""),c=o(a.algorithm,s.user,a.realm,s.pass,a.nonce,p),d=md5(e+":"+r),l=md5(i?c+":"+a.nonce+":"+h+":"+p+":"+i+":"+d:c+":"+a.nonce+":"+d),f={username:s.user,realm:a.realm,nonce:a.nonce,uri:r,qop:i,response:l,nc:h,cnonce:p,algorithm:a.algorithm,opaque:a.opaque};t=[];for(var m in f)f[m]&&("qop"===m||"nc"===m||"algorithm"===m?t.push(m+"="+f[m]):t.push(m+'="'+f[m]+'"'));return t="Digest "+t.join(", "),s.sentAuth=!0,t},Auth.prototype.onRequest=function(e,r,t,s){var a,u=this,n=u.request;void 0===s&&void 0===e?u.request.emit("error",new Error("no auth mechanism defined")):a=void 0!==s?u.bearer(s,t):u.basic(e,r,t),a&&n.setHeader("authorization",a)},Auth.prototype.onResponse=function(e){var r=this,t=r.request;if(!r.hasAuth||r.sentAuth)return null;var s=caseless(e.headers),a=s.get("www-authenticate"),u=a&&a.split(" ")[0].toLowerCase();switch(t.debug("reauth",u),u){case"basic":return r.basic(r.user,r.pass,!0);case"bearer":return r.bearer(r.bearerToken,!0);case"digest":return r.digest(t.method,t.path,a)}},exports.Auth=Auth;
},{"./helpers":252,"caseless":270,"node-uuid":357}],249:[function(require,module,exports){
"use strict";function RequestJar(o){var e=this;e._jar=new CookieJar(o,{looseMode:!0})}var tough=require("tough-cookie"),Cookie=tough.Cookie,CookieJar=tough.CookieJar;exports.parse=function(o){if(o&&o.uri&&(o=o.uri),"string"!=typeof o)throw new Error("The cookie function only accepts STRING as param");return Cookie.parse(o,{loose:!0})},RequestJar.prototype.setCookie=function(o,e,r){var t=this;return t._jar.setCookieSync(o,e,r||{})},RequestJar.prototype.getCookieString=function(o){var e=this;return e._jar.getCookieStringSync(o)},RequestJar.prototype.getCookies=function(o){var e=this;return e._jar.getCookiesSync(o)},exports.jar=function(o){return new RequestJar(o)};
},{"tough-cookie":364}],250:[function(require,module,exports){
(function (process){
"use strict";function formatHostname(o){return o.replace(/^\.*/,".").toLowerCase()}function parseNoProxyZone(o){o=o.trim().toLowerCase();var r=o.split(":",2),t=formatHostname(r[0]),e=r[1],n=o.indexOf(":")>-1;return{hostname:t,port:e,hasPort:n}}function uriInNoProxy(o,r){var t=o.port||("https:"===o.protocol?"443":"80"),e=formatHostname(o.hostname),n=r.split(",");return n.map(parseNoProxyZone).some(function(o){var r=e.indexOf(o.hostname),n=r>-1&&r===e.length-o.hostname.length;return o.hasPort?t===o.port&&n:n})}function getProxyFromURI(o){var r=process.env.NO_PROXY||process.env.no_proxy||"";return"*"===r?null:""!==r&&uriInNoProxy(o,r)?null:"http:"===o.protocol?process.env.HTTP_PROXY||process.env.http_proxy||null:"https:"===o.protocol?process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy||null:null}module.exports=getProxyFromURI;
}).call(this,require('_process'))

},{"_process":425}],251:[function(require,module,exports){
"use strict";function Har(e){this.request=e}var fs=require("fs"),qs=require("querystring"),validate=require("har-validator"),util=require("util");Har.prototype.reducer=function(e,t){if(void 0===e[t.name])return e[t.name]=t.value,e;var a=[e[t.name],t.value];return e[t.name]=a,e},Har.prototype.prep=function(e){function t(t){return t.some(function(t){return 0===e.postData.mimeType.indexOf(t)})}if(e.queryObj={},e.headersObj={},e.postData.jsonObj=!1,e.postData.paramsObj=!1,e.queryString&&e.queryString.length&&(e.queryObj=e.queryString.reduce(this.reducer,{})),e.headers&&e.headers.length&&(e.headersObj=e.headers.reduceRight(function(e,t){return e[t.name]=t.value,e},{})),e.cookies&&e.cookies.length){var a=e.cookies.map(function(e){return e.name+"="+e.value});a.length&&(e.headersObj.cookie=a.join("; "))}if(t(["multipart/mixed","multipart/related","multipart/form-data","multipart/alternative"]))e.postData.mimeType="multipart/form-data";else if(t(["application/x-www-form-urlencoded"]))e.postData.params?(e.postData.paramsObj=e.postData.params.reduce(this.reducer,{}),e.postData.text=qs.stringify(e.postData.paramsObj)):e.postData.text="";else if(t(["text/json","text/x-json","application/json","application/x-json"])&&(e.postData.mimeType="application/json",e.postData.text))try{e.postData.jsonObj=JSON.parse(e.postData.text)}catch(r){this.request.debug(r),e.postData.mimeType="text/plain"}return e},Har.prototype.options=function(e){function t(e){return 0===r.postData.mimeType.indexOf(e)}if(!e.har)return e;var a=util._extend({},e.har);if(a.log&&a.log.entries&&(a=a.log.entries[0]),a.url=a.url||e.url||e.uri||e.baseUrl||"/",a.httpVersion=a.httpVersion||"HTTP/1.1",a.queryString=a.queryString||[],a.headers=a.headers||[],a.cookies=a.cookies||[],a.postData=a.postData||{},a.postData.mimeType=a.postData.mimeType||"application/octet-stream",a.bodySize=0,a.headersSize=0,a.postData.size=0,!validate.request(a))return e;var r=this.prep(a);return r.url&&(e.url=r.url),r.method&&(e.method=r.method),Object.keys(r.queryObj).length&&(e.qs=r.queryObj),Object.keys(r.headersObj).length&&(e.headers=r.headersObj),t("application/x-www-form-urlencoded")?e.form=r.postData.paramsObj:t("application/json")?r.postData.jsonObj&&(e.body=r.postData.jsonObj,e.json=!0):t("multipart/form-data")?(e.formData={},r.postData.params.forEach(function(t){var a={};return t.fileName||t.fileName||t.contentType?(t.fileName&&!t.value?a.value=fs.createReadStream(t.fileName):t.value&&(a.value=t.value),t.fileName&&(a.options={filename:t.fileName,contentType:t.contentType?t.contentType:null}),void(e.formData[t.name]=a)):void(e.formData[t.name]=t.value)})):r.postData.text&&(e.body=r.postData.text),e},exports.Har=Har;
},{"fs":35,"har-validator":277,"querystring":436,"util":594}],252:[function(require,module,exports){
(function (process,Buffer){
"use strict";function deferMethod(){return"undefined"==typeof setImmediate?process.nextTick:setImmediate}function isFunction(e){return"function"==typeof e}function paramsHaveRequestBody(e){return e.body||e.requestBodyStream||e.json&&"boolean"!=typeof e.json||e.multipart}function safeStringify(e){var t;try{t=JSON.stringify(e)}catch(r){t=jsonSafeStringify(e)}return t}function md5(e){return crypto.createHash("md5").update(e).digest("hex")}function isReadStream(e){return e.readable&&e.path&&e.mode}function toBase64(e){return new Buffer(e||"","utf8").toString("base64")}function copy(e){var t={};return Object.keys(e).forEach(function(r){t[r]=e[r]}),t}function version(){var e=process.version.replace("v","").split(".");return{major:parseInt(e[0],10),minor:parseInt(e[1],10),patch:parseInt(e[2],10)}}var jsonSafeStringify=require("json-stringify-safe"),crypto=require("crypto");exports.isFunction=isFunction,exports.paramsHaveRequestBody=paramsHaveRequestBody,exports.safeStringify=safeStringify,exports.md5=md5,exports.isReadStream=isReadStream,exports.toBase64=toBase64,exports.copy=copy,exports.version=version,exports.defer=deferMethod();
}).call(this,require('_process'),require("buffer").Buffer)

},{"_process":425,"buffer":42,"crypto":52,"json-stringify-safe":353}],253:[function(require,module,exports){
(function (Buffer){
"use strict";function Multipart(e){this.request=e,this.boundary=uuid(),this.chunked=!1,this.body=null}var uuid=require("node-uuid"),CombinedStream=require("combined-stream"),isstream=require("isstream");Multipart.prototype.isChunked=function(e){var r=this,t=!1,n=e.data||e;return n.forEach||r.request.emit("error",new Error("Argument error, options.multipart.")),void 0!==e.chunked&&(t=e.chunked),"chunked"===r.request.getHeader("transfer-encoding")&&(t=!0),t||n.forEach(function(e){"undefined"==typeof e.body&&r.request.emit("error",new Error("Body attribute missing in multipart.")),isstream(e.body)&&(t=!0)}),t},Multipart.prototype.setHeaders=function(e){var r=this;e&&!r.request.hasHeader("transfer-encoding")&&r.request.setHeader("transfer-encoding","chunked");var t=r.request.getHeader("content-type");t&&-1!==t.indexOf("multipart")?-1!==t.indexOf("boundary")?r.boundary=t.replace(/.*boundary=([^\s;]+).*/,"$1"):r.request.setHeader("content-type",t+"; boundary="+r.boundary):r.request.setHeader("content-type","multipart/related; boundary="+r.boundary)},Multipart.prototype.build=function(e,r){function t(e){return r?u.append(e):u.push(new Buffer(e))}var n=this,u=r?new CombinedStream:[];return n.request.preambleCRLF&&t("\r\n"),e.forEach(function(e){var r="--"+n.boundary+"\r\n";Object.keys(e).forEach(function(t){"body"!==t&&(r+=t+": "+e[t]+"\r\n")}),r+="\r\n",t(r),t(e.body),t("\r\n")}),t("--"+n.boundary+"--"),n.request.postambleCRLF&&t("\r\n"),u},Multipart.prototype.onRequest=function(e){var r=this,t=r.isChunked(e),n=e.data||e;r.setHeaders(t),r.chunked=t,r.body=r.build(n,t)},exports.Multipart=Multipart;
}).call(this,require("buffer").Buffer)

},{"buffer":42,"combined-stream":271,"isstream":352,"node-uuid":357}],254:[function(require,module,exports){
(function (Buffer){
"use strict";function OAuth(e){this.request=e,this.params=null}var url=require("url"),qs=require("qs"),caseless=require("caseless"),uuid=require("node-uuid"),oauth=require("oauth-sign"),crypto=require("crypto");OAuth.prototype.buildParams=function(e,t,r,a,o,u){var s={};for(var n in e)s["oauth_"+n]=e[n];s.oauth_version||(s.oauth_version="1.0"),s.oauth_timestamp||(s.oauth_timestamp=Math.floor(Date.now()/1e3).toString()),s.oauth_nonce||(s.oauth_nonce=uuid().replace(/-/g,"")),s.oauth_signature_method||(s.oauth_signature_method="HMAC-SHA1");var h=s.oauth_consumer_secret||s.oauth_private_key;delete s.oauth_consumer_secret,delete s.oauth_private_key;var i=s.oauth_token_secret;delete s.oauth_token_secret;var d=s.oauth_realm;delete s.oauth_realm,delete s.oauth_transport_method;var c=t.protocol+"//"+t.host+t.pathname,_=u.parse([].concat(a,o,u.stringify(s)).join("&"));return s.oauth_signature=oauth.sign(s.oauth_signature_method,r,c,_,h,i),d&&(s.realm=d),s},OAuth.prototype.buildBodyHash=function(e,t){["HMAC-SHA1","RSA-SHA1"].indexOf(e.signature_method||"HMAC-SHA1")<0&&this.request.emit("error",new Error("oauth: "+e.signature_method+" signature_method not supported with body_hash signing."));var r=crypto.createHash("sha1");r.update(t||"");var a=r.digest("hex");return new Buffer(a).toString("base64")},OAuth.prototype.concatParams=function(e,t,r){r=r||"";var a=Object.keys(e).filter(function(e){return"realm"!==e&&"oauth_signature"!==e}).sort();return e.realm&&a.splice(0,0,"realm"),a.push("oauth_signature"),a.map(function(t){return t+"="+r+oauth.rfc3986(e[t])+r}).join(t)},OAuth.prototype.onRequest=function(e){var t=this;t.params=e;var r,a,o=t.request.uri||{},u=t.request.method||"",s=caseless(t.request.headers),n=t.request.body||"",h=t.request.qsLib||qs,i=s.get("content-type")||"",d="application/x-www-form-urlencoded",c=e.transport_method||"header";i.slice(0,d.length)===d&&(i=d,r=n),o.query&&(a=o.query),"body"!==c||"POST"===u&&i===d||t.request.emit("error",new Error("oauth: transport_method of body requires POST and content-type "+d)),r||"boolean"!=typeof e.body_hash||(e.body_hash=t.buildBodyHash(e,t.request.body.toString()));var _=t.buildParams(e,o,u,a,r,h);switch(c){case"header":t.request.setHeader("Authorization","OAuth "+t.concatParams(_,",",'"'));break;case"query":var p=t.request.uri.href+=(a?"&":"?")+t.concatParams(_,"&");t.request.uri=url.parse(p),t.request.path=t.request.uri.path;break;case"body":t.request.body=(r?r+"&":"")+t.concatParams(_,"&");break;default:t.request.emit("error",new Error("oauth: transport_method invalid"))}},exports.OAuth=OAuth;
}).call(this,require("buffer").Buffer)

},{"buffer":42,"caseless":270,"crypto":52,"node-uuid":357,"oauth-sign":358,"qs":359,"url":592}],255:[function(require,module,exports){
"use strict";function Querystring(i){this.request=i,this.lib=null,this.useQuerystring=null,this.parseOptions=null,this.stringifyOptions=null}var qs=require("qs"),querystring=require("querystring");Querystring.prototype.init=function(i){this.lib||(this.useQuerystring=i.useQuerystring,this.lib=this.useQuerystring?querystring:qs,this.parseOptions=i.qsParseOptions||{},this.stringifyOptions=i.qsStringifyOptions||{})},Querystring.prototype.stringify=function(i){return this.useQuerystring?this.rfc3986(this.lib.stringify(i,this.stringifyOptions.sep||null,this.stringifyOptions.eq||null,this.stringifyOptions)):this.lib.stringify(i,this.stringifyOptions)},Querystring.prototype.parse=function(i){return this.useQuerystring?this.lib.parse(i,this.parseOptions.sep||null,this.parseOptions.eq||null,this.parseOptions):this.lib.parse(i,this.parseOptions)},Querystring.prototype.rfc3986=function(i){return i.replace(/[!'()*]/g,function(i){return"%"+i.charCodeAt(0).toString(16).toUpperCase()})},Querystring.prototype.unescape=querystring.unescape,exports.Querystring=Querystring;
},{"qs":359,"querystring":436}],256:[function(require,module,exports){
"use strict";function Redirect(e){this.request=e,this.followRedirect=!0,this.followRedirects=!0,this.followAllRedirects=!1,this.allowRedirect=function(){return!0},this.maxRedirects=10,this.redirects=[],this.redirectsFollowed=0,this.removeRefererHeader=!1}var url=require("url"),isUrl=/^https?:/;Redirect.prototype.onRequest=function(e){var r=this;void 0!==e.maxRedirects&&(r.maxRedirects=e.maxRedirects),"function"==typeof e.followRedirect&&(r.allowRedirect=e.followRedirect),void 0!==e.followRedirect&&(r.followRedirects=!!e.followRedirect),void 0!==e.followAllRedirects&&(r.followAllRedirects=e.followAllRedirects),(r.followRedirects||r.followAllRedirects)&&(r.redirects=r.redirects||[]),void 0!==e.removeRefererHeader&&(r.removeRefererHeader=e.removeRefererHeader)},Redirect.prototype.redirectTo=function(e){var r=this,t=r.request,o=null;if(e.statusCode>=300&&e.statusCode<400&&e.caseless.has("location")){var i=e.caseless.get("location");if(t.debug("redirect",i),r.followAllRedirects)o=i;else if(r.followRedirects)switch(t.method){case"PATCH":case"PUT":case"POST":case"DELETE":break;default:o=i}}else if(401===e.statusCode){var s=t._auth.onResponse(e);s&&(t.setHeader("authorization",s),o=t.uri)}return o},Redirect.prototype.onResponse=function(e){var r=this,t=r.request,o=r.redirectTo(e);if(!o||!r.allowRedirect.call(t,e))return!1;if(t.debug("redirect to",o),e.resume&&e.resume(),r.redirectsFollowed>=r.maxRedirects)return t.emit("error",new Error("Exceeded maxRedirects. Probably stuck in a redirect loop "+t.uri.href)),!1;r.redirectsFollowed+=1,isUrl.test(o)||(o=url.resolve(t.uri.href,o));var i=t.uri;return t.uri=url.parse(o),t.uri.protocol!==i.protocol&&delete t.agent,r.redirects.push({statusCode:e.statusCode,redirectUri:o}),r.followAllRedirects&&"HEAD"!==t.method&&401!==e.statusCode&&307!==e.statusCode&&(t.method="GET"),delete t.src,delete t.req,delete t._started,401!==e.statusCode&&307!==e.statusCode&&(delete t.body,delete t._form,t.headers&&(t.removeHeader("host"),t.removeHeader("content-type"),t.removeHeader("content-length"),t.uri.hostname!==t.originalHost.split(":")[0]&&t.removeHeader("authorization"))),r.removeRefererHeader||t.setHeader("referer",i.href),t.emit("redirect"),t.init(),!0},exports.Redirect=Redirect;
},{"url":592}],257:[function(require,module,exports){
"use strict";function constructProxyHost(e){var t=e.port,r=e.protocol,n=e.hostname+":";return n+=t?t:"https:"===r?"443":"80"}function constructProxyHeaderWhiteList(e,t){var r=t.reduce(function(e,t){return e[t.toLowerCase()]=!0,e},{});return Object.keys(e).filter(function(e){return r[e.toLowerCase()]}).reduce(function(t,r){return t[r]=e[r],t},{})}function constructTunnelOptions(e,t){var r=e.proxy,n={proxy:{host:r.hostname,port:+r.port,proxyAuth:r.auth,headers:t},headers:e.headers,ca:e.ca,cert:e.cert,key:e.key,passphrase:e.passphrase,pfx:e.pfx,ciphers:e.ciphers,rejectUnauthorized:e.rejectUnauthorized,secureOptions:e.secureOptions,secureProtocol:e.secureProtocol};return n}function constructTunnelFnName(e,t){var r="https:"===e.protocol?"https":"http",n="https:"===t.protocol?"Https":"Http";return[r,n].join("Over")}function getTunnelFn(e){var t=e.uri,r=e.proxy,n=constructTunnelFnName(t,r);return tunnel[n]}function Tunnel(e){this.request=e,this.proxyHeaderWhiteList=defaultProxyHeaderWhiteList,this.proxyHeaderExclusiveList=[],"undefined"!=typeof e.tunnel&&(this.tunnelOverride=e.tunnel)}var url=require("url"),tunnel=require("tunnel-agent"),defaultProxyHeaderWhiteList=["accept","accept-charset","accept-encoding","accept-language","accept-ranges","cache-control","content-encoding","content-language","content-length","content-location","content-md5","content-range","content-type","connection","date","expect","max-forwards","pragma","referer","te","transfer-encoding","user-agent","via"],defaultProxyHeaderExclusiveList=["proxy-authorization"];Tunnel.prototype.isEnabled=function(){var e=this,t=e.request;return"undefined"!=typeof e.tunnelOverride?e.tunnelOverride:"https:"===t.uri.protocol?!0:!1},Tunnel.prototype.setup=function(e){var t=this,r=t.request;if(e=e||{},"string"==typeof r.proxy&&(r.proxy=url.parse(r.proxy)),!r.proxy||!r.tunnel)return!1;e.proxyHeaderWhiteList&&(t.proxyHeaderWhiteList=e.proxyHeaderWhiteList),e.proxyHeaderExclusiveList&&(t.proxyHeaderExclusiveList=e.proxyHeaderExclusiveList);var n=t.proxyHeaderExclusiveList.concat(defaultProxyHeaderExclusiveList),o=t.proxyHeaderWhiteList.concat(n),u=constructProxyHeaderWhiteList(r.headers,o);u.host=constructProxyHost(r.uri),n.forEach(r.removeHeader,r);var s=getTunnelFn(r),c=constructTunnelOptions(r,u);return r.agent=s(c),!0},Tunnel.defaultProxyHeaderWhiteList=defaultProxyHeaderWhiteList,Tunnel.defaultProxyHeaderExclusiveList=defaultProxyHeaderExclusiveList,exports.Tunnel=Tunnel;
},{"tunnel-agent":371,"url":592}],258:[function(require,module,exports){
function authorization(e){return"AWS "+e.key+":"+sign(e)}function hmacSha1(e){return crypto.createHmac("sha1",e.secret).update(e.message).digest("base64")}function sign(e){return e.message=stringToSign(e),hmacSha1(e)}function signQuery(e){return e.message=queryStringToSign(e),hmacSha1(e)}function stringToSign(e){var n=e.amazonHeaders||"";n&&(n+="\n");var r=[e.verb,e.md5,e.contentType,e.date?e.date.toUTCString():"",n+e.resource];return r.join("\n")}function queryStringToSign(e){return"GET\n\n\n"+e.date+"\n"+e.resource}function canonicalizeHeaders(e){for(var n=[],r=Object.keys(e),o=0,t=r.length;t>o;++o){var i=r[o],a=e[i],i=i.toLowerCase();0===i.indexOf("x-amz")&&n.push(i+":"+a)}return n.sort().join("\n")}function canonicalizeResource(e){var n=parse(e,!0),r=n.pathname,o=[];return Object.keys(n.query).forEach(function(e){if(~keys.indexOf(e)){var r=""==n.query[e]?"":"="+encodeURIComponent(n.query[e]);o.push(e+r)}}),r+(o.length?"?"+o.sort().join("&"):"")}var crypto=require("crypto"),parse=require("url").parse,keys=["acl","location","logging","notification","partNumber","policy","requestPayment","torrent","uploadId","uploads","versionId","versioning","versions","website"];module.exports=authorization,module.exports.authorization=authorization,module.exports.hmacSha1=hmacSha1,module.exports.sign=sign,module.exports.signQuery=signQuery,module.exports.queryStringToSign=stringToSign,module.exports.queryStringToSign=queryStringToSign,module.exports.canonicalizeHeaders=canonicalizeHeaders,module.exports.canonicalizeResource=canonicalizeResource;
},{"crypto":52,"url":592}],259:[function(require,module,exports){
(function (Buffer){
function BufferList(t){if(!(this instanceof BufferList))return new BufferList(t);if(this._bufs=[],this.length=0,"function"==typeof t){this._callback=t;var e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",function(t){t.on("error",e)}),this.on("unpipe",function(t){t.removeListener("error",e)})}else Buffer.isBuffer(t)?this.append(t):Array.isArray(t)&&t.forEach(function(t){Buffer.isBuffer(t)&&this.append(t)}.bind(this));DuplexStream.call(this)}var DuplexStream=require("readable-stream/duplex"),util=require("util");util.inherits(BufferList,DuplexStream),BufferList.prototype._offset=function(t){for(var e,i=0,s=0;s<this._bufs.length;s++){if(e=i+this._bufs[s].length,e>t)return[s,t-i];i=e}},BufferList.prototype.append=function(t){var e=Buffer.isBuffer(t)||t instanceof BufferList;return this._bufs.push(e?t:new Buffer(t)),this.length+=t.length,this},BufferList.prototype._write=function(t,e,i){this.append(t),i&&i()},BufferList.prototype._read=function(t){return this.length?(t=Math.min(t,this.length),this.push(this.slice(0,t)),void this.consume(t)):this.push(null)},BufferList.prototype.end=function(t){DuplexStream.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},BufferList.prototype.get=function(t){return this.slice(t,t+1)[0]},BufferList.prototype.slice=function(t,e){return this.copy(null,0,t,e)},BufferList.prototype.copy=function(t,e,i,s){if(("number"!=typeof i||0>i)&&(i=0),("number"!=typeof s||s>this.length)&&(s=this.length),i>=this.length)return t||new Buffer(0);if(0>=s)return t||new Buffer(0);var r,f,n=!!t,u=this._offset(i),h=s-i,o=h,l=n&&e||0,a=u[1];if(0===i&&s==this.length){if(!n)return Buffer.concat(this._bufs);for(f=0;f<this._bufs.length;f++)this._bufs[f].copy(t,l),l+=this._bufs[f].length;return t}if(o<=this._bufs[u[0]].length-a)return n?this._bufs[u[0]].copy(t,e,a,a+o):this._bufs[u[0]].slice(a,a+o);for(n||(t=new Buffer(h)),f=u[0];f<this._bufs.length;f++){if(r=this._bufs[f].length-a,!(o>r)){this._bufs[f].copy(t,l,a,a+o);break}this._bufs[f].copy(t,l,a),l+=r,o-=r,a&&(a=0)}return t},BufferList.prototype.toString=function(t,e,i){return this.slice(e,i).toString(t)},BufferList.prototype.consume=function(t){for(;this._bufs.length;){if(!(t>this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},BufferList.prototype.duplicate=function(){for(var t=0,e=new BufferList;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},BufferList.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var e in t)!function(e){BufferList.prototype[e]=function(i){return this.slice(i,i+t[e])[e](0)}}(e)}(),module.exports=BufferList;
}).call(this,require("buffer").Buffer)

},{"buffer":42,"readable-stream/duplex":260,"util":594}],260:[function(require,module,exports){
module.exports=require("./lib/_stream_duplex.js");
},{"./lib/_stream_duplex.js":261}],261:[function(require,module,exports){
"use strict";function Duplex(e){return this instanceof Duplex?(Readable.call(this,e),Writable.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(e)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(e){e.end()}function forEach(e,t){for(var r=0,i=e.length;i>r;r++)t(e[r],r)}var objectKeys=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=Duplex;var processNextTick=require("process-nextick-args"),util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable"),Writable=require("./_stream_writable");util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}
},{"./_stream_readable":262,"./_stream_writable":263,"core-util-is":264,"inherits":265,"process-nextick-args":267}],262:[function(require,module,exports){
(function (process){
"use strict";function ReadableState(e,t){Duplex=Duplex||require("./_stream_duplex"),e=e||{},this.objectMode=!!e.objectMode,t instanceof Duplex&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this.decoder=new StringDecoder(e.encoding),this.encoding=e.encoding)}function Readable(e){return Duplex=Duplex||require("./_stream_duplex"),this instanceof Readable?(this._readableState=new ReadableState(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),void Stream.call(this)):new Readable(e)}function readableAddChunk(e,t,r,n,a){var i=chunkInvalid(t,r);if(i)e.emit("error",i);else if(null===r)t.reading=!1,onEofChunk(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!a){var d=new Error("stream.push() after EOF");e.emit("error",d)}else if(t.endEmitted&&a){var d=new Error("stream.unshift() after end event");e.emit("error",d)}else!t.decoder||a||n||(r=t.decoder.write(r)),a||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,a?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e)),maybeReadMore(e,t);else a||(t.reading=!1);return needMoreData(t)}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function computeNewHighWaterMark(e){return e>=MAX_HWM?e=MAX_HWM:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function chunkInvalid(e,t){var r=null;return Buffer.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function onEofChunk(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,emitReadable(e)}}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(debug("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?processNextTick(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){debug("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,processNextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(debug("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;debug("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&EElistenerCount(e,"data")&&(t.flowing=!0,flow(e))}}function nReadingNextTick(e){debug("readable nexttick read 0"),e.read(0)}function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,processNextTick(resume_,e,t))}function resume_(e,t){t.reading||(debug("resume read 0"),e.read(0)),t.resumeScheduled=!1,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;if(debug("flow",t.flowing),t.flowing)do var r=e.read();while(null!==r&&t.flowing)}function fromList(e,t){var r,n=t.buffer,a=t.length,i=!!t.decoder,d=!!t.objectMode;if(0===n.length)return null;if(0===a)r=null;else if(d)r=n.shift();else if(!e||e>=a)r=i?n.join(""):1===n.length?n[0]:Buffer.concat(n,a),n.length=0;else if(e<n[0].length){var o=n[0];r=o.slice(0,e),n[0]=o.slice(e)}else if(e===n[0].length)r=n.shift();else{r=i?"":new Buffer(e);for(var l=0,u=0,s=n.length;s>u&&e>l;u++){var o=n[0],h=Math.min(e-l,o.length);i?r+=o.slice(0,h):o.copy(r,l,0,h),h<o.length?n[0]=o.slice(h):n.shift(),l+=h}}return r}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,processNextTick(endReadableNT,t,e))}function endReadableNT(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function forEach(e,t){for(var r=0,n=e.length;n>r;r++)t(e[r],r)}function indexOf(e,t){for(var r=0,n=e.length;n>r;r++)if(e[r]===t)return r;return-1}module.exports=Readable;var processNextTick=require("process-nextick-args"),isArray=require("isarray"),Buffer=require("buffer").Buffer;Readable.ReadableState=ReadableState;var EE=require("events"),EElistenerCount=function(e,t){return e.listeners(t).length},Stream;!function(){try{Stream=require("stream")}catch(e){}finally{Stream||(Stream=require("events").EventEmitter)}}();var Buffer=require("buffer").Buffer,util=require("core-util-is");util.inherits=require("inherits");var debugUtil=require("util"),debug;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder;util.inherits(Readable,Stream);var Duplex,Duplex;Readable.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding,t!==r.encoding&&(e=new Buffer(e,t),t="")),readableAddChunk(this,r,e,t,!1)},Readable.prototype.unshift=function(e){var t=this._readableState;return readableAddChunk(this,t,e,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable.prototype.setEncoding=function(e){return StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this._readableState.decoder=new StringDecoder(e),this._readableState.encoding=e,this};var MAX_HWM=8388608;Readable.prototype.read=function(e){debug("read",e);var t=this._readableState,r=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return debug("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(e=howMuchToRead(e,t),0===e&&t.ended)return 0===t.length&&endReadable(this),null;var n=t.needReadable;debug("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,debug("length less than watermark",n)),(t.ended||t.reading)&&(n=!1,debug("reading or ended",n)),n&&(debug("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),n&&!t.reading&&(e=howMuchToRead(r,t));var a;return a=e>0?fromList(e,t):null,null===a&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),r!==e&&t.ended&&0===t.length&&endReadable(this),null!==a&&this.emit("data",a),a},Readable.prototype._read=function(e){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(e,t){function r(e){debug("onunpipe"),e===s&&a()}function n(){debug("onend"),e.end()}function a(){debug("cleanup"),e.removeListener("close",o),e.removeListener("finish",l),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",r),s.removeListener("end",n),s.removeListener("end",a),s.removeListener("data",i),g=!0,!h.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}function i(t){debug("ondata");var r=e.write(t);!1===r&&(1!==h.pipesCount||h.pipes[0]!==e||1!==s.listenerCount("data")||g||(debug("false write response, pause",s._readableState.awaitDrain),s._readableState.awaitDrain++),s.pause())}function d(t){debug("onerror",t),u(),e.removeListener("error",d),0===EElistenerCount(e,"error")&&e.emit("error",t)}function o(){e.removeListener("finish",l),u()}function l(){debug("onfinish"),e.removeListener("close",o),u()}function u(){debug("unpipe"),s.unpipe(e)}var s=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,debug("pipe count=%d opts=%j",h.pipesCount,t);var f=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,p=f?n:a;h.endEmitted?processNextTick(p):s.once("end",p),e.on("unpipe",r);var c=pipeOnDrain(s);e.on("drain",c);var g=!1;return s.on("data",i),e._events&&e._events.error?isArray(e._events.error)?e._events.error.unshift(d):e._events.error=[d,e._events.error]:e.on("error",d),e.once("close",o),e.once("finish",l),e.emit("pipe",s),h.flowing||(debug("pipe resume"),s.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;n>a;a++)r[a].emit("unpipe",this);return this}var a=indexOf(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},Readable.prototype.on=function(e,t){var r=Stream.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&emitReadable(this,n):processNextTick(nReadingNextTick,this))}return r},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug("resume"),e.flowing=!0,resume(this,e)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(debug("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(a){if(debug("wrapped data"),t.decoder&&(a=t.decoder.write(a)),(!t.objectMode||null!==a&&void 0!==a)&&(t.objectMode||a&&a.length)){var i=n.push(a);i||(r=!0,e.pause())}});for(var a in e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));var i=["error","close","destroy","pause","resume"];return forEach(i,function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){debug("wrapped _read",t),r&&(r=!1,e.resume())},n},Readable._fromList=fromList;
}).call(this,require('_process'))

},{"./_stream_duplex":261,"_process":425,"buffer":42,"core-util-is":264,"events":84,"inherits":265,"isarray":266,"process-nextick-args":267,"stream":573,"string_decoder/":268,"util":6}],263:[function(require,module,exports){
"use strict";function nop(){}function WriteReq(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function WritableState(e,t){Duplex=Duplex||require("./_stream_duplex"),e=e||{},this.objectMode=!!e.objectMode,t instanceof Duplex&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function Writable(e){return Duplex=Duplex||require("./_stream_duplex"),this instanceof Writable||this instanceof Duplex?(this._writableState=new WritableState(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),void Stream.call(this)):new Writable(e)}function writeAfterEnd(e,t){var r=new Error("write after end");e.emit("error",r),processNextTick(t,r)}function validChunk(e,t,r,i){var n=!0;if(!Buffer.isBuffer(r)&&"string"!=typeof r&&null!==r&&void 0!==r&&!t.objectMode){var f=new TypeError("Invalid non-string/buffer chunk");e.emit("error",f),processNextTick(i,f),n=!1}return n}function decodeChunk(e,t,r){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=new Buffer(t,r)),t}function writeOrBuffer(e,t,r,i,n){r=decodeChunk(t,r,i),Buffer.isBuffer(r)&&(i="buffer");var f=t.objectMode?1:r.length;t.length+=f;var o=t.length<t.highWaterMark;if(o||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest=new WriteReq(r,i,n),u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest}else doWrite(e,t,!1,f,r,i,n);return o}function doWrite(e,t,r,i,n,f,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(n,t.onwrite):e._write(n,f,t.onwrite),t.sync=!1}function onwriteError(e,t,r,i,n){--t.pendingcb,r?processNextTick(n,i):n(i),e._writableState.errorEmitted=!0,e.emit("error",i)}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if(onwriteStateUpdate(r),t)onwriteError(e,r,i,t,n);else{var f=needFinish(r);f||r.corked||r.bufferProcessing||!r.bufferedRequest||clearBuffer(e,r),i?processNextTick(afterWrite,e,r,f,n):afterWrite(e,r,f,n)}}function afterWrite(e,t,r,i){r||onwriteDrain(e,t),t.pendingcb--,i(),finishMaybe(e,t)}function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){for(var i=[],n=[];r;)n.push(r.callback),i.push(r),r=r.next;t.pendingcb++,t.lastBufferedRequest=null,doWrite(e,t,!0,t.length,i,"",function(e){for(var r=0;r<n.length;r++)t.pendingcb--,n[r](e)})}else{for(;r;){var f=r.chunk,o=r.encoding,u=r.callback,s=t.objectMode?1:f.length;if(doWrite(e,t,!1,s,f,o,u),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function prefinish(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function finishMaybe(e,t){var r=needFinish(t);return r&&(0===t.pendingcb?(prefinish(e,t),t.finished=!0,e.emit("finish")):prefinish(e,t)),r}function endWritable(e,t,r){t.ending=!0,finishMaybe(e,t),r&&(t.finished?processNextTick(r):e.once("finish",r)),t.ended=!0}module.exports=Writable;var processNextTick=require("process-nextick-args"),Buffer=require("buffer").Buffer;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var internalUtil={deprecate:require("util-deprecate")},Stream;!function(){try{Stream=require("stream")}catch(e){}finally{Stream||(Stream=require("events").EventEmitter)}}();var Buffer=require("buffer").Buffer;util.inherits(Writable,Stream);var Duplex;WritableState.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(e){}}();var Duplex;Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},Writable.prototype.write=function(e,t,r){var i=this._writableState,n=!1;return"function"==typeof t&&(r=t,t=null),Buffer.isBuffer(e)?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=nop),i.ended?writeAfterEnd(this,r):validChunk(this,i,e,r)&&(i.pendingcb++,n=writeOrBuffer(this,i,e,t,r)),n},Writable.prototype.cork=function(){var e=this._writableState;e.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);this._writableState.defaultEncoding=e},Writable.prototype._write=function(e,t,r){r(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,r){var i=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||endWritable(this,i,r)};
},{"./_stream_duplex":261,"buffer":42,"core-util-is":264,"events":84,"inherits":265,"process-nextick-args":267,"stream":573,"util-deprecate":269}],264:[function(require,module,exports){
(function (Buffer){
function isArray(r){return Array.isArray?Array.isArray(r):"[object Array]"===objectToString(r)}function isBoolean(r){return"boolean"==typeof r}function isNull(r){return null===r}function isNullOrUndefined(r){return null==r}function isNumber(r){return"number"==typeof r}function isString(r){return"string"==typeof r}function isSymbol(r){return"symbol"==typeof r}function isUndefined(r){return void 0===r}function isRegExp(r){return"[object RegExp]"===objectToString(r)}function isObject(r){return"object"==typeof r&&null!==r}function isDate(r){return"[object Date]"===objectToString(r)}function isError(r){return"[object Error]"===objectToString(r)||r instanceof Error}function isFunction(r){return"function"==typeof r}function isPrimitive(r){return null===r||"boolean"==typeof r||"number"==typeof r||"string"==typeof r||"symbol"==typeof r||"undefined"==typeof r}function objectToString(r){return Object.prototype.toString.call(r)}exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=Buffer.isBuffer;
}).call(this,{"isBuffer":require("../../../../../../../../../../../../is-buffer/index.js")})

},{"../../../../../../../../../../../../is-buffer/index.js":99}],265:[function(require,module,exports){
arguments[4][98][0].apply(exports,arguments)
},{"dup":98}],266:[function(require,module,exports){
arguments[4][100][0].apply(exports,arguments)
},{"dup":100}],267:[function(require,module,exports){
(function (process){
"use strict";function nextTick(e){for(var s=new Array(arguments.length-1),n=0;n<s.length;)s[n++]=arguments[n];process.nextTick(function(){e.apply(null,s)})}!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?module.exports=nextTick:module.exports=process.nextTick;
}).call(this,require('_process'))

},{"_process":425}],268:[function(require,module,exports){
function assertEncoding(e){if(e&&!isBufferEncoding(e))throw new Error("Unknown encoding: "+e)}function passThroughWrite(e){return e.toString(this.encoding)}function utf16DetectIncompleteChar(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var Buffer=require("buffer").Buffer,isBufferEncoding=Buffer.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},StringDecoder=exports.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0};StringDecoder.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";e=e.slice(r,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var h=t.charCodeAt(t.length-1);if(!(h>=55296&&56319>=h)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,h=t.charCodeAt(i);if(h>=55296&&56319>=h){var c=this.surrogateSize;return this.charLength+=c,this.charReceived+=c,this.charBuffer.copy(this.charBuffer,c,0,c),e.copy(this.charBuffer,0,0,c),t.substring(0,i)}return t},StringDecoder.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(2>=t&&r>>4==14){this.charLength=3;break}if(3>=t&&r>>3==30){this.charLength=4;break}}this.charReceived=t},StringDecoder.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,h=this.charBuffer,i=this.encoding;t+=h.slice(0,r).toString(i)}return t};
},{"buffer":42}],269:[function(require,module,exports){
(function (global){
function deprecate(r,e){function o(){if(!t){if(config("throwDeprecation"))throw new Error(e);config("traceDeprecation")?console.trace(e):console.warn(e),t=!0}return r.apply(this,arguments)}if(config("noDeprecation"))return r;var t=!1;return o}function config(r){try{if(!global.localStorage)return!1}catch(e){return!1}var o=global.localStorage[r];return null==o?!1:"true"===String(o).toLowerCase()}module.exports=deprecate;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],270:[function(require,module,exports){
function Caseless(e){this.dict=e||{}}Caseless.prototype.set=function(e,t,s){if("object"!=typeof e){"undefined"==typeof s&&(s=!0);var r=this.has(e);return!s&&r?this.dict[r]=this.dict[r]+","+t:this.dict[r||e]=t,r}for(var n in e)this.set(n,e[n],t)},Caseless.prototype.has=function(e){for(var t=Object.keys(this.dict),e=e.toLowerCase(),s=0;s<t.length;s++)if(t[s].toLowerCase()===e)return t[s];return!1},Caseless.prototype.get=function(e){e=e.toLowerCase();var t,s,r=this.dict;return Object.keys(r).forEach(function(n){s=n.toLowerCase(),e===s&&(t=r[n])}),t},Caseless.prototype.swap=function(e){var t=this.has(e);if(!t)throw new Error('There is no header than matches "'+e+'"');this.dict[e]=this.dict[t],delete this.dict[t]},Caseless.prototype.del=function(e){var t=this.has(e);return delete this.dict[t||e]},module.exports=function(e){return new Caseless(e)},module.exports.httpify=function(e,t){var s=new Caseless(t);return e.setHeader=function(e,t,r){return"undefined"!=typeof t?s.set(e,t,r):void 0},e.hasHeader=function(e){return s.has(e)},e.getHeader=function(e){return s.get(e)},e.removeHeader=function(e){return s.del(e)},e.headers=s.dict,s};
},{}],271:[function(require,module,exports){
(function (Buffer){
function CombinedStream(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null}var util=require("util"),Stream=require("stream").Stream,DelayedStream=require("delayed-stream");module.exports=CombinedStream,util.inherits(CombinedStream,Stream),CombinedStream.create=function(t){var e=new this;t=t||{};for(var i in t)e[i]=t[i];return e},CombinedStream.isStreamLike=function(t){return"function"!=typeof t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t&&!Buffer.isBuffer(t)},CombinedStream.prototype.append=function(t){var e=CombinedStream.isStreamLike(t);if(e){if(!(t instanceof DelayedStream)){var i=DelayedStream.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=i}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this},CombinedStream.prototype.pipe=function(t,e){return Stream.prototype.pipe.call(this,t,e),this.resume(),t},CombinedStream.prototype._getNext=function(){this._currentStream=null;var t=this._streams.shift();if("undefined"==typeof t)return void this.end();if("function"!=typeof t)return void this._pipeNext(t);var e=t;e(function(t){var e=CombinedStream.isStreamLike(t);e&&(t.on("data",this._checkDataSize.bind(this)),this._handleErrors(t)),this._pipeNext(t)}.bind(this))},CombinedStream.prototype._pipeNext=function(t){this._currentStream=t;var e=CombinedStream.isStreamLike(t);if(e)return t.on("end",this._getNext.bind(this)),void t.pipe(this,{end:!1});var i=t;this.write(i),this._getNext()},CombinedStream.prototype._handleErrors=function(t){var e=this;t.on("error",function(t){e._emitError(t)})},CombinedStream.prototype.write=function(t){this.emit("data",t)},CombinedStream.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},CombinedStream.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},CombinedStream.prototype.end=function(){this._reset(),this.emit("end")},CombinedStream.prototype.destroy=function(){this._reset(),this.emit("close")},CombinedStream.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},CombinedStream.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}},CombinedStream.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},CombinedStream.prototype._emitError=function(t){this._reset(),this.emit("error",t)};
}).call(this,{"isBuffer":require("../../../../../../../../is-buffer/index.js")})

},{"../../../../../../../../is-buffer/index.js":99,"delayed-stream":272,"stream":573,"util":594}],272:[function(require,module,exports){
function DelayedStream(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}var Stream=require("stream").Stream,util=require("util");module.exports=DelayedStream,util.inherits(DelayedStream,Stream),DelayedStream.create=function(e,t){var a=new this;t=t||{};for(var r in t)a[r]=t[r];a.source=e;var i=e.emit;return e.emit=function(){return a._handleEmit(arguments),i.apply(e,arguments)},e.on("error",function(){}),a.pauseStream&&e.pause(),a},Object.defineProperty(DelayedStream.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),DelayedStream.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},DelayedStream.prototype.resume=function(){this._released||this.release(),this.source.resume()},DelayedStream.prototype.pause=function(){this.source.pause()},DelayedStream.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(e){this.emit.apply(this,e)}.bind(this)),this._bufferedEvents=[]},DelayedStream.prototype.pipe=function(){var e=Stream.prototype.pipe.apply(this,arguments);return this.resume(),e},DelayedStream.prototype._handleEmit=function(e){return this._released?void this.emit.apply(this,e):("data"===e[0]&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),void this._bufferedEvents.push(e))},DelayedStream.prototype._checkIfMaxDataSizeExceeded=function(){if(!(this._maxDataSizeExceeded||this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(e))}};
},{"stream":573,"util":594}],273:[function(require,module,exports){
"use strict";var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,isArray=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===toStr.call(t)},isPlainObject=function(t){if(!t||"[object Object]"!==toStr.call(t))return!1;var r=hasOwn.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&hasOwn.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!o)return!1;var n;for(n in t);return"undefined"==typeof n||hasOwn.call(t,n)};module.exports=function t(){var r,o,n,e,a,c,i=arguments[0],s=1,u=arguments.length,f=!1;for("boolean"==typeof i?(f=i,i=arguments[1]||{},s=2):("object"!=typeof i&&"function"!=typeof i||null==i)&&(i={});u>s;++s)if(r=arguments[s],null!=r)for(o in r)n=i[o],e=r[o],i!==e&&(f&&e&&(isPlainObject(e)||(a=isArray(e)))?(a?(a=!1,c=n&&isArray(n)?n:[]):c=n&&isPlainObject(n)?n:{},i[o]=t(f,c,e)):"undefined"!=typeof e&&(i[o]=e));return i};
},{}],274:[function(require,module,exports){
function getConnectionName(e,t){var o="";return o="string"==typeof e?e+":"+t:e.host+":"+e.port+":"+(e.localAddress?e.localAddress+":":":")}function ForeverAgent(e){var t=this;t.options=e||{},t.requests={},t.sockets={},t.freeSockets={},t.maxSockets=t.options.maxSockets||Agent.defaultMaxSockets,t.minSockets=t.options.minSockets||ForeverAgent.defaultMinSockets,t.on("free",function(e,o,r){var s=getConnectionName(o,r);if(t.requests[s]&&t.requests[s].length)t.requests[s].shift().onSocket(e);else if(t.sockets[s].length<t.minSockets){t.freeSockets[s]||(t.freeSockets[s]=[]),t.freeSockets[s].push(e);var n=function(){e.destroy()};e._onIdleError=n,e.on("error",n)}else e.destroy()})}function ForeverAgentSSL(e){ForeverAgent.call(this,e)}function createConnectionSSL(e,t,o){return o="object"==typeof e?e:"object"==typeof t?t:"object"==typeof o?o:{},"number"==typeof e&&(o.port=e),"string"==typeof t&&(o.host=t),tls.connect(o)}module.exports=ForeverAgent,ForeverAgent.SSL=ForeverAgentSSL;var util=require("util"),Agent=require("http").Agent,net=require("net"),tls=require("tls"),AgentSSL=require("https").Agent;util.inherits(ForeverAgent,Agent),ForeverAgent.defaultMinSockets=5,ForeverAgent.prototype.createConnection=net.createConnection,ForeverAgent.prototype.addRequestNoreuse=Agent.prototype.addRequest,ForeverAgent.prototype.addRequest=function(e,t,o){var r=getConnectionName(t,o);if("string"!=typeof t){var s=t;o=s.port,t=s.host}if(this.freeSockets[r]&&this.freeSockets[r].length>0&&!e.useChunkedEncodingByDefault){var n=this.freeSockets[r].pop();n.removeListener("error",n._onIdleError),delete n._onIdleError,e._reusedSocket=!0,e.onSocket(n)}else this.addRequestNoreuse(e,t,o)},ForeverAgent.prototype.removeSocket=function(e,t,o,r){if(this.sockets[t]){var s=this.sockets[t].indexOf(e);-1!==s&&this.sockets[t].splice(s,1)}else this.sockets[t]&&0===this.sockets[t].length&&(delete this.sockets[t],delete this.requests[t]);if(this.freeSockets[t]){var s=this.freeSockets[t].indexOf(e);-1!==s&&(this.freeSockets[t].splice(s,1),0===this.freeSockets[t].length&&delete this.freeSockets[t])}this.requests[t]&&this.requests[t].length&&this.createSocket(t,o,r).emit("free")},util.inherits(ForeverAgentSSL,ForeverAgent),ForeverAgentSSL.prototype.createConnection=createConnectionSSL,ForeverAgentSSL.prototype.addRequestNoreuse=AgentSSL.prototype.addRequest;
},{"http":92,"https":95,"net":35,"tls":35,"util":594}],275:[function(require,module,exports){
module.exports=FormData;
},{}],276:[function(require,module,exports){
"use strict";function ValidationError(r){this.name="ValidationError",this.errors=r}ValidationError.prototype=Error.prototype,module.exports=ValidationError;
},{}],277:[function(require,module,exports){
"use strict";var Promise=require("pinkie-promise"),runner=require("./runner"),schemas=require("./schemas"),promisify=function(e){return function(r){return new Promise(function(n,s){runner(e,r,function(e,i){return null===e?n(r):s(e)})})}};module.exports=promisify(schemas.har),Object.keys(schemas).map(function(e){module.exports[e]=promisify(schemas[e])});
},{"./runner":278,"./schemas":286,"pinkie-promise":302}],278:[function(require,module,exports){
"use strict";var schemas=require("./schemas"),ValidationError=require("./error"),validator=require("is-my-json-valid");module.exports=function(r,e,o){var s=!1,a=validator(r,{greedy:!0,verbose:!0,schemas:schemas});return void 0!==e&&(s=a(e)),"function"==typeof o?o(a.errors?new ValidationError(a.errors):null,s):s};
},{"./error":276,"./schemas":286,"is-my-json-valid":296}],279:[function(require,module,exports){
module.exports={"properties":{"beforeRequest":{"$ref":"#cacheEntry"},"afterRequest":{"$ref":"#cacheEntry"},"comment":{"type":"string"}}}
},{}],280:[function(require,module,exports){
module.exports={"oneOf":[{"type":"object","optional":true,"required":["lastAccess","eTag","hitCount"],"properties":{"expires":{"type":"string"},"lastAccess":{"type":"string"},"eTag":{"type":"string"},"hitCount":{"type":"integer"},"comment":{"type":"string"}}},{"type":null,"additionalProperties":false}]}
},{}],281:[function(require,module,exports){
module.exports={"type":"object","required":["size","mimeType"],"properties":{"size":{"type":"integer"},"compression":{"type":"integer"},"mimeType":{"type":"string"},"text":{"type":"string"},"encoding":{"type":"string"},"comment":{"type":"string"}}}
},{}],282:[function(require,module,exports){
module.exports={"type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"path":{"type":"string"},"domain":{"type":"string"},"expires":{"type":["string","null"],"format":"date-time"},"httpOnly":{"type":"boolean"},"secure":{"type":"boolean"},"comment":{"type":"string"}}}
},{}],283:[function(require,module,exports){
module.exports={"type":"object","required":["name","version"],"properties":{"name":{"type":"string"},"version":{"type":"string"},"comment":{"type":"string"}}}
},{}],284:[function(require,module,exports){
module.exports={"type":"object","optional":true,"required":["startedDateTime","time","request","response","cache","timings"],"properties":{"pageref":{"type":"string"},"startedDateTime":{"type":"string","format":"date-time","pattern":"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))"},"time":{"type":"number","min":0},"request":{"$ref":"#request"},"response":{"$ref":"#response"},"cache":{"$ref":"#cache"},"timings":{"$ref":"#timings"},"serverIPAddress":{"type":"string","oneOf":[{"format":"ipv4"},{"format":"ipv6"}]},"connection":{"type":"string"},"comment":{"type":"string"}}}
},{}],285:[function(require,module,exports){
module.exports={"type":"object","required":["log"],"properties":{"log":{"$ref":"#log"}}}
},{}],286:[function(require,module,exports){
"use strict";var schemas={cache:require("./cache.json"),cacheEntry:require("./cacheEntry.json"),content:require("./content.json"),cookie:require("./cookie.json"),creator:require("./creator.json"),entry:require("./entry.json"),har:require("./har.json"),log:require("./log.json"),page:require("./page.json"),pageTimings:require("./pageTimings.json"),postData:require("./postData.json"),record:require("./record.json"),request:require("./request.json"),response:require("./response.json"),timings:require("./timings.json")};schemas.cache.properties.beforeRequest=schemas.cacheEntry,schemas.cache.properties.afterRequest=schemas.cacheEntry,schemas.page.properties.pageTimings=schemas.pageTimings,schemas.request.properties.cookies.items=schemas.cookie,schemas.request.properties.headers.items=schemas.record,schemas.request.properties.queryString.items=schemas.record,schemas.request.properties.postData=schemas.postData,schemas.response.properties.cookies.items=schemas.cookie,schemas.response.properties.headers.items=schemas.record,schemas.response.properties.content=schemas.content,schemas.entry.properties.request=schemas.request,schemas.entry.properties.response=schemas.response,schemas.entry.properties.cache=schemas.cache,schemas.entry.properties.timings=schemas.timings,schemas.log.properties.creator=schemas.creator,schemas.log.properties.browser=schemas.creator,schemas.log.properties.pages.items=schemas.page,schemas.log.properties.entries.items=schemas.entry,schemas.har.properties.log=schemas.log,module.exports=schemas;
},{"./cache.json":279,"./cacheEntry.json":280,"./content.json":281,"./cookie.json":282,"./creator.json":283,"./entry.json":284,"./har.json":285,"./log.json":287,"./page.json":288,"./pageTimings.json":289,"./postData.json":290,"./record.json":291,"./request.json":292,"./response.json":293,"./timings.json":294}],287:[function(require,module,exports){
module.exports={"type":"object","required":["version","creator","entries"],"properties":{"version":{"type":"string"},"creator":{"$ref":"#creator"},"browser":{"$ref":"#creator"},"pages":{"type":"array","items":{"$ref":"#page"}},"entries":{"type":"array","items":{"$ref":"#entry"}},"comment":{"type":"string"}}}
},{}],288:[function(require,module,exports){
module.exports={"type":"object","optional":true,"required":["startedDateTime","id","title","pageTimings"],"properties":{"startedDateTime":{"type":"string","format":"date-time","pattern":"^(\\d{4})(-)?(\\d\\d)(-)?(\\d\\d)(T)?(\\d\\d)(:)?(\\d\\d)(:)?(\\d\\d)(\\.\\d+)?(Z|([+-])(\\d\\d)(:)?(\\d\\d))"},"id":{"type":"string","unique":true},"title":{"type":"string"},"pageTimings":{"$ref":"#pageTimings"},"comment":{"type":"string"}}}
},{}],289:[function(require,module,exports){
module.exports={"type":"object","properties":{"onContentLoad":{"type":"number","min":-1},"onLoad":{"type":"number","min":-1},"comment":{"type":"string"}}}
},{}],290:[function(require,module,exports){
module.exports={"type":"object","optional":true,"required":["mimeType"],"properties":{"mimeType":{"type":"string"},"text":{"type":"string"},"params":{"type":"array","required":["name"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"fileName":{"type":"string"},"contentType":{"type":"string"},"comment":{"type":"string"}}},"comment":{"type":"string"}}}
},{}],291:[function(require,module,exports){
module.exports={"type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"comment":{"type":"string"}}}
},{}],292:[function(require,module,exports){
module.exports={"type":"object","required":["method","url","httpVersion","cookies","headers","queryString","headersSize","bodySize"],"properties":{"method":{"type":"string"},"url":{"type":"string","format":"uri"},"httpVersion":{"type":"string"},"cookies":{"type":"array","items":{"$ref":"#cookie"}},"headers":{"type":"array","items":{"$ref":"#record"}},"queryString":{"type":"array","items":{"$ref":"#record"}},"postData":{"$ref":"#postData"},"headersSize":{"type":"integer"},"bodySize":{"type":"integer"},"comment":{"type":"string"}}}
},{}],293:[function(require,module,exports){
module.exports={"type":"object","required":["status","statusText","httpVersion","cookies","headers","content","redirectURL","headersSize","bodySize"],"properties":{"status":{"type":"integer"},"statusText":{"type":"string"},"httpVersion":{"type":"string"},"cookies":{"type":"array","items":{"$ref":"#cookie"}},"headers":{"type":"array","items":{"$ref":"#record"}},"content":{"$ref":"#content"},"redirectURL":{"type":"string"},"headersSize":{"type":"integer"},"bodySize":{"type":"integer"},"comment":{"type":"string"}}}
},{}],294:[function(require,module,exports){
module.exports={"required":["send","wait","receive"],"properties":{"dns":{"type":"number","min":-1},"connect":{"type":"number","min":-1},"blocked":{"type":"number","min":-1},"send":{"type":"number","min":-1},"wait":{"type":"number","min":-1},"receive":{"type":"number","min":-1},"ssl":{"type":"number","min":-1},"comment":{"type":"string"}}}
},{}],295:[function(require,module,exports){
exports["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(\.\d+)?([zZ]|[+-]\d{2}:\d{2})$/,exports.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,exports.time=/^\d{2}:\d{2}:\d{2}$/,exports.email=/^\S+@\S+$/,exports["ip-address"]=exports.ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,exports.ipv6=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,exports.uri=/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,exports.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,exports.hostname=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9]))*$/,exports.alpha=/^[a-zA-Z]+$/,exports.alphanumeric=/^[a-zA-Z0-9]+$/,exports.style=/\s*(.+?):\s*([^;]+);?/g,exports.phone=/^\+(?:[0-9] ?){6,14}[0-9]$/,exports["utc-millisec"]=/^[0-9]+(\.?[0-9]+)?$/;
},{}],296:[function(require,module,exports){
var genobj=require("generate-object-property"),genfun=require("generate-function"),jsonpointer=require("jsonpointer"),xtend=require("xtend"),formats=require("./formats"),get=function(e,r,t){if(/^https?:\/\//.test(t))return null;var n=function(e){return e&&e.id===t?e:"object"==typeof e&&e?Object.keys(e).reduce(function(r,t){return r||n(e[t])},null):null},i=n(e);if(i)return i;t=t.replace(/^#/,""),t=t.replace(/\/$/,"");try{return jsonpointer.get(e,decodeURI(t))}catch(s){var o,a=t.indexOf("#");if(0!==a)if(-1===a)o=r[t];else{var f=t.slice(0,a);o=r[f];var u=t.slice(a).replace(/^#/,"");try{return jsonpointer.get(o,u)}catch(s){}}else o=r[t];return o||null}},formatName=function(e){e=JSON.stringify(e);for(var r=/\[([^\[\]"]+)\]/;r.test(e);)e=e.replace(r,'."+$1+"');return e},types={};types.any=function(){return"true"},types["null"]=function(e){return e+" === null"},types["boolean"]=function(e){return"typeof "+e+' === "boolean"'},types.array=function(e){return"Array.isArray("+e+")"},types.object=function(e){return"typeof "+e+' === "object" && '+e+" && !Array.isArray("+e+")"},types.number=function(e){return"typeof "+e+' === "number"'},types.integer=function(e){return"typeof "+e+' === "number" && (Math.floor('+e+") === "+e+" || "+e+" > 9007199254740992 || "+e+" < -9007199254740992)"},types.string=function(e){return"typeof "+e+' === "string"'};var unique=function(e){for(var r=[],t=0;t<e.length;t++)r.push("object"==typeof e[t]?JSON.stringify(e[t]):e[t]);for(var t=1;t<r.length;t++)if(r.indexOf(r[t])!==t)return!1;return!0},toType=function(e){return e.type},compile=function(e,r,t,n,i){var s=i?xtend(formats,i.formats):formats,o={unique:unique,formats:s},a=i?!!i.verbose:!1,f=i&&void 0!==i.greedy?i.greedy:!1,u={},l=function(e){return e+(u[e]=(u[e]||0)+1)},m={},c=function(e){if(m[e])return m[e];var r=l("pattern");return o[r]=new RegExp(e),m[e]=r,r},p=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],d=function(){var e=p.shift();return p.push(e+e[0]),e},y=function(e,n,u,m){var p=n.properties,v=n.type,h=!1;Array.isArray(n.items)&&(p={},n.items.forEach(function(e,r){p[r]=e}),v="array",h=!0);var b=0,j=function(r,t,n){g("errors++"),u===!0&&(g("if (validate.errors === null) validate.errors = []"),a?g("validate.errors.push({field:%s,message:%s,value:%s})",formatName(t||e),JSON.stringify(r),n||e):g("validate.errors.push({field:%s,message:%s})",formatName(t||e),JSON.stringify(r)))};n.required===!0?(b++,g("if (%s === undefined) {",e),j("is required"),g("} else {")):(b++,g("if (%s !== undefined) {",e));var O=[].concat(v).map(function(r){return types[r||"any"](e)}).join(" || ")||"true";if("true"!==O&&(b++,g("if (!(%s)) {",O),j("is the wrong type"),g("} else {")),h)if(n.additionalItems===!1)g("if (%s.length > %d) {",e,n.items.length),j("has additional items"),g("}");else if(n.additionalItems){var x=d();g("for (var %s = %d; %s < %s.length; %s++) {",x,n.items.length,x,e,x),y(e+"["+x+"]",n.additionalItems,u,m),g("}")}if(n.format&&s[n.format]){"string"!==v&&formats[n.format]&&g("if (%s) {",types.string(e));var q=l("format");o[q]=s[n.format],"function"==typeof o[q]?g("if (!%s(%s)) {",q,e):g("if (!%s.test(%s)) {",q,e),j("must be "+n.format+" format"),g("}"),"string"!==v&&formats[n.format]&&g("}")}if(Array.isArray(n.required)){var N=function(r){var t=genobj(e,r);g("if (%s === undefined) {",t),j("is required",t),g("missing++"),g("}")};g("if ((%s)) {","object"!==v?types.object(e):"true"),g("var missing = 0"),n.required.map(N),g("}"),f||(g("if (missing === 0) {"),b++)}if(n.uniqueItems&&("array"!==v&&g("if (%s) {",types.array(e)),g("if (!(unique(%s))) {",e),j("must be unique"),g("}"),"array"!==v&&g("}")),n["enum"]){var A=n["enum"].some(function(e){return"object"==typeof e}),P=A?function(r){return"JSON.stringify("+e+") !== JSON.stringify("+JSON.stringify(r)+")"}:function(r){return e+" !== "+JSON.stringify(r)};g("if (%s) {",n["enum"].map(P).join(" && ")||"false"),j("must be an enum value"),g("}")}if(n.dependencies&&("object"!==v&&g("if (%s) {",types.object(e)),Object.keys(n.dependencies).forEach(function(r){var t=n.dependencies[r];"string"==typeof t&&(t=[t]);var i=function(r){return genobj(e,r)+" !== undefined"};Array.isArray(t)&&(g("if (%s !== undefined && !(%s)) {",genobj(e,r),t.map(i).join(" && ")||"true"),j("dependencies not set"),g("}")),"object"==typeof t&&(g("if (%s !== undefined) {",genobj(e,r)),y(e,t,u,m),g("}"))}),"object"!==v&&g("}")),n.additionalProperties||n.additionalProperties===!1){"object"!==v&&g("if (%s) {",types.object(e));var x=d(),k=l("keys"),S=function(e){return k+"["+x+"] !== "+JSON.stringify(e)},J=function(e){return"!"+c(e)+".test("+k+"["+x+"])"},w=Object.keys(p||{}).map(S).concat(Object.keys(n.patternProperties||{}).map(J)).join(" && ")||"true";g("var %s = Object.keys(%s)",k,e)("for (var %s = 0; %s < %s.length; %s++) {",x,x,k,x)("if (%s) {",w),n.additionalProperties===!1?(m&&g("delete %s",e+"["+k+"["+x+"]]"),j("has additional properties",null,JSON.stringify(e+".")+" + "+k+"["+x+"]")):y(e+"["+k+"["+x+"]]",n.additionalProperties,u,m),g("}")("}"),"object"!==v&&g("}")}if(n.$ref){var E=get(t,i&&i.schemas||{},n.$ref);if(E){var I=r[n.$ref];I||(r[n.$ref]=function(e){return I(e)},I=compile(E,r,t,!1,i));var q=l("ref");o[q]=I,g("if (!(%s(%s))) {",q,e),j("referenced schema does not match"),g("}")}}if(n.not){var $=l("prev");g("var %s = errors",$),y(e,n.not,!1,m),g("if (%s === errors) {",$),j("negative schema matches"),g("} else {")("errors = %s",$)("}")}if(n.items&&!h){"array"!==v&&g("if (%s) {",types.array(e));var x=d();g("for (var %s = 0; %s < %s.length; %s++) {",x,x,e,x),y(e+"["+x+"]",n.items,u,m),g("}"),"array"!==v&&g("}")}if(n.patternProperties){"object"!==v&&g("if (%s) {",types.object(e));var k=l("keys"),x=d();g("var %s = Object.keys(%s)",k,e)("for (var %s = 0; %s < %s.length; %s++) {",x,x,k,x),Object.keys(n.patternProperties).forEach(function(r){var t=c(r);g("if (%s.test(%s)) {",t,k+"["+x+"]"),y(e+"["+k+"["+x+"]]",n.patternProperties[r],u,m),g("}")}),g("}"),"object"!==v&&g("}")}if(n.pattern){var L=c(n.pattern);"string"!==v&&g("if (%s) {",types.string(e)),g("if (!(%s.test(%s))) {",L,e),j("pattern mismatch"),g("}"),"string"!==v&&g("}")}if(n.allOf&&n.allOf.forEach(function(r){y(e,r,u,m)}),n.anyOf&&n.anyOf.length){var $=l("prev");n.anyOf.forEach(function(r,t){0===t?g("var %s = errors",$):g("if (errors !== %s) {",$)("errors = %s",$),y(e,r,!1,!1)}),n.anyOf.forEach(function(e,r){r&&g("}")}),g("if (%s !== errors) {",$),j("no schemas match"),g("}")}if(n.oneOf&&n.oneOf.length){var $=l("prev"),M=l("passes");g("var %s = errors",$)("var %s = 0",M),n.oneOf.forEach(function(r,t){y(e,r,!1,!1),g("if (%s === errors) {",$)("%s++",M)("} else {")("errors = %s",$)("}")}),g("if (%s !== 1) {",M),j("no (or more than one) schemas match"),g("}")}if(void 0!==n.multipleOf){"number"!==v&&"integer"!==v&&g("if (%s) {",types.number(e));var R=(0|n.multipleOf)!==n.multipleOf?Math.pow(10,n.multipleOf.toString().split(".").pop().length):1;R>1?g("if ((%d*%s) % %d) {",R,e,R*n.multipleOf):g("if (%s % %d) {",e,n.multipleOf),j("has a remainder"),g("}"),"number"!==v&&"integer"!==v&&g("}")}for(void 0!==n.maxProperties&&("object"!==v&&g("if (%s) {",types.object(e)),g("if (Object.keys(%s).length > %d) {",e,n.maxProperties),j("has more properties than allowed"),g("}"),"object"!==v&&g("}")),void 0!==n.minProperties&&("object"!==v&&g("if (%s) {",types.object(e)),g("if (Object.keys(%s).length < %d) {",e,n.minProperties),j("has less properties than allowed"),g("}"),"object"!==v&&g("}")),void 0!==n.maxItems&&("array"!==v&&g("if (%s) {",types.array(e)),g("if (%s.length > %d) {",e,n.maxItems),j("has more items than allowed"),g("}"),"array"!==v&&g("}")),void 0!==n.minItems&&("array"!==v&&g("if (%s) {",types.array(e)),g("if (%s.length < %d) {",e,n.minItems),j("has less items than allowed"),g("}"),"array"!==v&&g("}")),void 0!==n.maxLength&&("string"!==v&&g("if (%s) {",types.string(e)),g("if (%s.length > %d) {",e,n.maxLength),j("has longer length than allowed"),g("}"),"string"!==v&&g("}")),void 0!==n.minLength&&("string"!==v&&g("if (%s) {",types.string(e)),g("if (%s.length < %d) {",e,n.minLength),j("has less length than allowed"),g("}"),"string"!==v&&g("}")),void 0!==n.minimum&&(g("if (%s %s %d) {",e,n.exclusiveMinimum?"<=":"<",n.minimum),j("is less than minimum"),g("}")),void 0!==n.maximum&&(g("if (%s %s %d) {",e,n.exclusiveMaximum?">=":">",n.maximum),j("is more than maximum"),g("}")),p&&Object.keys(p).forEach(function(r){Array.isArray(v)&&-1!==v.indexOf("null")&&g("if (%s !== null) {",e),y(genobj(e,r),p[r],u,m),Array.isArray(v)&&-1!==v.indexOf("null")&&g("}")});b--;)g("}")},g=genfun("function validate(data) {")("validate.errors = null")("var errors = 0");return y("data",e,n,i&&i.filter),g("return errors === 0")("}"),g=g.toFunction(o),g.errors=null,Object.defineProperty&&Object.defineProperty(g,"error",{get:function(){return g.errors?g.errors.map(function(e){return e.field+" "+e.message}).join("\n"):""}}),g.toJSON=function(){return e},g};module.exports=function(e,r){return"string"==typeof e&&(e=JSON.parse(e)),compile(e,{},e,!0,r)},module.exports.filter=function(e,r){var t=module.exports(e,xtend(r,{filter:!0}));return function(e){return t(e),e}};
},{"./formats":295,"generate-function":297,"generate-object-property":298,"jsonpointer":300,"xtend":301}],297:[function(require,module,exports){
var util=require("util"),INDENT_START=/[\{\[]/,INDENT_END=/[\}\]]/;module.exports=function(){var t=[],n=0,u=function(u){for(var r="";r.length<2*n;)r+="  ";t.push(r+u)},r=function(t){return t?INDENT_END.test(t.trim()[0])&&INDENT_START.test(t[t.length-1])?(n--,u(util.format.apply(util,arguments)),n++,r):INDENT_START.test(t[t.length-1])?(u(util.format.apply(util,arguments)),n++,r):INDENT_END.test(t.trim()[0])?(n--,u(util.format.apply(util,arguments)),r):(u(util.format.apply(util,arguments)),r):r};return r.toString=function(){return t.join("\n")},r.toFunction=function(t){var n="return ("+r.toString()+")",u=Object.keys(t||{}).map(function(t){return t}),l=u.map(function(n){return t[n]});return Function.apply(null,u.concat(n)).apply(null,l)},arguments.length&&r.apply(null,arguments),r};
},{"util":594}],298:[function(require,module,exports){
var isProperty=require("is-property"),gen=function(r,e){return isProperty(e)?r+"."+e:r+"["+JSON.stringify(e)+"]"};gen.valid=isProperty,gen.property=function(r){return isProperty(r)?r:JSON.stringify(r)},module.exports=gen;
},{"is-property":299}],299:[function(require,module,exports){
"use strict";function isProperty(u){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(u)}module.exports=isProperty;
},{}],300:[function(require,module,exports){
var untilde=function(r){return r.replace(/~./g,function(r){switch(r){case"~0":return"~";case"~1":return"/"}throw new Error("Invalid tilde escape: "+r)})},traverse=function(r,e,t){var n=untilde(e.shift());if(!r.hasOwnProperty(n))return null;if(0!==e.length)return traverse(r[n],e,t);if("undefined"==typeof t)return r[n];var i=r[n];return null===t?delete r[n]:r[n]=t,i},validate_input=function(r,e){if("object"!=typeof r)throw new Error("Invalid input object.");if(""===e)return[];if(!e)throw new Error("Invalid JSON pointer.");e=e.split("/");var t=e.shift();if(""!==t)throw new Error("Invalid JSON pointer.");return e},get=function(r,e){return e=validate_input(r,e),0===e.length?r:traverse(r,e)},set=function(r,e,t){if(e=validate_input(r,e),0===e.length)throw new Error("Invalid JSON pointer for set.");return traverse(r,e,t)};exports.get=get,exports.set=set;
},{}],301:[function(require,module,exports){
function extend(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;
},{}],302:[function(require,module,exports){
(function (global){
"use strict";module.exports=global.Promise||require("pinkie");
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"pinkie":303}],303:[function(require,module,exports){
(function (process){
"use strict";function asyncFlush(){for(var e=0;e<asyncQueue.length;e++)asyncQueue[e][0](asyncQueue[e][1]);asyncQueue=[],asyncTimer=!1}function asyncCall(e,t){asyncQueue.push([e,t]),asyncTimer||(asyncTimer=!0,asyncSetTimer(asyncFlush,0))}function invokeResolver(e,t){function n(e){resolve(t,e)}function o(e){reject(t,e)}try{e(n,o)}catch(r){o(r)}}function invokeCallback(e){var t=e.owner,n=t._state,o=t._data,r=e[n],i=e.then;if("function"==typeof r){n=FULFILLED;try{o=r(o)}catch(s){reject(i,s)}}handleThenable(i,o)||(n===FULFILLED&&resolve(i,o),n===REJECTED&&reject(i,o))}function handleThenable(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"==typeof t)){var o=t.then;if("function"==typeof o)return o.call(t,function(o){n||(n=!0,t===o?fulfill(e,o):resolve(e,o))},function(t){n||(n=!0,reject(e,t))}),!0}}catch(r){return n||reject(e,r),!0}return!1}function resolve(e,t){e!==t&&handleThenable(e,t)||fulfill(e,t)}function fulfill(e,t){e._state===PENDING&&(e._state=SETTLED,e._data=t,asyncCall(publishFulfillment,e))}function reject(e,t){e._state===PENDING&&(e._state=SETTLED,e._data=t,asyncCall(publishRejection,e))}function publish(e){e._then=e._then.forEach(invokeCallback)}function publishFulfillment(e){e._state=FULFILLED,publish(e)}function publishRejection(e){e._state=REJECTED,publish(e),!e._handled&&isNode&&process.emit("unhandledRejection",e._data,e)}function notifyRejectionHandled(e){process.emit("rejectionHandled",e)}function Promise(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof Promise==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],invokeResolver(e,this)}var PENDING="pending",SETTLED="settled",FULFILLED="fulfilled",REJECTED="rejected",NOOP=function(){},isNode="undefined"!=typeof process&&"function"==typeof process.emit,asyncSetTimer="undefined"==typeof setImmediate?setTimeout:setImmediate,asyncQueue=[],asyncTimer;Promise.prototype={constructor:Promise,_state:PENDING,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(NOOP),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===REJECTED&&isNode&&asyncCall(notifyRejectionHandled,this)),this._state===FULFILLED||this._state===REJECTED?asyncCall(invokeCallback,n):this._then.push(n),n.then},"catch":function(e){return this.then(null,e)}},Promise.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new Promise(function(t,n){function o(e){return s++,function(n){i[e]=n,--s||t(i)}}for(var r,i=[],s=0,c=0;c<e.length;c++)r=e[c],r&&"function"==typeof r.then?r.then(o(c),n):i[c]=r;s||t(i)})},Promise.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new Promise(function(t,n){for(var o,r=0;r<e.length;r++)o=e[r],o&&"function"==typeof o.then?o.then(t,n):t(o)})},Promise.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Promise?e:new Promise(function(t){t(e)})},Promise.reject=function(e){return new Promise(function(t,n){n(e)})},module.exports=Promise;
}).call(this,require('_process'))

},{"_process":425}],304:[function(require,module,exports){
var hawk={internals:{}};hawk.client={header:function(t,e,r){var n={field:"",artifacts:{}};if(!t||"string"!=typeof t&&"object"!=typeof t||!e||"string"!=typeof e||!r||"object"!=typeof r)return n.err="Invalid argument type",n;var a=r.timestamp||hawk.utils.now(r.localtimeOffsetMsec),i=r.credentials;if(!(i&&i.id&&i.key&&i.algorithm))return n.err="Invalid credentials object",n;if(-1===hawk.crypto.algorithms.indexOf(i.algorithm))return n.err="Unknown algorithm",n;"string"==typeof t&&(t=hawk.utils.parseUri(t));var o={ts:a,nonce:r.nonce||hawk.utils.randomString(6),method:e,resource:t.resource,host:t.host,port:t.port,hash:r.hash,ext:r.ext,app:r.app,dlg:r.dlg};n.artifacts=o,o.hash||!r.payload&&""!==r.payload||(o.hash=hawk.crypto.calculatePayloadHash(r.payload,i.algorithm,r.contentType));var s=hawk.crypto.calculateMac("header",i,o),h=null!==o.ext&&void 0!==o.ext&&""!==o.ext,c='Hawk id="'+i.id+'", ts="'+o.ts+'", nonce="'+o.nonce+(o.hash?'", hash="'+o.hash:"")+(h?'", ext="'+hawk.utils.escapeHeaderAttribute(o.ext):"")+'", mac="'+s+'"';return o.app&&(c+=', app="'+o.app+(o.dlg?'", dlg="'+o.dlg:"")+'"'),n.field=c,n},bewit:function(t,e){if(!t||"string"!=typeof t||!e||"object"!=typeof e||!e.ttlSec)return"";e.ext=null===e.ext||void 0===e.ext?"":e.ext;var r=hawk.utils.now(e.localtimeOffsetMsec),n=e.credentials;if(!(n&&n.id&&n.key&&n.algorithm))return"";if(-1===hawk.crypto.algorithms.indexOf(n.algorithm))return"";t=hawk.utils.parseUri(t);var a=r+e.ttlSec,i=hawk.crypto.calculateMac("bewit",n,{ts:a,nonce:"",method:"GET",resource:t.resource,host:t.host,port:t.port,ext:e.ext}),o=n.id+"\\"+a+"\\"+i+"\\"+e.ext;return hawk.utils.base64urlEncode(o)},authenticate:function(t,e,r,n){n=n||{};var a=function(e){return t.getResponseHeader?t.getResponseHeader(e):t.getHeader(e)},i=a("www-authenticate");if(i){var o=hawk.utils.parseAuthorizationHeader(i,["ts","tsm","error"]);if(!o)return!1;if(o.ts){var s=hawk.crypto.calculateTsMac(o.ts,e);if(s!==o.tsm)return!1;hawk.utils.setNtpOffset(o.ts-Math.floor((new Date).getTime()/1e3))}}var h=a("server-authorization");if(!h&&!n.required)return!0;var c=hawk.utils.parseAuthorizationHeader(h,["mac","ext","hash"]);if(!c)return!1;var u={ts:r.ts,nonce:r.nonce,method:r.method,resource:r.resource,host:r.host,port:r.port,hash:c.hash,ext:c.ext,app:r.app,dlg:r.dlg},l=hawk.crypto.calculateMac("response",e,u);if(l!==c.mac)return!1;if(!n.payload&&""!==n.payload)return!0;if(!c.hash)return!1;var f=hawk.crypto.calculatePayloadHash(n.payload,e.algorithm,a("content-type"));return f===c.hash},message:function(t,e,r,n){if(!t||"string"!=typeof t||!e||"number"!=typeof e||null===r||void 0===r||"string"!=typeof r||!n||"object"!=typeof n)return null;var a=n.timestamp||hawk.utils.now(n.localtimeOffsetMsec),i=n.credentials;if(!(i&&i.id&&i.key&&i.algorithm))return null;if(-1===hawk.crypto.algorithms.indexOf(i.algorithm))return null;var o={ts:a,nonce:n.nonce||hawk.utils.randomString(6),host:t,port:e,hash:hawk.crypto.calculatePayloadHash(r,i.algorithm)},s={id:i.id,ts:o.ts,nonce:o.nonce,hash:o.hash,mac:hawk.crypto.calculateMac("message",i,o)};return s},authenticateTimestamp:function(t,e,r){var n=hawk.crypto.calculateTsMac(t.ts,e);return n!==t.tsm?!1:(r!==!1&&hawk.utils.setNtpOffset(t.ts-Math.floor((new Date).getTime()/1e3)),!0)}},hawk.crypto={headerVersion:"1",algorithms:["sha1","sha256"],calculateMac:function(t,e,r){var n=hawk.crypto.generateNormalizedString(t,r),a=CryptoJS["Hmac"+e.algorithm.toUpperCase()](n,e.key);return a.toString(CryptoJS.enc.Base64)},generateNormalizedString:function(t,e){var r="hawk."+hawk.crypto.headerVersion+"."+t+"\n"+e.ts+"\n"+e.nonce+"\n"+(e.method||"").toUpperCase()+"\n"+(e.resource||"")+"\n"+e.host.toLowerCase()+"\n"+e.port+"\n"+(e.hash||"")+"\n";return e.ext&&(r+=e.ext.replace("\\","\\\\").replace("\n","\\n")),r+="\n",e.app&&(r+=e.app+"\n"+(e.dlg||"")+"\n"),r},calculatePayloadHash:function(t,e,r){var n=CryptoJS.algo[e.toUpperCase()].create();return n.update("hawk."+hawk.crypto.headerVersion+".payload\n"),n.update(hawk.utils.parseContentType(r)+"\n"),n.update(t),n.update("\n"),n.finalize().toString(CryptoJS.enc.Base64)},calculateTsMac:function(t,e){var r=CryptoJS["Hmac"+e.algorithm.toUpperCase()]("hawk."+hawk.crypto.headerVersion+".ts\n"+t+"\n",e.key);return r.toString(CryptoJS.enc.Base64)}},hawk.internals.LocalStorage=function(){this._cache={},this.length=0,this.getItem=function(t){return this._cache.hasOwnProperty(t)?String(this._cache[t]):null},this.setItem=function(t,e){this._cache[t]=String(e),this.length=Object.keys(this._cache).length},this.removeItem=function(t){delete this._cache[t],this.length=Object.keys(this._cache).length},this.clear=function(){this._cache={},this.length=0},this.key=function(t){return Object.keys(this._cache)[t||0]}},hawk.utils={storage:new hawk.internals.LocalStorage,setStorage:function(t){var e=hawk.utils.storage.getItem("hawk_ntp_offset");hawk.utils.storage=t,e&&hawk.utils.setNtpOffset(e)},setNtpOffset:function(t){try{hawk.utils.storage.setItem("hawk_ntp_offset",t)}catch(e){console.error("[hawk] could not write to storage."),console.error(e)}},getNtpOffset:function(){var t=hawk.utils.storage.getItem("hawk_ntp_offset");return t?parseInt(t,10):0},now:function(t){return Math.floor(((new Date).getTime()+(t||0))/1e3)+hawk.utils.getNtpOffset()},escapeHeaderAttribute:function(t){return t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},parseContentType:function(t){return t?t.split(";")[0].replace(/^\s+|\s+$/g,"").toLowerCase():""},parseAuthorizationHeader:function(t,e){if(!t)return null;var r=t.match(/^(\w+)(?:\s+(.*))?$/);if(!r)return null;var n=r[1];if("hawk"!==n.toLowerCase())return null;var a=r[2];if(!a)return null;var i={},o=a.replace(/(\w+)="([^"\\]*)"\s*(?:,\s*|$)/g,function(t,r,n){return-1===e.indexOf(r)||null===n.match(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~]+$/)||i.hasOwnProperty(r)?void 0:(i[r]=n,"")});return""!==o?null:i},randomString:function(t){for(var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r=e.length,n=[],a=0;t>a;++a)n[a]=e[Math.floor(Math.random()*r)];return n.join("")},uriRegex:/^([^:]+)\:\/\/(?:[^@]*@)?([^\/:]+)(?:\:(\d+))?([^#]*)(?:#.*)?$/,parseUri:function(t){var e=t.match(hawk.utils.uriRegex);if(!e)return{host:"",port:"",resource:""};var r=e[1].toLowerCase(),n={host:e[2],port:e[3]||("http"===r?"80":"https"===r?"443":""),resource:e[4]};return n},base64urlEncode:function(t){var e=CryptoJS.enc.Utf8.parse(t),r=CryptoJS.enc.Base64.stringify(e);return r.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}};var CryptoJS=CryptoJS||function(t,e){var r={},n=r.lib={},a=function(){},i=n.Base={extend:function(t){a.prototype=this;var e=new a;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},o=n.WordArray=i.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:4*t.length},toString:function(t){return(t||h).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes;if(t=t.sigBytes,this.clamp(),n%4)for(var a=0;t>a;a++)e[n+a>>>2]|=(r[a>>>2]>>>24-8*(a%4)&255)<<24-8*((n+a)%4);else if(65535<r.length)for(a=0;t>a;a+=4)e[n+a>>>2]=r[a>>>2];else e.push.apply(e,r);return this.sigBytes+=t,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-8*(r%4),e.length=t.ceil(r/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var r=[],n=0;e>n;n+=4)r.push(4294967296*t.random()|0);return new o.init(r,e)}}),s=r.enc={},h=s.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var r=[],n=0;t>n;n++){var a=e[n>>>2]>>>24-8*(n%4)&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,r=[],n=0;e>n;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-4*(n%8);return new o.init(r,e/2)}},c=s.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var r=[],n=0;t>n;n++)r.push(String.fromCharCode(e[n>>>2]>>>24-8*(n%4)&255));return r.join("")},parse:function(t){for(var e=t.length,r=[],n=0;e>n;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-8*(n%4);return new o.init(r,e)}},u=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},l=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r=this._data,n=r.words,a=r.sigBytes,i=this.blockSize,s=a/(4*i),s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0);if(e=s*i,a=t.min(4*e,a),e){for(var h=0;e>h;h+=i)this._doProcessBlock(n,h);h=n.splice(0,e),r.sigBytes-=a}return new o.init(h,a)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});n.Hasher=l.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new f.HMAC.init(t,r).finalize(e)}}});var f=r.algo={};return r}(Math);!function(){var t=CryptoJS,e=t.lib,r=e.WordArray,n=e.Hasher,a=[],e=t.algo.SHA1=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],h=r[4],c=0;80>c;c++){if(16>c)a[c]=0|t[e+c];else{var u=a[c-3]^a[c-8]^a[c-14]^a[c-16];a[c]=u<<1|u>>>31}u=(n<<5|n>>>27)+h+a[c],u=20>c?u+((i&o|~i&s)+1518500249):40>c?u+((i^o^s)+1859775393):60>c?u+((i&o|i&s|o&s)-1894007588):u+((i^o^s)-899497514),h=s,s=o,o=i<<30|i>>>2,i=n,n=u}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+h|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[(n+64>>>9<<4)+14]=Math.floor(r/4294967296),e[(n+64>>>9<<4)+15]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=n._createHelper(e),t.HmacSHA1=n._createHmacHelper(e)}(),function(t){for(var e=CryptoJS,r=e.lib,n=r.WordArray,a=r.Hasher,r=e.algo,i=[],o=[],s=function(t){return 4294967296*(t-(0|t))|0},h=2,c=0;64>c;){var u;t:{u=h;for(var l=t.sqrt(u),f=2;l>=f;f++)if(!(u%f)){u=!1;break t}u=!0}u&&(8>c&&(i[c]=s(t.pow(h,.5))),o[c]=s(t.pow(h,1/3)),c++),h++}var p=[],r=r.SHA256=a.extend({_doReset:function(){this._hash=new n.init(i.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],a=r[1],i=r[2],s=r[3],h=r[4],c=r[5],u=r[6],l=r[7],f=0;64>f;f++){if(16>f)p[f]=0|t[e+f];else{var d=p[f-15],g=p[f-2];p[f]=((d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3)+p[f-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+p[f-16]}d=l+((h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25))+(h&c^~h&u)+o[f]+p[f],g=((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+(n&a^n&i^a&i),l=u,u=c,c=h,h=s+d|0,s=i,i=a,a=n,n=d+g|0}r[0]=r[0]+n|0,r[1]=r[1]+a|0,r[2]=r[2]+i|0,r[3]=r[3]+s|0,r[4]=r[4]+h|0,r[5]=r[5]+c|0,r[6]=r[6]+u|0,r[7]=r[7]+l|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,a=8*e.sigBytes;return r[a>>>5]|=128<<24-a%32,r[(a+64>>>9<<4)+14]=t.floor(n/4294967296),r[(a+64>>>9<<4)+15]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=a._createHelper(r),e.HmacSHA256=a._createHmacHelper(r)}(Math),function(){var t=CryptoJS,e=t.enc.Utf8;t.algo.HMAC=t.lib.Base.extend({init:function(t,r){t=this._hasher=new t.init,"string"==typeof r&&(r=e.parse(r));var n=t.blockSize,a=4*n;r.sigBytes>a&&(r=t.finalize(r)),r.clamp();for(var i=this._oKey=r.clone(),o=this._iKey=r.clone(),s=i.words,h=o.words,c=0;n>c;c++)s[c]^=1549556828,h[c]^=909522486;i.sigBytes=o.sigBytes=a,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;return t=e.finalize(t),e.reset(),e.finalize(this._oKey.clone().concat(t))}})}(),function(){var t=CryptoJS,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp(),t=[];for(var a=0;r>a;a+=3)for(var i=(e[a>>>2]>>>24-8*(a%4)&255)<<16|(e[a+1>>>2]>>>24-8*((a+1)%4)&255)<<8|e[a+2>>>2]>>>24-8*((a+2)%4)&255,o=0;4>o&&r>a+.75*o;o++)t.push(n.charAt(i>>>6*(3-o)&63));if(e=n.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var r=t.length,n=this._map,a=n.charAt(64);a&&(a=t.indexOf(a),-1!=a&&(r=a));for(var a=[],i=0,o=0;r>o;o++)if(o%4){var s=n.indexOf(t.charAt(o-1))<<2*(o%4),h=n.indexOf(t.charAt(o))>>>6-2*(o%4);a[i>>>2]|=(s|h)<<24-8*(i%4),i++}return e.create(a,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),hawk.crypto.internals=CryptoJS,"undefined"!=typeof module&&module.exports&&(module.exports=hawk);
},{}],305:[function(require,module,exports){
var parser=require("./parser"),signer=require("./signer"),verify=require("./verify"),utils=require("./utils");module.exports={parse:parser.parseRequest,parseRequest:parser.parseRequest,sign:signer.signRequest,signRequest:signer.signRequest,createSigner:signer.createSigner,isSigner:signer.isSigner,sshKeyToPEM:utils.sshKeyToPEM,sshKeyFingerprint:utils.fingerprint,pemToRsaSSHKey:utils.pemToRsaSSHKey,verify:verify.verifySignature,verifySignature:verify.verifySignature,verifyHMAC:verify.verifyHMAC};
},{"./parser":306,"./signer":307,"./utils":308,"./verify":309}],306:[function(require,module,exports){
function ExpiredRequestError(r){HttpSignatureError.call(this,r,ExpiredRequestError)}function InvalidHeaderError(r){HttpSignatureError.call(this,r,InvalidHeaderError)}function InvalidParamsError(r){HttpSignatureError.call(this,r,InvalidParamsError)}function MissingHeaderError(r){HttpSignatureError.call(this,r,MissingHeaderError)}function StrictParsingError(r){HttpSignatureError.call(this,r,StrictParsingError)}var assert=require("assert-plus"),util=require("util"),utils=require("./utils"),HASH_ALGOS=utils.HASH_ALGOS,PK_ALGOS=utils.PK_ALGOS,HttpSignatureError=utils.HttpSignatureError,InvalidAlgorithmError=utils.InvalidAlgorithmError,validateAlgorithm=utils.validateAlgorithm,State={New:0,Params:1},ParamsState={Name:0,Quote:1,Value:2,Comma:3};util.inherits(ExpiredRequestError,HttpSignatureError),util.inherits(InvalidHeaderError,HttpSignatureError),util.inherits(InvalidParamsError,HttpSignatureError),util.inherits(MissingHeaderError,HttpSignatureError),util.inherits(StrictParsingError,HttpSignatureError),module.exports={parseRequest:function(r,e){if(assert.object(r,"request"),assert.object(r.headers,"request.headers"),void 0===e&&(e={}),void 0===e.headers&&(e.headers=[r.headers["x-date"]?"x-date":"date"]),assert.object(e,"options"),assert.arrayOfString(e.headers,"options.headers"),assert.optionalNumber(e.clockSkew,"options.clockSkew"),!r.headers.authorization)throw new MissingHeaderError("no authorization header present in the request");e.clockSkew=e.clockSkew||300;var a=0,t=State.New,i=ParamsState.Name,s="",o="",n={scheme:"",params:{},signingString:"",get algorithm(){return this.params.algorithm.toUpperCase()},get keyId(){return this.params.keyId}},d=r.headers.authorization;for(a=0;a<d.length;a++){var h=d.charAt(a);switch(Number(t)){case State.New:" "!==h?n.scheme+=h:t=State.Params;break;case State.Params:switch(Number(i)){case ParamsState.Name:var l=h.charCodeAt(0);if(l>=65&&90>=l||l>=97&&122>=l)s+=h;else{if("="!==h)throw new InvalidHeaderError("bad param format");if(0===s.length)throw new InvalidHeaderError("bad param format");i=ParamsState.Quote}break;case ParamsState.Quote:if('"'!==h)throw new InvalidHeaderError("bad param format");o="",i=ParamsState.Value;break;case ParamsState.Value:'"'===h?(n.params[s]=o,i=ParamsState.Comma):o+=h;break;case ParamsState.Comma:if(","!==h)throw new InvalidHeaderError("bad param format");s="",i=ParamsState.Name;break;default:throw new Error("Invalid substate")}break;default:throw new Error("Invalid substate")}}if(n.params.headers&&""!==n.params.headers?n.params.headers=n.params.headers.split(" "):r.headers["x-date"]?n.params.headers=["x-date"]:n.params.headers=["date"],!n.scheme||"Signature"!==n.scheme)throw new InvalidHeaderError('scheme was not "Signature"');if(!n.params.keyId)throw new InvalidHeaderError("keyId was not specified");if(!n.params.algorithm)throw new InvalidHeaderError("algorithm was not specified");if(!n.params.signature)throw new InvalidHeaderError("signature was not specified");n.params.algorithm=n.params.algorithm.toLowerCase();try{validateAlgorithm(n.params.algorithm)}catch(m){throw m instanceof InvalidAlgorithmError?new InvalidParamsError(n.params.algorithm+" is not supported"):m}for(a=0;a<n.params.headers.length;a++){var u=n.params.headers[a].toLowerCase();if(n.params.headers[a]=u,"request-line"===u){if(e.strict)throw new StrictParsingError("request-line is not a valid header with strict parsing enabled.");n.signingString+=r.method+" "+r.url+" HTTP/"+r.httpVersion}else if("(request-target)"===u)n.signingString+="(request-target): "+r.method.toLowerCase()+" "+r.url;else{var g=r.headers[u];if(void 0===g)throw new MissingHeaderError(u+" was not in the request");n.signingString+=u+": "+g}a+1<n.params.headers.length&&(n.signingString+="\n")}var p;if(r.headers.date||r.headers["x-date"]){p=r.headers["x-date"]?new Date(r.headers["x-date"]):new Date(r.headers.date);var c=new Date,w=Math.abs(c.getTime()-p.getTime());if(w>1e3*e.clockSkew)throw new ExpiredRequestError("clock skew of "+w/1e3+"s was greater than "+e.clockSkew+"s")}if(e.headers.forEach(function(r){if(n.params.headers.indexOf(r)<0)throw new MissingHeaderError(r+" was not a signed header")}),e.algorithms&&-1===e.algorithms.indexOf(n.params.algorithm))throw new InvalidParamsError(n.params.algorithm+" is not a supported algorithm");return n}};
},{"./utils":308,"assert-plus":310,"util":594}],307:[function(require,module,exports){
(function (Buffer){
function MissingHeaderError(r){HttpSignatureError.call(this,r,MissingHeaderError)}function StrictParsingError(r){HttpSignatureError.call(this,r,StrictParsingError)}function RequestSigner(r){assert.object(r,"options");var e=[];if(void 0!==r.algorithm&&(assert.string(r.algorithm,"options.algorithm"),e=validateAlgorithm(r.algorithm)),this.rs_alg=e,void 0!==r.sign)assert.func(r.sign,"options.sign"),this.rs_signFunc=r.sign;else if("hmac"===e[0]&&void 0!==r.key){if(assert.string(r.keyId,"options.keyId"),this.rs_keyId=r.keyId,"string"!=typeof r.key&&!Buffer.isBuffer(r.key))throw new TypeError("options.key for HMAC must be a string or Buffer");this.rs_signer=crypto.createHmac(e[1].toUpperCase(),r.key),this.rs_signer.sign=function(){var r=this.digest("base64");return{hashAlgorithm:e[1],toString:function(){return r}}}}else{if(void 0===r.key)throw new TypeError("options.sign (func) or options.key is required");var t=r.key;if(("string"==typeof t||Buffer.isBuffer(t))&&(t=sshpk.parsePrivateKey(t)),assert.ok(sshpk.PrivateKey.isPrivateKey(t,[1,2]),"options.key must be a sshpk.PrivateKey"),this.rs_key=t,assert.string(r.keyId,"options.keyId"),this.rs_keyId=r.keyId,!PK_ALGOS[t.type])throw new InvalidAlgorithmError(t.type.toUpperCase()+" type keys are not supported");if(void 0!==e[0]&&t.type!==e[0])throw new InvalidAlgorithmError("options.key must be a "+e[0].toUpperCase()+" key, was given a "+t.type.toUpperCase()+" key instead");this.rs_signer=t.createSign(e[1])}this.rs_headers=[],this.rs_lines=[]}var assert=require("assert-plus"),crypto=require("crypto"),http=require("http"),util=require("util"),sshpk=require("sshpk"),jsprim=require("jsprim"),utils=require("./utils"),sprintf=require("util").format,HASH_ALGOS=utils.HASH_ALGOS,PK_ALGOS=utils.PK_ALGOS,InvalidAlgorithmError=utils.InvalidAlgorithmError,HttpSignatureError=utils.HttpSignatureError,validateAlgorithm=utils.validateAlgorithm,AUTHZ_FMT='Signature keyId="%s",algorithm="%s",headers="%s",signature="%s"';util.inherits(MissingHeaderError,HttpSignatureError),util.inherits(StrictParsingError,HttpSignatureError),RequestSigner.prototype.writeHeader=function(r,e){if(assert.string(r,"header"),r=r.toLowerCase(),assert.string(e,"value"),this.rs_headers.push(r),this.rs_signFunc)this.rs_lines.push(r+": "+e);else{var t=r+": "+e;this.rs_headers.length>0&&(t="\n"+t),this.rs_signer.update(t)}return e},RequestSigner.prototype.writeDateHeader=function(){return this.writeHeader("date",jsprim.rfc1123(new Date))},RequestSigner.prototype.writeTarget=function(r,e){assert.string(r,"method"),assert.string(e,"path"),r=r.toLowerCase(),this.writeHeader("(request-target)",r+" "+e)},RequestSigner.prototype.sign=function(r){if(assert.func(r,"callback"),this.rs_headers.length<1)throw new Error("At least one header must be signed");var e,t;if(this.rs_signFunc){var s=this.rs_lines.join("\n"),i=this;this.rs_signFunc(s,function(s,a){if(s)return void r(s);try{assert.object(a,"signature"),assert.string(a.keyId,"signature.keyId"),assert.string(a.algorithm,"signature.algorithm"),assert.string(a.signature,"signature.signature"),e=validateAlgorithm(a.algorithm),t=sprintf(AUTHZ_FMT,a.keyId,a.algorithm,i.rs_headers.join(" "),a.signature)}catch(o){return void r(o)}r(null,t)})}else{try{var a=this.rs_signer.sign()}catch(o){return void r(o)}e=(this.rs_alg[0]||this.rs_key.type)+"-"+a.hashAlgorithm;var n=a.toString();t=sprintf(AUTHZ_FMT,this.rs_keyId,e,this.rs_headers.join(" "),n),r(null,t)}},module.exports={isSigner:function(r){return"object"==typeof r&&r instanceof RequestSigner?!0:!1},createSigner:function(r){return new RequestSigner(r)},signRequest:function(r,e){assert.object(r,"request"),assert.object(e,"options"),assert.optionalString(e.algorithm,"options.algorithm"),assert.string(e.keyId,"options.keyId"),assert.optionalArrayOfString(e.headers,"options.headers"),assert.optionalString(e.httpVersion,"options.httpVersion"),r.getHeader("Date")||r.setHeader("Date",jsprim.rfc1123(new Date)),e.headers||(e.headers=["date"]),e.httpVersion||(e.httpVersion="1.1");var t=[];e.algorithm&&(e.algorithm=e.algorithm.toLowerCase(),t=validateAlgorithm(e.algorithm));var s,i="";for(s=0;s<e.headers.length;s++){if("string"!=typeof e.headers[s])throw new TypeError("options.headers must be an array of Strings");var a=e.headers[s].toLowerCase();if("request-line"===a){if(e.strict)throw new StrictParsingError("request-line is not a valid header with strict parsing enabled.");i+=r.method+" "+r.path+" HTTP/"+e.httpVersion}else if("(request-target)"===a)i+="(request-target): "+r.method.toLowerCase()+" "+r.path;else{var o=r.getHeader(a);if(void 0===o||""===o)throw new MissingHeaderError(a+" was not in the request");i+=a+": "+o}s+1<e.headers.length&&(i+="\n")}var n;if("hmac"===t[0]){if("string"!=typeof e.key&&!Buffer.isBuffer(e.key))throw new TypeError("options.key must be a string or Buffer");var h=crypto.createHmac(t[1].toUpperCase(),e.key);h.update(i),n=h.digest("base64")}else{var g=e.key;if(("string"==typeof g||Buffer.isBuffer(g))&&(g=sshpk.parsePrivateKey(e.key)),assert.ok(sshpk.PrivateKey.isPrivateKey(g,[1,2]),"options.key must be a sshpk.PrivateKey"),!PK_ALGOS[g.type])throw new InvalidAlgorithmError(g.type.toUpperCase()+" type keys are not supported");if(void 0!==t[0]&&g.type!==t[0])throw new InvalidAlgorithmError("options.key must be a "+t[0].toUpperCase()+" key, was given a "+g.type.toUpperCase()+" key instead");var p=g.createSign(t[1]);p.update(i);var u=p.sign();if(!HASH_ALGOS[u.hashAlgorithm])throw new InvalidAlgorithmError(u.hashAlgorithm.toUpperCase()+" is not a supported hash algorithm");e.algorithm=g.type+"-"+u.hashAlgorithm,n=u.toString(),assert.notStrictEqual(n,"","empty signature produced")}return r.setHeader("Authorization",sprintf(AUTHZ_FMT,e.keyId,e.algorithm,e.headers.join(" "),n)),!0}};
}).call(this,{"isBuffer":require("../../../../../../../../is-buffer/index.js")})

},{"../../../../../../../../is-buffer/index.js":99,"./utils":308,"assert-plus":310,"crypto":52,"http":92,"jsprim":311,"sshpk":327,"util":594}],308:[function(require,module,exports){
function HttpSignatureError(r,t){Error.captureStackTrace&&Error.captureStackTrace(this,t||HttpSignatureError),this.message=r,this.name=t.name}function InvalidAlgorithmError(r){HttpSignatureError.call(this,r,InvalidAlgorithmError)}function validateAlgorithm(r){var t=r.toLowerCase().split("-");if(2!==t.length)throw new InvalidAlgorithmError(t[0].toUpperCase()+" is not a valid algorithm");if("hmac"!==t[0]&&!PK_ALGOS[t[0]])throw new InvalidAlgorithmError(t[0].toUpperCase()+" type keys are not supported");if(!HASH_ALGOS[t[1]])throw new InvalidAlgorithmError(t[1].toUpperCase()+" is not a supported hash algorithm");return t}var assert=require("assert-plus"),sshpk=require("sshpk"),util=require("util"),HASH_ALGOS={sha1:!0,sha256:!0,sha512:!0},PK_ALGOS={rsa:!0,dsa:!0,ecdsa:!0};util.inherits(HttpSignatureError,Error),util.inherits(InvalidAlgorithmError,HttpSignatureError),module.exports={HASH_ALGOS:HASH_ALGOS,PK_ALGOS:PK_ALGOS,HttpSignatureError:HttpSignatureError,InvalidAlgorithmError:InvalidAlgorithmError,validateAlgorithm:validateAlgorithm,sshKeyToPEM:function(r){assert.string(r,"ssh_key");var t=sshpk.parseKey(r,"ssh");return t.toString("pem")},fingerprint:function(r){assert.string(r,"ssh_key");var t=sshpk.parseKey(r,"ssh");return t.fingerprint("md5").toString("hex")},pemToRsaSSHKey:function(r,t){assert.equal("string",typeof r,"typeof pem");var e=sshpk.parseKey(r,"pem");return e.comment=t,e.toString("ssh")}};
},{"assert-plus":310,"sshpk":327,"util":594}],309:[function(require,module,exports){
(function (Buffer){
var assert=require("assert-plus"),crypto=require("crypto"),sshpk=require("sshpk"),utils=require("./utils"),HASH_ALGOS=utils.HASH_ALGOS,PK_ALGOS=utils.PK_ALGOS,InvalidAlgorithmError=utils.InvalidAlgorithmError,HttpSignatureError=utils.HttpSignatureError,validateAlgorithm=utils.validateAlgorithm;module.exports={verifySignature:function(r,e){assert.object(r,"parsedSignature"),("string"==typeof e||Buffer.isBuffer(e))&&(e=sshpk.parseKey(e)),assert.ok(sshpk.Key.isKey(e,[1,1]),"pubkey must be a sshpk.Key");var t=validateAlgorithm(r.algorithm);if("hmac"===t[0]||t[0]!==e.type)return!1;var a=e.createVerify(t[1]);return a.update(r.signingString),a.verify(r.params.signature,"base64")},verifyHMAC:function(r,e){assert.object(r,"parsedHMAC"),assert.string(e,"secret");var t=validateAlgorithm(r.algorithm);if("hmac"!==t[0])return!1;var a=t[1].toUpperCase(),i=crypto.createHmac(a,e);i.update(r.signingString);var s=crypto.createHmac(a,e);s.update(i.digest()),s=s.digest();var u=crypto.createHmac(a,e);return u.update(new Buffer(r.params.signature,"base64")),u=u.digest(),"string"==typeof s?s===u:Buffer.isBuffer(s)&&!s.equals?s.toString("binary")===u.toString("binary"):s.equals(u)}};
}).call(this,require("buffer").Buffer)

},{"./utils":308,"assert-plus":310,"buffer":42,"crypto":52,"sshpk":327}],310:[function(require,module,exports){
(function (Buffer,process){
function capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}function uncapitalize(e){return e.charAt(0).toLowerCase()+e.slice(1)}function _(){return util.format.apply(util,arguments)}function _assert(e,r,t,a){if(!NDEBUG){t=t||r,a=a||_assert.caller;var n=typeof e;if(n!==r)throw new assert.AssertionError({message:_(TYPE_REQUIRED,t,r),actual:n,expected:r,operator:"===",stackStartFunction:a})}}function _instanceof(e,r,t,a){if(!(NDEBUG||(t=t||r,a=a||_instanceof.caller,e instanceof r)))throw new assert.AssertionError({message:_(TYPE_REQUIRED,t,r.name),actual:_getClass(e),expected:r.name,operator:"instanceof",stackStartFunction:a})}function _getClass(e){return Object.prototype.toString.call(e).slice(8,-1)}function array(e,r,t){if(!NDEBUG){if(t=t||r,!Array.isArray(e))throw new assert.AssertionError({message:_(ARRAY_TYPE_REQUIRED,t,r),actual:typeof e,expected:"array",operator:"Array.isArray",stackStartFunction:array.caller});for(var a=0;a<e.length;a++)_assert(e[a],r,t,array)}}function bool(e,r){_assert(e,"boolean",r,bool)}function buffer(e,r){if(!Buffer.isBuffer(e))throw new assert.AssertionError({message:_(TYPE_REQUIRED,r||"","Buffer"),actual:typeof e,expected:"buffer",operator:"Buffer.isBuffer",stackStartFunction:buffer})}function func(e,r){_assert(e,"function",r)}function number(e,r){if(_assert(e,"number",r),!NDEBUG&&(isNaN(e)||!isFinite(e)))throw new assert.AssertionError({message:_(TYPE_REQUIRED,r,"number"),actual:e,expected:"number",operator:"isNaN",stackStartFunction:number})}function object(e,r){_assert(e,"object",r)}function stream(e,r){_instanceof(e,Stream,r)}function date(e,r){_instanceof(e,Date,r)}function regexp(e,r){_instanceof(e,RegExp,r)}function string(e,r){_assert(e,"string",r)}function uuid(e,r){if(string(e,r),!NDEBUG&&!UUID_REGEXP.test(e))throw new assert.AssertionError({message:_(TYPE_REQUIRED,r,"uuid"),actual:"string",expected:"uuid",operator:"test",stackStartFunction:uuid})}var assert=require("assert"),Stream=require("stream").Stream,util=require("util"),NDEBUG=process.env.NODE_NDEBUG||!1,UUID_REGEXP=/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/,ARRAY_TYPE_REQUIRED="%s ([%s]) required",TYPE_REQUIRED="%s (%s) is required";module.exports={bool:bool,buffer:buffer,date:date,func:func,number:number,object:object,regexp:regexp,stream:stream,string:string,uuid:uuid},Object.keys(module.exports).forEach(function(e){if("buffer"!==e){var r="arrayOf"+capitalize(e);"bool"===e&&(e="boolean"),"func"===e&&(e="function"),module.exports[r]=function(r,t){array(r,e,t)}}}),Object.keys(module.exports).forEach(function(e){var r="optional"+capitalize(e),t=uncapitalize(e.replace("arrayOf",""));"bool"===t&&(t="boolean"),"func"===t&&(t="function"),-1!==e.indexOf("arrayOf")?module.exports[r]=function(e,r){NDEBUG||void 0===e||array(e,t,r)}:module.exports[r]=function(e,r){NDEBUG||void 0===e||_assert(e,t,r)}}),Object.keys(assert).forEach(function(e){return"AssertionError"===e?void(module.exports[e]=assert[e]):void(module.exports[e]=function(){NDEBUG||assert[e].apply(assert[e],arguments)})});
}).call(this,{"isBuffer":require("../../../../../../../../../is-buffer/index.js")},require('_process'))

},{"../../../../../../../../../is-buffer/index.js":99,"_process":425,"assert":2,"stream":573,"util":594}],311:[function(require,module,exports){
function deepCopy(e){var t,r,o="__deepCopy";if(e&&e[o])throw new Error("attempted deep copy of cyclic object");if(e&&e.constructor==Object){t={},e[o]=!0;for(r in e)r!=o&&(t[r]=deepCopy(e[r]));return delete e[o],t}if(e&&e.constructor==Array){for(t=[],e[o]=!0,r=0;r<e.length;r++)t.push(deepCopy(e[r]));return delete e[o],t}return e}function deepEqual(e,t){if(typeof e!=typeof t)return!1;if(null===e||null===t||"object"!=typeof e)return e===t;if(e.constructor!=t.constructor)return!1;var r;for(r in e){if(!t.hasOwnProperty(r))return!1;if(!deepEqual(e[r],t[r]))return!1}for(r in t)if(!e.hasOwnProperty(r))return!1;return!0}function isEmpty(e){var t;for(t in e)return!1;return!0}function forEachKey(e,t){for(var r in e)t(r,e[r])}function pluck(e,t){return mod_assert.equal(typeof t,"string"),pluckv(e,t)}function pluckv(e,t){if(null!==e&&"object"==typeof e){if(e.hasOwnProperty(t))return e[t];var r=t.indexOf(".");if(-1!=r){var o=t.substr(0,r);if(e.hasOwnProperty(o))return pluckv(e[o],t.substr(r+1))}}}function flattenIter(e,t,r){doFlattenIter(e,t,[],r)}function doFlattenIter(e,t,r,o){var n,s;if(0===t)return n=r.slice(0),n.push(e),void o(n);mod_assert.ok(null!==e),mod_assert.equal(typeof e,"object"),mod_assert.equal(typeof t,"number"),mod_assert.ok(t>=0);for(s in e)n=r.slice(0),n.push(s),doFlattenIter(e[s],t-1,n,o)}function flattenObject(e,t){if(0===t)return[e];mod_assert.ok(null!==e),mod_assert.equal(typeof e,"object"),mod_assert.equal(typeof t,"number"),mod_assert.ok(t>=0);var r,o=[];for(r in e)flattenObject(e[r],t-1).forEach(function(e){o.push([r].concat(e))});return o}function startsWith(e,t){return e.substr(0,t.length)==t}function endsWith(e,t){return e.substr(e.length-t.length,t.length)==t}function iso8601(e){return"number"==typeof e&&(e=new Date(e)),mod_assert.ok(e.constructor===Date),mod_extsprintf.sprintf("%4d-%02d-%02dT%02d:%02d:%02d.%03dZ",e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function rfc1123(e){return mod_extsprintf.sprintf("%s, %02d %s %04d %02d:%02d:%02d GMT",RFC1123_DAYS[e.getUTCDay()],e.getUTCDate(),RFC1123_MONTHS[e.getUTCMonth()],e.getUTCFullYear(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}function parseDateTime(e){var t=+e;return isNaN(t)?new Date(e):new Date(t)}function validateJsonObjectJS(e,t){var r=mod_jsonschema.validate(t,e);if(0===r.errors.length)return null;var o,n,s=r.errors[0],i=s.property,a=s.message.toLowerCase();-1!=(o=a.indexOf("the property "))&&-1!=(n=a.indexOf(" is not defined in the schema and the schema does not allow additional properties"))&&(o+="the property ".length,i=""===i?a.substr(o,n-o):i+"."+a.substr(o,n-o),a="unsupported property");var u=new mod_verror.VError('property "%s": %s',i,a);return u.jsv_details=s,u}function randElt(e){return mod_assert.ok(Array.isArray(e)&&e.length>0,"randElt argument must be a non-empty array"),e[Math.floor(Math.random()*e.length)]}function assertHrtime(e){mod_assert.ok(e[0]>=0&&e[1]>=0,"negative numbers not allowed in hrtimes"),mod_assert.ok(e[1]<1e9,"nanoseconds column overflow")}function hrtimeDiff(e,t){assertHrtime(e),assertHrtime(t),mod_assert.ok(e[0]>t[0]||e[0]==t[0]&&e[1]>=t[1],"negative differences not allowed");var r=[e[0]-t[0],0];return e[1]>=t[1]?r[1]=e[1]-t[1]:(r[0]--,r[1]=1e9-(t[1]-e[1])),r}function hrtimeNanosec(e){return assertHrtime(e),Math.floor(1e9*e[0]+e[1])}function hrtimeMicrosec(e){return assertHrtime(e),Math.floor(1e6*e[0]+e[1]/1e3)}function hrtimeMillisec(e){return assertHrtime(e),Math.floor(1e3*e[0]+e[1]/1e6)}function hrtimeAccum(e,t){return assertHrtime(e),assertHrtime(t),e[1]+=t[1],e[1]>=1e9&&(e[0]++,e[1]-=1e9),e[0]+=t[0],e}function hrtimeAdd(e,t){assertHrtime(e);var r=[e[0],e[1]];return hrtimeAccum(r,t)}function extraProperties(e,t){mod_assert.ok("object"==typeof e&&null!==e,"obj argument must be a non-null object"),mod_assert.ok(Array.isArray(t),"allowed argument must be an array of strings");for(var r=0;r<t.length;r++)mod_assert.ok("string"==typeof t[r],"allowed argument must be an array of strings");return Object.keys(e).filter(function(e){return-1===t.indexOf(e)})}function mergeObjects(e,t,r){var o,n;if(o={},r)for(n in r)o[n]=r[n];if(e)for(n in e)o[n]=e[n];if(t)for(n in t)o[n]=t[n];return o}var mod_assert=require("assert"),mod_util=require("util"),mod_extsprintf=require("extsprintf"),mod_verror=require("verror"),mod_jsonschema=require("json-schema");exports.deepCopy=deepCopy,exports.deepEqual=deepEqual,exports.isEmpty=isEmpty,exports.forEachKey=forEachKey,exports.pluck=pluck,exports.flattenObject=flattenObject,exports.flattenIter=flattenIter,exports.validateJsonObject=validateJsonObjectJS,exports.validateJsonObjectJS=validateJsonObjectJS,exports.randElt=randElt,exports.extraProperties=extraProperties,exports.mergeObjects=mergeObjects,exports.startsWith=startsWith,exports.endsWith=endsWith,exports.iso8601=iso8601,exports.rfc1123=rfc1123,exports.parseDateTime=parseDateTime,exports.hrtimediff=hrtimeDiff,exports.hrtimeDiff=hrtimeDiff,exports.hrtimeAccum=hrtimeAccum,exports.hrtimeAdd=hrtimeAdd,exports.hrtimeNanosec=hrtimeNanosec,exports.hrtimeMicrosec=hrtimeMicrosec,exports.hrtimeMillisec=hrtimeMillisec;var RFC1123_MONTHS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],RFC1123_DAYS=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];
},{"assert":2,"extsprintf":312,"json-schema":313,"util":594,"verror":314}],312:[function(require,module,exports){
function jsSprintf(r){var t,e,n,o,a,i,s,u,c,f=["([^%]*)","%","(['\\-+ #0]*?)","([1-9]\\d*)?","(\\.([1-9]\\d*))?","[lhjztL]*?","([diouxXfFeEgGaAcCsSp%jr])"].join(""),p=new RegExp(f),d=Array.prototype.slice.call(arguments,1),l="",h=1;for(mod_assert.equal("string",typeof r);null!==(c=p.exec(r));)if(l+=c[1],r=r.substring(c[0].length),t=c[2]||"",e=c[3]||0,n=c[4]||"",o=c[6],a=!1,s=!1,i=" ","%"!=o){if(0===d.length)throw new Error("too few args to sprintf");if(u=d.shift(),h++,t.match(/[\' #]/))throw new Error("unsupported flags: "+t);if(n.length>0)throw new Error("non-zero precision not supported");switch(t.match(/-/)&&(a=!0),t.match(/0/)&&(i="0"),t.match(/\+/)&&(s=!0),o){case"s":if(void 0===u||null===u)throw new Error("argument "+h+": attempted to print undefined or null as a string");l+=doPad(i,e,a,u.toString());break;case"d":u=Math.floor(u);case"f":s=s&&u>0?"+":"",l+=s+doPad(i,e,a,u.toString());break;case"j":0===e&&(e=10),l+=mod_util.inspect(u,!1,e);break;case"r":l+=dumpException(u);break;default:throw new Error("unsupported conversion: "+o)}}else l+="%";return l+=r}function doPad(r,t,e,n){for(var o=n;o.length<t;)e?o+=r:o=r+o;return o}function dumpException(r){var t;if(!(r instanceof Error))throw new Error(jsSprintf("invalid type for %%r: %j",r));if(t="EXCEPTION: "+r.constructor.name+": "+r.stack,r.cause&&"function"==typeof r.cause){var e=r.cause();e&&(t+="\nCaused by: "+dumpException(e))}return t}var mod_assert=require("assert"),mod_util=require("util");exports.sprintf=jsSprintf;
},{"assert":2,"util":594}],313:[function(require,module,exports){
({define:"undefined"!=typeof define?define:function(e,t){module.exports=t()}}).define([],function(){function e(t,n){return e(t,n,{changing:!1})}var t=e;t.Integer={type:"integer"};var n={String:String,Boolean:Boolean,Number:Number,Object:Object,Array:Array,Date:Date};t.validate=e,t.checkPropertyChange=function(t,n,r){return e(t,n,{changing:r||"property"})};var e=t._validate=function(e,t,r){function a(e){return e.type||n[e.name]==e&&e.name.toLowerCase()}function i(e,t,n,f){function c(e){s.push({property:n,message:e})}function u(e,t){if(e){if(!("string"!=typeof e||"any"==e||("null"==e?null===t:typeof t==e)||t instanceof Array&&"array"==e||t instanceof Date&&"date"==e||"integer"==e&&t%1===0))return[{property:n,message:typeof t+" value found, but a "+e+" is required"}];if(e instanceof Array){for(var r=[],a=0;a<e.length&&(r=u(e[a],t)).length;a++);if(r.length)return r}else if("object"==typeof e){var o=s;s=[],i(t,e,n);var m=s;return s=o,m}}return[]}var p;if(n+=n?"number"==typeof f?"["+f+"]":"undefined"==typeof f?"":"."+f:f,("object"!=typeof t||t instanceof Array)&&(n||"function"!=typeof t)&&(!t||!a(t)))return"function"==typeof t?e instanceof t||c("is not an instance of the class/constructor "+t.name):t&&c("Invalid schema/property definition "+t),null;if(m&&t.readonly&&c("is a readonly field, it can not be changed"),t["extends"]&&i(e,t["extends"],n,f),void 0===e)t.required&&c("is missing and it is required");else if(s=s.concat(u(a(t),e)),t.disallow&&!u(t.disallow,e).length&&c(" disallowed value was matched"),null!==e){if(e instanceof Array){if(t.items){var l=t.items instanceof Array,h=t.items;for(f=0,p=e.length;p>f;f+=1)l&&(h=t.items[f]),r.coerce&&(e[f]=r.coerce(e[f],h)),s.concat(i(e[f],h,n,f))}t.minItems&&e.length<t.minItems&&c("There must be a minimum of "+t.minItems+" in the array"),t.maxItems&&e.length>t.maxItems&&c("There must be a maximum of "+t.maxItems+" in the array")}else(t.properties||t.additionalProperties)&&s.concat(o(e,t.properties,n,t.additionalProperties));if(t.pattern&&"string"==typeof e&&!e.match(t.pattern)&&c("does not match the regex pattern "+t.pattern),t.maxLength&&"string"==typeof e&&e.length>t.maxLength&&c("may only be "+t.maxLength+" characters long"),t.minLength&&"string"==typeof e&&e.length<t.minLength&&c("must be at least "+t.minLength+" characters long"),void 0!==typeof t.minimum&&typeof e==typeof t.minimum&&t.minimum>e&&c("must have a minimum value of "+t.minimum),void 0!==typeof t.maximum&&typeof e==typeof t.maximum&&t.maximum<e&&c("must have a maximum value of "+t.maximum),t["enum"]){var y=t["enum"];p=y.length;for(var d,g=0;p>g;g++)if(y[g]===e){d=1;break}d||c("does not have a value in the enumeration "+y.join(", "))}"number"==typeof t.maxDecimal&&e.toString().match(new RegExp("\\.[0-9]{"+(t.maxDecimal+1)+",}"))&&c("may only have "+t.maxDecimal+" digits of decimal places")}return null}function o(e,t,n,a){if("object"==typeof t){("object"!=typeof e||e instanceof Array)&&s.push({property:n,message:"an object is required"});for(var o in t)if(t.hasOwnProperty(o)){var f=e[o];if(void 0===f&&r.existingOnly)continue;var c=t[o];void 0===f&&c["default"]&&(f=e[o]=c["default"]),r.coerce&&o in e&&(f=e[o]=r.coerce(f,c)),i(f,c,n,o)}}for(o in e){if(e.hasOwnProperty(o)&&("_"!=o.charAt(0)||"_"!=o.charAt(1))&&t&&!t[o]&&a===!1){if(r.filter){delete e[o];continue}s.push({property:n,message:typeof f+"The property "+o+" is not defined in the schema and the schema does not allow additional properties"})}var u=t&&t[o]&&t[o].requires;!u||u in e||s.push({property:n,message:"the presence of the property "+o+" requires that "+u+" also be present"}),f=e[o],!a||t&&"object"==typeof t&&o in t||(r.coerce&&(f=e[o]=r.coerce(f,a)),i(f,a,n,o)),!m&&f&&f.$schema&&(s=s.concat(i(f,f.$schema,n,o)))}return s}r||(r={});var m=r.changing,s=[];return t&&i(e,t,"",m||""),!m&&e&&e.$schema&&i(e,e.$schema,"",""),{valid:!s.length,errors:s}};return t.mustBeValid=function(e){if(!e.valid)throw new TypeError(e.errors.map(function(e){return"for property "+e.property+": "+e.message}).join(", \n"))},t});
},{}],314:[function(require,module,exports){
function VError(r){var t,s,e,o;r instanceof Error||"object"==typeof r?t=Array.prototype.slice.call(arguments,1):(t=Array.prototype.slice.call(arguments,0),r=void 0),o=t.length>0?mod_extsprintf.sprintf.apply(null,t):"",this.jse_shortmsg=o,this.jse_summary=o,r&&(s=r.cause,s&&r.cause instanceof Error||(s=r),s&&s instanceof Error&&(this.jse_cause=s,this.jse_summary+=": "+s.message)),this.message=this.jse_summary,Error.call(this,this.jse_summary),Error.captureStackTrace&&(e=r?r.constructorOpt:void 0,e=e||arguments.callee,Error.captureStackTrace(this,e))}function MultiError(r){mod_assert.ok(r.length>0),this.ase_errors=r,VError.call(this,r[0],"first of %d error%s",r.length,1==r.length?"":"s")}function WError(r){Error.call(this);var t,s,e;"object"==typeof r?t=Array.prototype.slice.call(arguments,1):(t=Array.prototype.slice.call(arguments,0),r=void 0),t.length>0?this.message=mod_extsprintf.sprintf.apply(null,t):this.message="",r&&(r instanceof Error?s=r:(s=r.cause,e=r.constructorOpt)),Error.captureStackTrace(this,e||this.constructor),s&&this.cause(s)}var mod_assert=require("assert"),mod_util=require("util"),mod_extsprintf=require("extsprintf");exports.VError=VError,exports.WError=WError,exports.MultiError=MultiError,mod_util.inherits(VError,Error),VError.prototype.name="VError",VError.prototype.toString=function(){var r=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(r+=": "+this.message),r},VError.prototype.cause=function(){return this.jse_cause},mod_util.inherits(MultiError,VError),mod_util.inherits(WError,Error),WError.prototype.name="WError",WError.prototype.toString=function(){var r=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(r+=": "+this.message),this.we_cause&&this.we_cause.message&&(r+="; caused by "+this.we_cause.toString()),r},WError.prototype.cause=function(r){return r instanceof Error&&(this.we_cause=r),this.we_cause};
},{"assert":2,"extsprintf":312,"util":594}],315:[function(require,module,exports){
(function (Buffer){
var algInfo={dsa:{parts:["p","q","g","y"],sizePart:"p"},rsa:{parts:["e","n"],sizePart:"n"},ecdsa:{parts:["curve","Q"],sizePart:"Q"},ed25519:{parts:["R"],normalize:!1,sizePart:"R"}};algInfo.curve25519=algInfo.ed25519;var algPrivInfo={dsa:{parts:["p","q","g","y","x"]},rsa:{parts:["n","e","d","iqmp","p","q"]},ecdsa:{parts:["curve","Q","d"]},ed25519:{parts:["R","r"],normalize:!1}};algPrivInfo.curve25519=algPrivInfo.ed25519;var hashAlgs={md5:!0,sha1:!0,sha256:!0,sha384:!0,sha512:!0},curves={nistp256:{size:256,pkcs8oid:"1.2.840.10045.3.1.7",p:new Buffer("00ffffffff 00000001 00000000 0000000000000000 ffffffff ffffffff ffffffff".replace(/ /g,""),"hex"),a:new Buffer("00FFFFFFFF 00000001 00000000 0000000000000000 FFFFFFFF FFFFFFFF FFFFFFFC".replace(/ /g,""),"hex"),b:new Buffer("5ac635d8 aa3a93e7 b3ebbd55 769886bc651d06b0 cc53b0f6 3bce3c3e 27d2604b".replace(/ /g,""),"hex"),s:new Buffer("00c49d3608 86e70493 6a6678e1 139d26b7819f7e90".replace(/ /g,""),"hex"),n:new Buffer("00ffffffff 00000000 ffffffff ffffffffbce6faad a7179e84 f3b9cac2 fc632551".replace(/ /g,""),"hex"),G:new Buffer("046b17d1f2 e12c4247 f8bce6e5 63a440f277037d81 2deb33a0 f4a13945 d898c2964fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e162bce3357 6b315ece cbb64068 37bf51f5".replace(/ /g,""),"hex")},nistp384:{size:384,pkcs8oid:"1.3.132.0.34",p:new Buffer("00ffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffffeffffffff 00000000 00000000 ffffffff".replace(/ /g,""),"hex"),a:new Buffer("00FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFEFFFFFFFF 00000000 00000000 FFFFFFFC".replace(/ /g,""),"hex"),b:new Buffer("b3312fa7 e23ee7e4 988e056b e3f82d19181d9c6e fe814112 0314088f 5013875ac656398d 8a2ed19d 2a85c8ed d3ec2aef".replace(/ /g,""),"hex"),s:new Buffer("00a335926a a319a27a 1d00896a 6773a4827acdac73".replace(/ /g,""),"hex"),n:new Buffer("00ffffffff ffffffff ffffffff ffffffffffffffff ffffffff c7634d81 f4372ddf581a0db2 48b0a77a ecec196a ccc52973".replace(/ /g,""),"hex"),G:new Buffer("04aa87ca22 be8b0537 8eb1c71e f320ad746e1d3b62 8ba79b98 59f741e0 82542a385502f25d bf55296c 3a545e38 72760ab73617de4a 96262c6f 5d9e98bf 9292dc29f8f41dbd 289a147c e9da3113 b5f0b8c00a60b1ce 1d7e819d 7a431d7c 90ea0e5f".replace(/ /g,""),"hex")},nistp521:{size:521,pkcs8oid:"1.3.132.0.35",p:new Buffer("01ffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffff".replace(/ /g,""),"hex"),a:new Buffer("01FFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFC".replace(/ /g,""),"hex"),b:new Buffer("51953eb961 8e1c9a1f 929a21a0 b68540eea2da725b 99b315f3 b8b48991 8ef109e156193951 ec7e937b 1652c0bd 3bb1bf073573df88 3d2c34f1 ef451fd4 6b503f00".replace(/ /g,""),"hex"),s:new Buffer("00d09e8800 291cb853 96cc6717 393284aaa0da64ba".replace(/ /g,""),"hex"),n:new Buffer("01ffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffffa51868783 bf2f966b 7fcc0148 f709a5d03bb5c9b8 899c47ae bb6fb71e 91386409".replace(/ /g,""),"hex"),G:new Buffer("0400c6 858e06b7 0404e9cd 9e3ecb66 2395b4429c648139 053fb521 f828af60 6b4d3dbaa14b5e77 efe75928 fe1dc127 a2ffa8de3348b3c1 856a429b f97e7e31 c2e5bd660118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd998f54449 579b4468 17afbd17 273e662c97ee7299 5ef42640 c550b901 3fad0761353c7086 a272c240 88be9476 9fd16650".replace(/ /g,""),"hex")}};module.exports={info:algInfo,privInfo:algPrivInfo,hashAlgs:hashAlgs,curves:curves};
}).call(this,require("buffer").Buffer)

},{"buffer":42}],316:[function(require,module,exports){
(function (Buffer){
function DiffieHellman(e){if(utils.assertCompatible(e,Key,[1,4],"key"),this._isPriv=PrivateKey.isPrivateKey(e,[1,3]),this._algo=e.type,this._curve=e.curve,this._key=e,"dsa"===e.type){if(!CRYPTO_HAVE_ECDH)throw new Error("Due to bugs in the node 0.10 crypto API, node 0.12.x or later is required to use DH");this._dh=crypto.createDiffieHellman(e.part.p.data,void 0,e.part.g.data,void 0),this._p=e.part.p,this._g=e.part.g,this._isPriv&&this._dh.setPrivateKey(e.part.x.data),this._dh.setPublicKey(e.part.y.data)}else if("ecdsa"===e.type){if(!CRYPTO_HAVE_ECDH)return void 0===ecdh&&(ecdh=require("ecc-jsbn")),void 0===ec&&(ec=require("ecc-jsbn/lib/ec")),void 0===jsbn&&(jsbn=require("jsbn").BigInteger),this._ecParams=new X9ECParameters(this._curve),void(this._isPriv&&(this._priv=new ECPrivate(this._ecParams,e.part.d.data)));var t={nistp256:"prime256v1",nistp384:"secp384r1",nistp521:"secp521r1"}[e.curve];if(this._dh=crypto.createECDH(t),"object"!=typeof this._dh||"function"!=typeof this._dh.setPrivateKey)return CRYPTO_HAVE_ECDH=!1,void DiffieHellman.call(this,e);this._isPriv&&this._dh.setPrivateKey(e.part.d.data),this._dh.setPublicKey(e.part.Q.data)}else{if("curve25519"!==e.type)throw new Error("DH not supported for "+e.type+" keys");void 0===ed&&(ed=require("jodid25519")),this._isPriv&&(this._priv=e.part.r.data,0===this._priv[0]&&(this._priv=this._priv.slice(1)),this._priv=this._priv.slice(0,32))}}function X9ECParameters(e){var t=algs.curves[e];assert.object(t);var i=new jsbn(t.p),r=new jsbn(t.a),a=new jsbn(t.b),s=new jsbn(t.n),h=jsbn.ONE,n=new ec.ECCurveFp(i,r,a),p=n.decodePointHex(t.G.toString("hex"));this.curve=n,this.g=p,this.n=s,this.h=h}function ECPublic(e,t){this._params=e,0===t[0]&&(t=t.slice(1)),this._pub=e.getCurve().decodePointHex(t.toString("hex"))}function ECPrivate(e,t){this._params=e,this._priv=new jsbn(utils.mpNormalize(t))}module.exports=DiffieHellman;var assert=require("assert-plus"),crypto=require("crypto"),algs=require("./algs"),utils=require("./utils"),ed,Key=require("./key"),PrivateKey=require("./private-key"),CRYPTO_HAVE_ECDH=void 0!==crypto.createECDH,ecdh,ec,jsbn;DiffieHellman.prototype.getPublicKey=function(){return this._isPriv?this._key.toPublic():this._key},DiffieHellman.prototype.getPrivateKey=function(){return this._isPriv?this._key:void 0},DiffieHellman.prototype.getKey=DiffieHellman.prototype.getPrivateKey,DiffieHellman.prototype._keyCheck=function(e,t){if(assert.object(e,"key"),t||utils.assertCompatible(e,PrivateKey,[1,3],"key"),utils.assertCompatible(e,Key,[1,4],"key"),e.type!==this._algo)throw new Error("A "+e.type+" key cannot be used in "+this._algo+" Diffie-Hellman");if(e.curve!==this._curve)throw new Error("A key from the "+e.curve+" curve cannot be used with a "+this._curve+" Diffie-Hellman");"dsa"===e.type&&(assert.deepEqual(e.part.p,this._p,"DSA key prime does not match"),assert.deepEqual(e.part.g,this._g,"DSA key generator does not match"))},DiffieHellman.prototype.setKey=function(e){this._keyCheck(e),"dsa"===e.type?(this._dh.setPrivateKey(e.part.x.data),this._dh.setPublicKey(e.part.y.data)):"ecdsa"===e.type?CRYPTO_HAVE_ECDH?(this._dh.setPrivateKey(e.part.d.data),this._dh.setPublicKey(e.part.Q.data)):this._priv=new ECPrivate(this._ecParams,e.part.d.data):"curve25519"===e.type&&(this._priv=e.part.r.data,0===this._priv[0]&&(this._priv=this._priv.slice(1)),this._priv=this._priv.slice(0,32)),this._key=e,this._isPriv=!0},DiffieHellman.prototype.setPrivateKey=DiffieHellman.prototype.setKey,DiffieHellman.prototype.computeSecret=function(e){if(this._keyCheck(e,!0),!this._isPriv)throw new Error("DH exchange has not been initialized with a private key yet");var t;if("dsa"===this._algo)return this._dh.computeSecret(e.part.y.data);if("ecdsa"===this._algo)return CRYPTO_HAVE_ECDH?this._dh.computeSecret(e.part.Q.data):(t=new ECPublic(this._ecParams,e.part.Q.data),this._priv.deriveSharedSecret(t));if("curve25519"===this._algo){t=e.part.R.data,0===t[0]&&(t=t.slice(1));var i=ed.dh.computeKey(this._priv.toString("binary"),t.toString("binary"));return new Buffer(i,"binary")}throw new Error("Invalid algorithm: "+this._algo)},DiffieHellman.prototype.generateKey=function(){var e,t,i=[];if("dsa"===this._algo)return this._dh.generateKeys(),i.push({name:"p",data:this._p.data}),i.push({name:"q",data:this._key.part.q.data}),i.push({name:"g",data:this._g.data}),i.push({name:"y",data:this._dh.getPublicKey()}),i.push({name:"x",data:this._dh.getPrivateKey()}),this._key=new PrivateKey({type:"dsa",parts:i}),this._isPriv=!0,this._key;if("ecdsa"===this._algo){if(CRYPTO_HAVE_ECDH)return this._dh.generateKeys(),i.push({name:"curve",data:new Buffer(this._curve)}),i.push({name:"Q",data:this._dh.getPublicKey()}),i.push({name:"d",data:this._dh.getPrivateKey()}),this._key=new PrivateKey({type:"ecdsa",curve:this._curve,parts:i}),this._isPriv=!0,this._key;var r=this._ecParams.getN(),a=new jsbn(crypto.randomBytes(r.bitLength())),s=r.subtract(jsbn.ONE);return e=a.mod(s).add(jsbn.ONE),t=this._ecParams.getG().multiply(e),e=new Buffer(e.toByteArray()),t=new Buffer(this._ecParams.getCurve().encodePointHex(t),"hex"),this._priv=new ECPrivate(this._ecParams,e),i.push({name:"curve",data:new Buffer(this._curve)}),i.push({name:"Q",data:t}),i.push({name:"d",data:e}),this._key=new PrivateKey({type:"ecdsa",curve:this._curve,parts:i}),this._isPriv=!0,this._key}if("curve25519"===this._algo)return e=ed.dh.generateKey(),t=ed.dh.publicKey(e),this._priv=e=new Buffer(e,"binary"),t=new Buffer(t,"binary"),i.push({name:"R",data:t}),i.push({name:"r",data:Buffer.concat([e,t])}),this._key=new PrivateKey({type:"curve25519",parts:i}),this._isPriv=!0,this._key;throw new Error("Invalid algorithm: "+this._algo)},DiffieHellman.prototype.generateKeys=DiffieHellman.prototype.generateKey,X9ECParameters.prototype.getCurve=function(){return this.curve},X9ECParameters.prototype.getG=function(){return this.g},X9ECParameters.prototype.getN=function(){return this.n},X9ECParameters.prototype.getH=function(){return this.h},ECPrivate.prototype.deriveSharedSecret=function(e){assert.ok(e instanceof ECPublic);var t=e._pub.multiply(this._priv);return new Buffer(t.getX().toBigInteger().toByteArray())};
}).call(this,require("buffer").Buffer)

},{"./algs":315,"./key":328,"./private-key":329,"./utils":332,"assert-plus":339,"buffer":42,"crypto":52,"ecc-jsbn":340,"ecc-jsbn/lib/ec":341,"jodid25519":343,"jsbn":349}],317:[function(require,module,exports){
(function (Buffer){
function Verifier(e,r){if(void 0===nacl&&(nacl=require("tweetnacl")),"sha512"!==r.toLowerCase())throw new Error("ED25519 only supports the use of SHA-512 hashes");this.key=e,this.chunks=[],stream.Writable.call(this,{})}function Signer(e,r){if(void 0===nacl&&(nacl=require("tweetnacl")),"sha512"!==r.toLowerCase())throw new Error("ED25519 only supports the use of SHA-512 hashes");this.key=e,this.chunks=[],stream.Writable.call(this,{})}module.exports={Verifier:Verifier,Signer:Signer};var nacl,stream=require("stream"),util=require("util"),assert=require("assert-plus"),Signature=require("./signature");util.inherits(Verifier,stream.Writable),Verifier.prototype._write=function(e,r,t){this.chunks.push(e),t()},Verifier.prototype.update=function(e){"string"==typeof e&&(e=new Buffer(e,"binary")),this.chunks.push(e)},Verifier.prototype.verify=function(e,r){var t;if(Signature.isSignature(e,[2,0])){if("ed25519"!==e.type)return!1;t=e.toBuffer("raw")}else if("string"==typeof e)t=new Buffer(e,"base64");else if(Signature.isSignature(e,[1,0]))throw new Error("signature was created by too old a version of sshpk and cannot be verified");return assert.buffer(t),nacl.sign.detached.verify(new Uint8Array(Buffer.concat(this.chunks)),new Uint8Array(t),new Uint8Array(this.key.part.R.data))},util.inherits(Signer,stream.Writable),Signer.prototype._write=function(e,r,t){this.chunks.push(e),t()},Signer.prototype.update=function(e){"string"==typeof e&&(e=new Buffer(e,"binary")),this.chunks.push(e)},Signer.prototype.sign=function(){var e=nacl.sign.detached(new Uint8Array(Buffer.concat(this.chunks)),new Uint8Array(this.key.part.r.data)),r=new Buffer(e),t=Signature.parse(r,"ed25519","raw");return t.hashAlgorithm="sha512",t};
}).call(this,require("buffer").Buffer)

},{"./signature":330,"assert-plus":339,"buffer":42,"stream":573,"tweetnacl":350,"util":594}],318:[function(require,module,exports){
function FingerprintFormatError(r,t){Error.captureStackTrace&&Error.captureStackTrace(this,FingerprintFormatError),this.name="FingerprintFormatError",this.fingerprint=r,this.format=t,this.message="Fingerprint format is not supported, or is invalid: ",void 0!==r&&(this.message+=" fingerprint = "+r),void 0!==t&&(this.message+=" format = "+t)}function InvalidAlgorithmError(r){Error.captureStackTrace&&Error.captureStackTrace(this,InvalidAlgorithmError),this.name="InvalidAlgorithmError",this.algorithm=r,this.message='Algorithm "'+r+'" is not supported'}function KeyParseError(r,t,e){Error.captureStackTrace&&Error.captureStackTrace(this,KeyParseError),this.name="KeyParseError",this.format=t,this.keyName=r,this.innerErr=e,this.message="Failed to parse "+r+" as a valid "+t+" format key: "+e.message}function SignatureParseError(r,t,e){Error.captureStackTrace&&Error.captureStackTrace(this,SignatureParseError),this.name="SignatureParseError",this.type=r,this.format=t,this.innerErr=e,this.message="Failed to parse the given data as a "+r+" signature in "+t+" format: "+e.message}var assert=require("assert-plus"),util=require("util");util.inherits(FingerprintFormatError,Error),util.inherits(InvalidAlgorithmError,Error),util.inherits(KeyParseError,Error),util.inherits(SignatureParseError,Error),module.exports={FingerprintFormatError:FingerprintFormatError,InvalidAlgorithmError:InvalidAlgorithmError,KeyParseError:KeyParseError,SignatureParseError:SignatureParseError};
},{"assert-plus":339,"util":594}],319:[function(require,module,exports){
(function (Buffer){
function Fingerprint(r){if(assert.object(r,"options"),assert.buffer(r.hash,"options.hash"),assert.string(r.algorithm,"options.algorithm"),this.algorithm=r.algorithm.toLowerCase(),algs.hashAlgs[this.algorithm]!==!0)throw new InvalidAlgorithmError(this.algorithm);this.hash=r.hash}function addColons(r){return r.replace(/(.{2})(?=.)/g,"$1:")}function base64Strip(r){return r.replace(/=*$/,"")}function sshBase64Format(r,t){return r.toUpperCase()+":"+base64Strip(t)}module.exports=Fingerprint;var assert=require("assert-plus"),algs=require("./algs"),crypto=require("crypto"),errs=require("./errors"),Key=require("./key"),utils=require("./utils"),FingerprintFormatError=errs.FingerprintFormatError,InvalidAlgorithmError=errs.InvalidAlgorithmError;Fingerprint.prototype.toString=function(r){switch(void 0===r&&(r="md5"===this.algorithm?"hex":"base64"),assert.string(r),r){case"hex":return addColons(this.hash.toString("hex"));case"base64":return sshBase64Format(this.algorithm,this.hash.toString("base64"));default:throw new FingerprintFormatError(void 0,r)}},Fingerprint.prototype.matches=function(r){assert.object(r,"key"),utils.assertCompatible(r,Key,[1,0],"key");var t=r.hash(this.algorithm),e=crypto.createHash(this.algorithm).update(t).digest("base64");return void 0===this.hash2&&(this.hash2=crypto.createHash(this.algorithm).update(this.hash).digest("base64")),this.hash2===e},Fingerprint.parse=function(r,t){assert.string(r,"fingerprint");var e,i;assert.optionalArrayOfString(t,"algorithms");var s=r.split(":");if(2==s.length){e=s[0].toLowerCase();var o=/^[A-Za-z0-9+\/=]+$/;if(!o.test(s[1]))throw new FingerprintFormatError(r);try{i=new Buffer(s[1],"base64")}catch(n){throw new FingerprintFormatError(r)}}else if(s.length>2){e="md5","md5"===s[0].toLowerCase()&&(s=s.slice(1)),s=s.join("");var a=/^[a-fA-F0-9]+$/;if(!a.test(s))throw new FingerprintFormatError(r);try{i=new Buffer(s,"hex")}catch(n){throw new FingerprintFormatError(r)}}if(void 0===e)throw new FingerprintFormatError(r);if(void 0===algs.hashAlgs[e])throw new InvalidAlgorithmError(e);if(void 0!==t&&(t=t.map(function(r){return r.toLowerCase()}),-1===t.indexOf(e)))throw new InvalidAlgorithmError(e);return new Fingerprint({algorithm:e,hash:i})},Fingerprint.isFingerprint=function(r,t){return utils.isCompatible(r,Fingerprint,t)},Fingerprint.prototype._sshpkApiVersion=[1,1],Fingerprint._oldVersionDetect=function(r){return assert.func(r.toString),assert.func(r.matches),[1,0]};
}).call(this,require("buffer").Buffer)

},{"./algs":315,"./errors":318,"./key":328,"./utils":332,"assert-plus":339,"buffer":42,"crypto":52}],320:[function(require,module,exports){
(function (Buffer){
function read(e){if("string"==typeof e){if(e.trim().match(/^[-]+[ ]*BEGIN/))return pem.read(e);if(e.match(/^\s*ssh-[a-z]/))return ssh.read(e);if(e.match(/^\s*ecdsa-/))return ssh.read(e);e=new Buffer(e,"binary")}else{if(assert.buffer(e),findPEMHeader(e))return pem.read(e);if(findSSHHeader(e))return ssh.read(e)}if(e.readUInt32BE(0)<e.length)return rfc4253.read(e);throw new Error("Failed to auto-detect format of key")}function findSSHHeader(e){for(var r=0;r<e.length&&(32===e[r]||10===e[r]||9===e[r]);)++r;return r+4<=e.length&&"ssh-"===e.slice(r,r+4).toString("ascii")?!0:r+6<=e.length&&"ecdsa-"===e.slice(r,r+6).toString("ascii")?!0:!1}function findPEMHeader(e){for(var r=0;r<e.length&&(32===e[r]||10===e[r]);)++r;if(45!==e[r])return!1;for(;r<e.length&&45===e[r];)++r;for(;r<e.length&&32===e[r];)++r;return r+5>e.length||"BEGIN"!==e.slice(r,r+5).toString("ascii")?!1:!0}function write(e){throw new Error('"auto" format cannot be used for writing')}module.exports={read:read,write:write};var assert=require("assert-plus"),utils=require("../utils"),Key=require("../key"),PrivateKey=require("../private-key"),pem=require("./pem"),ssh=require("./ssh"),rfc4253=require("./rfc4253");
}).call(this,require("buffer").Buffer)

},{"../key":328,"../private-key":329,"../utils":332,"./pem":321,"./rfc4253":324,"./ssh":326,"assert-plus":339,"buffer":42}],321:[function(require,module,exports){
(function (Buffer){
function read(e,r){var s=e;"string"!=typeof e&&(assert.buffer(e,"buf"),e=e.toString("ascii"));var t=e.trim().split("\n"),a=t[0].match(/[-]+[ ]*BEGIN ([A-Z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);assert.ok(a,"invalid PEM header");var i=t[t.length-1].match(/[-]+[ ]*END ([A-Z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);assert.ok(i,"invalid PEM footer"),assert.equal(a[2],i[2]);var c,n=a[2].toLowerCase();a[1]&&(assert.equal(a[1],i[1],"PEM header and footer mismatch"),c=a[1].trim());for(var o={};;){if(t=t.slice(1),a=t[0].match(/^([A-Za-z0-9-]+): (.+)$/),!a)break;o[a[1].toLowerCase()]=a[2]}if(o["proc-type"]){var p=o["proc-type"].split(",");if("4"===p[0]&&"ENCRYPTED"===p[1])throw new Error("PEM key is encrypted (password-protected). Please use the SSH agent or decrypt the key.")}if(t=t.slice(0,-1).join(""),e=new Buffer(t,"base64"),c&&"openssh"===c.toLowerCase())return sshpriv.readSSHPrivate(n,e);if(c&&"ssh2"===c.toLowerCase())return rfc4253.readType(n,e);var u=new asn1.BerReader(e);return u.originalInput=s,u.readSequence(),c?(r&&assert.strictEqual(r,"pkcs1"),pkcs1.readPkcs1(c,n,u)):(r&&assert.strictEqual(r,"pkcs8"),pkcs8.readPkcs8(c,n,u))}function write(e,r){assert.object(e);var s,t={ecdsa:"EC",rsa:"RSA",dsa:"DSA"}[e.type],a=new asn1.BerWriter;if(PrivateKey.isPrivateKey(e))r&&"pkcs8"===r?(s="PRIVATE KEY",pkcs8.writePkcs8(a,e)):(r&&assert.strictEqual(r,"pkcs1"),s=t+" PRIVATE KEY",pkcs1.writePkcs1(a,e));else{if(!Key.isKey(e))throw new Error("key is not a Key or PrivateKey");r&&"pkcs1"===r?(s=t+" PUBLIC KEY",pkcs1.writePkcs1(a,e)):(r&&assert.strictEqual(r,"pkcs8"),s="PUBLIC KEY",pkcs8.writePkcs8(a,e))}var i=a.buffer.toString("base64"),c=i.length+i.length/64+18+16+2*s.length+10,n=new Buffer(c),o=0;o+=n.write("-----BEGIN "+s+"-----\n",o);for(var p=0;p<i.length;){var u=p+64;u>i.length&&(u=i.length),o+=n.write(i.slice(p,u),o),n[o++]=10,p=u}return o+=n.write("-----END "+s+"-----\n",o),n.slice(0,o)}module.exports={read:read,write:write};var assert=require("assert-plus"),asn1=require("asn1"),algs=require("../algs"),utils=require("../utils"),Key=require("../key"),PrivateKey=require("../private-key"),pkcs1=require("./pkcs1"),pkcs8=require("./pkcs8"),sshpriv=require("./ssh-private"),rfc4253=require("./rfc4253");
}).call(this,require("buffer").Buffer)

},{"../algs":315,"../key":328,"../private-key":329,"../utils":332,"./pkcs1":322,"./pkcs8":323,"./rfc4253":324,"./ssh-private":325,"asn1":338,"assert-plus":339,"buffer":42}],322:[function(require,module,exports){
(function (Buffer){
function read(e){return pem.read(e,"pkcs1")}function write(e){return pem.write(e,"pkcs1")}function readMPInt(e,r){return assert.strictEqual(e.peek(),asn1.Ber.Integer,r+" is not an Integer"),utils.mpNormalize(e.readString(asn1.Ber.Integer,!0))}function readPkcs1(e,r,a){switch(e){case"RSA":if("public"===r)return readPkcs1RSAPublic(a);if("private"===r)return readPkcs1RSAPrivate(a);throw new Error("Unknown key type: "+r);case"DSA":if("public"===r)return readPkcs1DSAPublic(a);if("private"===r)return readPkcs1DSAPrivate(a);throw new Error("Unknown key type: "+r);case"EC":case"ECDSA":if("private"===r)return readPkcs1ECDSAPrivate(a);if("public"===r)return readPkcs1ECDSAPublic(a);throw new Error("Unknown key type: "+r);default:throw new Error("Unknown key algo: "+e)}}function readPkcs1RSAPublic(e){var r=readMPInt(e,"modulus"),a=readMPInt(e,"exponent"),t={type:"rsa",parts:[{name:"e",data:a},{name:"n",data:r}]};return new Key(t)}function readPkcs1RSAPrivate(e){var r=readMPInt(e,"version");assert.strictEqual(r[0],0);var a=readMPInt(e,"modulus"),t=readMPInt(e,"public exponent"),n=readMPInt(e,"private exponent"),i=readMPInt(e,"prime1"),s=readMPInt(e,"prime2"),d=readMPInt(e,"exponent1"),u=readMPInt(e,"exponent2"),c=readMPInt(e,"iqmp"),p={type:"rsa",parts:[{name:"n",data:a},{name:"e",data:t},{name:"d",data:n},{name:"iqmp",data:c},{name:"p",data:i},{name:"q",data:s},{name:"dmodp",data:d},{name:"dmodq",data:u}]};return new PrivateKey(p)}function readPkcs1DSAPrivate(e){var r=readMPInt(e,"version");assert.strictEqual(r.readUInt8(0),0);var a=readMPInt(e,"p"),t=readMPInt(e,"q"),n=readMPInt(e,"g"),i=readMPInt(e,"y"),s=readMPInt(e,"x"),d={type:"dsa",parts:[{name:"p",data:a},{name:"q",data:t},{name:"g",data:n},{name:"y",data:i},{name:"x",data:s}]};return new PrivateKey(d)}function readPkcs1DSAPublic(e){var r=readMPInt(e,"y"),a=readMPInt(e,"p"),t=readMPInt(e,"q"),n=readMPInt(e,"g"),i={type:"dsa",parts:[{name:"y",data:r},{name:"p",data:a},{name:"q",data:t},{name:"g",data:n}]};return new Key(i)}function readPkcs1ECDSAPublic(e){e.readSequence();var r=e.readOID();assert.strictEqual(r,"1.2.840.10045.2.1","must be ecPublicKey");for(var a,t=e.readOID(),n=Object.keys(algs.curves),i=0;i<n.length;++i){var s=n[i],d=algs.curves[s];if(d.pkcs8oid===t){a=s;break}}assert.string(a,"a known ECDSA named curve");var u=e.readString(asn1.Ber.BitString,!0);u=utils.ecNormalize(u);var c={type:"ecdsa",parts:[{name:"curve",data:new Buffer(a)},{name:"Q",data:u}]};return new Key(c)}function readPkcs1ECDSAPrivate(e){var r=readMPInt(e,"version");assert.strictEqual(r.readUInt8(0),1);var a=e.readString(asn1.Ber.OctetString,!0);e.readSequence(160);var t=readECDSACurve(e);assert.string(t,"a known elliptic curve"),e.readSequence(161);var n=e.readString(asn1.Ber.BitString,!0);n=utils.ecNormalize(n);var i={type:"ecdsa",parts:[{name:"curve",data:new Buffer(t)},{name:"Q",data:n},{name:"d",data:a}]};return new PrivateKey(i)}function writePkcs1(e,r){switch(e.startSequence(),r.type){case"rsa":PrivateKey.isPrivateKey(r)?writePkcs1RSAPrivate(e,r):writePkcs1RSAPublic(e,r);break;case"dsa":PrivateKey.isPrivateKey(r)?writePkcs1DSAPrivate(e,r):writePkcs1DSAPublic(e,r);break;case"ecdsa":PrivateKey.isPrivateKey(r)?writePkcs1ECDSAPrivate(e,r):writePkcs1ECDSAPublic(e,r);break;default:throw new Error("Unknown key algo: "+r.type)}e.endSequence()}function writePkcs1RSAPublic(e,r){e.writeBuffer(r.part.n.data,asn1.Ber.Integer),e.writeBuffer(r.part.e.data,asn1.Ber.Integer)}function writePkcs1RSAPrivate(e,r){var a=new Buffer(1);a[0]=0,e.writeBuffer(a,asn1.Ber.Integer),e.writeBuffer(r.part.n.data,asn1.Ber.Integer),e.writeBuffer(r.part.e.data,asn1.Ber.Integer),e.writeBuffer(r.part.d.data,asn1.Ber.Integer),e.writeBuffer(r.part.p.data,asn1.Ber.Integer),e.writeBuffer(r.part.q.data,asn1.Ber.Integer),r.part.dmodp&&r.part.dmodq||utils.addRSAMissing(r),e.writeBuffer(r.part.dmodp.data,asn1.Ber.Integer),e.writeBuffer(r.part.dmodq.data,asn1.Ber.Integer),e.writeBuffer(r.part.iqmp.data,asn1.Ber.Integer)}function writePkcs1DSAPrivate(e,r){var a=new Buffer(1);a[0]=0,e.writeBuffer(a,asn1.Ber.Integer),e.writeBuffer(r.part.p.data,asn1.Ber.Integer),e.writeBuffer(r.part.q.data,asn1.Ber.Integer),e.writeBuffer(r.part.g.data,asn1.Ber.Integer),e.writeBuffer(r.part.y.data,asn1.Ber.Integer),e.writeBuffer(r.part.x.data,asn1.Ber.Integer)}function writePkcs1DSAPublic(e,r){e.writeBuffer(r.part.y.data,asn1.Ber.Integer),e.writeBuffer(r.part.p.data,asn1.Ber.Integer),e.writeBuffer(r.part.q.data,asn1.Ber.Integer),e.writeBuffer(r.part.g.data,asn1.Ber.Integer)}function writePkcs1ECDSAPublic(e,r){e.startSequence(),e.writeOID("1.2.840.10045.2.1");var a=r.part.curve.data.toString(),t=algs.curves[a].pkcs8oid;assert.string(t,"a known ECDSA named curve"),e.writeOID(t),e.endSequence();var n=utils.ecNormalize(r.part.Q.data,!0);e.writeBuffer(n,asn1.Ber.BitString)}function writePkcs1ECDSAPrivate(e,r){var a=new Buffer(1);a[0]=1,e.writeBuffer(a,asn1.Ber.Integer),e.writeBuffer(r.part.d.data,asn1.Ber.OctetString),e.startSequence(160);var t=r.part.curve.data.toString(),n=algs.curves[t].pkcs8oid;assert.string(n,"a known ECDSA named curve"),e.writeOID(n),e.endSequence(),e.startSequence(161);var i=utils.ecNormalize(r.part.Q.data,!0);e.writeBuffer(i,asn1.Ber.BitString),e.endSequence()}module.exports={read:read,readPkcs1:readPkcs1,write:write,writePkcs1:writePkcs1};var assert=require("assert-plus"),asn1=require("asn1"),algs=require("../algs"),utils=require("../utils"),Key=require("../key"),PrivateKey=require("../private-key"),pem=require("./pem"),pkcs8=require("./pkcs8"),readECDSACurve=pkcs8.readECDSACurve;
}).call(this,require("buffer").Buffer)

},{"../algs":315,"../key":328,"../private-key":329,"../utils":332,"./pem":321,"./pkcs8":323,"asn1":338,"assert-plus":339,"buffer":42}],323:[function(require,module,exports){
(function (Buffer){
function read(e){return pem.read(e,"pkcs8")}function write(e){return pem.write(e,"pkcs8")}function readMPInt(e,r){return assert.strictEqual(e.peek(),asn1.Ber.Integer,r+" is not an Integer"),utils.mpNormalize(e.readString(asn1.Ber.Integer,!0))}function readPkcs8(e,r,t){t.peek()===asn1.Ber.Integer&&(assert.strictEqual(r,"private","unexpected Integer at start of public key"),t.readString(asn1.Ber.Integer,!0)),t.readSequence();var a=t.readOID();switch(a){case"1.2.840.113549.1.1.1":return"public"===r?readPkcs8RSAPublic(t):readPkcs8RSAPrivate(t);case"1.2.840.10040.4.1":return"public"===r?readPkcs8DSAPublic(t):readPkcs8DSAPrivate(t);case"1.2.840.10045.2.1":return"public"===r?readPkcs8ECDSAPublic(t):readPkcs8ECDSAPrivate(t);default:throw new Error("Unknown key type OID "+a)}}function readPkcs8RSAPublic(e){e.readByte(),e.readByte(),e.readSequence(asn1.Ber.BitString),e.readByte(),e.readSequence();var r=readMPInt(e,"modulus"),t=readMPInt(e,"exponent"),a={type:"rsa",source:e.originalInput,parts:[{name:"e",data:t},{name:"n",data:r}]};return new Key(a)}function readPkcs8RSAPrivate(e){e.readByte(),e.readByte(),e.readSequence(asn1.Ber.OctetString),e.readSequence();var r=readMPInt(e,"version");assert.equal(r[0],0,"unknown RSA private key version");var t=readMPInt(e,"modulus"),a=readMPInt(e,"public exponent"),n=readMPInt(e,"private exponent"),i=readMPInt(e,"prime1"),s=readMPInt(e,"prime2"),u=readMPInt(e,"exponent1"),d=readMPInt(e,"exponent2"),c=readMPInt(e,"iqmp"),S={type:"rsa",parts:[{name:"n",data:t},{name:"e",data:a},{name:"d",data:n},{name:"iqmp",data:c},{name:"p",data:i},{name:"q",data:s},{name:"dmodp",data:u},{name:"dmodq",data:d}]};return new PrivateKey(S)}function readPkcs8DSAPublic(e){e.readSequence();var r=readMPInt(e,"p"),t=readMPInt(e,"q"),a=readMPInt(e,"g");e.readSequence(asn1.Ber.BitString),e.readByte();var n=readMPInt(e,"y"),i={type:"dsa",parts:[{name:"p",data:r},{name:"q",data:t},{name:"g",data:a},{name:"y",data:n}]};return new Key(i)}function readPkcs8DSAPrivate(e){e.readSequence();var r=readMPInt(e,"p"),t=readMPInt(e,"q"),a=readMPInt(e,"g");e.readSequence(asn1.Ber.OctetString);var n=readMPInt(e,"x"),i=utils.calculateDSAPublic(a,r,n),s={type:"dsa",parts:[{name:"p",data:r},{name:"q",data:t},{name:"g",data:a},{name:"y",data:i},{name:"x",data:n}]};return new PrivateKey(s)}function readECDSACurve(e){var r,t,a,n,i;if(e.peek()===asn1.Ber.OID){var s=e.readOID();for(t=Object.keys(algs.curves),a=0;a<t.length;++a)if(n=t[a],i=algs.curves[n],i.pkcs8oid===s){r=n;break}}else{e.readSequence();var u=e.readString(asn1.Ber.Integer,!0);assert.strictEqual(u[0],1,"ECDSA key not version 1");var d={};e.readSequence();var c=e.readOID();assert.strictEqual(c,"1.2.840.10045.1.1","ECDSA key is not from a prime-field");var S=d.p=utils.mpNormalize(e.readString(asn1.Ber.Integer,!0));d.size=8*S.length-utils.countZeros(S),e.readSequence(),d.a=utils.mpNormalize(e.readString(asn1.Ber.OctetString,!0)),d.b=utils.mpNormalize(e.readString(asn1.Ber.OctetString,!0)),e.peek()===asn1.Ber.BitString&&(d.s=e.readString(asn1.Ber.BitString,!0)),d.G=e.readString(asn1.Ber.OctetString,!0),assert.strictEqual(d.G[0],4,"uncompressed G is required"),d.n=utils.mpNormalize(e.readString(asn1.Ber.Integer,!0)),d.h=utils.mpNormalize(e.readString(asn1.Ber.Integer,!0)),assert.strictEqual(d.h[0],1,"a cofactor=1 curve is required"),t=Object.keys(algs.curves);var f=Object.keys(d);for(a=0;a<t.length;++a){n=t[a],i=algs.curves[n];for(var B=!0,p=0;p<f.length;++p){var g=f[p];if(void 0!==i[g])if("object"==typeof i[g]&&void 0!==i[g].equals){if(!i[g].equals(d[g])){B=!1;break}}else if(Buffer.isBuffer(i[g])){if(i[g].toString("binary")!==d[g].toString("binary")){B=!1;break}}else if(i[g]!==d[g]){B=!1;break}}if(B){r=n;break}}}return r}function readPkcs8ECDSAPrivate(e){var r=readECDSACurve(e);assert.string(r,"a known elliptic curve"),e.readSequence(asn1.Ber.OctetString),e.readSequence();var t=readMPInt(e,"version");assert.equal(t[0],1,"unknown version of ECDSA key");var a=e.readString(asn1.Ber.OctetString,!0);e.readSequence(161);var n=e.readString(asn1.Ber.BitString,!0);n=utils.ecNormalize(n);var i={type:"ecdsa",parts:[{name:"curve",data:new Buffer(r)},{name:"Q",data:n},{name:"d",data:a}]};return new PrivateKey(i)}function readPkcs8ECDSAPublic(e){var r=readECDSACurve(e);assert.string(r,"a known elliptic curve");var t=e.readString(asn1.Ber.BitString,!0);t=utils.ecNormalize(t);var a={type:"ecdsa",parts:[{name:"curve",data:new Buffer(r)},{name:"Q",data:t}]};return new Key(a)}function writePkcs8(e,r){if(e.startSequence(),PrivateKey.isPrivateKey(r)){var t=new Buffer(1);t[0]=0,e.writeBuffer(t,asn1.Ber.Integer)}switch(e.startSequence(),r.type){case"rsa":e.writeOID("1.2.840.113549.1.1.1"),PrivateKey.isPrivateKey(r)?writePkcs8RSAPrivate(r,e):writePkcs8RSAPublic(r,e);break;case"dsa":e.writeOID("1.2.840.10040.4.1"),PrivateKey.isPrivateKey(r)?writePkcs8DSAPrivate(r,e):writePkcs8DSAPublic(r,e);break;case"ecdsa":e.writeOID("1.2.840.10045.2.1"),PrivateKey.isPrivateKey(r)?writePkcs8ECDSAPrivate(r,e):writePkcs8ECDSAPublic(r,e);break;default:throw new Error("Unsupported key type: "+r.type)}e.endSequence()}function writePkcs8RSAPrivate(e,r){r.writeNull(),r.endSequence(),r.startSequence(asn1.Ber.OctetString),r.startSequence();var t=new Buffer(1);t[0]=0,r.writeBuffer(t,asn1.Ber.Integer),r.writeBuffer(e.part.n.data,asn1.Ber.Integer),r.writeBuffer(e.part.e.data,asn1.Ber.Integer),r.writeBuffer(e.part.d.data,asn1.Ber.Integer),r.writeBuffer(e.part.p.data,asn1.Ber.Integer),r.writeBuffer(e.part.q.data,asn1.Ber.Integer),e.part.dmodp&&e.part.dmodq||utils.addRSAMissing(e),r.writeBuffer(e.part.dmodp.data,asn1.Ber.Integer),r.writeBuffer(e.part.dmodq.data,asn1.Ber.Integer),r.writeBuffer(e.part.iqmp.data,asn1.Ber.Integer),r.endSequence(),r.endSequence()}function writePkcs8RSAPublic(e,r){r.writeNull(),r.endSequence(),r.startSequence(asn1.Ber.BitString),r.writeByte(0),r.startSequence(),r.writeBuffer(e.part.n.data,asn1.Ber.Integer),r.writeBuffer(e.part.e.data,asn1.Ber.Integer),r.endSequence(),r.endSequence()}function writePkcs8DSAPrivate(e,r){r.startSequence(),r.writeBuffer(e.part.p.data,asn1.Ber.Integer),r.writeBuffer(e.part.q.data,asn1.Ber.Integer),r.writeBuffer(e.part.g.data,asn1.Ber.Integer),r.endSequence(),r.endSequence(),r.startSequence(asn1.Ber.OctetString),r.writeBuffer(e.part.x.data,asn1.Ber.Integer),r.endSequence()}function writePkcs8DSAPublic(e,r){r.startSequence(),r.writeBuffer(e.part.p.data,asn1.Ber.Integer),r.writeBuffer(e.part.q.data,asn1.Ber.Integer),r.writeBuffer(e.part.g.data,asn1.Ber.Integer),r.endSequence(),r.endSequence(),r.startSequence(asn1.Ber.BitString),r.writeByte(0),r.writeBuffer(e.part.y.data,asn1.Ber.Integer),r.endSequence()}function writeECDSACurve(e,r){var t=algs.curves[e.curve];if(t.pkcs8oid)r.writeOID(t.pkcs8oid);else{r.startSequence();var a=new Buffer(1);a.writeUInt8(1,0),r.writeBuffer(a,asn1.Ber.Integer),r.startSequence(),r.writeOID("1.2.840.10045.1.1"),r.writeBuffer(t.p,asn1.Ber.Integer),r.endSequence(),r.startSequence();var n=t.p;0===n[0]&&(n=n.slice(1)),r.writeBuffer(n,asn1.Ber.OctetString),r.writeBuffer(t.b,asn1.Ber.OctetString),r.writeBuffer(t.s,asn1.Ber.BitString),r.endSequence(),r.writeBuffer(t.G,asn1.Ber.OctetString),r.writeBuffer(t.n,asn1.Ber.Integer);var i=t.h;i||(i=new Buffer(1),i[0]=1),r.writeBuffer(i,asn1.Ber.Integer),r.endSequence()}}function writePkcs8ECDSAPublic(e,r){writeECDSACurve(e,r),r.endSequence();var t=utils.ecNormalize(e.part.Q.data,!0);r.writeBuffer(t,asn1.Ber.BitString)}function writePkcs8ECDSAPrivate(e,r){writeECDSACurve(e,r),r.endSequence(),r.startSequence(asn1.Ber.OctetString),r.startSequence();var t=new Buffer(1);t[0]=1,r.writeBuffer(t,asn1.Ber.Integer),r.writeBuffer(e.part.d.data,asn1.Ber.OctetString),r.startSequence(161);var a=utils.ecNormalize(e.part.Q.data,!0);r.writeBuffer(a,asn1.Ber.BitString),r.endSequence(),r.endSequence(),r.endSequence()}module.exports={read:read,readPkcs8:readPkcs8,write:write,writePkcs8:writePkcs8,readECDSACurve:readECDSACurve,writeECDSACurve:writeECDSACurve};var assert=require("assert-plus"),asn1=require("asn1"),algs=require("../algs"),utils=require("../utils"),Key=require("../key"),PrivateKey=require("../private-key"),pem=require("./pem");
}).call(this,require("buffer").Buffer)

},{"../algs":315,"../key":328,"../private-key":329,"../utils":332,"./pem":321,"asn1":338,"assert-plus":339,"buffer":42}],324:[function(require,module,exports){
(function (Buffer){
function algToKeyType(e){if(assert.string(e),"ssh-dss"===e)return"dsa";if("ssh-rsa"===e)return"rsa";if("ssh-ed25519"===e)return"ed25519";if("ssh-curve25519"===e)return"curve25519";if(e.match(/^ecdsa-sha2-/))return"ecdsa";throw new Error("Unknown algorithm "+e)}function keyTypeToAlg(e){if(assert.object(e),"dsa"===e.type)return"ssh-dss";if("rsa"===e.type)return"ssh-rsa";if("ed25519"===e.type)return"ssh-ed25519";if("curve25519"===e.type)return"ssh-curve25519";if("ecdsa"===e.type)return"ecdsa-sha2-"+e.part.curve.data.toString();throw new Error("Unknown key type "+e.type)}function read(e,r,t){"string"==typeof t&&(t=new Buffer(t)),assert.buffer(t,"buf");var a={},s=a.parts=[],n=new SSHBuffer({buffer:t}),i=n.readString();assert.ok(!n.atEnd(),"key must have at least one part"),a.type=algToKeyType(i);var o=algs.info[a.type].parts.length;for(r&&"private"===r&&(o=algs.privInfo[a.type].parts.length);!n.atEnd()&&s.length<o;)s.push(n.readPart());for(;!e&&!n.atEnd();)s.push(n.readPart());assert.ok(s.length>=1,"key must have at least one part"),assert.ok(e||n.atEnd(),"leftover bytes at end of key");var f=Key,u=algs.info[a.type];if(("private"===r||u.parts.length!==s.length)&&(u=algs.privInfo[a.type],f=PrivateKey),assert.strictEqual(u.parts.length,s.length),"ecdsa"===a.type){var p=/^ecdsa-sha2-(.+)$/.exec(i);assert.ok(null!==p),assert.strictEqual(p[1],s[0].data.toString())}for(var d=!0,y=0;y<u.parts.length;++y)if(s[y].name=u.parts[y],"curve"!==s[y].name&&u.normalize!==!1){var l=s[y],g=utils.mpNormalize(l.data);g!==l.data&&(l.data=g,d=!1)}return d&&(a._rfc4253Cache=n.toBuffer()),e&&"object"==typeof e&&(e.remainder=n.remainder(),e.consumed=n._offset),new f(a)}function write(e){assert.object(e);var r,t=keyTypeToAlg(e),a=algs.info[e.type];PrivateKey.isPrivateKey(e)&&(a=algs.privInfo[e.type]);var s=a.parts,n=new SSHBuffer({});for(n.writeString(t),r=0;r<s.length;++r){var i=e.part[s[r]].data;i=utils.mpNormalize(i),n.writeBuffer(i)}return n.toBuffer()}module.exports={read:read.bind(void 0,!1,void 0),readType:read.bind(void 0,!1),write:write,readPartial:read.bind(void 0,!0),readInternal:read,keyTypeToAlg:keyTypeToAlg,algToKeyType:algToKeyType};var assert=require("assert-plus"),algs=require("../algs"),utils=require("../utils"),Key=require("../key"),PrivateKey=require("../private-key"),SSHBuffer=require("../ssh-buffer");
}).call(this,require("buffer").Buffer)

},{"../algs":315,"../key":328,"../private-key":329,"../ssh-buffer":331,"../utils":332,"assert-plus":339,"buffer":42}],325:[function(require,module,exports){
(function (Buffer){
function read(e){return pem.read(e)}function readSSHPrivate(e,r){r=new SSHBuffer({buffer:r});var t=r.readCString();assert.strictEqual(t,MAGIC,"bad magic string");var a=r.readString(),i=r.readString();if("none"!==a||"none"!==i)throw new Error("OpenSSH-format key is encrypted (password-protected). Please use the SSH agent or decrypt the key.");r.readString();var n=r.readInt();if(1!==n)throw new Error("OpenSSH-format key file contains multiple keys: this is unsupported.");var f=r.readBuffer();if("public"===e)return assert.ok(r.atEnd(),"excess bytes left after key"),rfc4253.read(f);var s=r.readBuffer();assert.ok(r.atEnd(),"excess bytes left after key"),r=new SSHBuffer({buffer:s});var u=r.readInt(),o=r.readInt();assert.strictEqual(u,o,"checkints do not match");var S={},d=rfc4253.readInternal(S,"private",r.remainder());r.skip(S.consumed);var v=r.readString();return d.comment=v,d}function write(e){var r;r=PrivateKey.isPrivateKey(e)?e.toPublic():e;var t;if(PrivateKey.isPrivateKey(e)){t=new SSHBuffer({});var a=crypto.randomBytes(4).readUInt32BE(0);t.writeInt(a),t.writeInt(a),t.write(e.toBuffer("rfc4253")),t.writeString(e.comment||"");for(var i=1;t._offset%8!==0;)t.writeChar(i++)}var n=new SSHBuffer({});n.writeCString(MAGIC),n.writeString("none"),n.writeString("none"),n.writeBuffer(new Buffer(0)),n.writeInt(1),n.writeBuffer(r.toBuffer("rfc4253")),t&&n.writeBuffer(t.toBuffer()),n=n.toBuffer();var f;f=PrivateKey.isPrivateKey(e)?"OPENSSH PRIVATE KEY":"OPENSSH PUBLIC KEY";var s=n.toString("base64"),u=s.length+s.length/70+18+16+2*f.length+10;n=new Buffer(u);var o=0;o+=n.write("-----BEGIN "+f+"-----\n",o);for(var S=0;S<s.length;){var d=S+70;d>s.length&&(d=s.length),o+=n.write(s.slice(S,d),o),n[o++]=10,S=d}return o+=n.write("-----END "+f+"-----\n",o),n.slice(0,o)}module.exports={read:read,readSSHPrivate:readSSHPrivate,write:write};var assert=require("assert-plus"),asn1=require("asn1"),algs=require("../algs"),utils=require("../utils"),crypto=require("crypto"),Key=require("../key"),PrivateKey=require("../private-key"),pem=require("./pem"),rfc4253=require("./rfc4253"),SSHBuffer=require("../ssh-buffer"),MAGIC="openssh-key-v1";
}).call(this,require("buffer").Buffer)

},{"../algs":315,"../key":328,"../private-key":329,"../ssh-buffer":331,"../utils":332,"./pem":321,"./rfc4253":324,"asn1":338,"assert-plus":339,"buffer":42,"crypto":52}],326:[function(require,module,exports){
(function (Buffer){
function read(e){"string"!=typeof e&&(assert.buffer(e,"buf"),e=e.toString("ascii"));var r=e.trim().replace(/[\\\r]/g,""),t=r.match(SSHKEY_RE);t||(t=r.match(SSHKEY_RE2)),assert.ok(t,"key must match regex");var a,s=rfc4253.algToKeyType(t[1]),c=new Buffer(t[2],"base64"),i={};if(t[4])try{a=rfc4253.read(c)}catch(u){t=r.match(SSHKEY_RE2),assert.ok(t,"key must match regex"),c=new Buffer(t[2],"base64"),a=rfc4253.readInternal(i,"public",c)}else a=rfc4253.readInternal(i,"public",c);if(assert.strictEqual(s,a.type),t[4]&&t[4].length>0)a.comment=t[4];else if(i.consumed){var n=t[2]+t[3],f=4*Math.ceil(i.consumed/3);n=n.slice(0,f-2).replace(/[^a-zA-Z0-9+\/=]/g,"")+n.slice(f-2);var l=i.consumed%3;for(l>0&&"="!==n.slice(f-1,f)&&f--;"="===n.slice(f,f+1);)f++;var o=n.slice(f);o=o.replace(/[\r\n]/g," ").replace(/^\s+/,""),o.match(/^[a-zA-Z0-9]/)&&(a.comment=o)}return a}function write(e){if(assert.object(e),!Key.isKey(e))throw new Error("Must be a public key");var r=[],t=rfc4253.keyTypeToAlg(e);r.push(t);var a=rfc4253.write(e);return r.push(a.toString("base64")),e.comment&&r.push(e.comment),new Buffer(r.join(" "))}module.exports={read:read,write:write};var assert=require("assert-plus"),rfc4253=require("./rfc4253"),utils=require("../utils"),Key=require("../key"),PrivateKey=require("../private-key"),sshpriv=require("./ssh-private"),SSHKEY_RE=/^([a-z0-9-]+)[ \t]+([a-zA-Z0-9+\/]+[=]*)([\n \t]+([^\n]+))?$/,SSHKEY_RE2=/^([a-z0-9-]+)[ \t]+([a-zA-Z0-9+\/ \t\n]+[=]*)(.*)$/;
}).call(this,require("buffer").Buffer)

},{"../key":328,"../private-key":329,"../utils":332,"./rfc4253":324,"./ssh-private":325,"assert-plus":339,"buffer":42}],327:[function(require,module,exports){
var Key=require("./key"),Fingerprint=require("./fingerprint"),Signature=require("./signature"),PrivateKey=require("./private-key"),errs=require("./errors");module.exports={Key:Key,parseKey:Key.parse,Fingerprint:Fingerprint,parseFingerprint:Fingerprint.parse,Signature:Signature,parseSignature:Signature.parse,PrivateKey:PrivateKey,parsePrivateKey:PrivateKey.parse,FingerprintFormatError:errs.FingerprintFormatError,InvalidAlgorithmError:errs.InvalidAlgorithmError,KeyParseError:errs.KeyParseError,SignatureParseError:errs.SignatureParseError};
},{"./errors":318,"./fingerprint":319,"./key":328,"./private-key":329,"./signature":330}],328:[function(require,module,exports){
(function (Buffer){
function Key(r){assert.object(r,"options"),assert.arrayOfObject(r.parts,"options.parts"),assert.string(r.type,"options.type"),assert.optionalString(r.comment,"options.comment");var t=algs.info[r.type];if("object"!=typeof t)throw new InvalidAlgorithmError(r.type);for(var e={},s=0;s<r.parts.length;++s){var i=r.parts[s];e[i.name]=i}this.type=r.type,this.parts=r.parts,this.part=e,this.comment=void 0,this.source=r.source,this._rfc4253Cache=r._rfc4253Cache,this._hashCache={};var a;if(this.curve=void 0,"ecdsa"===this.type){var o=this.part.curve.data.toString();this.curve=o,a=algs.curves[o].size}else if("ed25519"===this.type)a=256,this.curve="curve25519";else{var n=this.part[t.sizePart];a=n.data.length,a=8*a-utils.countZeros(n.data)}this.size=a}module.exports=Key;var assert=require("assert-plus"),algs=require("./algs"),crypto=require("crypto"),Fingerprint=require("./fingerprint"),Signature=require("./signature"),DiffieHellman=require("./dhe"),errs=require("./errors"),utils=require("./utils"),PrivateKey=require("./private-key"),edCompat;try{edCompat=require("./ed-compat")}catch(e){}var InvalidAlgorithmError=errs.InvalidAlgorithmError,KeyParseError=errs.KeyParseError,formats={};formats.auto=require("./formats/auto"),formats.pem=require("./formats/pem"),formats.pkcs1=require("./formats/pkcs1"),formats.pkcs8=require("./formats/pkcs8"),formats.rfc4253=require("./formats/rfc4253"),formats.ssh=require("./formats/ssh"),formats["ssh-private"]=require("./formats/ssh-private"),formats.openssh=formats["ssh-private"],Key.formats=formats,Key.prototype.toBuffer=function(r){return void 0===r&&(r="ssh"),assert.string(r,"format"),assert.object(formats[r],"formats[format]"),"rfc4253"===r?(void 0===this._rfc4253Cache&&(this._rfc4253Cache=formats.rfc4253.write(this)),this._rfc4253Cache):formats[r].write(this)},Key.prototype.toString=function(r){return this.toBuffer(r).toString()},Key.prototype.hash=function(r){if(assert.string(r,"algorithm"),r=r.toLowerCase(),void 0===algs.hashAlgs[r])throw new InvalidAlgorithmError(r);if(this._hashCache[r])return this._hashCache[r];var t=crypto.createHash(r).update(this.toBuffer("rfc4253")).digest();return"string"==typeof t&&(t=new Buffer(t,"binary")),this._hashCache[r]=t,t},Key.prototype.fingerprint=function(r){void 0===r&&(r="sha256"),assert.string(r,"algorithm");var t={hash:this.hash(r),algorithm:r};return new Fingerprint(t)},Key.prototype.defaultHashAlgorithm=function(){var r="sha1";return"rsa"===this.type&&(r="sha256"),"dsa"===this.type&&this.size>1024&&(r="sha256"),"ed25519"===this.type&&(r="sha512"),"ecdsa"===this.type&&(r=this.size<=256?"sha256":this.size<=384?"sha384":"sha512"),r},Key.prototype.createVerify=function(r){if(void 0===r&&(r=this.defaultHashAlgorithm()),assert.string(r,"hash algorithm"),"ed25519"===this.type&&void 0!==edCompat)return new edCompat.Verifier(this,r);if("curve25519"===this.type)throw new Error("Curve25519 keys are not suitable for signing or verification");var t,e,s;try{e=this.type.toUpperCase()+"-","ecdsa"===this.type&&(e="ecdsa-with-"),e+=r.toUpperCase(),t=crypto.createVerify(e)}catch(i){s=i}(void 0===t||s instanceof Error&&s.message.match(/Unknown message digest/))&&(e="RSA-",e+=r.toUpperCase(),t=crypto.createVerify(e)),assert.ok(t,"failed to create verifier");var a=t.verify.bind(t),o=this.toBuffer("pkcs8"),n=this;return t.verify=function(t,e){if(Signature.isSignature(t,[2,0]))return t.type!==n.type?!1:t.hashAlgorithm&&t.hashAlgorithm!==r?!1:a(o,t.toBuffer("asn1"));if("string"==typeof t||Buffer.isBuffer(t))return a(o,t,e);throw Signature.isSignature(t,[1,0])?new Error("signature was created by too old a version of sshpk and cannot be verified"):new TypeError("signature must be a string, Buffer, or Signature object")},t},Key.prototype.createDiffieHellman=function(){if("rsa"===this.type)throw new Error("RSA keys do not support Diffie-Hellman");return new DiffieHellman(this)},Key.prototype.createDH=Key.prototype.createDiffieHellman,Key.parse=function(r,t,e){"string"!=typeof r&&assert.buffer(r,"data"),void 0===t&&(t="auto"),assert.string(t,"format"),void 0===e&&(e="(unnamed)"),assert.object(formats[t],"formats[format]");try{var s=formats[t].read(r);return s instanceof PrivateKey&&(s=s.toPublic()),s.comment||(s.comment=e),s}catch(i){throw new KeyParseError(e,t,i)}},Key.isKey=function(r,t){return utils.isCompatible(r,Key,t)},Key.prototype._sshpkApiVersion=[1,5],Key._oldVersionDetect=function(r){return assert.func(r.toBuffer),assert.func(r.fingerprint),r.createDH?[1,4]:r.defaultHashAlgorithm?[1,3]:r.formats.auto?[1,2]:r.formats.pkcs1?[1,1]:[1,0]};
}).call(this,require("buffer").Buffer)

},{"./algs":315,"./dhe":316,"./ed-compat":317,"./errors":318,"./fingerprint":319,"./formats/auto":320,"./formats/pem":321,"./formats/pkcs1":322,"./formats/pkcs8":323,"./formats/rfc4253":324,"./formats/ssh":326,"./formats/ssh-private":325,"./private-key":329,"./signature":330,"./utils":332,"assert-plus":339,"buffer":42,"crypto":52}],329:[function(require,module,exports){
(function (Buffer){
function PrivateKey(e){assert.object(e,"options"),Key.call(this,e),this._pubCache=void 0}module.exports=PrivateKey;var assert=require("assert-plus"),algs=require("./algs"),crypto=require("crypto"),Fingerprint=require("./fingerprint"),Signature=require("./signature"),errs=require("./errors"),util=require("util"),utils=require("./utils"),edCompat,ed;try{edCompat=require("./ed-compat")}catch(e){}var Key=require("./key"),InvalidAlgorithmError=errs.InvalidAlgorithmError,KeyParseError=errs.KeyParseError,formats={};formats.auto=require("./formats/auto"),formats.pem=require("./formats/pem"),formats.pkcs1=require("./formats/pkcs1"),formats.pkcs8=require("./formats/pkcs8"),formats.rfc4253=require("./formats/rfc4253"),formats["ssh-private"]=require("./formats/ssh-private"),formats.openssh=formats["ssh-private"],formats.ssh=formats["ssh-private"],util.inherits(PrivateKey,Key),PrivateKey.formats=formats,PrivateKey.prototype.toBuffer=function(e){return void 0===e&&(e="pkcs1"),assert.string(e,"format"),assert.object(formats[e],"formats[format]"),formats[e].write(this)},PrivateKey.prototype.hash=function(e){return this.toPublic().hash(e)},PrivateKey.prototype.toPublic=function(){if(this._pubCache)return this._pubCache;for(var e=algs.info[this.type],r=[],t=0;t<e.parts.length;++t){var i=e.parts[t];r.push(this.part[i])}return this._pubCache=new Key({type:this.type,source:this,parts:r}),this.comment&&(this._pubCache.comment=this.comment),this._pubCache},PrivateKey.prototype.derive=function(e,r){assert.string(e,"type"),assert.optionalNumber(r,"size");var t,i;if("ed25519"===this.type&&"curve25519"===e)return void 0===ed&&(ed=require("jodid25519")),t=this.part.r.data,0===t[0]&&(t=t.slice(1)),t=t.slice(0,32),i=ed.dh.publicKey(t),t=utils.mpNormalize(Buffer.concat([t,i])),new PrivateKey({type:"curve25519",parts:[{name:"R",data:utils.mpNormalize(i)},{name:"r",data:t}]});if("curve25519"===this.type&&"ed25519"===e)return void 0===ed&&(ed=require("jodid25519")),t=this.part.r.data,0===t[0]&&(t=t.slice(1)),t=t.slice(0,32),i=ed.eddsa.publicKey(t.toString("binary")),i=new Buffer(i,"binary"),t=utils.mpNormalize(Buffer.concat([t,i])),new PrivateKey({type:"ed25519",parts:[{name:"R",data:utils.mpNormalize(i)},{name:"r",data:t}]});throw new Error("Key derivation not supported from "+this.type+" to "+e)},PrivateKey.prototype.createVerify=function(e){return this.toPublic().createVerify(e)},PrivateKey.prototype.createSign=function(e){if(void 0===e&&(e=this.defaultHashAlgorithm()),assert.string(e,"hash algorithm"),"ed25519"===this.type&&void 0!==edCompat)return new edCompat.Signer(this,e);if("curve25519"===this.type)throw new Error("Curve25519 keys are not suitable for signing or verification");var r,t,i;try{t=this.type.toUpperCase()+"-","ecdsa"===this.type&&(t="ecdsa-with-"),t+=e.toUpperCase(),r=crypto.createSign(t)}catch(a){i=a}(void 0===r||i instanceof Error&&i.message.match(/Unknown message digest/))&&(t="RSA-",t+=e.toUpperCase(),r=crypto.createSign(t)),assert.ok(r,"failed to create verifier");var s=r.sign.bind(r),o=this.toBuffer("pkcs1"),n=this.type;return r.sign=function(){var r=s(o);return"string"==typeof r&&(r=new Buffer(r,"binary")),r=Signature.parse(r,n,"asn1"),r.hashAlgorithm=e,r},r},PrivateKey.parse=function(e,r,t){"string"!=typeof e&&assert.buffer(e,"data"),void 0===r&&(r="auto"),assert.string(r,"format"),void 0===t&&(t="(unnamed)"),assert.object(formats[r],"formats[format]");try{var i=formats[r].read(e);return assert.ok(i instanceof PrivateKey,"key is not a private key"),i.comment||(i.comment=t),i}catch(a){throw new KeyParseError(t,r,a)}},PrivateKey.isPrivateKey=function(e,r){return utils.isCompatible(e,PrivateKey,r)},PrivateKey.prototype._sshpkApiVersion=[1,4],PrivateKey._oldVersionDetect=function(e){return assert.func(e.toPublic),assert.func(e.createSign),e.derive?[1,3]:e.defaultHashAlgorithm?[1,2]:e.formats.auto?[1,1]:[1,0]};
}).call(this,require("buffer").Buffer)

},{"./algs":315,"./ed-compat":317,"./errors":318,"./fingerprint":319,"./formats/auto":320,"./formats/pem":321,"./formats/pkcs1":322,"./formats/pkcs8":323,"./formats/rfc4253":324,"./formats/ssh-private":325,"./key":328,"./signature":330,"./utils":332,"assert-plus":339,"buffer":42,"crypto":52,"jodid25519":343,"util":594}],330:[function(require,module,exports){
(function (Buffer){
function Signature(r){assert.object(r,"options"),assert.arrayOfObject(r.parts,"options.parts"),assert.string(r.type,"options.type");for(var e={},t=0;t<r.parts.length;++t){var a=r.parts[t];e[a.name]=a}this.type=r.type,this.hashAlgorithm=r.hashAlgo,this.parts=r.parts,this.part=e}function parseOneNum(r,e,t,a,s){if("ssh"===t){try{var n=new SSHBuffer({buffer:r}),i=n.readString()}catch(u){}if(i===s){var f=n.readPart();return assert.ok(n.atEnd(),"extra trailing bytes"),f.name="sig",a.parts.push(f),new Signature(a)}}return a.parts.push({name:"sig",data:r}),new Signature(a)}function parseDSAasn1(r,e,t,a){var s=new asn1.BerReader(r);s.readSequence();var n=s.readString(asn1.Ber.Integer,!0),i=s.readString(asn1.Ber.Integer,!0);return a.parts.push({name:"r",data:utils.mpNormalize(n)}),a.parts.push({name:"s",data:utils.mpNormalize(i)}),new Signature(a)}function parseDSA(r,e,t,a){if(40!=r.length){var s=new SSHBuffer({buffer:r}),n=s.readBuffer();"ssh-dss"===n.toString("ascii")&&(n=s.readBuffer()),assert.ok(s.atEnd(),"extra trailing bytes"),assert.strictEqual(n.length,40,"invalid inner length"),r=n}return a.parts.push({name:"r",data:r.slice(0,20)}),a.parts.push({name:"s",data:r.slice(20,40)}),new Signature(a)}function parseECDSA(r,e,t,a){var s,n,i=new SSHBuffer({buffer:r}),u=i.readBuffer();return u.toString("ascii").match(/^ecdsa-/)?(u=i.readBuffer(),assert.ok(i.atEnd(),"extra trailing bytes on outer"),i=new SSHBuffer({buffer:u}),s=i.readPart()):s={data:u},n=i.readPart(),assert.ok(i.atEnd(),"extra trailing bytes"),s.name="r",n.name="s",a.parts.push(s),a.parts.push(n),new Signature(a)}module.exports=Signature;var assert=require("assert-plus"),algs=require("./algs"),crypto=require("crypto"),errs=require("./errors"),utils=require("./utils"),asn1=require("asn1"),SSHBuffer=require("./ssh-buffer"),InvalidAlgorithmError=errs.InvalidAlgorithmError,SignatureParseError=errs.SignatureParseError;Signature.prototype.toBuffer=function(r){void 0===r&&(r="asn1"),assert.string(r,"format");var e;switch(this.type){case"rsa":case"ed25519":return"ssh"===r?(e=new SSHBuffer({}),e.writeString("ssh-"+this.type),e.writePart(this.part.sig),e.toBuffer()):this.part.sig.data;case"dsa":case"ecdsa":var t,a;if("asn1"===r){var s=new asn1.BerWriter;return s.startSequence(),t=utils.mpNormalize(this.part.r.data),a=utils.mpNormalize(this.part.s.data),s.writeBuffer(t,asn1.Ber.Integer),s.writeBuffer(a,asn1.Ber.Integer),s.endSequence(),s.buffer}if("ssh"===r&&"dsa"===this.type)return e=new SSHBuffer({}),e.writeString("ssh-dss"),t=this.part.r.data,0===t[0]&&(t=t.slice(1)),a=this.part.s.data,e.writeBuffer(Buffer.concat([t,a])),e.toBuffer();if("ssh"===r&&"ecdsa"===this.type){var n=new SSHBuffer({});t=this.part.r,0===t[0]&&(t=t.slice(1)),n.writePart(t),n.writePart(this.part.s),e=new SSHBuffer({});var i,u=8*this.part.r.data.length;return 256===u?i="nistp256":384===u?i="nistp384":528===u&&(i="nistp521"),e.writeString("ecdsa-sha2-"+i),e.writeBuffer(n.toBuffer()),e.toBuffer()}throw new Error("Invalid signature format");default:throw new Error("Invalid signature data")}},Signature.prototype.toString=function(r){return assert.optionalString(r,"format"),this.toBuffer(r).toString("base64")},Signature.parse=function(r,e,t){"string"==typeof r&&(r=new Buffer(r,"base64")),assert.buffer(r,"data"),assert.string(t,"format"),assert.string(e,"type");var a={};a.type=e.toLowerCase(),a.parts=[];try{switch(assert.ok(r.length>0,"signature must not be empty"),a.type){case"rsa":return parseOneNum(r,e,t,a,"ssh-rsa");case"ed25519":return parseOneNum(r,e,t,a,"ssh-ed25519");case"dsa":case"ecdsa":return"asn1"===t?parseDSAasn1(r,e,t,a):"dsa"===a.type?parseDSA(r,e,t,a):parseECDSA(r,e,t,a);default:throw new InvalidAlgorithmError(e)}}catch(s){if(s instanceof InvalidAlgorithmError)throw s;throw new SignatureParseError(e,t,s)}},Signature.isSignature=function(r,e){return utils.isCompatible(r,Signature,e)},Signature.prototype._sshpkApiVersion=[2,1],Signature._oldVersionDetect=function(r){return assert.func(r.toBuffer),r.hasOwnProperty("hashAlgorithm")?[2,0]:[1,0]};
}).call(this,require("buffer").Buffer)

},{"./algs":315,"./errors":318,"./ssh-buffer":331,"./utils":332,"asn1":338,"assert-plus":339,"buffer":42,"crypto":52}],331:[function(require,module,exports){
(function (Buffer){
function SSHBuffer(t){assert.object(t,"options"),void 0!==t.buffer&&assert.buffer(t.buffer,"options.buffer"),this._size=t.buffer?t.buffer.length:1024,this._buffer=t.buffer||new Buffer(this._size),this._offset=0}module.exports=SSHBuffer;var assert=require("assert-plus");SSHBuffer.prototype.toBuffer=function(){return this._buffer.slice(0,this._offset)},SSHBuffer.prototype.atEnd=function(){return this._offset>=this._buffer.length},SSHBuffer.prototype.remainder=function(){return this._buffer.slice(this._offset)},SSHBuffer.prototype.skip=function(t){this._offset+=t},SSHBuffer.prototype.expand=function(){this._size*=2;var t=new Buffer(this._size);this._buffer.copy(t,0),this._buffer=t},SSHBuffer.prototype.readPart=function(){return{data:this.readBuffer()}},SSHBuffer.prototype.readBuffer=function(){var t=this._buffer.readUInt32BE(this._offset);this._offset+=4,assert.ok(this._offset+t<=this._buffer.length,"length out of bounds at +0x"+this._offset.toString(16)+" (data truncated?)");var f=this._buffer.slice(this._offset,this._offset+t);return this._offset+=t,f},SSHBuffer.prototype.readString=function(){return this.readBuffer().toString()},SSHBuffer.prototype.readCString=function(){for(var t=this._offset;t<this._buffer.length&&0!==this._buffer[t];)t++;assert.ok(t<this._buffer.length,"c string does not terminate");var f=this._buffer.slice(this._offset,t).toString();return this._offset=t+1,f},SSHBuffer.prototype.readInt=function(){var t=this._buffer.readUInt32BE(this._offset);return this._offset+=4,t},SSHBuffer.prototype.readChar=function(){var t=this._buffer[this._offset++];return t},SSHBuffer.prototype.writeBuffer=function(t){for(;this._offset+4+t.length>this._size;)this.expand();this._buffer.writeUInt32BE(t.length,this._offset),this._offset+=4,t.copy(this._buffer,this._offset),this._offset+=t.length},SSHBuffer.prototype.writeString=function(t){this.writeBuffer(new Buffer(t,"utf8"))},SSHBuffer.prototype.writeCString=function(t){for(;this._offset+1+t.length>this._size;)this.expand();this._buffer.write(t,this._offset),this._offset+=t.length,this._buffer[this._offset++]=0},SSHBuffer.prototype.writeInt=function(t){for(;this._offset+4>this._size;)this.expand();this._buffer.writeUInt32BE(t,this._offset),this._offset+=4},SSHBuffer.prototype.writeChar=function(t){for(;this._offset+1>this._size;)this.expand();this._buffer[this._offset++]=t},SSHBuffer.prototype.writePart=function(t){this.writeBuffer(t.data)},SSHBuffer.prototype.write=function(t){for(;this._offset+t.length>this._size;)this.expand();t.copy(this._buffer,this._offset),this._offset+=t.length};
}).call(this,require("buffer").Buffer)

},{"assert-plus":339,"buffer":42}],332:[function(require,module,exports){
(function (Buffer){
function isCompatible(e,r,t){if(null===e||"object"!=typeof e)return!1;if(void 0===t&&(t=r.prototype._sshpkApiVersion),e instanceof r&&r.prototype._sshpkApiVersion[0]==t[0])return!0;for(var o=Object.getPrototypeOf(e),a=0;o.constructor.name!==r.name;)if(o=Object.getPrototypeOf(o),!o||++a>MAX_CLASS_DEPTH)return!1;if(o.constructor.name!==r.name)return!1;var i=o._sshpkApiVersion;return void 0===i&&(i=r._oldVersionDetect(e)),i[0]!=t[0]||i[1]<t[1]?!1:!0}function assertCompatible(e,r,t,o){if(void 0===o&&(o="object"),assert.ok(e,o+" must not be null"),assert.object(e,o+" must be an object"),void 0===t&&(t=r.prototype._sshpkApiVersion),!(e instanceof r&&r.prototype._sshpkApiVersion[0]==t[0])){for(var a=Object.getPrototypeOf(e),i=0;a.constructor.name!==r.name;)a=Object.getPrototypeOf(a),assert.ok(a&&++i<=MAX_CLASS_DEPTH,o+" must be a "+r.name+" instance");assert.strictEqual(a.constructor.name,r.name,o+" must be a "+r.name+" instance");var s=a._sshpkApiVersion;void 0===s&&(s=r._oldVersionDetect(e)),assert.ok(s[0]==t[0]&&s[1]>=t[1],o+" must be compatible with "+r.name+" klass version "+t[0]+"."+t[1])}}function countZeros(e){for(var r=0,t=8;r<e.length;){var o=1<<t;if((e[r]&o)===o)break;t--,0>t&&(r++,t=8)}return 8*r+(8-t)-1}function bufferSplit(e,r){assert.buffer(e),assert.string(r);for(var t=[],o=0,a=0,i=0;i<e.length;++i)if(e[i]===r.charCodeAt(a)?++a:a=e[i]===r.charCodeAt(0)?1:0,a>=r.length){var s=i+1;t.push(e.slice(o,s-a)),o=s,a=0}return o<=e.length&&t.push(e.slice(o,e.length)),t}function ecNormalize(e,r){if(assert.buffer(e),0===e[0]&&4===e[1])return r?e:e.slice(1);if(4===e[0]){if(!r)return e}else{for(;0===e[0];)e=e.slice(1);if(2===e[0]||3===e[0])throw new Error("Compressed elliptic curve points are not supported");if(4!==e[0])throw new Error("Not a valid elliptic curve point");if(!r)return e}var t=new Buffer(e.length+1);return t[0]=0,e.copy(t,1),t}function mpNormalize(e){for(assert.buffer(e);e.length>1&&0===e[0]&&0===(128&e[1]);)e=e.slice(1);if(128===(128&e[0])){var r=new Buffer(e.length+1);r[0]=0,e.copy(r,1),e=r}return e}function bigintToMpBuf(e){var r=new Buffer(e.toByteArray());return r=mpNormalize(r)}function calculateDSAPublic(e,r,t){assert.buffer(e),assert.buffer(r),assert.buffer(t);try{var o=require("jsbn").BigInteger}catch(a){throw new Error("To load a PKCS#8 format DSA private key, the node jsbn library is required.")}e=new o(e),r=new o(r),t=new o(t);var i=e.modPow(t,r),s=bigintToMpBuf(i);return s}function addRSAMissing(e){assert.object(e),assertCompatible(e,PrivateKey,[1,1]);try{var r=require("jsbn").BigInteger}catch(t){throw new Error("To write a PEM private key from this source, the node jsbn lib is required.")}var o,a=new r(e.part.d.data);if(!e.part.dmodp){var i=new r(e.part.p.data),s=a.mod(i.subtract(1));o=bigintToMpBuf(s),e.part.dmodp={name:"dmodp",data:o},e.parts.push(e.part.dmodp)}if(!e.part.dmodq){var n=new r(e.part.q.data),p=a.mod(n.subtract(1));o=bigintToMpBuf(p),e.part.dmodq={name:"dmodq",data:o},e.parts.push(e.part.dmodq)}}module.exports={bufferSplit:bufferSplit,addRSAMissing:addRSAMissing,calculateDSAPublic:calculateDSAPublic,mpNormalize:mpNormalize,ecNormalize:ecNormalize,countZeros:countZeros,assertCompatible:assertCompatible,isCompatible:isCompatible};var assert=require("assert-plus"),PrivateKey=require("./private-key"),MAX_CLASS_DEPTH=3;
}).call(this,require("buffer").Buffer)

},{"./private-key":329,"assert-plus":339,"buffer":42,"jsbn":349}],333:[function(require,module,exports){
module.exports={newInvalidAsn1Error:function(r){var n=new Error;return n.name="InvalidAsn1Error",n.message=r||"",n}};
},{}],334:[function(require,module,exports){
var errors=require("./errors"),types=require("./types"),Reader=require("./reader"),Writer=require("./writer");module.exports={Reader:Reader,Writer:Writer};for(var t in types)types.hasOwnProperty(t)&&(module.exports[t]=types[t]);for(var e in errors)errors.hasOwnProperty(e)&&(module.exports[e]=errors[e]);
},{"./errors":333,"./reader":335,"./types":336,"./writer":337}],335:[function(require,module,exports){
(function (Buffer){
function Reader(e){if(!e||!Buffer.isBuffer(e))throw new TypeError("data must be a node Buffer");this._buf=e,this._size=e.length,this._len=0,this._offset=0}var assert=require("assert"),ASN1=require("./types"),errors=require("./errors"),newInvalidAsn1Error=errors.newInvalidAsn1Error;Object.defineProperty(Reader.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(Reader.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(Reader.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(Reader.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),Reader.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var t=255&this._buf[this._offset];return e||(this._offset+=1),t},Reader.prototype.peek=function(){return this.readByte(!0)},Reader.prototype.readLength=function(e){if(void 0===e&&(e=this._offset),e>=this._size)return null;var t=255&this._buf[e++];if(null===t)return null;if(128==(128&t)){if(t&=127,0==t)throw newInvalidAsn1Error("Indefinite length not supported");if(t>4)throw newInvalidAsn1Error("encoding too long");if(this._size-e<t)return null;this._len=0;for(var r=0;t>r;r++)this._len=(this._len<<8)+(255&this._buf[e++])}else this._len=t;return e},Reader.prototype.readSequence=function(e){var t=this.peek();if(null===t)return null;if(void 0!==e&&e!==t)throw newInvalidAsn1Error("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);return null===r?null:(this._offset=r,t)},Reader.prototype.readInt=function(){return this._readTag(ASN1.Integer)},Reader.prototype.readBoolean=function(){return 0===this._readTag(ASN1.Boolean)?!1:!0},Reader.prototype.readEnumeration=function(){return this._readTag(ASN1.Enumeration)},Reader.prototype.readString=function(e,t){e||(e=ASN1.OctetString);var r=this.peek();if(null===r)return null;if(r!==e)throw newInvalidAsn1Error("Expected 0x"+e.toString(16)+": got 0x"+r.toString(16));var n=this.readLength(this._offset+1);if(null===n)return null;if(this.length>this._size-n)return null;if(this._offset=n,0===this.length)return t?new Buffer(0):"";var i=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,t?i:i.toString("utf8")},Reader.prototype.readOID=function(e){e||(e=ASN1.OID);var t=this.readString(e,!0);if(null===t)return null;for(var r=[],n=0,i=0;i<t.length;i++){var o=255&t[i];n<<=7,n+=127&o,0==(128&o)&&(r.push(n),n=0)}return n=r.shift(),r.unshift(n%40),r.unshift(n/40>>0),r.join(".")},Reader.prototype._readTag=function(e){assert.ok(void 0!==e);var t=this.peek();if(null===t)return null;if(t!==e)throw newInvalidAsn1Error("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);if(null===r)return null;if(this.length>4)throw newInvalidAsn1Error("Integer too long: "+this.length);if(this.length>this._size-r)return null;this._offset=r;for(var n=this._buf[this._offset],i=0,o=0;o<this.length;o++)i<<=8,i|=255&this._buf[this._offset++];return 128==(128&n)&&4!==o&&(i-=1<<8*o),i>>0},module.exports=Reader;
}).call(this,require("buffer").Buffer)

},{"./errors":333,"./types":336,"assert":2,"buffer":42}],336:[function(require,module,exports){
module.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128};
},{}],337:[function(require,module,exports){
(function (Buffer){
function merge(t,e){assert.ok(t),assert.equal(typeof t,"object"),assert.ok(e),assert.equal(typeof e,"object");var r=Object.getOwnPropertyNames(t);return r.forEach(function(r){if(!e[r]){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,s)}}),e}function Writer(t){t=merge(DEFAULT_OPTS,t||{}),this._buf=new Buffer(t.size||1024),this._size=this._buf.length,this._offset=0,this._options=t,this._seq=[]}var assert=require("assert"),ASN1=require("./types"),errors=require("./errors"),newInvalidAsn1Error=errors.newInvalidAsn1Error,DEFAULT_OPTS={size:1024,growthFactor:8};Object.defineProperty(Writer.prototype,"buffer",{get:function(){if(this._seq.length)throw new InvalidAsn1Error(this._seq.length+" unended sequence(s)");return this._buf.slice(0,this._offset)}}),Writer.prototype.writeByte=function(t){if("number"!=typeof t)throw new TypeError("argument must be a Number");this._ensure(1),this._buf[this._offset++]=t},Writer.prototype.writeInt=function(t,e){if("number"!=typeof t)throw new TypeError("argument must be a Number");"number"!=typeof e&&(e=ASN1.Integer);for(var r=4;(0===(4286578688&t)||-8388608===(4286578688&t))&&r>1;)r--,t<<=8;if(r>4)throw new InvalidAsn1Error("BER ints cannot be > 0xffffffff");for(this._ensure(2+r),this._buf[this._offset++]=e,this._buf[this._offset++]=r;r-- >0;)this._buf[this._offset++]=(4278190080&t)>>>24,t<<=8},Writer.prototype.writeNull=function(){this.writeByte(ASN1.Null),this.writeByte(0)},Writer.prototype.writeEnumeration=function(t,e){if("number"!=typeof t)throw new TypeError("argument must be a Number");return"number"!=typeof e&&(e=ASN1.Enumeration),this.writeInt(t,e)},Writer.prototype.writeBoolean=function(t,e){if("boolean"!=typeof t)throw new TypeError("argument must be a Boolean");"number"!=typeof e&&(e=ASN1.Boolean),this._ensure(3),this._buf[this._offset++]=e,this._buf[this._offset++]=1,this._buf[this._offset++]=t?255:0},Writer.prototype.writeString=function(t,e){if("string"!=typeof t)throw new TypeError("argument must be a string (was: "+typeof t+")");"number"!=typeof e&&(e=ASN1.OctetString);var r=Buffer.byteLength(t);this.writeByte(e),this.writeLength(r),r&&(this._ensure(r),this._buf.write(t,this._offset),this._offset+=r)},Writer.prototype.writeBuffer=function(t,e){if("number"!=typeof e)throw new TypeError("tag must be a number");if(!Buffer.isBuffer(t))throw new TypeError("argument must be a buffer");this.writeByte(e),this.writeLength(t.length),this._ensure(t.length),t.copy(this._buf,this._offset,0,t.length),this._offset+=t.length},Writer.prototype.writeStringArray=function(t){if(!t instanceof Array)throw new TypeError("argument must be an Array[String]");var e=this;t.forEach(function(t){e.writeString(t)})},Writer.prototype.writeOID=function(t,e){function r(t,e){128>e?t.push(e):16384>e?(t.push(e>>>7|128),t.push(127&e)):2097152>e?(t.push(e>>>14|128),t.push(255&(e>>>7|128)),t.push(127&e)):268435456>e?(t.push(e>>>21|128),t.push(255&(e>>>14|128)),t.push(255&(e>>>7|128)),t.push(127&e)):(t.push(255&(e>>>28|128)),t.push(255&(e>>>21|128)),t.push(255&(e>>>14|128)),t.push(255&(e>>>7|128)),t.push(127&e))}if("string"!=typeof t)throw new TypeError("argument must be a string");if("number"!=typeof e&&(e=ASN1.OID),!/^([0-9]+\.){3,}[0-9]+$/.test(t))throw new Error("argument is not a valid OID string");var s=t.split("."),i=[];i.push(40*parseInt(s[0],10)+parseInt(s[1],10)),s.slice(2).forEach(function(t){r(i,parseInt(t,10))});var f=this;this._ensure(2+i.length),this.writeByte(e),this.writeLength(i.length),i.forEach(function(t){f.writeByte(t)})},Writer.prototype.writeLength=function(t){if("number"!=typeof t)throw new TypeError("argument must be a Number");if(this._ensure(4),127>=t)this._buf[this._offset++]=t;else if(255>=t)this._buf[this._offset++]=129,this._buf[this._offset++]=t;else if(65535>=t)this._buf[this._offset++]=130,this._buf[this._offset++]=t>>8,this._buf[this._offset++]=t;else{if(!(16777215>=t))throw new InvalidAsn1ERror("Length too long (> 4 bytes)");this._buf[this._offset++]=131,this._buf[this._offset++]=t>>16,this._buf[this._offset++]=t>>8,this._buf[this._offset++]=t}},Writer.prototype.startSequence=function(t){"number"!=typeof t&&(t=ASN1.Sequence|ASN1.Constructor),this.writeByte(t),this._seq.push(this._offset),this._ensure(3),this._offset+=3},Writer.prototype.endSequence=function(){var t=this._seq.pop(),e=t+3,r=this._offset-e;if(127>=r)this._shift(e,r,-2),this._buf[t]=r;else if(255>=r)this._shift(e,r,-1),this._buf[t]=129,this._buf[t+1]=r;else if(65535>=r)this._buf[t]=130,this._buf[t+1]=r>>8,this._buf[t+2]=r;else{if(!(16777215>=r))throw new InvalidAsn1Error("Sequence too long");this._shift(e,r,1),this._buf[t]=131,this._buf[t+1]=r>>16,this._buf[t+2]=r>>8,this._buf[t+3]=r}},Writer.prototype._shift=function(t,e,r){assert.ok(void 0!==t),assert.ok(void 0!==e),assert.ok(r),this._buf.copy(this._buf,t+r,t,t+e),this._offset+=r},Writer.prototype._ensure=function(t){if(assert.ok(t),this._size-this._offset<t){var e=this._size*this._options.growthFactor;e-this._offset<t&&(e+=t);var r=new Buffer(e);this._buf.copy(r,0,0,this._offset),this._buf=r,this._size=e}},module.exports=Writer;
}).call(this,require("buffer").Buffer)

},{"./errors":333,"./types":336,"assert":2,"buffer":42}],338:[function(require,module,exports){
var Ber=require("./ber/index");module.exports={Ber:Ber,BerReader:Ber.Reader,BerWriter:Ber.Writer};
},{"./ber/index":334}],339:[function(require,module,exports){
(function (Buffer,process){
function _capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}function _toss(t,r,e,o,n){throw new assert.AssertionError({message:util.format("%s (%s) is required",t,r),actual:void 0===n?typeof o:n(o),expected:r,operator:e||"===",stackStartFunction:_toss.caller})}function _getClass(t){return Object.prototype.toString.call(t).slice(8,-1)}function noop(){}function _setExports(t){var r,e=Object.keys(types);return r=process.env.NODE_NDEBUG?noop:function(t,r){t||_toss(r,"true",t)},e.forEach(function(e){if(t)return void(r[e]=noop);var o=types[e];r[e]=function(t,r){o.check(t)||_toss(r,e,o.operator,t,o.actual)}}),e.forEach(function(e){var o="optional"+_capitalize(e);if(t)return void(r[o]=noop);var n=types[e];r[o]=function(t,r){void 0!==t&&null!==t&&(n.check(t)||_toss(r,e,n.operator,t,n.actual))}}),e.forEach(function(e){var o="arrayOf"+_capitalize(e);if(t)return void(r[o]=noop);var n=types[e],a="["+e+"]";r[o]=function(t,r){Array.isArray(t)||_toss(r,a,n.operator,t,n.actual);var e;for(e=0;e<t.length;e++)n.check(t[e])||_toss(r,a,n.operator,t,n.actual)}}),e.forEach(function(e){var o="optionalArrayOf"+_capitalize(e);if(t)return void(r[o]=noop);var n=types[e],a="["+e+"]";r[o]=function(t,r){if(void 0!==t&&null!==t){Array.isArray(t)||_toss(r,a,n.operator,t,n.actual);var e;for(e=0;e<t.length;e++)n.check(t[e])||_toss(r,a,n.operator,t,n.actual)}}}),Object.keys(assert).forEach(function(e){return"AssertionError"===e?void(r[e]=assert[e]):t?void(r[e]=noop):void(r[e]=assert[e])}),r._setExports=_setExports,r}var assert=require("assert"),Stream=require("stream").Stream,util=require("util"),UUID_REGEXP=/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/,types={bool:{check:function(t){return"boolean"==typeof t}},func:{check:function(t){return"function"==typeof t}},string:{check:function(t){return"string"==typeof t}},object:{check:function(t){return"object"==typeof t&&null!==t}},number:{check:function(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}},buffer:{check:function(t){return Buffer.isBuffer(t)},operator:"Buffer.isBuffer"},array:{check:function(t){return Array.isArray(t)},operator:"Array.isArray"},stream:{check:function(t){return t instanceof Stream},operator:"instanceof",actual:_getClass},date:{check:function(t){return t instanceof Date},operator:"instanceof",actual:_getClass},regexp:{check:function(t){return t instanceof RegExp},operator:"instanceof",actual:_getClass},uuid:{check:function(t){return"string"==typeof t&&UUID_REGEXP.test(t)},operator:"isUUID"}};module.exports=_setExports(process.env.NODE_NDEBUG);
}).call(this,{"isBuffer":require("../../../../../../../../../../../is-buffer/index.js")},require('_process'))

},{"../../../../../../../../../../../is-buffer/index.js":99,"_process":425,"assert":2,"stream":573,"util":594}],340:[function(require,module,exports){
(function (Buffer){
function unstupid(e,t){return e.length>=t?e:unstupid("0"+e,t)}var crypto=require("crypto"),BigInteger=require("jsbn").BigInteger,ECPointFp=require("./lib/ec.js").ECPointFp;exports.ECCurves=require("./lib/sec.js"),exports.ECKey=function(e,t,r){var i,n=e(),u=n.getN(),g=Math.floor(u.bitLength()/8);if(t)if(r){var e=n.getCurve();this.P=e.decodePointHex(t.toString("hex"))}else{if(t.length!=g)return!1;i=new BigInteger(t.toString("hex"),16)}else{var o=u.subtract(BigInteger.ONE),s=new BigInteger(crypto.randomBytes(u.bitLength()));i=s.mod(o).add(BigInteger.ONE),this.P=n.getG().multiply(i)}this.P&&(this.PublicKey=new Buffer(n.getCurve().encodeCompressedPointHex(this.P),"hex")),i&&(this.PrivateKey=new Buffer(unstupid(i.toString(16),2*g),"hex"),this.deriveSharedSecret=function(e){if(!e||!e.P)return!1;var t=e.P.multiply(i);return new Buffer(unstupid(t.getX().toBigInteger().toString(16),2*g),"hex")})};
}).call(this,require("buffer").Buffer)

},{"./lib/ec.js":341,"./lib/sec.js":342,"buffer":42,"crypto":52,"jsbn":349}],341:[function(require,module,exports){
function ECFieldElementFp(t,e){this.x=e,this.q=t}function feFpEquals(t){return t==this?!0:this.q.equals(t.q)&&this.x.equals(t.x)}function feFpToBigInteger(){return this.x}function feFpNegate(){return new ECFieldElementFp(this.q,this.x.negate().mod(this.q))}function feFpAdd(t){return new ECFieldElementFp(this.q,this.x.add(t.toBigInteger()).mod(this.q))}function feFpSubtract(t){return new ECFieldElementFp(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))}function feFpMultiply(t){return new ECFieldElementFp(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))}function feFpSquare(){return new ECFieldElementFp(this.q,this.x.square().mod(this.q))}function feFpDivide(t){return new ECFieldElementFp(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))}function ECPointFp(t,e,i,r){this.curve=t,this.x=e,this.y=i,null==r?this.z=BigInteger.ONE:this.z=r,this.zinv=null}function pointFpGetX(){null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q));var t=this.x.toBigInteger().multiply(this.zinv);return this.curve.reduce(t),this.curve.fromBigInteger(t)}function pointFpGetY(){null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q));var t=this.y.toBigInteger().multiply(this.zinv);return this.curve.reduce(t),this.curve.fromBigInteger(t)}function pointFpEquals(t){if(t==this)return!0;if(this.isInfinity())return t.isInfinity();if(t.isInfinity())return this.isInfinity();var e,i;return e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),e.equals(BigInteger.ZERO)?(i=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q),i.equals(BigInteger.ZERO)):!1}function pointFpIsInfinity(){return null==this.x&&null==this.y?!0:this.z.equals(BigInteger.ZERO)&&!this.y.toBigInteger().equals(BigInteger.ZERO)}function pointFpNegate(){return new ECPointFp(this.curve,this.x,this.y.negate(),this.z)}function pointFpAdd(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),i=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q);if(BigInteger.ZERO.equals(i))return BigInteger.ZERO.equals(e)?this.twice():this.curve.getInfinity();var r=new BigInteger("3"),n=this.x.toBigInteger(),u=this.y.toBigInteger(),s=(t.x.toBigInteger(),t.y.toBigInteger(),i.square()),o=s.multiply(i),l=n.multiply(s),p=e.square().multiply(this.z),h=p.subtract(l.shiftLeft(1)).multiply(t.z).subtract(o).multiply(i).mod(this.curve.q),g=l.multiply(r).multiply(e).subtract(u.multiply(o)).subtract(p.multiply(e)).multiply(t.z).add(e.multiply(o)).mod(this.curve.q),c=o.multiply(this.z).multiply(t.z).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(h),this.curve.fromBigInteger(g),c)}function pointFpTwice(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=new BigInteger("3"),e=this.x.toBigInteger(),i=this.y.toBigInteger(),r=i.multiply(this.z),n=r.multiply(i).mod(this.curve.q),u=this.curve.a.toBigInteger(),s=e.square().multiply(t);BigInteger.ZERO.equals(u)||(s=s.add(this.z.square().multiply(u))),s=s.mod(this.curve.q);var o=s.square().subtract(e.shiftLeft(3).multiply(n)).shiftLeft(1).multiply(r).mod(this.curve.q),l=s.multiply(t).multiply(e).subtract(n.shiftLeft(1)).shiftLeft(2).multiply(n).subtract(s.square().multiply(s)).mod(this.curve.q),p=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(o),this.curve.fromBigInteger(l),p)}function pointFpMultiply(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,i=t,r=i.multiply(new BigInteger("3")),n=this.negate(),u=this;for(e=r.bitLength()-2;e>0;--e){u=u.twice();var s=r.testBit(e),o=i.testBit(e);s!=o&&(u=u.add(s?this:n))}return u}function pointFpMultiplyTwo(t,e,i){var r;r=t.bitLength()>i.bitLength()?t.bitLength()-1:i.bitLength()-1;for(var n=this.curve.getInfinity(),u=this.add(e);r>=0;)n=n.twice(),t.testBit(r)?n=i.testBit(r)?n.add(u):n.add(this):i.testBit(r)&&(n=n.add(e)),--r;return n}function ECCurveFp(t,e,i){this.q=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(i),this.infinity=new ECPointFp(this,null,null),this.reducer=new Barrett(this.q)}function curveFpGetQ(){return this.q}function curveFpGetA(){return this.a}function curveFpGetB(){return this.b}function curveFpEquals(t){return t==this?!0:this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)}function curveFpGetInfinity(){return this.infinity}function curveFpFromBigInteger(t){return new ECFieldElementFp(this.q,t)}function curveReduce(t){this.reducer.reduce(t)}function curveFpDecodePointHex(t){switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var e=(t.length-2)/2,i=t.substr(2,e),r=t.substr(e+2,e);return new ECPointFp(this,this.fromBigInteger(new BigInteger(i,16)),this.fromBigInteger(new BigInteger(r,16)));default:return null}}function curveFpEncodePointHex(t){if(t.isInfinity())return"00";var e=t.getX().toBigInteger().toString(16),i=t.getY().toBigInteger().toString(16),r=this.getQ().toString(16).length;for(r%2!=0&&r++;e.length<r;)e="0"+e;for(;i.length<r;)i="0"+i;return"04"+e+i}var BigInteger=require("jsbn").BigInteger,Barrett=BigInteger.prototype.Barrett;ECFieldElementFp.prototype.equals=feFpEquals,ECFieldElementFp.prototype.toBigInteger=feFpToBigInteger,ECFieldElementFp.prototype.negate=feFpNegate,ECFieldElementFp.prototype.add=feFpAdd,ECFieldElementFp.prototype.subtract=feFpSubtract,ECFieldElementFp.prototype.multiply=feFpMultiply,ECFieldElementFp.prototype.square=feFpSquare,ECFieldElementFp.prototype.divide=feFpDivide,ECPointFp.prototype.getX=pointFpGetX,ECPointFp.prototype.getY=pointFpGetY,ECPointFp.prototype.equals=pointFpEquals,ECPointFp.prototype.isInfinity=pointFpIsInfinity,ECPointFp.prototype.negate=pointFpNegate,ECPointFp.prototype.add=pointFpAdd,ECPointFp.prototype.twice=pointFpTwice,ECPointFp.prototype.multiply=pointFpMultiply,ECPointFp.prototype.multiplyTwo=pointFpMultiplyTwo,ECCurveFp.prototype.getQ=curveFpGetQ,ECCurveFp.prototype.getA=curveFpGetA,ECCurveFp.prototype.getB=curveFpGetB,ECCurveFp.prototype.equals=curveFpEquals,ECCurveFp.prototype.getInfinity=curveFpGetInfinity,ECCurveFp.prototype.fromBigInteger=curveFpFromBigInteger,ECCurveFp.prototype.reduce=curveReduce,ECCurveFp.prototype.encodePointHex=curveFpEncodePointHex,ECCurveFp.prototype.decodePointHex=function(t){var e;switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:e=!1;case 3:void 0==e&&(e=!0);var i=t.length-2,r=t.substr(2,i),n=this.fromBigInteger(new BigInteger(r,16)),u=n.multiply(n.square().add(this.getA())).add(this.getB()),s=u.sqrt();if(null==s)throw"Invalid point compression";var o=s.toBigInteger();return o.testBit(0)!=e&&(s=this.fromBigInteger(this.getQ().subtract(o))),new ECPointFp(this,n,s);case 4:case 6:case 7:var i=(t.length-2)/2,r=t.substr(2,i),l=t.substr(i+2,i);return new ECPointFp(this,this.fromBigInteger(new BigInteger(r,16)),this.fromBigInteger(new BigInteger(l,16)));default:return null}},ECCurveFp.prototype.encodeCompressedPointHex=function(t){if(t.isInfinity())return"00";var e=t.getX().toBigInteger().toString(16),i=this.getQ().toString(16).length;for(i%2!=0&&i++;e.length<i;)e="0"+e;var r;return r=t.getY().toBigInteger().isEven()?"02":"03",r+e},ECFieldElementFp.prototype.getR=function(){if(void 0!=this.r)return this.r;this.r=null;var t=this.q.bitLength();if(t>128){var e=this.q.shiftRight(t-64);-1==e.intValue()&&(this.r=BigInteger.ONE.shiftLeft(t).subtract(this.q))}return this.r},ECFieldElementFp.prototype.modMult=function(t,e){return this.modReduce(t.multiply(e))},ECFieldElementFp.prototype.modReduce=function(t){if(null!=this.getR()){for(var e=q.bitLength();t.bitLength()>e+1;){var i=t.shiftRight(e),r=t.subtract(i.shiftLeft(e));this.getR().equals(BigInteger.ONE)||(i=i.multiply(this.getR())),t=i.add(r)}for(;t.compareTo(q)>=0;)t=t.subtract(q)}else t=t.mod(q);return t},ECFieldElementFp.prototype.sqrt=function(){if(!this.q.testBit(0))throw"unsupported";if(this.q.testBit(1)){var t=new ECFieldElementFp(this.q,this.x.modPow(this.q.shiftRight(2).add(BigInteger.ONE),this.q));return t.square().equals(this)?t:null}var e=this.q.subtract(BigInteger.ONE),i=e.shiftRight(1);if(!this.x.modPow(i,this.q).equals(BigInteger.ONE))return null;var r,n,u=e.shiftRight(2),s=u.shiftLeft(1).add(BigInteger.ONE),o=this.x,l=modDouble(modDouble(o));do{var p;do p=new BigInteger(this.q.bitLength(),new SecureRandom);while(p.compareTo(this.q)>=0||!p.multiply(p).subtract(l).modPow(i,this.q).equals(e));var h=this.lucasSequence(p,o,s);if(r=h[0],n=h[1],this.modMult(n,n).equals(l))return n.testBit(0)&&(n=n.add(q)),n=n.shiftRight(1),new ECFieldElementFp(q,n)}while(r.equals(BigInteger.ONE)||r.equals(e));return null},ECFieldElementFp.prototype.lucasSequence=function(t,e,i){for(var r=i.bitLength(),n=i.getLowestSetBit(),u=BigInteger.ONE,s=BigInteger.TWO,o=t,l=BigInteger.ONE,p=BigInteger.ONE,h=r-1;h>=n+1;--h)l=this.modMult(l,p),i.testBit(h)?(p=this.modMult(l,e),u=this.modMult(u,o),s=this.modReduce(o.multiply(s).subtract(t.multiply(l))),o=this.modReduce(o.multiply(o).subtract(p.shiftLeft(1)))):(p=l,u=this.modReduce(u.multiply(s).subtract(l)),o=this.modReduce(o.multiply(s).subtract(t.multiply(l))),s=this.modReduce(s.multiply(s).subtract(l.shiftLeft(1))));l=this.modMult(l,p),p=this.modMult(l,e),u=this.modReduce(u.multiply(s).subtract(l)),s=this.modReduce(o.multiply(s).subtract(t.multiply(l))),l=this.modMult(l,p);for(var h=1;n>=h;++h)u=this.modMult(u,s),s=this.modReduce(s.multiply(s).subtract(l.shiftLeft(1))),l=this.modMult(l,l);return[u,s]};var exports={ECCurveFp:ECCurveFp,ECPointFp:ECPointFp,ECFieldElementFp:ECFieldElementFp};module.exports=exports;
},{"jsbn":349}],342:[function(require,module,exports){
function X9ECParameters(F,e,r,C){this.curve=F,this.g=e,this.n=r,this.h=C}function x9getCurve(){return this.curve}function x9getG(){return this.g}function x9getN(){return this.n}function x9getH(){return this.h}function fromHex(F){return new BigInteger(F,16)}function secp128r1(){var F=fromHex("FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF"),e=fromHex("FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC"),r=fromHex("E87579C11079F43DD824993C2CEE5ED3"),C=fromHex("FFFFFFFE0000000075A30D1B9038A115"),E=BigInteger.ONE,B=new ECCurveFp(F,e,r),t=B.decodePointHex("04161FF7528B899B2D0C28607CA52C5B86CF5AC8395BAFEB13C02DA292DDED7A83");return new X9ECParameters(B,t,C,E)}function secp160k1(){var F=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73"),e=BigInteger.ZERO,r=fromHex("7"),C=fromHex("0100000000000000000001B8FA16DFAB9ACA16B6B3"),E=BigInteger.ONE,B=new ECCurveFp(F,e,r),t=B.decodePointHex("043B4C382CE37AA192A4019E763036F4F5DD4D7EBB938CF935318FDCED6BC28286531733C3F03C4FEE");return new X9ECParameters(B,t,C,E)}function secp160r1(){var F=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF"),e=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC"),r=fromHex("1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45"),C=fromHex("0100000000000000000001F4C8F927AED3CA752257"),E=BigInteger.ONE,B=new ECCurveFp(F,e,r),t=B.decodePointHex("044A96B5688EF573284664698968C38BB913CBFC8223A628553168947D59DCC912042351377AC5FB32");return new X9ECParameters(B,t,C,E)}function secp192k1(){var F=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37"),e=BigInteger.ZERO,r=fromHex("3"),C=fromHex("FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D"),E=BigInteger.ONE,B=new ECCurveFp(F,e,r),t=B.decodePointHex("04DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D");return new X9ECParameters(B,t,C,E)}function secp192r1(){var F=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF"),e=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC"),r=fromHex("64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1"),C=fromHex("FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831"),E=BigInteger.ONE,B=new ECCurveFp(F,e,r),t=B.decodePointHex("04188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF101207192B95FFC8DA78631011ED6B24CDD573F977A11E794811");return new X9ECParameters(B,t,C,E)}function secp224r1(){var F=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001"),e=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE"),r=fromHex("B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4"),C=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D"),E=BigInteger.ONE,B=new ECCurveFp(F,e,r),t=B.decodePointHex("04B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34");return new X9ECParameters(B,t,C,E)}function secp256r1(){var F=fromHex("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),e=fromHex("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),r=fromHex("5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),C=fromHex("FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),E=BigInteger.ONE,B=new ECCurveFp(F,e,r),t=B.decodePointHex("046B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C2964FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5");return new X9ECParameters(B,t,C,E)}function getSECCurveByName(F){return"secp128r1"==F?secp128r1():"secp160k1"==F?secp160k1():"secp160r1"==F?secp160r1():"secp192k1"==F?secp192k1():"secp192r1"==F?secp192r1():"secp224r1"==F?secp224r1():"secp256r1"==F?secp256r1():null}var BigInteger=require("jsbn").BigInteger,ECCurveFp=require("./ec.js").ECCurveFp;X9ECParameters.prototype.getCurve=x9getCurve,X9ECParameters.prototype.getG=x9getG,X9ECParameters.prototype.getN=x9getN,X9ECParameters.prototype.getH=x9getH,module.exports={secp128r1:secp128r1,secp160k1:secp160k1,secp160r1:secp160r1,secp192k1:secp192k1,secp192r1:secp192r1,secp224r1:secp224r1,secp256r1:secp256r1};
},{"./ec.js":341,"jsbn":349}],343:[function(require,module,exports){
"use strict";var dh=require("./lib/dh"),eddsa=require("./lib/eddsa"),curve255=require("./lib/curve255"),utils=require("./lib/utils"),ns={};ns.VERSION="0.7.1",ns.dh=dh,ns.eddsa=eddsa,ns.curve255=curve255,ns.utils=utils,module.exports=ns;
},{"./lib/curve255":345,"./lib/dh":346,"./lib/eddsa":347,"./lib/utils":348}],344:[function(require,module,exports){
"use strict";function _setbit(n,r,u){var d=r>>4,o=n[d];o+=(1<<(15&r))*u,n[d]=o}function _getbit(n,r){return n[r>>4]>>(15&r)&1}function _ZERO(){return[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}function _ONE(){return[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}function _BASE(){return[9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}function _bigintcmp(n,r){var u,d,o,_=0;for(u=15;u>=0;u--){var m=n[u],t=r[u];_+=(m-t)*(1-_*_),o=_>>31,d=_+o^o,_=~~((_<<1)/(d+1))}return _}function _bigintadd(n,r){var u,d=[];return d[0]=65535&(u=n[0]+r[0]),d[1]=65535&(u=(u>>>16)+n[1]+r[1]),d[2]=65535&(u=(u>>>16)+n[2]+r[2]),d[3]=65535&(u=(u>>>16)+n[3]+r[3]),d[4]=65535&(u=(u>>>16)+n[4]+r[4]),d[5]=65535&(u=(u>>>16)+n[5]+r[5]),d[6]=65535&(u=(u>>>16)+n[6]+r[6]),d[7]=65535&(u=(u>>>16)+n[7]+r[7]),d[8]=65535&(u=(u>>>16)+n[8]+r[8]),d[9]=65535&(u=(u>>>16)+n[9]+r[9]),d[10]=65535&(u=(u>>>16)+n[10]+r[10]),d[11]=65535&(u=(u>>>16)+n[11]+r[11]),d[12]=65535&(u=(u>>>16)+n[12]+r[12]),d[13]=65535&(u=(u>>>16)+n[13]+r[13]),d[14]=65535&(u=(u>>>16)+n[14]+r[14]),d[15]=(u>>>16)+n[15]+r[15],d}function _bigintsub(n,r){var u,d=[];return d[0]=65535&(u=524288+n[0]-r[0]),d[1]=65535&(u=(u>>>16)+524280+n[1]-r[1]),d[2]=65535&(u=(u>>>16)+524280+n[2]-r[2]),d[3]=65535&(u=(u>>>16)+524280+n[3]-r[3]),d[4]=65535&(u=(u>>>16)+524280+n[4]-r[4]),d[5]=65535&(u=(u>>>16)+524280+n[5]-r[5]),d[6]=65535&(u=(u>>>16)+524280+n[6]-r[6]),d[7]=65535&(u=(u>>>16)+524280+n[7]-r[7]),d[8]=65535&(u=(u>>>16)+524280+n[8]-r[8]),d[9]=65535&(u=(u>>>16)+524280+n[9]-r[9]),d[10]=65535&(u=(u>>>16)+524280+n[10]-r[10]),d[11]=65535&(u=(u>>>16)+524280+n[11]-r[11]),d[12]=65535&(u=(u>>>16)+524280+n[12]-r[12]),d[13]=65535&(u=(u>>>16)+524280+n[13]-r[13]),d[14]=65535&(u=(u>>>16)+524280+n[14]-r[14]),d[15]=(u>>>16)-8+n[15]-r[15],d}function _sqr8h(n,r,u,d,o,_,m,t){var s,e=[];return e[0]=65535&(s=t*t),e[1]=65535&(s=(0|s/65536)+2*t*m),e[2]=65535&(s=(0|s/65536)+2*t*_+m*m),e[3]=65535&(s=(0|s/65536)+2*t*o+2*m*_),e[4]=65535&(s=(0|s/65536)+2*t*d+2*m*o+_*_),e[5]=65535&(s=(0|s/65536)+2*t*u+2*m*d+2*_*o),e[6]=65535&(s=(0|s/65536)+2*t*r+2*m*u+2*_*d+o*o),e[7]=65535&(s=(0|s/65536)+2*t*n+2*m*r+2*_*u+2*o*d),e[8]=65535&(s=(0|s/65536)+2*m*n+2*_*r+2*o*u+d*d),e[9]=65535&(s=(0|s/65536)+2*_*n+2*o*r+2*d*u),e[10]=65535&(s=(0|s/65536)+2*o*n+2*d*r+u*u),e[11]=65535&(s=(0|s/65536)+2*d*n+2*u*r),e[12]=65535&(s=(0|s/65536)+2*u*n+r*r),e[13]=65535&(s=(0|s/65536)+2*r*n),e[14]=65535&(s=(0|s/65536)+n*n),e[15]=0|s/65536,e}function _sqrmodp(n){var r,u=_sqr8h(n[15],n[14],n[13],n[12],n[11],n[10],n[9],n[8]),d=_sqr8h(n[7],n[6],n[5],n[4],n[3],n[2],n[1],n[0]),o=_sqr8h(n[15]+n[7],n[14]+n[6],n[13]+n[5],n[12]+n[4],n[11]+n[3],n[10]+n[2],n[9]+n[1],n[8]+n[0]),_=[];return _[0]=65535&(r=8388608+d[0]+38*(o[8]-u[8]-d[8]+u[0]-128)),_[1]=65535&(r=8388480+(r>>>16)+d[1]+38*(o[9]-u[9]-d[9]+u[1])),_[2]=65535&(r=8388480+(r>>>16)+d[2]+38*(o[10]-u[10]-d[10]+u[2])),_[3]=65535&(r=8388480+(r>>>16)+d[3]+38*(o[11]-u[11]-d[11]+u[3])),_[4]=65535&(r=8388480+(r>>>16)+d[4]+38*(o[12]-u[12]-d[12]+u[4])),_[5]=65535&(r=8388480+(r>>>16)+d[5]+38*(o[13]-u[13]-d[13]+u[5])),_[6]=65535&(r=8388480+(r>>>16)+d[6]+38*(o[14]-u[14]-d[14]+u[6])),_[7]=65535&(r=8388480+(r>>>16)+d[7]+38*(o[15]-u[15]-d[15]+u[7])),_[8]=65535&(r=8388480+(r>>>16)+d[8]+o[0]-u[0]-d[0]+38*u[8]),_[9]=65535&(r=8388480+(r>>>16)+d[9]+o[1]-u[1]-d[1]+38*u[9]),_[10]=65535&(r=8388480+(r>>>16)+d[10]+o[2]-u[2]-d[2]+38*u[10]),_[11]=65535&(r=8388480+(r>>>16)+d[11]+o[3]-u[3]-d[3]+38*u[11]),_[12]=65535&(r=8388480+(r>>>16)+d[12]+o[4]-u[4]-d[4]+38*u[12]),_[13]=65535&(r=8388480+(r>>>16)+d[13]+o[5]-u[5]-d[5]+38*u[13]),_[14]=65535&(r=8388480+(r>>>16)+d[14]+o[6]-u[6]-d[6]+38*u[14]),_[15]=8388480+(r>>>16)+d[15]+o[7]-u[7]-d[7]+38*u[15],_reduce(_),_}function _mul8h(n,r,u,d,o,_,m,t,s,e,i,p,a,c,l,b){var f,v=[];return v[0]=65535&(f=t*b),v[1]=65535&(f=(0|f/65536)+t*l+m*b),v[2]=65535&(f=(0|f/65536)+t*c+m*l+_*b),v[3]=65535&(f=(0|f/65536)+t*a+m*c+_*l+o*b),v[4]=65535&(f=(0|f/65536)+t*p+m*a+_*c+o*l+d*b),v[5]=65535&(f=(0|f/65536)+t*i+m*p+_*a+o*c+d*l+u*b),v[6]=65535&(f=(0|f/65536)+t*e+m*i+_*p+o*a+d*c+u*l+r*b),v[7]=65535&(f=(0|f/65536)+t*s+m*e+_*i+o*p+d*a+u*c+r*l+n*b),v[8]=65535&(f=(0|f/65536)+m*s+_*e+o*i+d*p+u*a+r*c+n*l),v[9]=65535&(f=(0|f/65536)+_*s+o*e+d*i+u*p+r*a+n*c),v[10]=65535&(f=(0|f/65536)+o*s+d*e+u*i+r*p+n*a),v[11]=65535&(f=(0|f/65536)+d*s+u*e+r*i+n*p),v[12]=65535&(f=(0|f/65536)+u*s+r*e+n*i),v[13]=65535&(f=(0|f/65536)+r*s+n*e),v[14]=65535&(f=(0|f/65536)+n*s),v[15]=0|f/65536,v}function _mulmodp(n,r){var u,d=_mul8h(n[15],n[14],n[13],n[12],n[11],n[10],n[9],n[8],r[15],r[14],r[13],r[12],r[11],r[10],r[9],r[8]),o=_mul8h(n[7],n[6],n[5],n[4],n[3],n[2],n[1],n[0],r[7],r[6],r[5],r[4],r[3],r[2],r[1],r[0]),_=_mul8h(n[15]+n[7],n[14]+n[6],n[13]+n[5],n[12]+n[4],n[11]+n[3],n[10]+n[2],n[9]+n[1],n[8]+n[0],r[15]+r[7],r[14]+r[6],r[13]+r[5],r[12]+r[4],r[11]+r[3],r[10]+r[2],r[9]+r[1],r[8]+r[0]),m=[];return m[0]=65535&(u=8388608+o[0]+38*(_[8]-d[8]-o[8]+d[0]-128)),m[1]=65535&(u=8388480+(u>>>16)+o[1]+38*(_[9]-d[9]-o[9]+d[1])),m[2]=65535&(u=8388480+(u>>>16)+o[2]+38*(_[10]-d[10]-o[10]+d[2])),m[3]=65535&(u=8388480+(u>>>16)+o[3]+38*(_[11]-d[11]-o[11]+d[3])),m[4]=65535&(u=8388480+(u>>>16)+o[4]+38*(_[12]-d[12]-o[12]+d[4])),m[5]=65535&(u=8388480+(u>>>16)+o[5]+38*(_[13]-d[13]-o[13]+d[5])),m[6]=65535&(u=8388480+(u>>>16)+o[6]+38*(_[14]-d[14]-o[14]+d[6])),m[7]=65535&(u=8388480+(u>>>16)+o[7]+38*(_[15]-d[15]-o[15]+d[7])),m[8]=65535&(u=8388480+(u>>>16)+o[8]+_[0]-d[0]-o[0]+38*d[8]),m[9]=65535&(u=8388480+(u>>>16)+o[9]+_[1]-d[1]-o[1]+38*d[9]),m[10]=65535&(u=8388480+(u>>>16)+o[10]+_[2]-d[2]-o[2]+38*d[10]),m[11]=65535&(u=8388480+(u>>>16)+o[11]+_[3]-d[3]-o[3]+38*d[11]),m[12]=65535&(u=8388480+(u>>>16)+o[12]+_[4]-d[4]-o[4]+38*d[12]),m[13]=65535&(u=8388480+(u>>>16)+o[13]+_[5]-d[5]-o[5]+38*d[13]),m[14]=65535&(u=8388480+(u>>>16)+o[14]+_[6]-d[6]-o[6]+38*d[14]),m[15]=8388480+(u>>>16)+o[15]+_[7]-d[7]-o[7]+38*d[15],_reduce(m),m}function _reduce(n){var r=n.slice(0),u=[n,r],d=n[15],o=u[32768>d&1];o[15]=32767&d,d=19*(0|d/32768),o[0]=65535&(d+=o[0]),d>>>=16,o[1]=65535&(d+=o[1]),d>>>=16,o[2]=65535&(d+=o[2]),d>>>=16,o[3]=65535&(d+=o[3]),d>>>=16,o[4]=65535&(d+=o[4]),d>>>=16,o[5]=65535&(d+=o[5]),d>>>=16,o[6]=65535&(d+=o[6]),d>>>=16,o[7]=65535&(d+=o[7]),d>>>=16,o[8]=65535&(d+=o[8]),d>>>=16,o[9]=65535&(d+=o[9]),d>>>=16,o[10]=65535&(d+=o[10]),d>>>=16,o[11]=65535&(d+=o[11]),d>>>=16,o[12]=65535&(d+=o[12]),d>>>=16,o[13]=65535&(d+=o[13]),d>>>=16,o[14]=65535&(d+=o[14]),d>>>=16,o[15]+=d}function _addmodp(n,r){var u,d=[];return d[0]=65535&(u=19*((0|n[15]>>>15)+(0|r[15]>>>15))+n[0]+r[0]),d[1]=65535&(u=(u>>>16)+n[1]+r[1]),d[2]=65535&(u=(u>>>16)+n[2]+r[2]),d[3]=65535&(u=(u>>>16)+n[3]+r[3]),d[4]=65535&(u=(u>>>16)+n[4]+r[4]),d[5]=65535&(u=(u>>>16)+n[5]+r[5]),d[6]=65535&(u=(u>>>16)+n[6]+r[6]),d[7]=65535&(u=(u>>>16)+n[7]+r[7]),d[8]=65535&(u=(u>>>16)+n[8]+r[8]),d[9]=65535&(u=(u>>>16)+n[9]+r[9]),d[10]=65535&(u=(u>>>16)+n[10]+r[10]),d[11]=65535&(u=(u>>>16)+n[11]+r[11]),d[12]=65535&(u=(u>>>16)+n[12]+r[12]),d[13]=65535&(u=(u>>>16)+n[13]+r[13]),d[14]=65535&(u=(u>>>16)+n[14]+r[14]),d[15]=(u>>>16)+(32767&n[15])+(32767&r[15]),d}function _submodp(n,r){var u,d=[];return d[0]=65535&(u=524288+19*((0|n[15]>>>15)-(0|r[15]>>>15)-1)+n[0]-r[0]),d[1]=65535&(u=(u>>>16)+524280+n[1]-r[1]),d[2]=65535&(u=(u>>>16)+524280+n[2]-r[2]),d[3]=65535&(u=(u>>>16)+524280+n[3]-r[3]),d[4]=65535&(u=(u>>>16)+524280+n[4]-r[4]),d[5]=65535&(u=(u>>>16)+524280+n[5]-r[5]),d[6]=65535&(u=(u>>>16)+524280+n[6]-r[6]),d[7]=65535&(u=(u>>>16)+524280+n[7]-r[7]),d[8]=65535&(u=(u>>>16)+524280+n[8]-r[8]),d[9]=65535&(u=(u>>>16)+524280+n[9]-r[9]),d[10]=65535&(u=(u>>>16)+524280+n[10]-r[10]),d[11]=65535&(u=(u>>>16)+524280+n[11]-r[11]),d[12]=65535&(u=(u>>>16)+524280+n[12]-r[12]),d[13]=65535&(u=(u>>>16)+524280+n[13]-r[13]),d[14]=65535&(u=(u>>>16)+524280+n[14]-r[14]),d[15]=(u>>>16)+32760+(32767&n[15])-(32767&r[15]),d}function _invmodp(n){for(var r=n,u=250;--u;)n=_sqrmodp(n),n=_mulmodp(n,r);return n=_sqrmodp(n),n=_sqrmodp(n),n=_mulmodp(n,r),n=_sqrmodp(n),n=_sqrmodp(n),n=_mulmodp(n,r),n=_sqrmodp(n),n=_mulmodp(n,r)}function _mulasmall(n){var r,u=121665,d=[];return d[0]=65535&(r=n[0]*u),d[1]=65535&(r=(0|r/65536)+n[1]*u),d[2]=65535&(r=(0|r/65536)+n[2]*u),d[3]=65535&(r=(0|r/65536)+n[3]*u),d[4]=65535&(r=(0|r/65536)+n[4]*u),d[5]=65535&(r=(0|r/65536)+n[5]*u),d[6]=65535&(r=(0|r/65536)+n[6]*u),d[7]=65535&(r=(0|r/65536)+n[7]*u),d[8]=65535&(r=(0|r/65536)+n[8]*u),d[9]=65535&(r=(0|r/65536)+n[9]*u),d[10]=65535&(r=(0|r/65536)+n[10]*u),d[11]=65535&(r=(0|r/65536)+n[11]*u),d[12]=65535&(r=(0|r/65536)+n[12]*u),d[13]=65535&(r=(0|r/65536)+n[13]*u),d[14]=65535&(r=(0|r/65536)+n[14]*u),d[15]=(0|r/65536)+n[15]*u,_reduce(d),d}function _dbl(n,r){var u,d,o,_,m;return o=_sqrmodp(_addmodp(n,r)),_=_sqrmodp(_submodp(n,r)),m=_submodp(o,_),u=_mulmodp(_,o),d=_mulmodp(_addmodp(_mulasmall(m),o),m),[u,d]}function _sum(n,r,u,d,o){var _,m,t,s;return t=_mulmodp(_submodp(n,r),_addmodp(u,d)),s=_mulmodp(_addmodp(n,r),_submodp(u,d)),_=_sqrmodp(_addmodp(t,s)),m=_mulmodp(_sqrmodp(_submodp(t,s)),o),[_,m]}function _generateKey(n){var r=crypto.randomBytes(32);n===!0&&(r[0]&=248,r[31]=127&r[31]|64);for(var u=[],d=0;d<r.length;d++)u.push(String.fromCharCode(r[d]));return u.join("")}var crypto=require("crypto"),ns={};ns.getbit=_getbit,ns.setbit=_setbit,ns.addmodp=_addmodp,ns.invmodp=_invmodp,ns.mulmodp=_mulmodp,ns.reduce=_reduce,ns.dbl=_dbl,ns.sum=_sum,ns.ZERO=_ZERO,ns.ONE=_ONE,ns.BASE=_BASE,ns.bigintadd=_bigintadd,ns.bigintsub=_bigintsub,ns.bigintcmp=_bigintcmp,ns.mulmodp=_mulmodp,ns.sqrmodp=_sqrmodp,ns.generateKey=_generateKey,module.exports=ns;
},{"crypto":52}],345:[function(require,module,exports){
"use strict";function curve25519_raw(e,r){var c,o,n;o=r,c=core.dbl(o,core.ONE()),n=[o,core.ONE()];for(var t=255;0==core.getbit(e,t);)if(t--,0>t)return core.ZERO();t--;for(var u=[c,n];t>=0;){var s,d,i=core.getbit(e,t);s=core.sum(u[0][0],u[0][1],u[1][0],u[1][1],o),d=core.dbl(u[1-i][0],u[1-i][1]),u[1-i]=d,u[i]=s,t--}return n=u[1],n[1]=core.invmodp(n[1]),n[0]=core.mulmodp(n[0],n[1]),core.reduce(n[0]),n[0]}function curve25519b32(e,r){return _base32encode(curve25519(_base32decode(e),_base32decode(r)))}function curve25519(e,r){return r||(r=core.BASE()),e[0]&=65528,e[15]=32767&e[15]|16384,curve25519_raw(e,r)}function _hexEncodeVector(e){var r=utils.hexEncode(e);return r=new Array(65-r.length).join("0")+r,r.split(/(..)/).reverse().join("")}function _hexDecodeVector(e){var r=e.split(/(..)/).reverse().join("");return utils.hexDecode(r)}var core=require("./core"),utils=require("./utils"),ns={};ns.curve25519=curve25519,ns.curve25519_raw=curve25519_raw,ns.hexEncodeVector=_hexEncodeVector,ns.hexDecodeVector=_hexDecodeVector,ns.hexencode=utils.hexEncode,ns.hexdecode=utils.hexDecode,ns.base32encode=utils.base32encode,ns.base32decode=utils.base32decode,module.exports=ns;
},{"./core":344,"./utils":348}],346:[function(require,module,exports){
(function (Buffer){
"use strict";function _toString(r){var e=new Uint16Array(r);return new Buffer(new Uint8Array(e.buffer))}function _fromString(r){if(Buffer.isBuffer(r)){var e=new Uint8Array(r);return new Uint16Array(e.buffer)}for(var n=new Array(16),t=0,u=0;t<r.length;t+=2)n[u]=r.charCodeAt(t+1)<<8|r.charCodeAt(t),u++;return n}var core=require("./core"),utils=require("./utils"),curve255=require("./curve255"),ns={};ns.computeKey=function(r,e){return _toString(e?curve255.curve25519(_fromString(r),_fromString(e)):curve255.curve25519(_fromString(r)))},ns.publicKey=function(r){return _toString(curve255.curve25519(_fromString(r)))},ns.generateKey=function(){return core.generateKey(!0)},module.exports=ns;
}).call(this,require("buffer").Buffer)

},{"./core":344,"./curve255":345,"./utils":348,"buffer":42}],347:[function(require,module,exports){
(function (Buffer){
"use strict";function _bi255(t){if(!(this instanceof _bi255))return new _bi255(t);if("undefined"==typeof t)return _ZERO;var n=t.constructor;if(n!==Array&&n!==Uint16Array&&n!==Uint32Array||16!==t.length)if(n===Array&&32===t.length)this.n=_bytes2bi255(t).n;else if(n===String)this.n=utils.hexDecode(t);else if(n===Number)this.n=[65535&t,t>>16,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else{if(!(t instanceof _bi255))throw"Bad argument for bignum: "+t;this.n=t.n.slice(0)}else this.n=t}function _shiftL(t,n){for(var e=0,i=0;16>i;i++){var r=t[i]>>16-n;t[i]=t[i]<<n&65535|e,e=r}return t}function _shiftR(t,n){for(var e=0,i=15;i>=0;i--){var r=t[i]<<16-n&65535;t[i]=t[i]>>n|e,e=r}return t}function _bi255_bytes(t){t=_bi255(t);for(var n=new Array(32),e=31;e>=0;e--)n[e]=255&t.n[0],t.shiftRight(8);return n}function _bytes2bi255(t){for(var n=_ZERO,e=0;32>e;e++)n.shiftLeft(8),n=n.plus(_bi255(t[e]));return n}function _pow(t,n){for(var e=core.ONE(),i=0;256>i;i++)1===core.getbit(n,i)&&(e=core.mulmodp(e,t)),t=core.sqrmodp(t);return e}function _modq(t){return core.reduce(t.n),t.cmp(_Q)>=0?_modq(t.minus(_Q)):-1===t.cmp(_ZERO)?_modq(t.plus(_Q)):t}function _isoncurve(t){var n=t[0],e=t[1],i=n.sqr(),r=e.sqr(),_=_D.times(i).times(r);return r.minus(i).minus(_ONE).minus(_).modq().equals(_ZERO)}function _xrecover(t){var n=t.sqr(),e=n.minus(_ONE).divide(_ONE.plus(_D.times(n))),i=e.pow(_RECOVERY_EXPONENT);return i.times(i).minus(e).equals(_ZERO)||(i=i.times(_I)),i.isOdd()&&(i=_Q.minus(i)),i}function _x_pt_add(t,n){var e=t[0],i=t[1],r=t[2],_=t[3],s=n[0],u=n[1],o=n[2],f=n[3],c=i.minus(e).times(u.plus(s)),a=i.plus(e).times(u.minus(s)),b=r.times(_TWO).times(f),d=_.times(_TWO).times(o),m=d.plus(b),h=a.minus(c),p=a.plus(c),l=d.minus(b);return[m.times(h),p.times(l),h.times(p),m.times(l)]}function _xpt_double(t){var n=t[0],e=t[1],i=t[2],r=n.times(n),_=e.times(e),s=_TWO.times(i).times(i),u=_Q.minus(r),o=n.plus(e),f=o.times(o).minus(r).minus(_),c=u.plus(_),a=c.minus(s),b=u.minus(_);return[f.times(a),c.times(b),a.times(c),f.times(b)]}function _xpt_mult(t,n){if(n.equals(_ZERO))return[_ZERO,_ONE,_ONE,_ZERO];var e=n.isOdd();n.shiftRight(1);var i=_xpt_double(_xpt_mult(t,n));return e?_x_pt_add(i,t):i}function _pt_xform(t){var n=t[0],e=t[1];return[n,e,_ONE,n.times(e)]}function _pt_unxform(t){var n=t[0],e=t[1],i=t[2],r=i.inv();return[n.times(r),e.times(r)]}function _scalarmult(t,n){return _pt_unxform(_xpt_mult(_pt_xform(t),n))}function _bytesgetbit(t,n){return t[t.length-(n>>>3)-1]>>(7&n)&1}function _xpt_mult_bytes(t,n){for(var e=[_ZERO,_ONE,_ONE,_ZERO],i=(n.length<<3)-1;i>=0;i--)e=_xpt_double(e),1===_bytesgetbit(n,i)&&(e=_x_pt_add(e,t));return e}function _scalarmultBytes(t,n){return _pt_unxform(_xpt_mult_bytes(_pt_xform(t),n))}function _encodeint(t){return t.bytes(32).reverse()}function _decodeint(t){return _bi255(t.slice(0).reverse())}function _encodepoint(t){var n=_encodeint(t[1]);return t[0].isOdd()&&(n[31]|=128),n}function _decodepoint(t){t=t.slice(0);var n=t[31]>>7;t[31]&=127;var e=_decodeint(t),i=_xrecover(e);(1&i.n[0])!==n&&(i=_Q.minus(i));var r=[i,e];if(!_isoncurve(r))throw"Point is not on curve";return r}function _bi(t,n){if(void 0!==n)return 256===n?_bi(utils.string2bytes(t)):new BigInteger(t,n);if("string"==typeof t)return new BigInteger(t,10);if(t instanceof Array||t instanceof Uint8Array||Buffer.isBuffer(t))return new BigInteger(t);if("number"==typeof t)return new BigInteger(t.toString(),10);throw"Can't convert "+t+" to BigInteger"}function _bi2bytes(t,n){void 0===n&&(n=t.bitLength()+7>>>3);for(var e=new Array(n),i=n-1;i>=0;i--)e[i]=255&t[0],t=t.shiftRight(8);return e}function _bytehash(t){var n=crypto.createHash("sha512").update(t).digest();return _bi2bytes(_bi(n),64).reverse()}function _stringhash(t){var n=crypto.createHash("sha512").update(t).digest();return _map(_chr,_bi2bytes(_bi(n),64)).join("")}function _inthash(t){return _bi([0].concat(_bytehash(t)))}function _inthash_lo(t){return _bi255(_bytehash(t).slice(32,64))}function _inthash_mod_l(t){return _inthash(t).mod(_L_BI)}function _get_a(t){var n=_inthash_lo(t);return n.n[0]&=65528,n.n[15]&=16383,n.n[15]|=16384,n}function _publickey(t){return _encodepoint(_scalarmult(_bp,_get_a(t)))}function _map(t,n){for(var e=new Array(n.length),i=0;i<n.length;i++)e[i]=t(n[i]);return e}function _chr(t){return String.fromCharCode(t)}function _ord(t){return t.charCodeAt(0)}function _pt_add(t,n){return _pt_unxform(_x_pt_add(_pt_xform(t),_pt_xform(n)))}var core=require("./core"),curve255=require("./curve255"),utils=require("./utils"),BigInteger=require("jsbn").BigInteger,crypto=require("crypto"),ns={};_bi255.prototype={toString:function(){return utils.hexEncode(this.n)},toSource:function(){return"_"+utils.hexEncode(this.n)},plus:function(t){return _bi255(core.bigintadd(this.n,t.n))},minus:function(t){return _bi255(core.bigintsub(this.n,t.n)).modq()},times:function(t){return _bi255(core.mulmodp(this.n,t.n))},divide:function(t){return this.times(t.inv())},sqr:function(){return _bi255(core.sqrmodp(this.n))},cmp:function(t){return core.bigintcmp(this.n,t.n)},equals:function(t){return 0===this.cmp(t)},isOdd:function(){return 1===(1&this.n[0])},shiftLeft:function(t){return _shiftL(this.n,t),this},shiftRight:function(t){return _shiftR(this.n,t),this},inv:function(){return _bi255(core.invmodp(this.n))},pow:function(t){return _bi255(_pow(this.n,t.n))},modq:function(){return _modq(this)},bytes:function(){return _bi255_bytes(this)}};var _ZERO=_bi255(0),_ONE=_bi255(1),_TWO=_bi255(2),_Q=_bi255([65517,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,32767]),_RECOVERY_EXPONENT=_bi255("0ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe"),_D=_bi255("52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),_I=_bi255("2b8324804fc1df0b2b4d00993dfbd7a72f431806ad2fe478c4ee1b274a0ea0b0"),_L=_bi255("1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),_L_BI=_bi("1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed",16),_by=_bi255(4).divide(_bi255(5)),_bx=_xrecover(_by),_bp=[_bx,_by];BigInteger.prototype.bytes=function(t){return _bi2bytes(this,t)},ns.isOnCurve=function(t){try{_isoncurve(_decodepoint(utils.string2bytes(t)))}catch(n){if("Point is not on curve"===n)return!1;throw n}return!0},ns.publicKey=function(t){return utils.bytes2string(_publickey(t))},ns.sign=function(t,n,e){e=void 0===e?_publickey(n):utils.string2bytes(e);var i=_bi(_get_a(n).toString(),16),r=_stringhash(n),_=_bytehash(r.slice(32,64)+t),s=_scalarmultBytes(_bp,_),u=_encodepoint(s);_=_bi(_).mod(_bi(1,10).shiftLeft(512));var o=_map(_chr,u).join("")+_map(_chr,e).join("")+t;return o=_inthash_mod_l(o).multiply(i).add(_).mod(_L_BI),utils.bytes2string(u.concat(_encodeint(o)))},ns.verify=function(t,n,e){t=utils.string2bytes(t.slice(0,64)),e=utils.string2bytes(e);var i=t.slice(0,32),r=_decodepoint(i),_=_decodepoint(e),s=_decodeint(t.slice(32,64)),u=_inthash(utils.bytes2string(i.concat(e))+n),o=_scalarmult(_bp,s),f=_scalarmultBytes(_,_bi2bytes(u)),c=_pt_add(r,f);return o[0].equals(c[0])&&o[1].equals(c[1])},ns.generateKeySeed=function(){return core.generateKey(!1)},module.exports=ns;
}).call(this,{"isBuffer":require("../../../../../../../../../../../../is-buffer/index.js")})

},{"../../../../../../../../../../../../is-buffer/index.js":99,"./core":344,"./curve255":345,"./utils":348,"crypto":52,"jsbn":349}],348:[function(require,module,exports){
"use strict";function _hexencode(e){for(var r=[],t=e.length-1;t>=0;t--){var n=e[t];r.push(_HEXCHARS.substr(n>>>12&15,1)),r.push(_HEXCHARS.substr(n>>>8&15,1)),r.push(_HEXCHARS.substr(n>>>4&15,1)),r.push(_HEXCHARS.substr(15&n,1))}return r.join("")}function _hexdecode(e){for(var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=e.length-1,n=0;t>=0;t-=4)r[n]=_HEXCHARS.indexOf(e.charAt(t))|_HEXCHARS.indexOf(e.charAt(t-1))<<4|_HEXCHARS.indexOf(e.charAt(t-2))<<8|_HEXCHARS.indexOf(e.charAt(t-3))<<12,n++;return r}function _base32encode(e){var r,t="";for(r=0;255>r;r+=5)t=_BASE32CHARS.substr(core.getbit(e,r)+(core.getbit(e,r+1)<<1)+(core.getbit(e,r+2)<<2)+(core.getbit(e,r+3)<<3)+(core.getbit(e,r+4)<<4),1)+t;return t}function _base32decode(e){var r=0,t=core.ZERO(),n=e.length;for(r=0;n>0&&255>r;r+=5){n--;var o=_BASE32VALUES[e.substr(n,1)];core.setbit(t,r,1&o),o>>=1,core.setbit(t,r+1,1&o),o>>=1,core.setbit(t,r+2,1&o),o>>=1,core.setbit(t,r+3,1&o),o>>=1,core.setbit(t,r+4,1&o)}return t}function _map(e,r){for(var t=new Array(r.length),n=0;n<r.length;n++)t[n]=e(r[n]);return t}function _chr(e){return String.fromCharCode(e)}function _ord(e){return e.charCodeAt(0)}function _bytes2string(e){return _map(_chr,e).join("")}function _string2bytes(e){return _map(_ord,e)}var core=require("./core"),ns={},_HEXCHARS="0123456789abcdef",_BASE32CHARS="abcdefghijklmnopqrstuvwxyz234567",_BASE32VALUES=function(){for(var e={},r=0;r<_BASE32CHARS.length;r++)e[_BASE32CHARS.charAt(r)]=r;return e}();ns.hexEncode=_hexencode,ns.hexDecode=_hexdecode,ns.base32encode=_base32encode,ns.base32decode=_base32decode,ns.bytes2string=_bytes2string,ns.string2bytes=_string2bytes,module.exports=ns;
},{"./core":344}],349:[function(require,module,exports){
(function(){function t(t,i,o){null!=t&&("number"==typeof t?this.fromNumber(t,i,o):null==i&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,i))}function i(){return new t(null)}function o(t,i,o,r,s,e){for(;--e>=0;){var h=i*this[t++]+o[r]+s;s=Math.floor(h/67108864),o[r++]=67108863&h}return s}function r(t,i,o,r,s,e){for(var h=32767&i,n=i>>15;--e>=0;){var f=32767&this[t],u=this[t++]>>15,p=n*f+u*h;f=h*f+((32767&p)<<15)+o[r]+(1073741823&s),s=(f>>>30)+(p>>>15)+n*u+(s>>>30),o[r++]=1073741823&f}return s}function s(t,i,o,r,s,e){for(var h=16383&i,n=i>>14;--e>=0;){var f=16383&this[t],u=this[t++]>>14,p=n*f+u*h;f=h*f+((16383&p)<<14)+o[r]+s,s=(f>>28)+(p>>14)+n*u,o[r++]=268435455&f}return s}function e(t){return li.charAt(t)}function h(t,i){var o=vi[t.charCodeAt(i)];return null==o?-1:o}function n(t){for(var i=this.t-1;i>=0;--i)t[i]=this[i];t.t=this.t,t.s=this.s}function f(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+this.DV:this.t=0}function u(t){var o=i();return o.fromInt(t),o}function p(i,o){var r;if(16==o)r=4;else if(8==o)r=3;else if(256==o)r=8;else if(2==o)r=1;else if(32==o)r=5;else{if(4!=o)return void this.fromRadix(i,o);r=2}this.t=0,this.s=0;for(var s=i.length,e=!1,n=0;--s>=0;){var f=8==r?255&i[s]:h(i,s);0>f?"-"==i.charAt(s)&&(e=!0):(e=!1,0==n?this[this.t++]=f:n+r>this.DB?(this[this.t-1]|=(f&(1<<this.DB-n)-1)<<n,this[this.t++]=f>>this.DB-n):this[this.t-1]|=f<<n,n+=r,n>=this.DB&&(n-=this.DB))}8==r&&0!=(128&i[0])&&(this.s=-1,n>0&&(this[this.t-1]|=(1<<this.DB-n)-1<<n)),this.clamp(),e&&t.ZERO.subTo(this,this)}function a(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function c(t){if(this.s<0)return"-"+this.negate().toString(t);var i;if(16==t)i=4;else if(8==t)i=3;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return this.toRadix(t);i=2}var o,r=(1<<i)-1,s=!1,h="",n=this.t,f=this.DB-n*this.DB%i;if(n-- >0)for(f<this.DB&&(o=this[n]>>f)>0&&(s=!0,h=e(o));n>=0;)i>f?(o=(this[n]&(1<<f)-1)<<i-f,o|=this[--n]>>(f+=this.DB-i)):(o=this[n]>>(f-=i)&r,0>=f&&(f+=this.DB,--n)),o>0&&(s=!0),s&&(h+=e(o));return s?h:"0"}function m(){var o=i();return t.ZERO.subTo(this,o),o}function l(){return this.s<0?this.negate():this}function v(t){var i=this.s-t.s;if(0!=i)return i;var o=this.t;if(i=o-t.t,0!=i)return this.s<0?-i:i;for(;--o>=0;)if(0!=(i=this[o]-t[o]))return i;return 0}function T(t){var i,o=1;return 0!=(i=t>>>16)&&(t=i,o+=16),0!=(i=t>>8)&&(t=i,o+=8),0!=(i=t>>4)&&(t=i,o+=4),0!=(i=t>>2)&&(t=i,o+=2),0!=(i=t>>1)&&(t=i,o+=1),o}function y(){return this.t<=0?0:this.DB*(this.t-1)+T(this[this.t-1]^this.s&this.DM)}function d(t,i){var o;for(o=this.t-1;o>=0;--o)i[o+t]=this[o];for(o=t-1;o>=0;--o)i[o]=0;i.t=this.t+t,i.s=this.s}function D(t,i){for(var o=t;o<this.t;++o)i[o-t]=this[o];i.t=Math.max(this.t-t,0),i.s=this.s}function g(t,i){var o,r=t%this.DB,s=this.DB-r,e=(1<<s)-1,h=Math.floor(t/this.DB),n=this.s<<r&this.DM;for(o=this.t-1;o>=0;--o)i[o+h+1]=this[o]>>s|n,n=(this[o]&e)<<r;for(o=h-1;o>=0;--o)i[o]=0;i[h]=n,i.t=this.t+h+1,i.s=this.s,i.clamp()}function b(t,i){i.s=this.s;var o=Math.floor(t/this.DB);if(o>=this.t)return void(i.t=0);var r=t%this.DB,s=this.DB-r,e=(1<<r)-1;i[0]=this[o]>>r;for(var h=o+1;h<this.t;++h)i[h-o-1]|=(this[h]&e)<<s,i[h-o]=this[h]>>r;r>0&&(i[this.t-o-1]|=(this.s&e)<<s),i.t=this.t-o,i.clamp()}function S(t,i){for(var o=0,r=0,s=Math.min(t.t,this.t);s>o;)r+=this[o]-t[o],i[o++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;o<this.t;)r+=this[o],i[o++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;o<t.t;)r-=t[o],i[o++]=r&this.DM,r>>=this.DB;r-=t.s}i.s=0>r?-1:0,-1>r?i[o++]=this.DV+r:r>0&&(i[o++]=r),i.t=o,i.clamp()}function B(i,o){var r=this.abs(),s=i.abs(),e=r.t;for(o.t=e+s.t;--e>=0;)o[e]=0;for(e=0;e<s.t;++e)o[e+r.t]=r.am(0,s[e],o,e,0,r.t);o.s=0,o.clamp(),this.s!=i.s&&t.ZERO.subTo(o,o)}function w(t){for(var i=this.abs(),o=t.t=2*i.t;--o>=0;)t[o]=0;for(o=0;o<i.t-1;++o){var r=i.am(o,i[o],t,2*o,0,1);(t[o+i.t]+=i.am(o+1,2*i[o],t,2*o+1,r,i.t-o-1))>=i.DV&&(t[o+i.t]-=i.DV,t[o+i.t+1]=1)}t.t>0&&(t[t.t-1]+=i.am(o,i[o],t,2*o,0,1)),t.s=0,t.clamp()}function M(o,r,s){var e=o.abs();if(!(e.t<=0)){var h=this.abs();if(h.t<e.t)return null!=r&&r.fromInt(0),void(null!=s&&this.copyTo(s));null==s&&(s=i());var n=i(),f=this.s,u=o.s,p=this.DB-T(e[e.t-1]);p>0?(e.lShiftTo(p,n),h.lShiftTo(p,s)):(e.copyTo(n),h.copyTo(s));var a=n.t,c=n[a-1];if(0!=c){var m=c*(1<<this.F1)+(a>1?n[a-2]>>this.F2:0),l=this.FV/m,v=(1<<this.F1)/m,y=1<<this.F2,d=s.t,D=d-a,g=null==r?i():r;for(n.dlShiftTo(D,g),s.compareTo(g)>=0&&(s[s.t++]=1,s.subTo(g,s)),t.ONE.dlShiftTo(a,g),g.subTo(n,n);n.t<a;)n[n.t++]=0;for(;--D>=0;){var b=s[--d]==c?this.DM:Math.floor(s[d]*l+(s[d-1]+y)*v);if((s[d]+=n.am(0,b,s,D,0,a))<b)for(n.dlShiftTo(D,g),s.subTo(g,s);s[d]<--b;)s.subTo(g,s)}null!=r&&(s.drShiftTo(a,r),f!=u&&t.ZERO.subTo(r,r)),s.t=a,s.clamp(),p>0&&s.rShiftTo(p,s),0>f&&t.ZERO.subTo(s,s)}}}function E(o){var r=i();return this.abs().divRemTo(o,null,r),this.s<0&&r.compareTo(t.ZERO)>0&&o.subTo(r,r),r}function R(t){this.m=t}function O(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function A(t){return t}function V(t){t.divRemTo(this.m,null,t)}function q(t,i,o){t.multiplyTo(i,o),this.reduce(o)}function x(t,i){t.squareTo(i),this.reduce(i)}function N(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var i=3&t;return i=i*(2-(15&t)*i)&15,i=i*(2-(255&t)*i)&255,i=i*(2-((65535&t)*i&65535))&65535,i=i*(2-t*i%this.DV)%this.DV,i>0?this.DV-i:-i}function L(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function I(o){var r=i();return o.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),o.s<0&&r.compareTo(t.ZERO)>0&&this.m.subTo(r,r),r}function Z(t){var o=i();return t.copyTo(o),this.reduce(o),o}function F(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var i=0;i<this.m.t;++i){var o=32767&t[i],r=o*this.mpl+((o*this.mph+(t[i]>>15)*this.mpl&this.um)<<15)&t.DM;for(o=i+this.m.t,t[o]+=this.m.am(0,r,t,i,0,this.m.t);t[o]>=t.DV;)t[o]-=t.DV,t[++o]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function P(t,i){t.squareTo(i),this.reduce(i)}function j(t,i,o){t.multiplyTo(i,o),this.reduce(o)}function C(){return 0==(this.t>0?1&this[0]:this.s)}function k(o,r){if(o>4294967295||1>o)return t.ONE;var s=i(),e=i(),h=r.convert(this),n=T(o)-1;for(h.copyTo(s);--n>=0;)if(r.sqrTo(s,e),(o&1<<n)>0)r.mulTo(e,h,s);else{var f=s;s=e,e=f}return r.revert(s)}function z(t,i){var o;return o=256>t||i.isEven()?new R(i):new L(i),this.exp(t,o)}function U(){var t=i();return this.copyTo(t),t}function G(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function H(){return 0==this.t?this.s:this[0]<<24>>24}function J(){return 0==this.t?this.s:this[0]<<16>>16}function K(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function Q(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function W(t){if(null==t&&(t=10),0==this.signum()||2>t||t>36)return"0";var o=this.chunkSize(t),r=Math.pow(t,o),s=u(r),e=i(),h=i(),n="";for(this.divRemTo(s,e,h);e.signum()>0;)n=(r+h.intValue()).toString(t).substr(1)+n,e.divRemTo(s,e,h);return h.intValue().toString(t)+n}function X(i,o){this.fromInt(0),null==o&&(o=10);for(var r=this.chunkSize(o),s=Math.pow(o,r),e=!1,n=0,f=0,u=0;u<i.length;++u){var p=h(i,u);0>p?"-"==i.charAt(u)&&0==this.signum()&&(e=!0):(f=o*f+p,++n>=r&&(this.dMultiply(s),this.dAddOffset(f,0),n=0,f=0))}n>0&&(this.dMultiply(Math.pow(o,n)),this.dAddOffset(f,0)),e&&t.ZERO.subTo(this,this)}function Y(i,o,r){if("number"==typeof o)if(2>i)this.fromInt(1);else for(this.fromNumber(i,r),this.testBit(i-1)||this.bitwiseTo(t.ONE.shiftLeft(i-1),et,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(o);)this.dAddOffset(2,0),this.bitLength()>i&&this.subTo(t.ONE.shiftLeft(i-1),this);else{var s=new Array,e=7&i;s.length=(i>>3)+1,o.nextBytes(s),e>0?s[0]&=(1<<e)-1:s[0]=0,this.fromString(s,256)}}function $(){var t=this.t,i=new Array;i[0]=this.s;var o,r=this.DB-t*this.DB%8,s=0;if(t-- >0)for(r<this.DB&&(o=this[t]>>r)!=(this.s&this.DM)>>r&&(i[s++]=o|this.s<<this.DB-r);t>=0;)8>r?(o=(this[t]&(1<<r)-1)<<8-r,o|=this[--t]>>(r+=this.DB-8)):(o=this[t]>>(r-=8)&255,0>=r&&(r+=this.DB,--t)),0!=(128&o)&&(o|=-256),0==s&&(128&this.s)!=(128&o)&&++s,(s>0||o!=this.s)&&(i[s++]=o);return i}function _(t){return 0==this.compareTo(t)}function tt(t){return this.compareTo(t)<0?this:t}function it(t){return this.compareTo(t)>0?this:t}function ot(t,i,o){var r,s,e=Math.min(t.t,this.t);for(r=0;e>r;++r)o[r]=i(this[r],t[r]);if(t.t<this.t){for(s=t.s&this.DM,r=e;r<this.t;++r)o[r]=i(this[r],s);o.t=this.t}else{for(s=this.s&this.DM,r=e;r<t.t;++r)o[r]=i(s,t[r]);o.t=t.t}o.s=i(this.s,t.s),o.clamp()}function rt(t,i){return t&i}function st(t){var o=i();return this.bitwiseTo(t,rt,o),o}function et(t,i){return t|i}function ht(t){var o=i();return this.bitwiseTo(t,et,o),o}function nt(t,i){return t^i}function ft(t){var o=i();return this.bitwiseTo(t,nt,o),o}function ut(t,i){return t&~i}function pt(t){var o=i();return this.bitwiseTo(t,ut,o),o}function at(){for(var t=i(),o=0;o<this.t;++o)t[o]=this.DM&~this[o];return t.t=this.t,t.s=~this.s,t}function ct(t){var o=i();return 0>t?this.rShiftTo(-t,o):this.lShiftTo(t,o),o}function mt(t){var o=i();return 0>t?this.lShiftTo(-t,o):this.rShiftTo(t,o),o}function lt(t){if(0==t)return-1;var i=0;return 0==(65535&t)&&(t>>=16,i+=16),0==(255&t)&&(t>>=8,i+=8),0==(15&t)&&(t>>=4,i+=4),0==(3&t)&&(t>>=2,i+=2),0==(1&t)&&++i,i}function vt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+lt(this[t]);return this.s<0?this.t*this.DB:-1}function Tt(t){for(var i=0;0!=t;)t&=t-1,++i;return i}function yt(){for(var t=0,i=this.s&this.DM,o=0;o<this.t;++o)t+=Tt(this[o]^i);return t}function dt(t){var i=Math.floor(t/this.DB);return i>=this.t?0!=this.s:0!=(this[i]&1<<t%this.DB)}function Dt(i,o){var r=t.ONE.shiftLeft(i);return this.bitwiseTo(r,o,r),r}function gt(t){return this.changeBit(t,et)}function bt(t){return this.changeBit(t,ut)}function St(t){return this.changeBit(t,nt)}function Bt(t,i){for(var o=0,r=0,s=Math.min(t.t,this.t);s>o;)r+=this[o]+t[o],i[o++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;o<this.t;)r+=this[o],i[o++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;o<t.t;)r+=t[o],i[o++]=r&this.DM,r>>=this.DB;r+=t.s}i.s=0>r?-1:0,r>0?i[o++]=r:-1>r&&(i[o++]=this.DV+r),i.t=o,i.clamp()}function wt(t){var o=i();return this.addTo(t,o),o}function Mt(t){var o=i();return this.subTo(t,o),o}function Et(t){var o=i();return this.multiplyTo(t,o),o}function Rt(){var t=i();return this.squareTo(t),t}function Ot(t){var o=i();return this.divRemTo(t,o,null),o}function At(t){var o=i();return this.divRemTo(t,null,o),o}function Vt(t){var o=i(),r=i();return this.divRemTo(t,o,r),new Array(o,r)}function qt(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function xt(t,i){if(0!=t){for(;this.t<=i;)this[this.t++]=0;for(this[i]+=t;this[i]>=this.DV;)this[i]-=this.DV,++i>=this.t&&(this[this.t++]=0),++this[i]}}function Nt(){}function Lt(t){return t}function It(t,i,o){t.multiplyTo(i,o)}function Zt(t,i){t.squareTo(i)}function Ft(t){return this.exp(t,new Nt)}function Pt(t,i,o){var r=Math.min(this.t+t.t,i);for(o.s=0,o.t=r;r>0;)o[--r]=0;var s;for(s=o.t-this.t;s>r;++r)o[r+this.t]=this.am(0,t[r],o,r,0,this.t);for(s=Math.min(t.t,i);s>r;++r)this.am(0,t[r],o,r,0,i-r);o.clamp()}function jt(t,i,o){--i;var r=o.t=this.t+t.t-i;for(o.s=0;--r>=0;)o[r]=0;for(r=Math.max(i-this.t,0);r<t.t;++r)o[this.t+r-i]=this.am(i-r,t[r],o,0,0,this.t+r-i);o.clamp(),o.drShiftTo(1,o)}function Ct(o){this.r2=i(),this.q3=i(),t.ONE.dlShiftTo(2*o.t,this.r2),this.mu=this.r2.divide(o),this.m=o}function kt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var o=i();return t.copyTo(o),this.reduce(o),o}function zt(t){return t}function Ut(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Gt(t,i){t.squareTo(i),this.reduce(i)}function Ht(t,i,o){t.multiplyTo(i,o),this.reduce(o)}function Jt(t,o){var r,s,e=t.bitLength(),h=u(1);if(0>=e)return h;r=18>e?1:48>e?3:144>e?4:768>e?5:6,s=8>e?new R(o):o.isEven()?new Ct(o):new L(o);var n=new Array,f=3,p=r-1,a=(1<<r)-1;if(n[1]=s.convert(this),r>1){var c=i();for(s.sqrTo(n[1],c);a>=f;)n[f]=i(),s.mulTo(c,n[f-2],n[f]),f+=2}var m,l,v=t.t-1,y=!0,d=i();for(e=T(t[v])-1;v>=0;){for(e>=p?m=t[v]>>e-p&a:(m=(t[v]&(1<<e+1)-1)<<p-e,v>0&&(m|=t[v-1]>>this.DB+e-p)),f=r;0==(1&m);)m>>=1,--f;if((e-=f)<0&&(e+=this.DB,--v),y)n[m].copyTo(h),y=!1;else{for(;f>1;)s.sqrTo(h,d),s.sqrTo(d,h),f-=2;f>0?s.sqrTo(h,d):(l=h,h=d,d=l),s.mulTo(d,n[m],h)}for(;v>=0&&0==(t[v]&1<<e);)s.sqrTo(h,d),l=h,h=d,d=l,--e<0&&(e=this.DB-1,--v)}return s.revert(h)}function Kt(t){var i=this.s<0?this.negate():this.clone(),o=t.s<0?t.negate():t.clone();if(i.compareTo(o)<0){var r=i;i=o,o=r}var s=i.getLowestSetBit(),e=o.getLowestSetBit();if(0>e)return i;for(e>s&&(e=s),e>0&&(i.rShiftTo(e,i),o.rShiftTo(e,o));i.signum()>0;)(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),(s=o.getLowestSetBit())>0&&o.rShiftTo(s,o),i.compareTo(o)>=0?(i.subTo(o,i),i.rShiftTo(1,i)):(o.subTo(i,o),o.rShiftTo(1,o));return e>0&&o.lShiftTo(e,o),o}function Qt(t){if(0>=t)return 0;var i=this.DV%t,o=this.s<0?t-1:0;if(this.t>0)if(0==i)o=this[0]%t;else for(var r=this.t-1;r>=0;--r)o=(i*o+this[r])%t;return o}function Wt(i){var o=i.isEven();if(this.isEven()&&o||0==i.signum())return t.ZERO;for(var r=i.clone(),s=this.clone(),e=u(1),h=u(0),n=u(0),f=u(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),o?(e.isEven()&&h.isEven()||(e.addTo(this,e),h.subTo(i,h)),e.rShiftTo(1,e)):h.isEven()||h.subTo(i,h),h.rShiftTo(1,h);for(;s.isEven();)s.rShiftTo(1,s),o?(n.isEven()&&f.isEven()||(n.addTo(this,n),f.subTo(i,f)),n.rShiftTo(1,n)):f.isEven()||f.subTo(i,f),f.rShiftTo(1,f);r.compareTo(s)>=0?(r.subTo(s,r),o&&e.subTo(n,e),h.subTo(f,h)):(s.subTo(r,s),o&&n.subTo(e,n),f.subTo(h,f))}return 0!=s.compareTo(t.ONE)?t.ZERO:f.compareTo(i)>=0?f.subtract(i):f.signum()<0?(f.addTo(i,f),f.signum()<0?f.add(i):f):f}function Xt(t){var i,o=this.abs();if(1==o.t&&o[0]<=Ti[Ti.length-1]){for(i=0;i<Ti.length;++i)if(o[0]==Ti[i])return!0;return!1}if(o.isEven())return!1;for(i=1;i<Ti.length;){for(var r=Ti[i],s=i+1;s<Ti.length&&yi>r;)r*=Ti[s++];for(r=o.modInt(r);s>i;)if(r%Ti[i++]==0)return!1}return o.millerRabin(t)}function Yt(o){var r=this.subtract(t.ONE),s=r.getLowestSetBit();if(0>=s)return!1;var e=r.shiftRight(s);o=o+1>>1,o>Ti.length&&(o=Ti.length);for(var h=i(),n=0;o>n;++n){h.fromInt(Ti[Math.floor(Math.random()*Ti.length)]);var f=h.modPow(e,this);if(0!=f.compareTo(t.ONE)&&0!=f.compareTo(r)){for(var u=1;u++<s&&0!=f.compareTo(r);)if(f=f.modPowInt(2,this),0==f.compareTo(t.ONE))return!1;if(0!=f.compareTo(r))return!1}}return!0}function $t(t){Di[gi++]^=255&t,Di[gi++]^=t>>8&255,Di[gi++]^=t>>16&255,Di[gi++]^=t>>24&255,gi>=wi&&(gi-=wi)}function _t(){$t((new Date).getTime())}function ti(){if(null==di){for(_t(),di=hi(),di.init(Di),gi=0;gi<Di.length;++gi)Di[gi]=0;gi=0}return di.next()}function ii(t){var i;for(i=0;i<t.length;++i)t[i]=ti()}function oi(){}function ri(){this.i=0,this.j=0,this.S=new Array}function si(t){var i,o,r;for(i=0;256>i;++i)this.S[i]=i;for(o=0,i=0;256>i;++i)o=o+this.S[i]+t[i%t.length]&255,r=this.S[i],this.S[i]=this.S[o],this.S[o]=r;this.i=0,this.j=0}function ei(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]}function hi(){return new ri}var ni,fi=0xdeadbeefcafe,ui=15715070==(16777215&fi),pi="undefined"!=typeof navigator;pi&&ui&&"Microsoft Internet Explorer"==navigator.appName?(t.prototype.am=r,ni=30):pi&&ui&&"Netscape"!=navigator.appName?(t.prototype.am=o,ni=26):(t.prototype.am=s,ni=28),t.prototype.DB=ni,t.prototype.DM=(1<<ni)-1,t.prototype.DV=1<<ni;var ai=52;t.prototype.FV=Math.pow(2,ai),t.prototype.F1=ai-ni,t.prototype.F2=2*ni-ai;var ci,mi,li="0123456789abcdefghijklmnopqrstuvwxyz",vi=new Array;for(ci="0".charCodeAt(0),mi=0;9>=mi;++mi)vi[ci++]=mi;for(ci="a".charCodeAt(0),mi=10;36>mi;++mi)vi[ci++]=mi;for(ci="A".charCodeAt(0),mi=10;36>mi;++mi)vi[ci++]=mi;R.prototype.convert=O,R.prototype.revert=A,R.prototype.reduce=V,R.prototype.mulTo=q,R.prototype.sqrTo=x,L.prototype.convert=I,L.prototype.revert=Z,L.prototype.reduce=F,L.prototype.mulTo=j,L.prototype.sqrTo=P,t.prototype.copyTo=n,t.prototype.fromInt=f,t.prototype.fromString=p,t.prototype.clamp=a,t.prototype.dlShiftTo=d,t.prototype.drShiftTo=D,t.prototype.lShiftTo=g,t.prototype.rShiftTo=b,t.prototype.subTo=S,t.prototype.multiplyTo=B,t.prototype.squareTo=w,t.prototype.divRemTo=M,t.prototype.invDigit=N,t.prototype.isEven=C,t.prototype.exp=k,t.prototype.toString=c,t.prototype.negate=m,t.prototype.abs=l,t.prototype.compareTo=v,t.prototype.bitLength=y,t.prototype.mod=E,t.prototype.modPowInt=z,t.ZERO=u(0),t.ONE=u(1),Nt.prototype.convert=Lt,Nt.prototype.revert=Lt,Nt.prototype.mulTo=It,Nt.prototype.sqrTo=Zt,Ct.prototype.convert=kt,Ct.prototype.revert=zt,Ct.prototype.reduce=Ut,Ct.prototype.mulTo=Ht,Ct.prototype.sqrTo=Gt;var Ti=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],yi=(1<<26)/Ti[Ti.length-1];t.prototype.chunkSize=K,t.prototype.toRadix=W,t.prototype.fromRadix=X,t.prototype.fromNumber=Y,t.prototype.bitwiseTo=ot,t.prototype.changeBit=Dt,t.prototype.addTo=Bt,t.prototype.dMultiply=qt,t.prototype.dAddOffset=xt,t.prototype.multiplyLowerTo=Pt,t.prototype.multiplyUpperTo=jt,t.prototype.modInt=Qt,t.prototype.millerRabin=Yt,t.prototype.clone=U,t.prototype.intValue=G,t.prototype.byteValue=H,t.prototype.shortValue=J,t.prototype.signum=Q,t.prototype.toByteArray=$,t.prototype.equals=_,t.prototype.min=tt,t.prototype.max=it,t.prototype.and=st,t.prototype.or=ht,t.prototype.xor=ft,t.prototype.andNot=pt,t.prototype.not=at,t.prototype.shiftLeft=ct,t.prototype.shiftRight=mt,t.prototype.getLowestSetBit=vt,t.prototype.bitCount=yt,t.prototype.testBit=dt,t.prototype.setBit=gt,t.prototype.clearBit=bt,t.prototype.flipBit=St,t.prototype.add=wt,t.prototype.subtract=Mt,t.prototype.multiply=Et,t.prototype.divide=Ot,t.prototype.remainder=At,t.prototype.divideAndRemainder=Vt,t.prototype.modPow=Jt,t.prototype.modInverse=Wt,t.prototype.pow=Ft,t.prototype.gcd=Kt,t.prototype.isProbablePrime=Xt,t.prototype.square=Rt,t.prototype.Barrett=Ct;var di,Di,gi;if(null==Di){Di=new Array,gi=0;var bi;if("undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var Si=new Uint8Array(32);for(window.crypto.getRandomValues(Si),bi=0;32>bi;++bi)Di[gi++]=Si[bi]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var Bi=window.crypto.random(32);for(bi=0;bi<Bi.length;++bi)Di[gi++]=255&Bi.charCodeAt(bi)}for(;wi>gi;)bi=Math.floor(65536*Math.random()),Di[gi++]=bi>>>8,Di[gi++]=255&bi;gi=0,_t()}oi.prototype.nextBytes=ii,ri.prototype.init=si,ri.prototype.next=ei;var wi=256;"undefined"!=typeof exports?exports=module.exports={BigInteger:t,SecureRandom:oi}:(this.BigInteger=t,this.SecureRandom=oi)}).call(this);
},{}],350:[function(require,module,exports){
(function (Buffer){
!function(r){"use strict";function t(r,t,n,e){r[t]=n>>24&255,r[t+1]=n>>16&255,r[t+2]=n>>8&255,r[t+3]=255&n,r[t+4]=e>>24&255,r[t+5]=e>>16&255,r[t+6]=e>>8&255,r[t+7]=255&e}function n(r,t,n,e,o){var i,h=0;for(i=0;o>i;i++)h|=r[t+i]^n[e+i];return(1&h-1>>>8)-1}function e(r,t,e,o){return n(r,t,e,o,16)}function o(r,t,e,o){return n(r,t,e,o,32)}function i(r,t,n,e){for(var o,i=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,s=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,c=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,y=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,l=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,w=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,b=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,d=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,A=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,_=i,U=h,E=a,x=f,M=s,m=u,B=c,S=y,K=l,T=w,Y=p,k=g,L=v,C=b,R=d,z=A,P=0;20>P;P+=2)o=_+L|0,M^=o<<7|o>>>25,o=M+_|0,K^=o<<9|o>>>23,o=K+M|0,L^=o<<13|o>>>19,o=L+K|0,_^=o<<18|o>>>14,o=m+U|0,T^=o<<7|o>>>25,o=T+m|0,C^=o<<9|o>>>23,o=C+T|0,U^=o<<13|o>>>19,o=U+C|0,m^=o<<18|o>>>14,o=Y+B|0,R^=o<<7|o>>>25,o=R+Y|0,E^=o<<9|o>>>23,o=E+R|0,B^=o<<13|o>>>19,o=B+E|0,Y^=o<<18|o>>>14,o=z+k|0,x^=o<<7|o>>>25,o=x+z|0,S^=o<<9|o>>>23,o=S+x|0,k^=o<<13|o>>>19,o=k+S|0,z^=o<<18|o>>>14,o=_+x|0,U^=o<<7|o>>>25,o=U+_|0,E^=o<<9|o>>>23,o=E+U|0,x^=o<<13|o>>>19,o=x+E|0,_^=o<<18|o>>>14,o=m+M|0,B^=o<<7|o>>>25,o=B+m|0,S^=o<<9|o>>>23,o=S+B|0,M^=o<<13|o>>>19,o=M+S|0,m^=o<<18|o>>>14,o=Y+T|0,k^=o<<7|o>>>25,o=k+Y|0,K^=o<<9|o>>>23,o=K+k|0,T^=o<<13|o>>>19,o=T+K|0,Y^=o<<18|o>>>14,o=z+R|0,L^=o<<7|o>>>25,o=L+z|0,C^=o<<9|o>>>23,o=C+L|0,R^=o<<13|o>>>19,o=R+C|0,z^=o<<18|o>>>14;_=_+i|0,U=U+h|0,E=E+a|0,x=x+f|0,M=M+s|0,m=m+u|0,B=B+c|0,S=S+y|0,K=K+l|0,T=T+w|0,Y=Y+p|0,k=k+g|0,L=L+v|0,C=C+b|0,R=R+d|0,z=z+A|0,r[0]=_>>>0&255,r[1]=_>>>8&255,r[2]=_>>>16&255,r[3]=_>>>24&255,r[4]=U>>>0&255,r[5]=U>>>8&255,r[6]=U>>>16&255,r[7]=U>>>24&255,r[8]=E>>>0&255,r[9]=E>>>8&255,r[10]=E>>>16&255,r[11]=E>>>24&255,r[12]=x>>>0&255,r[13]=x>>>8&255,r[14]=x>>>16&255,r[15]=x>>>24&255,r[16]=M>>>0&255,r[17]=M>>>8&255,r[18]=M>>>16&255,r[19]=M>>>24&255,r[20]=m>>>0&255,r[21]=m>>>8&255,r[22]=m>>>16&255,r[23]=m>>>24&255,r[24]=B>>>0&255,r[25]=B>>>8&255,r[26]=B>>>16&255,r[27]=B>>>24&255,r[28]=S>>>0&255,r[29]=S>>>8&255,r[30]=S>>>16&255,r[31]=S>>>24&255,r[32]=K>>>0&255,r[33]=K>>>8&255,r[34]=K>>>16&255,r[35]=K>>>24&255,r[36]=T>>>0&255,r[37]=T>>>8&255,r[38]=T>>>16&255,r[39]=T>>>24&255,r[40]=Y>>>0&255,r[41]=Y>>>8&255,r[42]=Y>>>16&255,r[43]=Y>>>24&255,r[44]=k>>>0&255,r[45]=k>>>8&255,r[46]=k>>>16&255,r[47]=k>>>24&255,r[48]=L>>>0&255,r[49]=L>>>8&255,r[50]=L>>>16&255,r[51]=L>>>24&255,r[52]=C>>>0&255,r[53]=C>>>8&255,r[54]=C>>>16&255,r[55]=C>>>24&255,r[56]=R>>>0&255,r[57]=R>>>8&255,r[58]=R>>>16&255,r[59]=R>>>24&255,r[60]=z>>>0&255,r[61]=z>>>8&255,r[62]=z>>>16&255,r[63]=z>>>24&255}function h(r,t,n,e){for(var o,i=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,s=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,c=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,y=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,l=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,w=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,b=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,d=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,A=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,_=i,U=h,E=a,x=f,M=s,m=u,B=c,S=y,K=l,T=w,Y=p,k=g,L=v,C=b,R=d,z=A,P=0;20>P;P+=2)o=_+L|0,M^=o<<7|o>>>25,o=M+_|0,K^=o<<9|o>>>23,o=K+M|0,L^=o<<13|o>>>19,o=L+K|0,_^=o<<18|o>>>14,o=m+U|0,T^=o<<7|o>>>25,o=T+m|0,C^=o<<9|o>>>23,o=C+T|0,U^=o<<13|o>>>19,o=U+C|0,m^=o<<18|o>>>14,o=Y+B|0,R^=o<<7|o>>>25,o=R+Y|0,E^=o<<9|o>>>23,o=E+R|0,B^=o<<13|o>>>19,o=B+E|0,Y^=o<<18|o>>>14,o=z+k|0,x^=o<<7|o>>>25,o=x+z|0,S^=o<<9|o>>>23,o=S+x|0,k^=o<<13|o>>>19,o=k+S|0,z^=o<<18|o>>>14,o=_+x|0,U^=o<<7|o>>>25,o=U+_|0,E^=o<<9|o>>>23,o=E+U|0,x^=o<<13|o>>>19,o=x+E|0,_^=o<<18|o>>>14,o=m+M|0,B^=o<<7|o>>>25,o=B+m|0,S^=o<<9|o>>>23,o=S+B|0,M^=o<<13|o>>>19,o=M+S|0,m^=o<<18|o>>>14,o=Y+T|0,k^=o<<7|o>>>25,o=k+Y|0,K^=o<<9|o>>>23,o=K+k|0,T^=o<<13|o>>>19,o=T+K|0,Y^=o<<18|o>>>14,o=z+R|0,L^=o<<7|o>>>25,o=L+z|0,C^=o<<9|o>>>23,o=C+L|0,R^=o<<13|o>>>19,o=R+C|0,z^=o<<18|o>>>14;r[0]=_>>>0&255,r[1]=_>>>8&255,r[2]=_>>>16&255,r[3]=_>>>24&255,r[4]=m>>>0&255,r[5]=m>>>8&255,r[6]=m>>>16&255,r[7]=m>>>24&255,r[8]=Y>>>0&255,r[9]=Y>>>8&255,r[10]=Y>>>16&255,r[11]=Y>>>24&255,r[12]=z>>>0&255,r[13]=z>>>8&255,r[14]=z>>>16&255,r[15]=z>>>24&255,r[16]=B>>>0&255,r[17]=B>>>8&255,r[18]=B>>>16&255,r[19]=B>>>24&255,r[20]=S>>>0&255,r[21]=S>>>8&255,r[22]=S>>>16&255,r[23]=S>>>24&255,r[24]=K>>>0&255,r[25]=K>>>8&255,r[26]=K>>>16&255,r[27]=K>>>24&255,r[28]=T>>>0&255,r[29]=T>>>8&255,r[30]=T>>>16&255,r[31]=T>>>24&255}function a(r,t,n,e){i(r,t,n,e)}function f(r,t,n,e){h(r,t,n,e)}function s(r,t,n,e,o,i,h){var f,s,u=new Uint8Array(16),c=new Uint8Array(64);for(s=0;16>s;s++)u[s]=0;for(s=0;8>s;s++)u[s]=i[s];for(;o>=64;){for(a(c,u,h,cr),s=0;64>s;s++)r[t+s]=n[e+s]^c[s];for(f=1,s=8;16>s;s++)f=f+(255&u[s])|0,u[s]=255&f,f>>>=8;o-=64,t+=64,e+=64}if(o>0)for(a(c,u,h,cr),s=0;o>s;s++)r[t+s]=n[e+s]^c[s];return 0}function u(r,t,n,e,o){var i,h,f=new Uint8Array(16),s=new Uint8Array(64);for(h=0;16>h;h++)f[h]=0;for(h=0;8>h;h++)f[h]=e[h];for(;n>=64;){for(a(s,f,o,cr),h=0;64>h;h++)r[t+h]=s[h];for(i=1,h=8;16>h;h++)i=i+(255&f[h])|0,f[h]=255&i,i>>>=8;n-=64,t+=64}if(n>0)for(a(s,f,o,cr),h=0;n>h;h++)r[t+h]=s[h];return 0}function c(r,t,n,e,o){var i=new Uint8Array(32);f(i,e,o,cr);for(var h=new Uint8Array(8),a=0;8>a;a++)h[a]=e[a+16];return u(r,t,n,h,i)}function y(r,t,n,e,o,i,h){var a=new Uint8Array(32);f(a,i,h,cr);for(var u=new Uint8Array(8),c=0;8>c;c++)u[c]=i[c+16];return s(r,t,n,e,o,u,a)}function l(r,t,n,e,o,i){var h=new yr(i);return h.update(n,e,o),h.finish(r,t),0}function w(r,t,n,o,i,h){var a=new Uint8Array(16);return l(a,0,n,o,i,h),e(r,t,a,0)}function p(r,t,n,e,o){var i;if(32>n)return-1;for(y(r,0,t,0,n,e,o),l(r,16,r,32,n-32,r),i=0;16>i;i++)r[i]=0;return 0}function g(r,t,n,e,o){var i,h=new Uint8Array(32);if(32>n)return-1;if(c(h,0,32,e,o),0!==w(t,16,t,32,n-32,h))return-1;for(y(r,0,t,0,n,e,o),i=0;32>i;i++)r[i]=0;return 0}function v(r,t){var n;for(n=0;16>n;n++)r[n]=0|t[n]}function b(r){var t,n,e=1;for(t=0;16>t;t++)n=r[t]+e+65535,e=Math.floor(n/65536),r[t]=n-65536*e;r[0]+=e-1+37*(e-1)}function d(r,t,n){for(var e,o=~(n-1),i=0;16>i;i++)e=o&(r[i]^t[i]),r[i]^=e,t[i]^=e}function A(r,t){var n,e,o,i=$(),h=$();for(n=0;16>n;n++)h[n]=t[n];for(b(h),b(h),b(h),e=0;2>e;e++){for(i[0]=h[0]-65517,n=1;15>n;n++)i[n]=h[n]-65535-(i[n-1]>>16&1),i[n-1]&=65535;i[15]=h[15]-32767-(i[14]>>16&1),o=i[15]>>16&1,i[14]&=65535,d(h,i,1-o)}for(n=0;16>n;n++)r[2*n]=255&h[n],r[2*n+1]=h[n]>>8}function _(r,t){var n=new Uint8Array(32),e=new Uint8Array(32);return A(n,r),A(e,t),o(n,0,e,0)}function U(r){var t=new Uint8Array(32);return A(t,r),1&t[0]}function E(r,t){var n;for(n=0;16>n;n++)r[n]=t[2*n]+(t[2*n+1]<<8);r[15]&=32767}function x(r,t,n){for(var e=0;16>e;e++)r[e]=t[e]+n[e]}function M(r,t,n){for(var e=0;16>e;e++)r[e]=t[e]-n[e]}function m(r,t,n){var e,o,i=0,h=0,a=0,f=0,s=0,u=0,c=0,y=0,l=0,w=0,p=0,g=0,v=0,b=0,d=0,A=0,_=0,U=0,E=0,x=0,M=0,m=0,B=0,S=0,K=0,T=0,Y=0,k=0,L=0,C=0,R=0,z=n[0],P=n[1],O=n[2],N=n[3],F=n[4],I=n[5],j=n[6],G=n[7],Z=n[8],V=n[9],q=n[10],X=n[11],D=n[12],H=n[13],J=n[14],Q=n[15];e=t[0],i+=e*z,h+=e*P,a+=e*O,f+=e*N,s+=e*F,u+=e*I,c+=e*j,y+=e*G,l+=e*Z,w+=e*V,p+=e*q,g+=e*X,v+=e*D,b+=e*H,d+=e*J,A+=e*Q,e=t[1],h+=e*z,a+=e*P,f+=e*O,s+=e*N,u+=e*F,c+=e*I,y+=e*j,l+=e*G,w+=e*Z,p+=e*V,g+=e*q,v+=e*X,b+=e*D,d+=e*H,A+=e*J,_+=e*Q,e=t[2],a+=e*z,f+=e*P,s+=e*O,u+=e*N,c+=e*F,y+=e*I,l+=e*j,w+=e*G,p+=e*Z,g+=e*V,v+=e*q,b+=e*X,d+=e*D,A+=e*H,_+=e*J,U+=e*Q,e=t[3],f+=e*z,s+=e*P,u+=e*O,c+=e*N,y+=e*F,l+=e*I,w+=e*j,p+=e*G,g+=e*Z,v+=e*V,b+=e*q,d+=e*X,A+=e*D,_+=e*H,U+=e*J,E+=e*Q,e=t[4],s+=e*z,u+=e*P,c+=e*O,y+=e*N,l+=e*F,w+=e*I,p+=e*j,g+=e*G,v+=e*Z,b+=e*V,d+=e*q,A+=e*X,_+=e*D,U+=e*H,E+=e*J,x+=e*Q,e=t[5],u+=e*z,c+=e*P,y+=e*O,l+=e*N,w+=e*F,p+=e*I,g+=e*j,v+=e*G,b+=e*Z,d+=e*V,A+=e*q,_+=e*X,U+=e*D,E+=e*H,x+=e*J,M+=e*Q,e=t[6],c+=e*z,y+=e*P,l+=e*O,w+=e*N,p+=e*F,g+=e*I,v+=e*j,b+=e*G,d+=e*Z,A+=e*V,_+=e*q,U+=e*X,E+=e*D,x+=e*H,M+=e*J,m+=e*Q,e=t[7],y+=e*z,l+=e*P,w+=e*O,p+=e*N,g+=e*F,v+=e*I,b+=e*j,d+=e*G,A+=e*Z,_+=e*V,U+=e*q,E+=e*X,x+=e*D,M+=e*H,m+=e*J,B+=e*Q,e=t[8],l+=e*z,w+=e*P,p+=e*O,g+=e*N,v+=e*F,b+=e*I,d+=e*j,A+=e*G,_+=e*Z,U+=e*V,E+=e*q,x+=e*X,M+=e*D,m+=e*H,B+=e*J,S+=e*Q,e=t[9],w+=e*z,p+=e*P,g+=e*O,v+=e*N,b+=e*F,d+=e*I,A+=e*j,_+=e*G,U+=e*Z,E+=e*V,x+=e*q,M+=e*X,m+=e*D,B+=e*H,S+=e*J,K+=e*Q,e=t[10],p+=e*z,g+=e*P,v+=e*O,b+=e*N,d+=e*F,A+=e*I,_+=e*j,U+=e*G,E+=e*Z,x+=e*V,M+=e*q,m+=e*X,B+=e*D,S+=e*H,K+=e*J,T+=e*Q,e=t[11],g+=e*z,v+=e*P,b+=e*O,d+=e*N,A+=e*F,_+=e*I,U+=e*j,E+=e*G,x+=e*Z,M+=e*V,m+=e*q,B+=e*X,S+=e*D,K+=e*H,T+=e*J,Y+=e*Q,e=t[12],v+=e*z,b+=e*P,d+=e*O,A+=e*N,_+=e*F,U+=e*I,E+=e*j,x+=e*G,M+=e*Z,m+=e*V,B+=e*q,S+=e*X,K+=e*D,T+=e*H,Y+=e*J,k+=e*Q,e=t[13],b+=e*z,d+=e*P,A+=e*O,_+=e*N,U+=e*F,E+=e*I,x+=e*j,M+=e*G,m+=e*Z,B+=e*V,S+=e*q,K+=e*X,T+=e*D,Y+=e*H,k+=e*J,L+=e*Q,e=t[14],d+=e*z,A+=e*P,_+=e*O,U+=e*N,E+=e*F,x+=e*I,M+=e*j,m+=e*G,B+=e*Z,S+=e*V,K+=e*q,T+=e*X,Y+=e*D,k+=e*H,L+=e*J,C+=e*Q,e=t[15],A+=e*z,_+=e*P,U+=e*O,E+=e*N,x+=e*F,M+=e*I,m+=e*j,B+=e*G,S+=e*Z,K+=e*V,T+=e*q,Y+=e*X,k+=e*D,L+=e*H,C+=e*J,R+=e*Q,i+=38*_,h+=38*U,a+=38*E,f+=38*x,s+=38*M,u+=38*m,c+=38*B,y+=38*S,l+=38*K,w+=38*T,p+=38*Y,g+=38*k,v+=38*L,b+=38*C,d+=38*R,o=1,e=i+o+65535,o=Math.floor(e/65536),i=e-65536*o,e=h+o+65535,o=Math.floor(e/65536),h=e-65536*o,e=a+o+65535,o=Math.floor(e/65536),a=e-65536*o,e=f+o+65535,o=Math.floor(e/65536),f=e-65536*o,e=s+o+65535,o=Math.floor(e/65536),s=e-65536*o,e=u+o+65535,o=Math.floor(e/65536),u=e-65536*o,e=c+o+65535,o=Math.floor(e/65536),c=e-65536*o,e=y+o+65535,o=Math.floor(e/65536),y=e-65536*o,e=l+o+65535,o=Math.floor(e/65536),l=e-65536*o,e=w+o+65535,o=Math.floor(e/65536),w=e-65536*o,e=p+o+65535,o=Math.floor(e/65536),p=e-65536*o,e=g+o+65535,o=Math.floor(e/65536),g=e-65536*o,e=v+o+65535,o=Math.floor(e/65536),v=e-65536*o,e=b+o+65535,o=Math.floor(e/65536),b=e-65536*o,e=d+o+65535,o=Math.floor(e/65536),d=e-65536*o,e=A+o+65535,o=Math.floor(e/65536),A=e-65536*o,i+=o-1+37*(o-1),o=1,e=i+o+65535,o=Math.floor(e/65536),i=e-65536*o,e=h+o+65535,o=Math.floor(e/65536),h=e-65536*o,e=a+o+65535,o=Math.floor(e/65536),a=e-65536*o,e=f+o+65535,o=Math.floor(e/65536),f=e-65536*o,e=s+o+65535,o=Math.floor(e/65536),s=e-65536*o,e=u+o+65535,o=Math.floor(e/65536),u=e-65536*o,e=c+o+65535,o=Math.floor(e/65536),c=e-65536*o,e=y+o+65535,o=Math.floor(e/65536),y=e-65536*o,e=l+o+65535,o=Math.floor(e/65536),l=e-65536*o,e=w+o+65535,o=Math.floor(e/65536),w=e-65536*o,e=p+o+65535,o=Math.floor(e/65536),p=e-65536*o,e=g+o+65535,o=Math.floor(e/65536),g=e-65536*o,e=v+o+65535,o=Math.floor(e/65536),v=e-65536*o,e=b+o+65535,o=Math.floor(e/65536),b=e-65536*o,e=d+o+65535,o=Math.floor(e/65536),d=e-65536*o,e=A+o+65535,o=Math.floor(e/65536),A=e-65536*o,i+=o-1+37*(o-1),r[0]=i,r[1]=h,r[2]=a,r[3]=f,r[4]=s,r[5]=u,r[6]=c,r[7]=y,r[8]=l,r[9]=w,r[10]=p,r[11]=g,r[12]=v,r[13]=b,r[14]=d,r[15]=A}function B(r,t){m(r,t,t)}function S(r,t){var n,e=$();for(n=0;16>n;n++)e[n]=t[n];for(n=253;n>=0;n--)B(e,e),2!==n&&4!==n&&m(e,e,t);for(n=0;16>n;n++)r[n]=e[n]}function K(r,t){var n,e=$();for(n=0;16>n;n++)e[n]=t[n];for(n=250;n>=0;n--)B(e,e),1!==n&&m(e,e,t);for(n=0;16>n;n++)r[n]=e[n]}function T(r,t,n){var e,o,i=new Uint8Array(32),h=new Float64Array(80),a=$(),f=$(),s=$(),u=$(),c=$(),y=$();for(o=0;31>o;o++)i[o]=t[o];for(i[31]=127&t[31]|64,i[0]&=248,E(h,n),o=0;16>o;o++)f[o]=h[o],u[o]=a[o]=s[o]=0;for(a[0]=u[0]=1,o=254;o>=0;--o)e=i[o>>>3]>>>(7&o)&1,d(a,f,e),d(s,u,e),x(c,a,s),M(a,a,s),x(s,f,u),M(f,f,u),B(u,c),B(y,a),m(a,s,a),m(s,f,c),x(c,a,s),M(a,a,s),B(f,a),M(s,u,y),m(a,s,ir),x(a,a,u),m(s,s,a),m(a,u,y),m(u,f,h),B(f,c),d(a,f,e),d(s,u,e);for(o=0;16>o;o++)h[o+16]=a[o],h[o+32]=s[o],h[o+48]=f[o],h[o+64]=u[o];var l=h.subarray(32),w=h.subarray(16);return S(l,l),m(w,w,l),A(r,w),0}function Y(r,t){return T(r,t,nr)}function k(r,t){return rr(t,32),Y(r,t)}function L(r,t,n){var e=new Uint8Array(32);return T(e,n,t),f(r,tr,e,cr)}function C(r,t,n,e,o,i){var h=new Uint8Array(32);return L(h,o,i),lr(r,t,n,e,h)}function R(r,t,n,e,o,i){var h=new Uint8Array(32);return L(h,o,i),wr(r,t,n,e,h)}function z(r,t,n,e){for(var o,i,h,a,f,s,u,c,y,l,w,p,g,v,b,d,A,_,U,E,x,M,m,B,S,K,T=new Int32Array(16),Y=new Int32Array(16),k=r[0],L=r[1],C=r[2],R=r[3],z=r[4],P=r[5],O=r[6],N=r[7],F=t[0],I=t[1],j=t[2],G=t[3],Z=t[4],V=t[5],q=t[6],X=t[7],D=0;e>=128;){for(U=0;16>U;U++)E=8*U+D,T[U]=n[E+0]<<24|n[E+1]<<16|n[E+2]<<8|n[E+3],Y[U]=n[E+4]<<24|n[E+5]<<16|n[E+6]<<8|n[E+7];for(U=0;80>U;U++)if(o=k,i=L,h=C,a=R,f=z,s=P,u=O,c=N,y=F,l=I,w=j,p=G,g=Z,v=V,b=q,d=X,x=N,M=X,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=(z>>>14|Z<<18)^(z>>>18|Z<<14)^(Z>>>9|z<<23),M=(Z>>>14|z<<18)^(Z>>>18|z<<14)^(z>>>9|Z<<23),m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,x=z&P^~z&O,M=Z&V^~Z&q,m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,x=pr[2*U],M=pr[2*U+1],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,x=T[U%16],M=Y[U%16],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,A=65535&S|K<<16,_=65535&m|B<<16,x=A,M=_,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=(k>>>28|F<<4)^(F>>>2|k<<30)^(F>>>7|k<<25),M=(F>>>28|k<<4)^(k>>>2|F<<30)^(k>>>7|F<<25),m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,x=k&L^k&C^L&C,M=F&I^F&j^I&j,m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,c=65535&S|K<<16,d=65535&m|B<<16,x=a,M=p,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=A,M=_,m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,a=65535&S|K<<16,p=65535&m|B<<16,L=o,C=i,R=h,z=a,P=f,O=s,N=u,k=c,I=y,j=l,G=w,Z=p,V=g,q=v,X=b,F=d,U%16===15)for(E=0;16>E;E++)x=T[E],M=Y[E],m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=T[(E+9)%16],M=Y[(E+9)%16],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,A=T[(E+1)%16],_=Y[(E+1)%16],x=(A>>>1|_<<31)^(A>>>8|_<<24)^A>>>7,M=(_>>>1|A<<31)^(_>>>8|A<<24)^(_>>>7|A<<25),m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,A=T[(E+14)%16],_=Y[(E+14)%16],x=(A>>>19|_<<13)^(_>>>29|A<<3)^A>>>6,M=(_>>>19|A<<13)^(A>>>29|_<<3)^(_>>>6|A<<26),m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,T[E]=65535&S|K<<16,Y[E]=65535&m|B<<16;x=k,M=F,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=r[0],M=t[0],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,r[0]=k=65535&S|K<<16,t[0]=F=65535&m|B<<16,x=L,M=I,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=r[1],M=t[1],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,r[1]=L=65535&S|K<<16,t[1]=I=65535&m|B<<16,x=C,M=j,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=r[2],M=t[2],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,r[2]=C=65535&S|K<<16,t[2]=j=65535&m|B<<16,x=R,M=G,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=r[3],M=t[3],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,r[3]=R=65535&S|K<<16,t[3]=G=65535&m|B<<16,x=z,M=Z,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=r[4],M=t[4],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,r[4]=z=65535&S|K<<16,t[4]=Z=65535&m|B<<16,x=P,M=V,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=r[5],M=t[5],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,r[5]=P=65535&S|K<<16,t[5]=V=65535&m|B<<16,x=O,M=q,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=r[6],M=t[6],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,r[6]=O=65535&S|K<<16,t[6]=q=65535&m|B<<16,x=N,M=X,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=r[7],M=t[7],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,r[7]=N=65535&S|K<<16,t[7]=X=65535&m|B<<16,D+=128,e-=128}return e}function P(r,n,e){var o,i=new Int32Array(8),h=new Int32Array(8),a=new Uint8Array(256),f=e;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,h[0]=4089235720,h[1]=2227873595,h[2]=4271175723,h[3]=1595750129,h[4]=2917565137,h[5]=725511199,h[6]=4215389547,h[7]=327033209,z(i,h,n,e),e%=128,o=0;e>o;o++)a[o]=n[f-e+o];for(a[e]=128,e=256-128*(112>e?1:0),a[e-9]=0,t(a,e-8,f/536870912|0,f<<3),z(i,h,a,e),o=0;8>o;o++)t(r,8*o,i[o],h[o]);return 0}function O(r,t){var n=$(),e=$(),o=$(),i=$(),h=$(),a=$(),f=$(),s=$(),u=$();M(n,r[1],r[0]),M(u,t[1],t[0]),m(n,n,u),x(e,r[0],r[1]),x(u,t[0],t[1]),m(e,e,u),m(o,r[3],t[3]),m(o,o,ar),m(i,r[2],t[2]),x(i,i,i),M(h,e,n),M(a,i,o),x(f,i,o),x(s,e,n),m(r[0],h,a),m(r[1],s,f),m(r[2],f,a),m(r[3],h,s)}function N(r,t,n){var e;for(e=0;4>e;e++)d(r[e],t[e],n)}function F(r,t){var n=$(),e=$(),o=$();S(o,t[2]),m(n,t[0],o),m(e,t[1],o),A(r,e),r[31]^=U(n)<<7}function I(r,t,n){var e,o;for(v(r[0],er),v(r[1],or),v(r[2],or),v(r[3],er),o=255;o>=0;--o)e=n[o/8|0]>>(7&o)&1,N(r,t,e),O(t,r),O(r,r),N(r,t,e)}function j(r,t){var n=[$(),$(),$(),$()];v(n[0],fr),v(n[1],sr),v(n[2],or),m(n[3],fr,sr),I(r,n,t)}function G(r,t,n){var e,o=new Uint8Array(64),i=[$(),$(),$(),$()];for(n||rr(t,32),P(o,t,32),o[0]&=248,o[31]&=127,o[31]|=64,j(i,o),F(r,i),e=0;32>e;e++)t[e+32]=r[e];return 0}function Z(r,t){var n,e,o,i;for(e=63;e>=32;--e){for(n=0,o=e-32,i=e-12;i>o;++o)t[o]+=n-16*t[e]*gr[o-(e-32)],n=t[o]+128>>8,t[o]-=256*n;t[o]+=n,t[e]=0}for(n=0,o=0;32>o;o++)t[o]+=n-(t[31]>>4)*gr[o],n=t[o]>>8,t[o]&=255;for(o=0;32>o;o++)t[o]-=n*gr[o];for(e=0;32>e;e++)t[e+1]+=t[e]>>8,r[e]=255&t[e]}function V(r){var t,n=new Float64Array(64);for(t=0;64>t;t++)n[t]=r[t];for(t=0;64>t;t++)r[t]=0;Z(r,n)}function q(r,t,n,e){var o,i,h=new Uint8Array(64),a=new Uint8Array(64),f=new Uint8Array(64),s=new Float64Array(64),u=[$(),$(),$(),$()];P(h,e,32),h[0]&=248,h[31]&=127,h[31]|=64;var c=n+64;for(o=0;n>o;o++)r[64+o]=t[o];for(o=0;32>o;o++)r[32+o]=h[32+o];for(P(f,r.subarray(32),n+32),V(f),j(u,f),F(r,u),o=32;64>o;o++)r[o]=e[o];for(P(a,r,n+64),V(a),o=0;64>o;o++)s[o]=0;for(o=0;32>o;o++)s[o]=f[o];for(o=0;32>o;o++)for(i=0;32>i;i++)s[o+i]+=a[o]*h[i];return Z(r.subarray(32),s),c}function X(r,t){var n=$(),e=$(),o=$(),i=$(),h=$(),a=$(),f=$();return v(r[2],or),E(r[1],t),B(o,r[1]),m(i,o,hr),M(o,o,r[2]),x(i,r[2],i),B(h,i),B(a,h),m(f,a,h),m(n,f,o),m(n,n,i),K(n,n),m(n,n,o),m(n,n,i),m(n,n,i),m(r[0],n,i),B(e,r[0]),m(e,e,i),_(e,o)&&m(r[0],r[0],ur),B(e,r[0]),m(e,e,i),_(e,o)?-1:(U(r[0])===t[31]>>7&&M(r[0],er,r[0]),m(r[3],r[0],r[1]),0)}function D(r,t,n,e){var i,h,a=new Uint8Array(32),f=new Uint8Array(64),s=[$(),$(),$(),$()],u=[$(),$(),$(),$()];if(h=-1,64>n)return-1;if(X(u,e))return-1;for(i=0;n>i;i++)r[i]=t[i];for(i=0;32>i;i++)r[i+32]=e[i];if(P(f,r,n),V(f),I(s,u,f),j(u,t.subarray(32)),O(s,u),F(a,s),n-=64,o(t,0,a,0)){for(i=0;n>i;i++)r[i]=0;return-1}for(i=0;n>i;i++)r[i]=t[i+64];return h=n}function H(r,t){if(r.length!==vr)throw new Error("bad key size");if(t.length!==br)throw new Error("bad nonce size")}function J(r,t){if(r.length!==Er)throw new Error("bad public key size");if(t.length!==xr)throw new Error("bad secret key size")}function Q(){var r,t;for(t=0;t<arguments.length;t++)if("[object Uint8Array]"!==(r=Object.prototype.toString.call(arguments[t])))throw new TypeError("unexpected type "+r+", use Uint8Array")}function W(r){for(var t=0;t<r.length;t++)r[t]=0}var $=function(r){var t,n=new Float64Array(16);if(r)for(t=0;t<r.length;t++)n[t]=r[t];return n},rr=function(){throw new Error("no PRNG")},tr=new Uint8Array(16),nr=new Uint8Array(32);nr[0]=9;var er=$(),or=$([1]),ir=$([56129,1]),hr=$([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),ar=$([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),fr=$([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),sr=$([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),ur=$([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),cr=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),yr=function(r){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var t,n,e,o,i,h,a,f;t=255&r[0]|(255&r[1])<<8,this.r[0]=8191&t,n=255&r[2]|(255&r[3])<<8,this.r[1]=8191&(t>>>13|n<<3),e=255&r[4]|(255&r[5])<<8,this.r[2]=7939&(n>>>10|e<<6),o=255&r[6]|(255&r[7])<<8,this.r[3]=8191&(e>>>7|o<<9),i=255&r[8]|(255&r[9])<<8,this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,h=255&r[10]|(255&r[11])<<8,this.r[6]=8191&(i>>>14|h<<2),a=255&r[12]|(255&r[13])<<8,this.r[7]=8065&(h>>>11|a<<5),f=255&r[14]|(255&r[15])<<8,this.r[8]=8191&(a>>>8|f<<8),this.r[9]=f>>>5&127,this.pad[0]=255&r[16]|(255&r[17])<<8,this.pad[1]=255&r[18]|(255&r[19])<<8,this.pad[2]=255&r[20]|(255&r[21])<<8,this.pad[3]=255&r[22]|(255&r[23])<<8,this.pad[4]=255&r[24]|(255&r[25])<<8,this.pad[5]=255&r[26]|(255&r[27])<<8,this.pad[6]=255&r[28]|(255&r[29])<<8,this.pad[7]=255&r[30]|(255&r[31])<<8};yr.prototype.blocks=function(r,t,n){for(var e,o,i,h,a,f,s,u,c,y,l,w,p,g,v,b,d,A,_,U=this.fin?0:2048,E=this.h[0],x=this.h[1],M=this.h[2],m=this.h[3],B=this.h[4],S=this.h[5],K=this.h[6],T=this.h[7],Y=this.h[8],k=this.h[9],L=this.r[0],C=this.r[1],R=this.r[2],z=this.r[3],P=this.r[4],O=this.r[5],N=this.r[6],F=this.r[7],I=this.r[8],j=this.r[9];n>=16;)e=255&r[t+0]|(255&r[t+1])<<8,E+=8191&e,o=255&r[t+2]|(255&r[t+3])<<8,x+=8191&(e>>>13|o<<3),i=255&r[t+4]|(255&r[t+5])<<8,M+=8191&(o>>>10|i<<6),h=255&r[t+6]|(255&r[t+7])<<8,m+=8191&(i>>>7|h<<9),a=255&r[t+8]|(255&r[t+9])<<8,B+=8191&(h>>>4|a<<12),S+=a>>>1&8191,f=255&r[t+10]|(255&r[t+11])<<8,K+=8191&(a>>>14|f<<2),s=255&r[t+12]|(255&r[t+13])<<8,T+=8191&(f>>>11|s<<5),u=255&r[t+14]|(255&r[t+15])<<8,Y+=8191&(s>>>8|u<<8),k+=u>>>5|U,c=0,y=c,y+=E*L,y+=x*(5*j),y+=M*(5*I),y+=m*(5*F),y+=B*(5*N),c=y>>>13,y&=8191,y+=S*(5*O),y+=K*(5*P),y+=T*(5*z),y+=Y*(5*R),y+=k*(5*C),c+=y>>>13,y&=8191,l=c,l+=E*C,l+=x*L,l+=M*(5*j),l+=m*(5*I),l+=B*(5*F),c=l>>>13,l&=8191,l+=S*(5*N),l+=K*(5*O),l+=T*(5*P),l+=Y*(5*z),l+=k*(5*R),c+=l>>>13,l&=8191,w=c,w+=E*R,w+=x*C,w+=M*L,w+=m*(5*j),w+=B*(5*I),c=w>>>13,w&=8191,w+=S*(5*F),w+=K*(5*N),w+=T*(5*O),w+=Y*(5*P),w+=k*(5*z),c+=w>>>13,w&=8191,p=c,p+=E*z,p+=x*R,p+=M*C,p+=m*L,p+=B*(5*j),c=p>>>13,p&=8191,p+=S*(5*I),p+=K*(5*F),p+=T*(5*N),p+=Y*(5*O),p+=k*(5*P),c+=p>>>13,p&=8191,g=c,g+=E*P,g+=x*z,g+=M*R,g+=m*C,g+=B*L,c=g>>>13,g&=8191,g+=S*(5*j),g+=K*(5*I),g+=T*(5*F),g+=Y*(5*N),g+=k*(5*O),c+=g>>>13,g&=8191,v=c,v+=E*O,v+=x*P,v+=M*z,v+=m*R,v+=B*C,c=v>>>13,v&=8191,v+=S*L,v+=K*(5*j),v+=T*(5*I),v+=Y*(5*F),v+=k*(5*N),c+=v>>>13,v&=8191,b=c,b+=E*N,b+=x*O,b+=M*P,b+=m*z,b+=B*R,c=b>>>13,b&=8191,b+=S*C,b+=K*L,b+=T*(5*j),b+=Y*(5*I),b+=k*(5*F),c+=b>>>13,b&=8191,d=c,d+=E*F,d+=x*N,d+=M*O,d+=m*P,d+=B*z,c=d>>>13,d&=8191,d+=S*R,d+=K*C,d+=T*L,d+=Y*(5*j),d+=k*(5*I),c+=d>>>13,d&=8191,A=c,A+=E*I,A+=x*F,A+=M*N,A+=m*O,A+=B*P,c=A>>>13,A&=8191,A+=S*z,A+=K*R,A+=T*C,A+=Y*L,A+=k*(5*j),c+=A>>>13,A&=8191,_=c,_+=E*j,_+=x*I,_+=M*F,_+=m*N,_+=B*O,c=_>>>13,_&=8191,_+=S*P,_+=K*z,_+=T*R,_+=Y*C,_+=k*L,c+=_>>>13,_&=8191,c=(c<<2)+c|0,c=c+y|0,y=8191&c,c>>>=13,l+=c,E=y,x=l,M=w,m=p,B=g,S=v,K=b,T=d,Y=A,k=_,t+=16,n-=16;this.h[0]=E,this.h[1]=x,this.h[2]=M,this.h[3]=m,this.h[4]=B,this.h[5]=S,this.h[6]=K,this.h[7]=T,this.h[8]=Y,this.h[9]=k},yr.prototype.finish=function(r,t){var n,e,o,i,h=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;16>i;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,i=2;10>i;i++)this.h[i]+=n,n=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,h[0]=this.h[0]+5,n=h[0]>>>13,h[0]&=8191,i=1;10>i;i++)h[i]=this.h[i]+n,n=h[i]>>>13,h[i]&=8191;for(h[9]-=8192,e=(h[9]>>>15)-1,i=0;10>i;i++)h[i]&=e;for(e=~e,i=0;10>i;i++)this.h[i]=this.h[i]&e|h[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,i=1;8>i;i++)o=(this.h[i]+this.pad[i]|0)+(o>>>16)|0,this.h[i]=65535&o;r[t+0]=this.h[0]>>>0&255,r[t+1]=this.h[0]>>>8&255,r[t+2]=this.h[1]>>>0&255,r[t+3]=this.h[1]>>>8&255,r[t+4]=this.h[2]>>>0&255,r[t+5]=this.h[2]>>>8&255,r[t+6]=this.h[3]>>>0&255,r[t+7]=this.h[3]>>>8&255,r[t+8]=this.h[4]>>>0&255,r[t+9]=this.h[4]>>>8&255,r[t+10]=this.h[5]>>>0&255,r[t+11]=this.h[5]>>>8&255,r[t+12]=this.h[6]>>>0&255,r[t+13]=this.h[6]>>>8&255,r[t+14]=this.h[7]>>>0&255,r[t+15]=this.h[7]>>>8&255},yr.prototype.update=function(r,t,n){var e,o;if(this.leftover){for(o=16-this.leftover,o>n&&(o=n),e=0;o>e;e++)this.buffer[this.leftover+e]=r[t+e];if(n-=o,t+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(o=n-n%16,this.blocks(r,t,o),t+=o,n-=o),n){for(e=0;n>e;e++)this.buffer[this.leftover+e]=r[t+e];this.leftover+=n}};var lr=p,wr=g,pr=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],gr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),vr=32,br=24,dr=32,Ar=16,_r=32,Ur=32,Er=32,xr=32,Mr=32,mr=br,Br=dr,Sr=Ar,Kr=64,Tr=32,Yr=64,kr=32,Lr=64;r.lowlevel={crypto_core_hsalsa20:f,crypto_stream_xor:y,crypto_stream:c,crypto_stream_salsa20_xor:s,crypto_stream_salsa20:u,crypto_onetimeauth:l,crypto_onetimeauth_verify:w,crypto_verify_16:e,crypto_verify_32:o,crypto_secretbox:p,crypto_secretbox_open:g,crypto_scalarmult:T,crypto_scalarmult_base:Y,crypto_box_beforenm:L,crypto_box_afternm:lr,crypto_box:C,crypto_box_open:R,crypto_box_keypair:k,crypto_hash:P,crypto_sign:q,crypto_sign_keypair:G,crypto_sign_open:D,crypto_secretbox_KEYBYTES:vr,crypto_secretbox_NONCEBYTES:br,crypto_secretbox_ZEROBYTES:dr,crypto_secretbox_BOXZEROBYTES:Ar,crypto_scalarmult_BYTES:_r,crypto_scalarmult_SCALARBYTES:Ur,crypto_box_PUBLICKEYBYTES:Er,crypto_box_SECRETKEYBYTES:xr,crypto_box_BEFORENMBYTES:Mr,crypto_box_NONCEBYTES:mr,crypto_box_ZEROBYTES:Br,crypto_box_BOXZEROBYTES:Sr,crypto_sign_BYTES:Kr,crypto_sign_PUBLICKEYBYTES:Tr,crypto_sign_SECRETKEYBYTES:Yr,crypto_sign_SEEDBYTES:kr,crypto_hash_BYTES:Lr},r.util={},r.util.decodeUTF8=function(r){var t,n=unescape(encodeURIComponent(r)),e=new Uint8Array(n.length);for(t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e},r.util.encodeUTF8=function(r){var t,n=[];for(t=0;t<r.length;t++)n.push(String.fromCharCode(r[t]));return decodeURIComponent(escape(n.join("")))},r.util.encodeBase64=function(r){if("undefined"==typeof btoa)return new Buffer(r).toString("base64");var t,n=[],e=r.length;for(t=0;e>t;t++)n.push(String.fromCharCode(r[t]));return btoa(n.join(""))},r.util.decodeBase64=function(r){if("undefined"==typeof atob)return new Uint8Array(Array.prototype.slice.call(new Buffer(r,"base64"),0));var t,n=atob(r),e=new Uint8Array(n.length);for(t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e},r.randomBytes=function(r){var t=new Uint8Array(r);return rr(t,r),t},r.secretbox=function(r,t,n){Q(r,t,n),H(n,t);for(var e=new Uint8Array(dr+r.length),o=new Uint8Array(e.length),i=0;i<r.length;i++)e[i+dr]=r[i];return p(o,e,e.length,t,n),o.subarray(Ar)},r.secretbox.open=function(r,t,n){Q(r,t,n),H(n,t);for(var e=new Uint8Array(Ar+r.length),o=new Uint8Array(e.length),i=0;i<r.length;i++)e[i+Ar]=r[i];return e.length<32?!1:0!==g(o,e,e.length,t,n)?!1:o.subarray(dr)},r.secretbox.keyLength=vr,r.secretbox.nonceLength=br,r.secretbox.overheadLength=Ar,r.scalarMult=function(r,t){if(Q(r,t),r.length!==Ur)throw new Error("bad n size");if(t.length!==_r)throw new Error("bad p size");var n=new Uint8Array(_r);return T(n,r,t),n},r.scalarMult.base=function(r){if(Q(r),r.length!==Ur)throw new Error("bad n size");var t=new Uint8Array(_r);return Y(t,r),t},r.scalarMult.scalarLength=Ur,r.scalarMult.groupElementLength=_r,r.box=function(t,n,e,o){var i=r.box.before(e,o);return r.secretbox(t,n,i)},r.box.before=function(r,t){Q(r,t),J(r,t);var n=new Uint8Array(Mr);return L(n,r,t),n},r.box.after=r.secretbox,r.box.open=function(t,n,e,o){var i=r.box.before(e,o);return r.secretbox.open(t,n,i)},r.box.open.after=r.secretbox.open,r.box.keyPair=function(){var r=new Uint8Array(Er),t=new Uint8Array(xr);return k(r,t),{publicKey:r,secretKey:t}},r.box.keyPair.fromSecretKey=function(r){if(Q(r),r.length!==xr)throw new Error("bad secret key size");var t=new Uint8Array(Er);return Y(t,r),{publicKey:t,secretKey:new Uint8Array(r)}},r.box.publicKeyLength=Er,r.box.secretKeyLength=xr,r.box.sharedKeyLength=Mr,r.box.nonceLength=mr,r.box.overheadLength=r.secretbox.overheadLength,r.sign=function(r,t){if(Q(r,t),t.length!==Yr)throw new Error("bad secret key size");var n=new Uint8Array(Kr+r.length);return q(n,r,r.length,t),n},r.sign.open=function(r,t){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(Q(r,t),t.length!==Tr)throw new Error("bad public key size");var n=new Uint8Array(r.length),e=D(n,r,r.length,t);if(0>e)return null;for(var o=new Uint8Array(e),i=0;i<o.length;i++)o[i]=n[i];return o},r.sign.detached=function(t,n){for(var e=r.sign(t,n),o=new Uint8Array(Kr),i=0;i<o.length;i++)o[i]=e[i];return o},r.sign.detached.verify=function(r,t,n){if(Q(r,t,n),t.length!==Kr)throw new Error("bad signature size");if(n.length!==Tr)throw new Error("bad public key size");var e,o=new Uint8Array(Kr+r.length),i=new Uint8Array(Kr+r.length);for(e=0;Kr>e;e++)o[e]=t[e];for(e=0;e<r.length;e++)o[e+Kr]=r[e];return D(i,o,o.length,n)>=0},r.sign.keyPair=function(){var r=new Uint8Array(Tr),t=new Uint8Array(Yr);return G(r,t),{publicKey:r,secretKey:t}},r.sign.keyPair.fromSecretKey=function(r){if(Q(r),r.length!==Yr)throw new Error("bad secret key size");for(var t=new Uint8Array(Tr),n=0;n<t.length;n++)t[n]=r[32+n];
return{publicKey:t,secretKey:new Uint8Array(r)}},r.sign.keyPair.fromSeed=function(r){if(Q(r),r.length!==kr)throw new Error("bad seed size");for(var t=new Uint8Array(Tr),n=new Uint8Array(Yr),e=0;32>e;e++)n[e]=r[e];return G(t,n,!0),{publicKey:t,secretKey:n}},r.sign.publicKeyLength=Tr,r.sign.secretKeyLength=Yr,r.sign.seedLength=kr,r.sign.signatureLength=Kr,r.hash=function(r){Q(r);var t=new Uint8Array(Lr);return P(t,r,r.length),t},r.hash.hashLength=Lr,r.verify=function(r,t){return Q(r,t),0===r.length||0===t.length?!1:r.length!==t.length?!1:0===n(r,0,t,0,r.length)?!0:!1},r.setPRNG=function(r){rr=r},function(){var t;"undefined"!=typeof window?(window.crypto&&window.crypto.getRandomValues?t=window.crypto:window.msCrypto&&window.msCrypto.getRandomValues&&(t=window.msCrypto),t&&r.setPRNG(function(r,n){var e,o=new Uint8Array(n);for(t.getRandomValues(o),e=0;n>e;e++)r[e]=o[e];W(o)})):"undefined"!=typeof require&&(t=require("crypto"),t&&r.setPRNG(function(r,n){var e,o=t.randomBytes(n);for(e=0;n>e;e++)r[e]=o[e];W(o)}))}()}("undefined"!=typeof module&&module.exports?module.exports:window.nacl=window.nacl||{});
}).call(this,require("buffer").Buffer)

},{"buffer":6,"crypto":6}],351:[function(require,module,exports){
function isTypedArray(r){return isStrictTypedArray(r)||isLooseTypedArray(r)}function isStrictTypedArray(r){return r instanceof Int8Array||r instanceof Int16Array||r instanceof Int32Array||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Uint16Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array}function isLooseTypedArray(r){return names[toString.call(r)]}module.exports=isTypedArray,isTypedArray.strict=isStrictTypedArray,isTypedArray.loose=isLooseTypedArray;var toString=Object.prototype.toString,names={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};
},{}],352:[function(require,module,exports){
function isStream(e){return e instanceof stream.Stream}function isReadable(e){return isStream(e)&&"function"==typeof e._read&&"object"==typeof e._readableState}function isWritable(e){return isStream(e)&&"function"==typeof e._write&&"object"==typeof e._writableState}function isDuplex(e){return isReadable(e)&&isWritable(e)}var stream=require("stream");module.exports=isStream,module.exports.isReadable=isReadable,module.exports.isWritable=isWritable,module.exports.isDuplex=isDuplex;
},{"stream":573}],353:[function(require,module,exports){
function stringify(i,r,e,n){return JSON.stringify(i,serializer(r,n),e)}function serializer(i,r){var e=[],n=[];return null==r&&(r=function(i,r){return e[0]===r?"[Circular ~]":"[Circular ~."+n.slice(0,e.indexOf(r)).join(".")+"]"}),function(l,s){if(e.length>0){var t=e.indexOf(this);~t?e.splice(t+1):e.push(this),~t?n.splice(t,1/0,l):n.push(l),~e.indexOf(s)&&(s=r.call(this,l,s))}else e.push(s);return null==i?s:i.call(this,l,s)}}exports=module.exports=stringify,exports.getSerialize=serializer;
},{}],354:[function(require,module,exports){
"use strict";function charset(e){if(!e||"string"!=typeof e)return!1;var t=extractTypeRegExp.exec(e),r=t&&db[t[1].toLowerCase()];return r&&r.charset?r.charset:t&&textTypeRegExp.test(t[1])?"UTF-8":!1}function contentType(e){if(!e||"string"!=typeof e)return!1;var t=-1===e.indexOf("/")?exports.lookup(e):e;if(!t)return!1;if(-1===t.indexOf("charset")){var r=exports.charset(t);r&&(t+="; charset="+r.toLowerCase())}return t}function extension(e){if(!e||"string"!=typeof e)return!1;var t=extractTypeRegExp.exec(e),r=t&&exports.extensions[t[1].toLowerCase()];return r&&r.length?r[0]:!1}function lookup(e){if(!e||"string"!=typeof e)return!1;var t=extname("x."+e).toLowerCase().substr(1);return t?exports.types[t]||!1:!1}function populateMaps(e,t){var r=["nginx","apache",void 0,"iana"];Object.keys(db).forEach(function(n){var o=db[n],s=o.extensions;if(s&&s.length){e[n]=s;for(var p=0;p<s.length;p++){var a=s[p];if(t[a]){var i=r.indexOf(db[t[a]].source),x=r.indexOf(o.source);if("application/octet-stream"!==t[a]&&i>x||i===x&&"application/"===t[a].substr(0,12))continue}t[a]=n}}})}var db=require("mime-db"),extname=require("path").extname,extractTypeRegExp=/^\s*([^;\s]*)(?:;|\s|$)/,textTypeRegExp=/^text\//i;exports.charset=charset,exports.charsets={lookup:charset},exports.contentType=contentType,exports.extension=extension,exports.extensions=Object.create(null),exports.lookup=lookup,exports.types=Object.create(null),populateMaps(exports.extensions,exports.types);
},{"mime-db":356,"path":423}],355:[function(require,module,exports){
module.exports={"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana"},"application/3gpp-ims+xml":{"source":"iana"},"application/a2l":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana"},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","extensions":["atomsvc"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana"},"application/bacnet-xdd+zip":{"source":"iana"},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana"},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana"},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/cbor":{"source":"iana"},"application/ccmp+xml":{"source":"iana"},"application/ccxml+xml":{"source":"iana","extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana"},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana"},"application/cellml+xml":{"source":"iana"},"application/cfw":{"source":"iana"},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana"},"application/coap-group+json":{"source":"iana","compressible":true},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana"},"application/cpl+xml":{"source":"iana"},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana"},"application/cstadata+xml":{"source":"iana"},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","extensions":["mdp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana"},"application/dicom":{"source":"iana"},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/docbook+xml":{"source":"apache","extensions":["dbk"]},"application/dskpp+xml":{"source":"iana"},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/emergencycalldata.comment+xml":{"source":"iana"},"application/emergencycalldata.deviceinfo+xml":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana"},"application/emergencycalldata.serviceinfo+xml":{"source":"iana"},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana"},"application/emma+xml":{"source":"iana","extensions":["emma"]},"application/emotionml+xml":{"source":"iana"},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana"},"application/epub+zip":{"source":"iana","extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana"},"application/fits":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false,"extensions":["woff"]},"application/font-woff2":{"compressible":false,"extensions":["woff2"]},"application/framework-attributes+xml":{"source":"iana"},"application/gml+xml":{"source":"apache","extensions":["gml"]},"application/gpx+xml":{"source":"apache","extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana"},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana"},"application/ibe-pkg-reply+xml":{"source":"iana"},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana"},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana"},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js"]},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana"},"application/kpml-response+xml":{"source":"iana"},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana"},"application/lost+xml":{"source":"iana","extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana"},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","extensions":["mads"]},"application/manifest+json":{"charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana"},"application/mathml-presentation+xml":{"source":"iana"},"application/mbms-associated-procedure-description+xml":{"source":"iana"},"application/mbms-deregister+xml":{"source":"iana"},"application/mbms-envelope+xml":{"source":"iana"},"application/mbms-msk+xml":{"source":"iana"},"application/mbms-msk-response+xml":{"source":"iana"},"application/mbms-protection-description+xml":{"source":"iana"},"application/mbms-reception-report+xml":{"source":"iana"},"application/mbms-register+xml":{"source":"iana"},"application/mbms-register-response+xml":{"source":"iana"},"application/mbms-schedule+xml":{"source":"iana"},"application/mbms-user-service-description+xml":{"source":"iana"},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana"},"application/media_control+xml":{"source":"iana"},"application/mediaservercontrol+xml":{"source":"iana","extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","extensions":["meta4"]},"application/mets+xml":{"source":"iana","extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mods+xml":{"source":"iana","extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana"},"application/mrb-publish+xml":{"source":"iana"},"application/msc-ivr+xml":{"source":"iana"},"application/msc-mixer+xml":{"source":"iana"},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana"},"application/news-groupinfo":{"source":"iana"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana"},"application/nss":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p2p-overlay+xml":{"source":"iana"},"application/parityfec":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana"},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana"},"application/pidf-diff+xml":{"source":"iana"},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","extensions":["pls"]},"application/poc-settings+xml":{"source":"iana"},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/provenance+xml":{"source":"iana"},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.hpub+zip":{"source":"iana"},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana"},"application/pskc+xml":{"source":"iana","extensions":["pskcxml"]},"application/qsig":{"source":"iana"},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf"]},"application/reginfo+xml":{"source":"iana","extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","extensions":["rld"]},"application/rfc+xml":{"source":"iana"},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana"},"application/rls-services+xml":{"source":"iana","extensions":["rs"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana"},"application/samlmetadata+xml":{"source":"iana"},"application/sbml+xml":{"source":"iana","extensions":["sbml"]},"application/scaip+xml":{"source":"iana"},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/sep+xml":{"source":"iana"},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","extensions":["shf"]},"application/sieve":{"source":"iana"},"application/simple-filter+xml":{"source":"iana"},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","extensions":["srx"]},"application/spirits-event+xml":{"source":"iana"},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","extensions":["grxml"]},"application/sru+xml":{"source":"iana","extensions":["sru"]},"application/ssdl+xml":{"source":"apache","extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","extensions":["ssml"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/tei+xml":{"source":"iana","extensions":["tei","teicorpus"]},"application/thraud+xml":{"source":"iana","extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/ttml+xml":{"source":"iana"},"application/tve-trigger":{"source":"iana"},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana"},"application/urc-ressheet+xml":{"source":"iana"},"application/urc-targetdesc+xml":{"source":"iana"},"application/urc-uisocketdesc+xml":{"source":"iana"},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana"},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.3gpp-prose+xml":{"source":"iana"},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana"},"application/vnd.3gpp.bsf+xml":{"source":"iana"},"application/vnd.3gpp.mid-call+xml":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana"},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana"},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana"},"application/vnd.3gpp.ussd+xml":{"source":"iana"},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana"},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","extensions":["mpkg"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avistar+xml":{"source":"iana"},"application/vnd.balsamiq.bmml+xml":{"source":"iana"},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.biopax.rdf+xml":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","extensions":["cdxml"]},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana"},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","extensions":["wbs"]},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana"},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana"},"application/vnd.cybank":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume-movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana"},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana"},"application/vnd.dvb.notif-container+xml":{"source":"iana"},"application/vnd.dvb.notif-generic+xml":{"source":"iana"},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana"},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana"},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana"},"application/vnd.dvb.notif-init+xml":{"source":"iana"},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana"},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana"},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.eszigno3+xml":{"source":"iana","extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana"},"application/vnd.etsi.asic-e+zip":{"source":"iana"},"application/vnd.etsi.asic-s+zip":{"source":"iana"},"application/vnd.etsi.cug+xml":{"source":"iana"},"application/vnd.etsi.iptvcommand+xml":{"source":"iana"},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana"},"application/vnd.etsi.iptvprofile+xml":{"source":"iana"},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana"},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana"},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana"},"application/vnd.etsi.iptvservice+xml":{"source":"iana"},"application/vnd.etsi.iptvsync+xml":{"source":"iana"},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana"},"application/vnd.etsi.mcid+xml":{"source":"iana"},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana"},"application/vnd.etsi.pstn+xml":{"source":"iana"},"application/vnd.etsi.sci+xml":{"source":"iana"},"application/vnd.etsi.simservs+xml":{"source":"iana"},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana"},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana"},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana"},"application/vnd.gov.sk.e-form+zip":{"source":"iana"},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana"},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana"},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana"},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana"},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana"},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana"},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana"},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana"},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana"},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana"},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las.las+xml":{"source":"iana","extensions":["lasxml"]},"application/vnd.liberty-request+xml":{"source":"iana"},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","extensions":["lbe"]},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana"},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana"},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana"},"application/vnd.marlin.drm.license+xml":{"source":"iana"},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana"},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana"},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana"},"application/vnd.ms-printing.printticket+xml":{"source":"apache"},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana"},"application/vnd.nokia.iptv.config+xml":{"source":"iana"},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana"},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana"},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana"},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana"},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana"},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana"},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana"},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana"},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana"},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana"},"application/vnd.oipf.spdlist+xml":{"source":"iana"},"application/vnd.oipf.ueprofile+xml":{"source":"iana"},"application/vnd.oipf.userprofile+xml":{"source":"iana"},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana"},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana"},"application/vnd.oma.bcast.imd+xml":{"source":"iana"},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana"},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana"},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana"},"application/vnd.oma.bcast.sprov+xml":{"source":"iana"},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana"},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana"},"application/vnd.oma.cab-pcc+xml":{"source":"iana"},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana"},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana"},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana"},"application/vnd.oma.group-usage-list+xml":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana"},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana"},"application/vnd.oma.poc.final-report+xml":{"source":"iana"},"application/vnd.oma.poc.groups+xml":{"source":"iana"},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana"},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana"},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana"},"application/vnd.oma.xcap-directory+xml":{"source":"iana"},"application/vnd.omads-email+xml":{"source":"iana"},"application/vnd.omads-file+xml":{"source":"iana"},"application/vnd.omads-folder+xml":{"source":"iana"},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana"},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml-template":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"apache","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml-template":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"apache","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml-template":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"apache","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana"},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana"},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana"},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana"},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana"},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos+xml":{"source":"iana"},"application/vnd.paos.xml":{"source":"apache"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana"},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana"},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana"},"application/vnd.radisys.msml+xml":{"source":"iana"},"application/vnd.radisys.msml-audit+xml":{"source":"iana"},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana"},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana"},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana"},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana"},"application/vnd.radisys.msml-conf+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana"},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana"},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.software602.filler.form+xml":{"source":"iana"},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana"},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana"},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana"},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana"},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana"},"application/vnd.wv.ssp+xml":{"source":"iana"},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana"},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","extensions":["vxml"]},"application/vq-rtcpxr":{"source":"iana"},"application/watcherinfo+xml":{"source":"iana"},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-otf":{"source":"apache","compressible":true,"extensions":["otf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-ttf":{"source":"apache","compressible":true,"extensions":["ttf","ttc"]},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"apache","extensions":["der","crt","pem"]},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana"},"application/xaml+xml":{"source":"apache","extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana"},"application/xcap-caps+xml":{"source":"iana"},"application/xcap-diff+xml":{"source":"iana","extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana"},"application/xcap-error+xml":{"source":"iana"},"application/xcap-ns+xml":{"source":"iana"},"application/xcon-conference-info+xml":{"source":"iana"},"application/xcon-conference-info-diff+xml":{"source":"iana"},"application/xenc+xml":{"source":"iana","extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache"},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana"},"application/xmpp+xml":{"source":"iana"},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","extensions":["xpl"]},"application/xslt+xml":{"source":"iana","extensions":["xslt"]},"application/xspf+xml":{"source":"apache","extensions":["xspf"]},"application/xv+xml":{"source":"iana","extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yin+xml":{"source":"iana","extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana"},"audio/3gpp2":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana"},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana"},"audio/mp4":{"source":"iana","compressible":false,"extensions":["mp4a","m4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/opentype":{"compressible":true,"extensions":["otf"]},"image/bmp":{"source":"apache","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/fits":{"source":"iana"},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jp2":{"source":"iana"},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jpm":{"source":"iana"},"image/jpx":{"source":"iana"},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana"},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana"},"image/tiff":{"source":"iana","compressible":false,"extensions":["tiff","tif"]},"image/tiff-fx":{"source":"iana"},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana"},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana"},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana"},"image/vnd.valve.source.texture":{"source":"iana"},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana"},"image/webp":{"source":"apache","extensions":["webp"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana"},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana"},"message/global-delivery-status":{"source":"iana"},"message/global-disposition-notification":{"source":"iana"},"message/global-headers":{"source":"iana"},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana"},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/vnd.collada+xml":{"source":"iana","extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana"},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana"},"model/vnd.parasolid.transmit.binary":{"source":"iana"},"model/vnd.parasolid.transmit.text":{"source":"iana"},"model/vnd.valve.source.compiled-map":{"source":"iana"},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana"},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana"},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana","compressible":false},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/css":{"source":"iana","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/hjson":{"extensions":["hjson"]},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"extensions":["less"]},"text/markdown":{"source":"iana"},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["markdown","md","mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"apache"},"video/3gpp":{"source":"apache","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"apache"},"video/3gpp2":{"source":"apache","extensions":["3g2"]},"video/bmpeg":{"source":"apache"},"video/bt656":{"source":"apache"},"video/celb":{"source":"apache"},"video/dv":{"source":"apache"},"video/h261":{"source":"apache","extensions":["h261"]},"video/h263":{"source":"apache","extensions":["h263"]},"video/h263-1998":{"source":"apache"},"video/h263-2000":{"source":"apache"},"video/h264":{"source":"apache","extensions":["h264"]},"video/h264-rcdo":{"source":"apache"},"video/h264-svc":{"source":"apache"},"video/jpeg":{"source":"apache","extensions":["jpgv"]},"video/jpeg2000":{"source":"apache"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/mj2":{"source":"apache","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"apache"},"video/mp2p":{"source":"apache"},"video/mp2t":{"source":"apache","extensions":["ts"]},"video/mp4":{"source":"apache","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"apache"},"video/mpeg":{"source":"apache","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"apache"},"video/mpv":{"source":"apache"},"video/nv":{"source":"apache"},"video/ogg":{"source":"apache","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"apache"},"video/pointer":{"source":"apache"},"video/quicktime":{"source":"apache","compressible":false,"extensions":["qt","mov"]},"video/raw":{"source":"apache"},"video/rtp-enc-aescm128":{"source":"apache"},"video/rtx":{"source":"apache"},"video/smpte292m":{"source":"apache"},"video/ulpfec":{"source":"apache"},"video/vc1":{"source":"apache"},"video/vnd.cctv":{"source":"apache"},"video/vnd.dece.hd":{"source":"apache","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"apache","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"apache"},"video/vnd.dece.pd":{"source":"apache","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"apache","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"apache","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"apache"},"video/vnd.directv.mpeg-tts":{"source":"apache"},"video/vnd.dlna.mpeg-tts":{"source":"apache"},"video/vnd.dvb.file":{"source":"apache","extensions":["dvb"]},"video/vnd.fvt":{"source":"apache","extensions":["fvt"]},"video/vnd.hns.video":{"source":"apache"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"apache"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"apache"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"apache"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"apache"},"video/vnd.iptvforum.ttsavc":{"source":"apache"},"video/vnd.iptvforum.ttsmpeg2":{"source":"apache"},"video/vnd.motorola.video":{"source":"apache"},"video/vnd.motorola.videop":{"source":"apache"},"video/vnd.mpegurl":{"source":"apache","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"apache","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"apache"},"video/vnd.nokia.videovoip":{"source":"apache"},"video/vnd.objectvideo":{"source":"apache"},"video/vnd.sealed.mpeg1":{"source":"apache"},"video/vnd.sealed.mpeg4":{"source":"apache"},"video/vnd.sealed.swf":{"source":"apache"},"video/vnd.sealedmedia.softseal.mov":{"source":"apache"},"video/vnd.uvvu.mp4":{"source":"apache","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"apache","extensions":["viv"]},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}
},{}],356:[function(require,module,exports){
module.exports=require("./db.json");
},{"./db.json":355}],357:[function(require,module,exports){
(function (Buffer){
!function(n){"use strict";function e(){var e=n.crypto||n.msCrypto;if(!f&&e&&e.getRandomValues)try{var r=new Uint8Array(16);s=f=function(){return e.getRandomValues(r),r},f()}catch(o){}if(!f){var t=new Array(16);i=f=function(){for(var n,e=0;16>e;e++)0===(3&e)&&(n=4294967296*Math.random()),t[e]=n>>>((3&e)<<3)&255;return t},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function r(){if("function"==typeof require)try{var n=require("crypto").randomBytes;c=f=n&&function(){return n(16)},f()}catch(e){}}function o(n,e,r){var o=e&&r||0,t=0;for(e=e||[],n.toLowerCase().replace(/[0-9a-f]{2}/g,function(n){16>t&&(e[o+t++]=y[n])});16>t;)e[o+t++]=0;return e}function t(n,e){var r=e||0,o=v;return o[n[r++]]+o[n[r++]]+o[n[r++]]+o[n[r++]]+"-"+o[n[r++]]+o[n[r++]]+"-"+o[n[r++]]+o[n[r++]]+"-"+o[n[r++]]+o[n[r++]]+"-"+o[n[r++]]+o[n[r++]]+o[n[r++]]+o[n[r++]]+o[n[r++]]+o[n[r++]]}function u(n,e,r){var o=e&&r||0,u=e||[];n=n||{};var a=null!=n.clockseq?n.clockseq:g,f=null!=n.msecs?n.msecs:(new Date).getTime(),i=null!=n.nsecs?n.nsecs:C+1,c=f-h+(i-C)/1e4;if(0>c&&null==n.clockseq&&(a=a+1&16383),(0>c||f>h)&&null==n.nsecs&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=f,C=i,g=a,f+=122192928e5;var s=(1e4*(268435455&f)+i)%4294967296;u[o++]=s>>>24&255,u[o++]=s>>>16&255,u[o++]=s>>>8&255,u[o++]=255&s;var l=f/4294967296*1e4&268435455;u[o++]=l>>>8&255,u[o++]=255&l,u[o++]=l>>>24&15|16,u[o++]=l>>>16&255,u[o++]=a>>>8|128,u[o++]=255&a;for(var d=n.node||w,v=0;6>v;v++)u[o+v]=d[v];return e?e:t(u)}function a(n,e,r){var o=e&&r||0;"string"==typeof n&&(e="binary"===n?new d(16):null,n=null),n=n||{};var u=n.random||(n.rng||f)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,e)for(var a=0;16>a;a++)e[o+a]=u[a];return e||t(u)}var f,i,c,s,l;n?e():r();for(var d="function"==typeof Buffer?Buffer:Array,v=[],y={},m=0;256>m;m++)v[m]=(m+256).toString(16).substr(1),y[v[m]]=m;var p=f(),w=[1|p[0],p[1],p[2],p[3],p[4],p[5]],g=16383&(p[6]<<8|p[7]),h=0,C=0,R=a;R.v1=u,R.v4=a,R.parse=o,R.unparse=t,R.BufferClass=d,R._rng=f,R._mathRNG=i,R._nodeRNG=c,R._whatwgRNG=s,"undefined"!=typeof module&&module.exports?module.exports=R:"function"==typeof define&&define.amd?define(function(){return R}):(l=n.uuid,R.noConflict=function(){return n.uuid=l,R},n.uuid=R)}("undefined"!=typeof window?window:null);
}).call(this,require("buffer").Buffer)

},{"buffer":42,"crypto":52}],358:[function(require,module,exports){
function sha1(r,e){return crypto.createHmac("sha1",r).update(e).digest("base64")}function rsa(r,e){return crypto.createSign("RSA-SHA1").update(e).sign(r,"base64")}function rfc3986(r){return encodeURIComponent(r).replace(/!/g,"%21").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27")}function map(r){var e,n,a=[];for(e in r)if(n=r[e],Array.isArray(n))for(var t=0;t<n.length;t++)a.push([e,n[t]]);else if("object"==typeof n)for(var c in n)a.push([e+"["+c+"]",n[c]]);else a.push([e,n]);return a}function compare(r,e){return r>e?1:e>r?-1:0}function generateBase(r,e,n){var a=map(n).map(function(r){return[rfc3986(r[0]),rfc3986(r[1]||"")]}).sort(function(r,e){return compare(r[0],e[0])||compare(r[1],e[1])}).map(function(r){return r.join("=")}).join("&"),t=[rfc3986(r?r.toUpperCase():"GET"),rfc3986(e),rfc3986(a)].join("&");return t}function hmacsign(r,e,n,a,t){var c=generateBase(r,e,n),s=[a||"",t||""].map(rfc3986).join("&");return sha1(s,c)}function rsasign(r,e,n,a,t){var c=generateBase(r,e,n),s=a||"";return rsa(s,c)}function plaintext(r,e){var n=[r||"",e||""].map(rfc3986).join("&");return n}function sign(r,e,n,a,t,c){var s,i=1;switch(r){case"RSA-SHA1":s=rsasign;break;case"HMAC-SHA1":s=hmacsign;break;case"PLAINTEXT":s=plaintext,i=4;break;default:throw new Error("Signature method not supported: "+r)}return s.apply(null,[].slice.call(arguments,i))}var crypto=require("crypto"),qs=require("querystring");exports.hmacsign=hmacsign,exports.rsasign=rsasign,exports.plaintext=plaintext,exports.sign=sign,exports.rfc3986=rfc3986;
},{"crypto":52,"querystring":436}],359:[function(require,module,exports){
arguments[4][145][0].apply(exports,arguments)
},{"./parse":360,"./stringify":361,"dup":145}],360:[function(require,module,exports){
var Utils=require("./utils"),internals={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1,allowDots:!1};internals.parseValues=function(e,t){for(var r={},l=e.split(t.delimiter,t.parameterLimit===1/0?void 0:t.parameterLimit),a=0,i=l.length;i>a;++a){var n=l[a],s=-1===n.indexOf("]=")?n.indexOf("="):n.indexOf("]=")+1;if(-1===s)r[Utils.decode(n)]="",t.strictNullHandling&&(r[Utils.decode(n)]=null);else{var o=Utils.decode(n.slice(0,s)),p=Utils.decode(n.slice(s+1));Object.prototype.hasOwnProperty.call(r,o)?r[o]=[].concat(r[o]).concat(p):r[o]=p}}return r},internals.parseObject=function(e,t,r){if(!e.length)return t;var l,a=e.shift();if("[]"===a)l=[],l=l.concat(internals.parseObject(e,t,r));else{l=r.plainObjects?Object.create(null):{};var i="["===a[0]&&"]"===a[a.length-1]?a.slice(1,a.length-1):a,n=parseInt(i,10),s=""+n;!isNaN(n)&&a!==i&&s===i&&n>=0&&r.parseArrays&&n<=r.arrayLimit?(l=[],l[n]=internals.parseObject(e,t,r)):l[i]=internals.parseObject(e,t,r)}return l},internals.parseKeys=function(e,t,r){if(e){r.allowDots&&(e=e.replace(/\.([^\.\[]+)/g,"[$1]"));var l=/^([^\[\]]*)/,a=/(\[[^\[\]]*\])/g,i=l.exec(e),n=[];if(i[1]){if(!r.plainObjects&&Object.prototype.hasOwnProperty(i[1])&&!r.allowPrototypes)return;n.push(i[1])}for(var s=0;null!==(i=a.exec(e))&&s<r.depth;)++s,(r.plainObjects||!Object.prototype.hasOwnProperty(i[1].replace(/\[|\]/g,""))||r.allowPrototypes)&&n.push(i[1]);return i&&n.push("["+e.slice(i.index)+"]"),internals.parseObject(n,t,r)}},module.exports=function(e,t){if(t=t||{},t.delimiter="string"==typeof t.delimiter||Utils.isRegExp(t.delimiter)?t.delimiter:internals.delimiter,t.depth="number"==typeof t.depth?t.depth:internals.depth,t.arrayLimit="number"==typeof t.arrayLimit?t.arrayLimit:internals.arrayLimit,t.parseArrays=t.parseArrays!==!1,t.allowDots="boolean"==typeof t.allowDots?t.allowDots:internals.allowDots,t.plainObjects="boolean"==typeof t.plainObjects?t.plainObjects:internals.plainObjects,t.allowPrototypes="boolean"==typeof t.allowPrototypes?t.allowPrototypes:internals.allowPrototypes,t.parameterLimit="number"==typeof t.parameterLimit?t.parameterLimit:internals.parameterLimit,t.strictNullHandling="boolean"==typeof t.strictNullHandling?t.strictNullHandling:internals.strictNullHandling,""===e||null===e||"undefined"==typeof e)return t.plainObjects?Object.create(null):{};for(var r="string"==typeof e?internals.parseValues(e,t):e,l=t.plainObjects?Object.create(null):{},a=Object.keys(r),i=0,n=a.length;n>i;++i){var s=a[i],o=internals.parseKeys(s,r[s],t);l=Utils.merge(l,o,t)}return Utils.compact(l)};
},{"./utils":362}],361:[function(require,module,exports){
var Utils=require("./utils"),internals={delimiter:"&",arrayPrefixGenerators:{brackets:function(e,r){return e+"[]"},indices:function(e,r){return e+"["+r+"]"},repeat:function(e,r){return e}},strictNullHandling:!1,skipNulls:!1,encode:!0};internals.stringify=function(e,r,n,t,i,l,a,s){if("function"==typeof a)e=a(r,e);else if(Utils.isBuffer(e))e=e.toString();else if(e instanceof Date)e=e.toISOString();else if(null===e){if(t)return l?Utils.encode(r):r;e=""}if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return l?[Utils.encode(r)+"="+Utils.encode(e)]:[r+"="+e];var o=[];if("undefined"==typeof e)return o;var f;if(Array.isArray(a))f=a;else{var u=Object.keys(e);f=s?u.sort(s):u}for(var c=0,y=f.length;y>c;++c){var d=f[c];i&&null===e[d]||(o=Array.isArray(e)?o.concat(internals.stringify(e[d],n(r,d),n,t,i,l,a)):o.concat(internals.stringify(e[d],r+"["+d+"]",n,t,i,l,a)))}return o},module.exports=function(e,r){r=r||{};var n,t,i="undefined"==typeof r.delimiter?internals.delimiter:r.delimiter,l="boolean"==typeof r.strictNullHandling?r.strictNullHandling:internals.strictNullHandling,a="boolean"==typeof r.skipNulls?r.skipNulls:internals.skipNulls,s="boolean"==typeof r.encode?r.encode:internals.encode,o="function"==typeof r.sort?r.sort:null;"function"==typeof r.filter?(t=r.filter,e=t("",e)):Array.isArray(r.filter)&&(n=t=r.filter);var f=[];if("object"!=typeof e||null===e)return"";var u;u=r.arrayFormat in internals.arrayPrefixGenerators?r.arrayFormat:"indices"in r?r.indices?"indices":"repeat":"indices";var c=internals.arrayPrefixGenerators[u];n||(n=Object.keys(e)),o&&n.sort(o);for(var y=0,d=n.length;d>y;++y){var p=n[y];a&&null===e[p]||(f=f.concat(internals.stringify(e[p],p,c,l,a,s,t,o)))}return f.join(i)};
},{"./utils":362}],362:[function(require,module,exports){
var internals={};internals.hexTable=new Array(256);for(var h=0;256>h;++h)internals.hexTable[h]="%"+((16>h?"0":"")+h.toString(16)).toUpperCase();exports.arrayToObject=function(e,r){for(var t=r.plainObjects?Object.create(null):{},n=0,a=e.length;a>n;++n)"undefined"!=typeof e[n]&&(t[n]=e[n]);return t},exports.merge=function(e,r,t){if(!r)return e;if("object"!=typeof r)return Array.isArray(e)?e.push(r):"object"==typeof e?e[r]=!0:e=[e,r],e;if("object"!=typeof e)return e=[e].concat(r);Array.isArray(e)&&!Array.isArray(r)&&(e=exports.arrayToObject(e,t));for(var n=Object.keys(r),a=0,o=n.length;o>a;++a){var c=n[a],i=r[c];Object.prototype.hasOwnProperty.call(e,c)?e[c]=exports.merge(e[c],i,t):e[c]=i}return e},exports.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(r){return e}},exports.encode=function(e){if(0===e.length)return e;"string"!=typeof e&&(e=""+e);for(var r="",t=0,n=e.length;n>t;++t){var a=e.charCodeAt(t);45===a||46===a||95===a||126===a||a>=48&&57>=a||a>=65&&90>=a||a>=97&&122>=a?r+=e[t]:128>a?r+=internals.hexTable[a]:2048>a?r+=internals.hexTable[192|a>>6]+internals.hexTable[128|63&a]:55296>a||a>=57344?r+=internals.hexTable[224|a>>12]+internals.hexTable[128|a>>6&63]+internals.hexTable[128|63&a]:(++t,a=65536+((1023&a)<<10|1023&e.charCodeAt(t)),r+=internals.hexTable[240|a>>18]+internals.hexTable[128|a>>12&63]+internals.hexTable[128|a>>6&63]+internals.hexTable[128|63&a])}return r},exports.compact=function(e,r){if("object"!=typeof e||null===e)return e;r=r||[];var t=r.indexOf(e);if(-1!==t)return r[t];if(r.push(e),Array.isArray(e)){for(var n=[],a=0,o=e.length;o>a;++a)"undefined"!=typeof e[a]&&n.push(e[a]);return n}var c=Object.keys(e);for(a=0,o=c.length;o>a;++a){var i=c[a];e[i]=exports.compact(e[i],r)}return e},exports.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},exports.isBuffer=function(e){return null===e||"undefined"==typeof e?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};
},{}],363:[function(require,module,exports){
(function (Buffer){
function StringStream(t,e){return this instanceof StringStream?(Stream.call(this),null==t&&(t="utf8"),this.readable=this.writable=!0,this.paused=!1,this.toEncoding=null==e?t:e,this.fromEncoding=null==e?"":t,void(this.decoder=new AlignedStringDecoder(this.toEncoding))):new StringStream(t,e)}function AlignedStringDecoder(t){switch(StringDecoder.call(this,t),this.encoding){case"base64":this.write=alignedWrite,this.alignedBuffer=new Buffer(3),this.alignedBytes=0}}function alignedWrite(t){var e=(this.alignedBytes+t.length)%this.alignedBuffer.length;if(!e&&!this.alignedBytes)return t.toString(this.encoding);var i=new Buffer(this.alignedBytes+t.length-e);return this.alignedBuffer.copy(i,0,0,this.alignedBytes),t.copy(i,this.alignedBytes,0,t.length-e),t.copy(this.alignedBuffer,0,t.length-e,t.length),this.alignedBytes=e,i.toString(this.encoding)}var util=require("util"),Stream=require("stream"),StringDecoder=require("string_decoder").StringDecoder;module.exports=StringStream,module.exports.AlignedStringDecoder=AlignedStringDecoder,util.inherits(StringStream,Stream),StringStream.prototype.write=function(t){if(!this.writable){var e=new Error("stream not writable");return e.code="EPIPE",this.emit("error",e),!1}this.fromEncoding&&(Buffer.isBuffer(t)&&(t=t.toString()),t=new Buffer(t,this.fromEncoding));var i=this.decoder.write(t);return i.length&&this.emit("data",i),!this.paused},StringStream.prototype.flush=function(){if(this.decoder.flush){var t=this.decoder.flush();t.length&&this.emit("data",t)}},StringStream.prototype.end=function(){(this.writable||this.readable)&&(this.flush(),this.emit("end"),this.writable=this.readable=!1,this.destroy())},StringStream.prototype.destroy=function(){this.decoder=null,this.writable=this.readable=!1,this.emit("close")},StringStream.prototype.pause=function(){this.paused=!0},StringStream.prototype.resume=function(){this.paused&&this.emit("drain"),this.paused=!1},util.inherits(AlignedStringDecoder,StringDecoder),AlignedStringDecoder.prototype.flush=function(){if(!this.alignedBuffer||!this.alignedBytes)return"";var t=this.alignedBuffer.toString(this.encoding,0,this.alignedBytes);return this.alignedBytes=0,t};
}).call(this,require("buffer").Buffer)

},{"buffer":42,"stream":573,"string_decoder":584,"util":594}],364:[function(require,module,exports){
"use strict";function parseDate(e){if(e){var t=e.split(DATE_DELIM);if(t){for(var o=null,r=null,i=null,n=null,a=null,s=null,u=0;u<t.length;u++){var l=t[u].trim();if(l.length){var c;if(null===i&&(c=TIME.exec(l))){if(o=parseInt(c[1],10),r=parseInt(c[2],10),i=parseInt(c[3],10),o>23||r>59||i>59)return}else if(null===n&&(c=DAY_OF_MONTH.exec(l))){if(n=parseInt(c,10),1>n||n>31)return}else if(null===a&&(c=MONTH.exec(l)))a=MONTH_TO_NUM[c[1].toLowerCase()];else if(null===s&&(c=YEAR.exec(l),c&&(s=parseInt(c[0],10),s>=70&&99>=s?s+=1900:s>=0&&69>=s&&(s+=2e3),1601>s)))return}}if(null!==i&&null!==n&&null!==a&&null!==s)return new Date(Date.UTC(s,a,n,o,r,i))}}}function formatDate(e){var t=e.getUTCDate();t=t>=10?t:"0"+t;var o=e.getUTCHours();o=o>=10?o:"0"+o;var r=e.getUTCMinutes();r=r>=10?r:"0"+r;var i=e.getUTCSeconds();return i=i>=10?i:"0"+i,NUM_TO_DAY[e.getUTCDay()]+", "+t+" "+NUM_TO_MONTH[e.getUTCMonth()]+" "+e.getUTCFullYear()+" "+o+":"+r+":"+i+" GMT"}function canonicalDomain(e){return null==e?null:(e=e.trim().replace(/^\./,""),punycode&&/[^\u0001-\u007f]/.test(e)&&(e=punycode.toASCII(e)),e.toLowerCase())}function domainMatch(e,t,o){if(null==e||null==t)return null;if(o!==!1&&(e=canonicalDomain(e),t=canonicalDomain(t)),e==t)return!0;if(net.isIP(e))return!1;var r=e.indexOf(t);return 0>=r?!1:e.length!==t.length+r?!1:"."!==e.substr(r-1,1)?!1:!0}function defaultPath(e){if(!e||"/"!==e.substr(0,1))return"/";if("/"===e)return e;var t=e.lastIndexOf("/");return 0===t?"/":e.slice(0,t)}function parse(e,t){t&&"object"==typeof t||(t={}),e=e.trim();var o=TRAILING_SEMICOLON.exec(e);o&&(e=e.slice(0,o.index));var r=e.indexOf(";"),i=t.loose?LOOSE_COOKIE_PAIR:COOKIE_PAIR,n=i.exec(-1===r?e:e.substr(0,r));if(n){var a=new Cookie;if(n[1]?a.key=n[2].trim():a.key="",a.value=n[3].trim(),!CONTROL_CHARS.test(a.key)&&!CONTROL_CHARS.test(a.value)){if(-1===r)return a;var s=e.slice(r).replace(/^\s*;\s*/,"").trim();if(0===s.length)return a;for(var u=s.split(/\s*;\s*/);u.length;){var l,c,p=u.shift(),f=p.indexOf("=");switch(-1===f?(l=p,c=null):(l=p.substr(0,f),c=p.substr(f+1)),l=l.trim().toLowerCase(),c&&(c=c.trim()),l){case"expires":if(c){var h=parseDate(c);h&&(a.expires=h)}break;case"max-age":if(c&&/^-?[0-9]+$/.test(c)){var C=parseInt(c,10);a.setMaxAge(C)}break;case"domain":if(c){var k=c.trim().replace(/^\./,"");k&&(a.domain=k.toLowerCase())}break;case"path":a.path=c&&"/"===c[0]?c:null;break;case"secure":a.secure=!0;break;case"httponly":a.httpOnly=!0;break;default:a.extensions=a.extensions||[],a.extensions.push(p)}}return a}}}function jsonParse(e){var t;try{t=JSON.parse(e)}catch(o){return o}return t}function fromJSON(e){if(!e)return null;var t;if("string"==typeof e){if(t=jsonParse(e),t instanceof Error)return null}else t=e;for(var o=new Cookie,r=0;r<Cookie.serializableProperties.length;r++){var i=Cookie.serializableProperties[r];void 0!==t[i]&&t[i]!==Cookie.prototype[i]&&("expires"===i||"creation"===i||"lastAccessed"===i?null===t[i]?o[i]=null:o[i]="Infinity"==t[i]?"Infinity":new Date(t[i]):o[i]=t[i])}return o}function cookieCompare(e,t){var o=0,r=e.path?e.path.length:0,i=t.path?t.path.length:0;if(o=i-r,0!==o)return o;var n=e.creation?e.creation.getTime():MAX_TIME,a=t.creation?t.creation.getTime():MAX_TIME;return o=n-a,0!==o?o:o=e.creationIndex-t.creationIndex}function permutePath(e){if("/"===e)return["/"];e.lastIndexOf("/")===e.length-1&&(e=e.substr(0,e.length-1));for(var t=[e];e.length>1;){var o=e.lastIndexOf("/");if(0===o)break;e=e.substr(0,o),t.push(e)}return t.push("/"),t}function getCookieContext(e){if(e instanceof Object)return e;try{e=decodeURI(e)}catch(t){}return urlParse(e)}function Cookie(e){e=e||{},Object.keys(e).forEach(function(t){Cookie.prototype.hasOwnProperty(t)&&Cookie.prototype[t]!==e[t]&&"_"!==t.substr(0,1)&&(this[t]=e[t])},this),this.creation=this.creation||new Date,Object.defineProperty(this,"creationIndex",{configurable:!1,enumerable:!1,writable:!0,value:++Cookie.cookiesCreated})}function CookieJar(e,t){"boolean"==typeof t?t={rejectPublicSuffixes:t}:null==t&&(t={}),null!=t.rejectPublicSuffixes&&(this.rejectPublicSuffixes=t.rejectPublicSuffixes),null!=t.looseMode&&(this.enableLooseMode=t.looseMode),e||(e=new MemoryCookieStore),this.store=e}function syncWrap(e){return function(){if(!this.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");var t,o,r=Array.prototype.slice.call(arguments);if(r.push(function(e,r){t=e,o=r}),this[e].apply(this,r),t)throw t;return o}}var net=require("net"),urlParse=require("url").parse,pubsuffix=require("./pubsuffix"),Store=require("./store").Store,MemoryCookieStore=require("./memstore").MemoryCookieStore,pathMatch=require("./pathMatch").pathMatch,VERSION=require("../package.json").version,punycode;try{punycode=require("punycode")}catch(e){console.warn("cookie: can't load punycode; won't use punycode for domain normalization")}var DATE_DELIM=/[\x09\x20-\x2F\x3B-\x40\x5B-\x60\x7B-\x7E]/,COOKIE_OCTET=/[\x21\x23-\x2B\x2D-\x3A\x3C-\x5B\x5D-\x7E]/,COOKIE_OCTETS=new RegExp("^"+COOKIE_OCTET.source+"+$"),CONTROL_CHARS=/[\x00-\x1F]/,COOKIE_PAIR=/^(([^=;]+))\s*=\s*(("?)[^\n\r\0]*\3)/,LOOSE_COOKIE_PAIR=/^((?:=)?([^=;]*)\s*=\s*)?(("?)[^\n\r\0]*\3)/,PATH_VALUE=/[\x20-\x3A\x3C-\x7E]+/,TRAILING_SEMICOLON=/;+$/,DAY_OF_MONTH=/^(\d{1,2})[^\d]*$/,TIME=/^(\d{1,2})[^\d]*:(\d{1,2})[^\d]*:(\d{1,2})[^\d]*$/,MONTH=/^(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)/i,MONTH_TO_NUM={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},NUM_TO_MONTH=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],NUM_TO_DAY=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],YEAR=/^(\d{2}|\d{4})$/,MAX_TIME=2147483647e3,MIN_TIME=0;Cookie.cookiesCreated=0,Cookie.parse=parse,Cookie.fromJSON=fromJSON,Cookie.prototype.key="",Cookie.prototype.value="",Cookie.prototype.expires="Infinity",Cookie.prototype.maxAge=null,Cookie.prototype.domain=null,Cookie.prototype.path=null,Cookie.prototype.secure=!1,Cookie.prototype.httpOnly=!1,Cookie.prototype.extensions=null,Cookie.prototype.hostOnly=null,Cookie.prototype.pathIsDefault=null,Cookie.prototype.creation=null,Cookie.prototype.lastAccessed=null,Object.defineProperty(Cookie.prototype,"creationIndex",{configurable:!0,enumerable:!1,writable:!0,value:0}),Cookie.serializableProperties=Object.keys(Cookie.prototype).filter(function(e){return!(Cookie.prototype[e]instanceof Function||"creationIndex"===e||"_"===e.substr(0,1))}),Cookie.prototype.inspect=function(){var e=Date.now();return'Cookie="'+this.toString()+"; hostOnly="+(null!=this.hostOnly?this.hostOnly:"?")+"; aAge="+(this.lastAccessed?e-this.lastAccessed.getTime()+"ms":"?")+"; cAge="+(this.creation?e-this.creation.getTime()+"ms":"?")+'"'},Cookie.prototype.toJSON=function(){for(var e={},t=Cookie.serializableProperties,o=0;o<t.length;o++){var r=t[o];this[r]!==Cookie.prototype[r]&&("expires"===r||"creation"===r||"lastAccessed"===r?null===this[r]?e[r]=null:e[r]="Infinity"==this[r]?"Infinity":this[r].toISOString():"maxAge"===r?null!==this[r]&&(e[r]=this[r]==1/0||this[r]==-(1/0)?this[r].toString():this[r]):this[r]!==Cookie.prototype[r]&&(e[r]=this[r]))}return e},Cookie.prototype.clone=function(){return fromJSON(this.toJSON())},Cookie.prototype.validate=function(){if(!COOKIE_OCTETS.test(this.value))return!1;if(!(this.expires==1/0||this.expires instanceof Date||parseDate(this.expires)))return!1;if(null!=this.maxAge&&this.maxAge<=0)return!1;if(null!=this.path&&!PATH_VALUE.test(this.path))return!1;var e=this.cdomain();if(e){if(e.match(/\.$/))return!1;var t=pubsuffix.getPublicSuffix(e);if(null==t)return!1}return!0},Cookie.prototype.setExpires=function(e){e instanceof Date?this.expires=e:this.expires=parseDate(e)||"Infinity"},Cookie.prototype.setMaxAge=function(e){e===1/0||e===-(1/0)?this.maxAge=e.toString():this.maxAge=e},Cookie.prototype.cookieString=function(){var e=this.value;return null==e&&(e=""),""===this.key?e:this.key+"="+e},Cookie.prototype.toString=function(){var e=this.cookieString();return this.expires!=1/0&&(e+=this.expires instanceof Date?"; Expires="+formatDate(this.expires):"; Expires="+this.expires),null!=this.maxAge&&this.maxAge!=1/0&&(e+="; Max-Age="+this.maxAge),this.domain&&!this.hostOnly&&(e+="; Domain="+this.domain),this.path&&(e+="; Path="+this.path),this.secure&&(e+="; Secure"),this.httpOnly&&(e+="; HttpOnly"),this.extensions&&this.extensions.forEach(function(t){e+="; "+t}),e},Cookie.prototype.TTL=function(e){if(null!=this.maxAge)return this.maxAge<=0?0:1e3*this.maxAge;var t=this.expires;return t!=1/0?(t instanceof Date||(t=parseDate(t)||1/0),t==1/0?1/0:t.getTime()-(e||Date.now())):1/0},Cookie.prototype.expiryTime=function(e){if(null!=this.maxAge){var t=e||this.creation||new Date,o=this.maxAge<=0?-(1/0):1e3*this.maxAge;return t.getTime()+o}return this.expires==1/0?1/0:this.expires.getTime()},Cookie.prototype.expiryDate=function(e){var t=this.expiryTime(e);return t==1/0?new Date(MAX_TIME):t==-(1/0)?new Date(MIN_TIME):new Date(t)},Cookie.prototype.isPersistent=function(){return null!=this.maxAge||this.expires!=1/0},Cookie.prototype.cdomain=Cookie.prototype.canonicalizedDomain=function(){return null==this.domain?null:canonicalDomain(this.domain)},CookieJar.prototype.store=null,CookieJar.prototype.rejectPublicSuffixes=!0,CookieJar.prototype.enableLooseMode=!1;var CAN_BE_SYNC=[];CAN_BE_SYNC.push("setCookie"),CookieJar.prototype.setCookie=function(e,t,o,r){function i(t,i){if(t)return r(t);var n=function(t){return t?r(t):void r(null,e)};if(i){if(o.http===!1&&i.httpOnly)return t=new Error("old Cookie is HttpOnly and this isn't an HTTP API"),r(o.ignoreError?null:t);e.creation=i.creation,e.creationIndex=i.creationIndex,e.lastAccessed=l,p.updateCookie(i,e,n)}else e.creation=e.lastAccessed=l,p.putCookie(e,n)}var n,a=getCookieContext(t);o instanceof Function&&(r=o,o={});var s=canonicalDomain(a.hostname),u=this.enableLooseMode;if(null!=o.loose&&(u=o.loose),e instanceof Cookie||(e=Cookie.parse(e,{loose:u})),!e)return n=new Error("Cookie failed to parse"),r(o.ignoreError?null:n);var l=o.now||new Date;if(this.rejectPublicSuffixes&&e.domain){var c=pubsuffix.getPublicSuffix(e.cdomain());if(null==c)return n=new Error("Cookie has domain set to a public suffix"),r(o.ignoreError?null:n)}if(e.domain){if(!domainMatch(s,e.cdomain(),!1))return n=new Error("Cookie not in this host's domain. Cookie:"+e.cdomain()+" Request:"+s),r(o.ignoreError?null:n);null==e.hostOnly&&(e.hostOnly=!1)}else e.hostOnly=!0,e.domain=s;if(e.path&&"/"===e.path[0]||(e.path=defaultPath(a.pathname),e.pathIsDefault=!0),o.http===!1&&e.httpOnly)return n=new Error("Cookie is HttpOnly and this isn't an HTTP API"),r(o.ignoreError?null:n);var p=this.store;p.updateCookie||(p.updateCookie=function(e,t,o){this.putCookie(t,o)}),p.findCookie(e.domain,e.path,e.key,i)},CAN_BE_SYNC.push("getCookies"),CookieJar.prototype.getCookies=function(e,t,o){function r(e){if(e.hostOnly){if(e.domain!=n)return!1}else if(!domainMatch(n,e.domain,!1))return!1;return p||pathMatch(a,e.path)?e.secure&&!s?!1:e.httpOnly&&!u?!1:c&&e.expiryTime()<=l?(f.removeCookie(e.domain,e.path,e.key,function(){}),!1):!0:!1}var i=getCookieContext(e);t instanceof Function&&(o=t,t={});var n=canonicalDomain(i.hostname),a=i.pathname||"/",s=t.secure;null!=s||!i.protocol||"https:"!=i.protocol&&"wss:"!=i.protocol||(s=!0);var u=t.http;null==u&&(u=!0);var l=t.now||Date.now(),c=t.expire!==!1,p=!!t.allPaths,f=this.store;f.findCookies(n,p?null:a,function(e,i){if(e)return o(e);i=i.filter(r),t.sort!==!1&&(i=i.sort(cookieCompare));var n=new Date;i.forEach(function(e){e.lastAccessed=n}),o(null,i)})},CAN_BE_SYNC.push("getCookieString"),CookieJar.prototype.getCookieString=function(){var e=Array.prototype.slice.call(arguments,0),t=e.pop(),o=function(e,o){e?t(e):t(null,o.sort(cookieCompare).map(function(e){return e.cookieString()}).join("; "))};e.push(o),this.getCookies.apply(this,e)},CAN_BE_SYNC.push("getSetCookieStrings"),CookieJar.prototype.getSetCookieStrings=function(){var e=Array.prototype.slice.call(arguments,0),t=e.pop(),o=function(e,o){e?t(e):t(null,o.map(function(e){return e.toString()}))};e.push(o),this.getCookies.apply(this,e)},CAN_BE_SYNC.push("serialize"),CookieJar.prototype.serialize=function(e){var t=this.store.constructor.name;"Object"===t&&(t=null);var o={version:"tough-cookie@"+VERSION,storeType:t,rejectPublicSuffixes:!!this.rejectPublicSuffixes,cookies:[]};return this.store.getAllCookies&&"function"==typeof this.store.getAllCookies?void this.store.getAllCookies(function(t,r){return t?e(t):(o.cookies=r.map(function(e){return e=e instanceof Cookie?e.toJSON():e,delete e.creationIndex,e}),e(null,o))}):e(new Error("store does not support getAllCookies and cannot be serialized"))},CookieJar.prototype.toJSON=function(){return this.serializeSync()},CAN_BE_SYNC.push("_importCookies"),CookieJar.prototype._importCookies=function(e,t){function o(e){if(e)return t(e);if(!i.length)return t(e,r);var n;try{n=fromJSON(i.shift())}catch(a){return t(a)}return null===n?o(null):void r.store.putCookie(n,o)}var r=this,i=e.cookies;return i&&Array.isArray(i)?void o():t(new Error("serialized jar has no cookies array"))},CookieJar.deserialize=function(e,t,o){3!==arguments.length&&(o=t,t=null);var r;if("string"==typeof e){if(r=jsonParse(e),r instanceof Error)return o(r)}else r=e;var i=new CookieJar(t,r.rejectPublicSuffixes);i._importCookies(r,function(e){return e?o(e):void o(null,i)})},CookieJar.deserializeSync=function(e,t){var o="string"==typeof e?JSON.parse(e):e,r=new CookieJar(t,o.rejectPublicSuffixes);if(!r.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");return r._importCookiesSync(o),r},CookieJar.fromJSON=CookieJar.deserializeSync,CAN_BE_SYNC.push("clone"),CookieJar.prototype.clone=function(e,t){1===arguments.length&&(t=e,e=null),this.serialize(function(o,r){return o?t(o):void CookieJar.deserialize(e,r,t)})},CAN_BE_SYNC.forEach(function(e){CookieJar.prototype[e+"Sync"]=syncWrap(e)}),module.exports={CookieJar:CookieJar,Cookie:Cookie,Store:Store,MemoryCookieStore:MemoryCookieStore,parseDate:parseDate,formatDate:formatDate,parse:parse,fromJSON:fromJSON,domainMatch:domainMatch,defaultPath:defaultPath,pathMatch:pathMatch,getPublicSuffix:pubsuffix.getPublicSuffix,cookieCompare:cookieCompare,permuteDomain:require("./permuteDomain").permuteDomain,permutePath:permutePath,canonicalDomain:canonicalDomain};
},{"../package.json":370,"./memstore":365,"./pathMatch":366,"./permuteDomain":367,"./pubsuffix":368,"./store":369,"net":35,"punycode":433,"url":592}],365:[function(require,module,exports){
"use strict";function MemoryCookieStore(){Store.call(this),this.idx={}}var Store=require("./store").Store,permuteDomain=require("./permuteDomain").permuteDomain,pathMatch=require("./pathMatch").pathMatch,util=require("util");util.inherits(MemoryCookieStore,Store),exports.MemoryCookieStore=MemoryCookieStore,MemoryCookieStore.prototype.idx=null,MemoryCookieStore.prototype.synchronous=!0,MemoryCookieStore.prototype.inspect=function(){return"{ idx: "+util.inspect(this.idx,!1,2)+" }"},MemoryCookieStore.prototype.findCookie=function(o,t,e,i){return this.idx[o]&&this.idx[o][t]?i(null,this.idx[o][t][e]||null):i(null,void 0)},MemoryCookieStore.prototype.findCookies=function(o,t,e){var i=[];if(!o)return e(null,[]);var r;r=t?function(o){Object.keys(o).forEach(function(e){if(pathMatch(t,e)){var r=o[e];for(var n in r)i.push(r[n])}})}:function(o){for(var t in o){var e=o[t];for(var r in e)i.push(e[r])}};var n=permuteDomain(o)||[o],u=this.idx;n.forEach(function(o){var t=u[o];t&&r(t)}),e(null,i)},MemoryCookieStore.prototype.putCookie=function(o,t){this.idx[o.domain]||(this.idx[o.domain]={}),this.idx[o.domain][o.path]||(this.idx[o.domain][o.path]={}),this.idx[o.domain][o.path][o.key]=o,t(null)},MemoryCookieStore.prototype.updateCookie=function(o,t,e){this.putCookie(t,e)},MemoryCookieStore.prototype.removeCookie=function(o,t,e,i){this.idx[o]&&this.idx[o][t]&&this.idx[o][t][e]&&delete this.idx[o][t][e],i(null)},MemoryCookieStore.prototype.removeCookies=function(o,t,e){return this.idx[o]&&(t?delete this.idx[o][t]:delete this.idx[o]),e(null)},MemoryCookieStore.prototype.getAllCookies=function(o){var t=[],e=this.idx,i=Object.keys(e);i.forEach(function(o){var i=Object.keys(e[o]);i.forEach(function(i){var r=Object.keys(e[o][i]);r.forEach(function(r){null!==r&&t.push(e[o][i][r])})})}),t.sort(function(o,t){return(o.creationIndex||0)-(t.creationIndex||0)}),o(null,t)};
},{"./pathMatch":366,"./permuteDomain":367,"./store":369,"util":594}],366:[function(require,module,exports){
"use strict";function pathMatch(t,r){if(r===t)return!0;var e=t.indexOf(r);if(0===e){if("/"===r.substr(-1))return!0;if("/"===t.substr(r.length,1))return!0}return!1}exports.pathMatch=pathMatch;
},{}],367:[function(require,module,exports){
"use strict";function permuteDomain(e){var r=pubsuffix.getPublicSuffix(e);if(!r)return null;if(r==e)return[e];for(var u=e.slice(0,-(r.length+1)),i=u.split(".").reverse(),t=r,f=[t];i.length;)t=i.shift()+"."+t,f.push(t);return f}var pubsuffix=require("./pubsuffix");exports.permuteDomain=permuteDomain;
},{"./pubsuffix":368}],368:[function(require,module,exports){
"use strict";var punycode=require("punycode");module.exports.getPublicSuffix=function(a){if(!a)return null;if(a.match(/^\./))return null;var o=punycode.toASCII(a),i=!1;if(o!==a&&(a=o,i=!0),index[a])return null;a=a.toLowerCase();for(var n=a.split(".").reverse(),s="",e=0,m=0;m<n.length;m++){var u=n[m],t="*"+s,r=u+s;index[t]?(e=m+1,index[r]===!1&&e--):index[r]&&(e=m+1),s="."+r}if(index["*"+s])return null;if(e=e||1,n.length>e){var p=n.slice(0,e+1).reverse().join(".");return i?punycode.toUnicode(p):p}return null};var index=module.exports.index=Object.freeze({ac:!0,"com.ac":!0,"edu.ac":!0,"gov.ac":!0,"net.ac":!0,"mil.ac":!0,"org.ac":!0,ad:!0,"nom.ad":!0,ae:!0,"co.ae":!0,"net.ae":!0,"org.ae":!0,"sch.ae":!0,"ac.ae":!0,"gov.ae":!0,"mil.ae":!0,aero:!0,"accident-investigation.aero":!0,"accident-prevention.aero":!0,"aerobatic.aero":!0,"aeroclub.aero":!0,"aerodrome.aero":!0,"agents.aero":!0,"aircraft.aero":!0,"airline.aero":!0,"airport.aero":!0,"air-surveillance.aero":!0,"airtraffic.aero":!0,"air-traffic-control.aero":!0,"ambulance.aero":!0,"amusement.aero":!0,"association.aero":!0,"author.aero":!0,"ballooning.aero":!0,"broker.aero":!0,"caa.aero":!0,"cargo.aero":!0,"catering.aero":!0,"certification.aero":!0,"championship.aero":!0,"charter.aero":!0,"civilaviation.aero":!0,"club.aero":!0,"conference.aero":!0,"consultant.aero":!0,"consulting.aero":!0,"control.aero":!0,"council.aero":!0,"crew.aero":!0,"design.aero":!0,"dgca.aero":!0,"educator.aero":!0,"emergency.aero":!0,"engine.aero":!0,"engineer.aero":!0,"entertainment.aero":!0,"equipment.aero":!0,"exchange.aero":!0,"express.aero":!0,"federation.aero":!0,"flight.aero":!0,"freight.aero":!0,"fuel.aero":!0,"gliding.aero":!0,"government.aero":!0,"groundhandling.aero":!0,"group.aero":!0,"hanggliding.aero":!0,"homebuilt.aero":!0,"insurance.aero":!0,"journal.aero":!0,"journalist.aero":!0,"leasing.aero":!0,"logistics.aero":!0,"magazine.aero":!0,"maintenance.aero":!0,"marketplace.aero":!0,"media.aero":!0,"microlight.aero":!0,"modelling.aero":!0,"navigation.aero":!0,"parachuting.aero":!0,"paragliding.aero":!0,"passenger-association.aero":!0,"pilot.aero":!0,"press.aero":!0,"production.aero":!0,"recreation.aero":!0,"repbody.aero":!0,"res.aero":!0,"research.aero":!0,"rotorcraft.aero":!0,"safety.aero":!0,"scientist.aero":!0,"services.aero":!0,"show.aero":!0,"skydiving.aero":!0,"software.aero":!0,"student.aero":!0,"taxi.aero":!0,"trader.aero":!0,"trading.aero":!0,"trainer.aero":!0,"union.aero":!0,"workinggroup.aero":!0,"works.aero":!0,af:!0,"gov.af":!0,"com.af":!0,"org.af":!0,"net.af":!0,"edu.af":!0,ag:!0,"com.ag":!0,"org.ag":!0,"net.ag":!0,"co.ag":!0,"nom.ag":!0,ai:!0,"off.ai":!0,"com.ai":!0,"net.ai":!0,"org.ai":!0,al:!0,"com.al":!0,"edu.al":!0,"gov.al":!0,"mil.al":!0,"net.al":!0,"org.al":!0,am:!0,an:!0,"com.an":!0,"net.an":!0,"org.an":!0,"edu.an":!0,ao:!0,"ed.ao":!0,"gv.ao":!0,"og.ao":!0,"co.ao":!0,"pb.ao":!0,"it.ao":!0,aq:!0,ar:!0,"com.ar":!0,"edu.ar":!0,"gob.ar":!0,"gov.ar":!0,"int.ar":!0,"mil.ar":!0,"net.ar":!0,"org.ar":!0,"tur.ar":!0,arpa:!0,"e164.arpa":!0,"in-addr.arpa":!0,"ip6.arpa":!0,"iris.arpa":!0,"uri.arpa":!0,"urn.arpa":!0,as:!0,"gov.as":!0,asia:!0,at:!0,"ac.at":!0,"co.at":!0,"gv.at":!0,"or.at":!0,au:!0,"com.au":!0,"net.au":!0,"org.au":!0,"edu.au":!0,"gov.au":!0,"asn.au":!0,"id.au":!0,"info.au":!0,"conf.au":!0,"oz.au":!0,"act.au":!0,"nsw.au":!0,"nt.au":!0,"qld.au":!0,"sa.au":!0,"tas.au":!0,"vic.au":!0,"wa.au":!0,"act.edu.au":!0,"nsw.edu.au":!0,"nt.edu.au":!0,"qld.edu.au":!0,"sa.edu.au":!0,"tas.edu.au":!0,"vic.edu.au":!0,"wa.edu.au":!0,"qld.gov.au":!0,"sa.gov.au":!0,"tas.gov.au":!0,"vic.gov.au":!0,"wa.gov.au":!0,aw:!0,"com.aw":!0,ax:!0,az:!0,"com.az":!0,"net.az":!0,"int.az":!0,"gov.az":!0,"org.az":!0,"edu.az":!0,"info.az":!0,"pp.az":!0,"mil.az":!0,"name.az":!0,"pro.az":!0,"biz.az":!0,ba:!0,"org.ba":!0,"net.ba":!0,"edu.ba":!0,"gov.ba":!0,"mil.ba":!0,"unsa.ba":!0,"unbi.ba":!0,"co.ba":!0,"com.ba":!0,"rs.ba":!0,bb:!0,"biz.bb":!0,"co.bb":!0,"com.bb":!0,"edu.bb":!0,"gov.bb":!0,"info.bb":!0,"net.bb":!0,"org.bb":!0,"store.bb":!0,"tv.bb":!0,"*.bd":!0,be:!0,"ac.be":!0,bf:!0,"gov.bf":!0,bg:!0,"a.bg":!0,"b.bg":!0,"c.bg":!0,"d.bg":!0,"e.bg":!0,"f.bg":!0,"g.bg":!0,"h.bg":!0,"i.bg":!0,"j.bg":!0,"k.bg":!0,"l.bg":!0,"m.bg":!0,"n.bg":!0,"o.bg":!0,"p.bg":!0,"q.bg":!0,"r.bg":!0,"s.bg":!0,"t.bg":!0,"u.bg":!0,"v.bg":!0,"w.bg":!0,"x.bg":!0,"y.bg":!0,"z.bg":!0,"0.bg":!0,"1.bg":!0,"2.bg":!0,"3.bg":!0,"4.bg":!0,"5.bg":!0,"6.bg":!0,"7.bg":!0,"8.bg":!0,"9.bg":!0,bh:!0,"com.bh":!0,"edu.bh":!0,"net.bh":!0,"org.bh":!0,"gov.bh":!0,bi:!0,"co.bi":!0,"com.bi":!0,"edu.bi":!0,"or.bi":!0,"org.bi":!0,biz:!0,bj:!0,"asso.bj":!0,"barreau.bj":!0,"gouv.bj":!0,bm:!0,"com.bm":!0,"edu.bm":!0,"gov.bm":!0,"net.bm":!0,"org.bm":!0,"*.bn":!0,bo:!0,"com.bo":!0,"edu.bo":!0,"gov.bo":!0,"gob.bo":!0,"int.bo":!0,"org.bo":!0,"net.bo":!0,"mil.bo":!0,"tv.bo":!0,br:!0,"adm.br":!0,"adv.br":!0,"agr.br":!0,"am.br":!0,"arq.br":!0,"art.br":!0,"ato.br":!0,"b.br":!0,"bio.br":!0,"blog.br":!0,"bmd.br":!0,"cim.br":!0,"cng.br":!0,"cnt.br":!0,"com.br":!0,"coop.br":!0,"ecn.br":!0,"eco.br":!0,"edu.br":!0,"emp.br":!0,"eng.br":!0,"esp.br":!0,"etc.br":!0,"eti.br":!0,"far.br":!0,"flog.br":!0,"fm.br":!0,"fnd.br":!0,"fot.br":!0,"fst.br":!0,"g12.br":!0,"ggf.br":!0,"gov.br":!0,"imb.br":!0,"ind.br":!0,"inf.br":!0,"jor.br":!0,"jus.br":!0,"leg.br":!0,"lel.br":!0,"mat.br":!0,"med.br":!0,"mil.br":!0,"mp.br":!0,"mus.br":!0,"net.br":!0,"*.nom.br":!0,"not.br":!0,"ntr.br":!0,"odo.br":!0,"org.br":!0,"ppg.br":!0,"pro.br":!0,"psc.br":!0,"psi.br":!0,"qsl.br":!0,"radio.br":!0,"rec.br":!0,"slg.br":!0,"srv.br":!0,"taxi.br":!0,"teo.br":!0,"tmp.br":!0,"trd.br":!0,"tur.br":!0,"tv.br":!0,"vet.br":!0,"vlog.br":!0,"wiki.br":!0,"zlg.br":!0,bs:!0,"com.bs":!0,"net.bs":!0,"org.bs":!0,"edu.bs":!0,"gov.bs":!0,bt:!0,"com.bt":!0,"edu.bt":!0,"gov.bt":!0,"net.bt":!0,"org.bt":!0,bv:!0,bw:!0,"co.bw":!0,"org.bw":!0,by:!0,"gov.by":!0,"mil.by":!0,"com.by":!0,"of.by":!0,bz:!0,"com.bz":!0,"net.bz":!0,"org.bz":!0,"edu.bz":!0,"gov.bz":!0,ca:!0,"ab.ca":!0,"bc.ca":!0,"mb.ca":!0,"nb.ca":!0,"nf.ca":!0,"nl.ca":!0,"ns.ca":!0,"nt.ca":!0,"nu.ca":!0,"on.ca":!0,"pe.ca":!0,"qc.ca":!0,"sk.ca":!0,"yk.ca":!0,"gc.ca":!0,cat:!0,cc:!0,cd:!0,"gov.cd":!0,cf:!0,cg:!0,ch:!0,ci:!0,"org.ci":!0,"or.ci":!0,"com.ci":!0,"co.ci":!0,"edu.ci":!0,"ed.ci":!0,"ac.ci":!0,"net.ci":!0,"go.ci":!0,"asso.ci":!0,"xn--aroport-bya.ci":!0,"int.ci":!0,"presse.ci":!0,"md.ci":!0,"gouv.ci":!0,"*.ck":!0,"www.ck":!1,cl:!0,"gov.cl":!0,"gob.cl":!0,"co.cl":!0,"mil.cl":!0,cm:!0,"co.cm":!0,"com.cm":!0,"gov.cm":!0,"net.cm":!0,cn:!0,"ac.cn":!0,"com.cn":!0,"edu.cn":!0,"gov.cn":!0,"net.cn":!0,"org.cn":!0,"mil.cn":!0,"xn--55qx5d.cn":!0,"xn--io0a7i.cn":!0,"xn--od0alg.cn":!0,"ah.cn":!0,"bj.cn":!0,"cq.cn":!0,"fj.cn":!0,"gd.cn":!0,"gs.cn":!0,"gz.cn":!0,"gx.cn":!0,"ha.cn":!0,"hb.cn":!0,"he.cn":!0,"hi.cn":!0,"hl.cn":!0,"hn.cn":!0,"jl.cn":!0,"js.cn":!0,"jx.cn":!0,"ln.cn":!0,"nm.cn":!0,"nx.cn":!0,"qh.cn":!0,"sc.cn":!0,"sd.cn":!0,"sh.cn":!0,"sn.cn":!0,"sx.cn":!0,"tj.cn":!0,"xj.cn":!0,"xz.cn":!0,"yn.cn":!0,"zj.cn":!0,"hk.cn":!0,"mo.cn":!0,"tw.cn":!0,co:!0,"arts.co":!0,"com.co":!0,"edu.co":!0,"firm.co":!0,"gov.co":!0,"info.co":!0,"int.co":!0,"mil.co":!0,"net.co":!0,"nom.co":!0,"org.co":!0,"rec.co":!0,"web.co":!0,com:!0,coop:!0,cr:!0,"ac.cr":!0,"co.cr":!0,"ed.cr":!0,"fi.cr":!0,"go.cr":!0,"or.cr":!0,"sa.cr":!0,cu:!0,"com.cu":!0,"edu.cu":!0,"org.cu":!0,"net.cu":!0,"gov.cu":!0,"inf.cu":!0,cv:!0,cw:!0,"com.cw":!0,"edu.cw":!0,"net.cw":!0,"org.cw":!0,cx:!0,"gov.cx":!0,"ac.cy":!0,"biz.cy":!0,"com.cy":!0,"ekloges.cy":!0,"gov.cy":!0,"ltd.cy":!0,"name.cy":!0,"net.cy":!0,"org.cy":!0,"parliament.cy":!0,"press.cy":!0,"pro.cy":!0,"tm.cy":!0,cz:!0,de:!0,dj:!0,dk:!0,dm:!0,"com.dm":!0,"net.dm":!0,"org.dm":!0,"edu.dm":!0,"gov.dm":!0,"do":!0,"art.do":!0,"com.do":!0,"edu.do":!0,"gob.do":!0,"gov.do":!0,"mil.do":!0,"net.do":!0,"org.do":!0,"sld.do":!0,"web.do":!0,dz:!0,"com.dz":!0,"org.dz":!0,"net.dz":!0,"gov.dz":!0,"edu.dz":!0,"asso.dz":!0,"pol.dz":!0,"art.dz":!0,ec:!0,"com.ec":!0,"info.ec":!0,"net.ec":!0,"fin.ec":!0,"k12.ec":!0,"med.ec":!0,"pro.ec":!0,"org.ec":!0,"edu.ec":!0,"gov.ec":!0,"gob.ec":!0,"mil.ec":!0,edu:!0,ee:!0,"edu.ee":!0,"gov.ee":!0,"riik.ee":!0,"lib.ee":!0,"med.ee":!0,"com.ee":!0,"pri.ee":!0,"aip.ee":!0,"org.ee":!0,"fie.ee":!0,eg:!0,"com.eg":!0,"edu.eg":!0,"eun.eg":!0,"gov.eg":!0,"mil.eg":!0,"name.eg":!0,"net.eg":!0,"org.eg":!0,"sci.eg":!0,"*.er":!0,es:!0,"com.es":!0,"nom.es":!0,"org.es":!0,"gob.es":!0,"edu.es":!0,et:!0,"com.et":!0,"gov.et":!0,"org.et":!0,"edu.et":!0,"biz.et":!0,"name.et":!0,"info.et":!0,"net.et":!0,eu:!0,fi:!0,"aland.fi":!0,"*.fj":!0,"*.fk":!0,fm:!0,fo:!0,fr:!0,"com.fr":!0,"asso.fr":!0,"nom.fr":!0,"prd.fr":!0,"presse.fr":!0,"tm.fr":!0,"aeroport.fr":!0,"assedic.fr":!0,"avocat.fr":!0,"avoues.fr":!0,"cci.fr":!0,"chambagri.fr":!0,"chirurgiens-dentistes.fr":!0,"experts-comptables.fr":!0,"geometre-expert.fr":!0,"gouv.fr":!0,"greta.fr":!0,"huissier-justice.fr":!0,"medecin.fr":!0,"notaires.fr":!0,"pharmacien.fr":!0,"port.fr":!0,"veterinaire.fr":!0,ga:!0,gb:!0,gd:!0,ge:!0,"com.ge":!0,"edu.ge":!0,"gov.ge":!0,"org.ge":!0,"mil.ge":!0,"net.ge":!0,"pvt.ge":!0,gf:!0,gg:!0,"co.gg":!0,"net.gg":!0,"org.gg":!0,gh:!0,"com.gh":!0,"edu.gh":!0,"gov.gh":!0,"org.gh":!0,"mil.gh":!0,gi:!0,"com.gi":!0,"ltd.gi":!0,"gov.gi":!0,"mod.gi":!0,"edu.gi":!0,"org.gi":!0,gl:!0,"co.gl":!0,"com.gl":!0,"edu.gl":!0,"net.gl":!0,"org.gl":!0,gm:!0,gn:!0,"ac.gn":!0,"com.gn":!0,"edu.gn":!0,"gov.gn":!0,"org.gn":!0,"net.gn":!0,gov:!0,gp:!0,"com.gp":!0,"net.gp":!0,"mobi.gp":!0,"edu.gp":!0,"org.gp":!0,"asso.gp":!0,gq:!0,gr:!0,"com.gr":!0,"edu.gr":!0,"net.gr":!0,"org.gr":!0,"gov.gr":!0,gs:!0,gt:!0,"com.gt":!0,"edu.gt":!0,"gob.gt":!0,"ind.gt":!0,"mil.gt":!0,"net.gt":!0,"org.gt":!0,"*.gu":!0,gw:!0,gy:!0,"co.gy":!0,"com.gy":!0,"net.gy":!0,hk:!0,"com.hk":!0,"edu.hk":!0,"gov.hk":!0,"idv.hk":!0,"net.hk":!0,"org.hk":!0,"xn--55qx5d.hk":!0,"xn--wcvs22d.hk":!0,"xn--lcvr32d.hk":!0,"xn--mxtq1m.hk":!0,"xn--gmqw5a.hk":!0,"xn--ciqpn.hk":!0,"xn--gmq050i.hk":!0,"xn--zf0avx.hk":!0,"xn--io0a7i.hk":!0,"xn--mk0axi.hk":!0,"xn--od0alg.hk":!0,"xn--od0aq3b.hk":!0,"xn--tn0ag.hk":!0,"xn--uc0atv.hk":!0,"xn--uc0ay4a.hk":!0,hm:!0,hn:!0,"com.hn":!0,"edu.hn":!0,"org.hn":!0,"net.hn":!0,"mil.hn":!0,"gob.hn":!0,hr:!0,"iz.hr":!0,"from.hr":!0,"name.hr":!0,"com.hr":!0,ht:!0,"com.ht":!0,"shop.ht":!0,"firm.ht":!0,"info.ht":!0,"adult.ht":!0,"net.ht":!0,"pro.ht":!0,"org.ht":!0,"med.ht":!0,"art.ht":!0,"coop.ht":!0,"pol.ht":!0,"asso.ht":!0,"edu.ht":!0,"rel.ht":!0,"gouv.ht":!0,"perso.ht":!0,hu:!0,"co.hu":!0,"info.hu":!0,"org.hu":!0,"priv.hu":!0,"sport.hu":!0,"tm.hu":!0,"2000.hu":!0,"agrar.hu":!0,"bolt.hu":!0,"casino.hu":!0,"city.hu":!0,"erotica.hu":!0,"erotika.hu":!0,"film.hu":!0,"forum.hu":!0,"games.hu":!0,"hotel.hu":!0,"ingatlan.hu":!0,"jogasz.hu":!0,"konyvelo.hu":!0,"lakas.hu":!0,"media.hu":!0,"news.hu":!0,"reklam.hu":!0,"sex.hu":!0,"shop.hu":!0,"suli.hu":!0,"szex.hu":!0,"tozsde.hu":!0,"utazas.hu":!0,"video.hu":!0,id:!0,"ac.id":!0,"biz.id":!0,"co.id":!0,"desa.id":!0,"go.id":!0,"mil.id":!0,"my.id":!0,"net.id":!0,"or.id":!0,"sch.id":!0,"web.id":!0,ie:!0,"gov.ie":!0,il:!0,"ac.il":!0,"co.il":!0,"gov.il":!0,"idf.il":!0,"k12.il":!0,"muni.il":!0,"net.il":!0,"org.il":!0,im:!0,"ac.im":!0,"co.im":!0,"com.im":!0,"ltd.co.im":!0,"net.im":!0,"org.im":!0,"plc.co.im":!0,"tt.im":!0,"tv.im":!0,"in":!0,"co.in":!0,"firm.in":!0,"net.in":!0,"org.in":!0,"gen.in":!0,"ind.in":!0,"nic.in":!0,"ac.in":!0,"edu.in":!0,"res.in":!0,"gov.in":!0,"mil.in":!0,info:!0,"int":!0,"eu.int":!0,io:!0,"com.io":!0,iq:!0,"gov.iq":!0,"edu.iq":!0,"mil.iq":!0,"com.iq":!0,"org.iq":!0,"net.iq":!0,ir:!0,"ac.ir":!0,"co.ir":!0,"gov.ir":!0,"id.ir":!0,"net.ir":!0,"org.ir":!0,"sch.ir":!0,"xn--mgba3a4f16a.ir":!0,"xn--mgba3a4fra.ir":!0,is:!0,"net.is":!0,"com.is":!0,"edu.is":!0,"gov.is":!0,"org.is":!0,"int.is":!0,it:!0,"gov.it":!0,"edu.it":!0,"abr.it":!0,"abruzzo.it":!0,"aosta-valley.it":!0,"aostavalley.it":!0,"bas.it":!0,"basilicata.it":!0,"cal.it":!0,"calabria.it":!0,"cam.it":!0,"campania.it":!0,"emilia-romagna.it":!0,"emiliaromagna.it":!0,"emr.it":!0,"friuli-v-giulia.it":!0,"friuli-ve-giulia.it":!0,"friuli-vegiulia.it":!0,"friuli-venezia-giulia.it":!0,"friuli-veneziagiulia.it":!0,"friuli-vgiulia.it":!0,"friuliv-giulia.it":!0,"friulive-giulia.it":!0,"friulivegiulia.it":!0,"friulivenezia-giulia.it":!0,"friuliveneziagiulia.it":!0,"friulivgiulia.it":!0,"fvg.it":!0,"laz.it":!0,"lazio.it":!0,"lig.it":!0,"liguria.it":!0,"lom.it":!0,"lombardia.it":!0,"lombardy.it":!0,"lucania.it":!0,"mar.it":!0,"marche.it":!0,"mol.it":!0,"molise.it":!0,"piedmont.it":!0,"piemonte.it":!0,"pmn.it":!0,"pug.it":!0,"puglia.it":!0,"sar.it":!0,"sardegna.it":!0,"sardinia.it":!0,"sic.it":!0,"sicilia.it":!0,"sicily.it":!0,"taa.it":!0,"tos.it":!0,"toscana.it":!0,"trentino-a-adige.it":!0,"trentino-aadige.it":!0,"trentino-alto-adige.it":!0,"trentino-altoadige.it":!0,"trentino-s-tirol.it":!0,"trentino-stirol.it":!0,"trentino-sud-tirol.it":!0,"trentino-sudtirol.it":!0,"trentino-sued-tirol.it":!0,"trentino-suedtirol.it":!0,"trentinoa-adige.it":!0,"trentinoaadige.it":!0,"trentinoalto-adige.it":!0,"trentinoaltoadige.it":!0,"trentinos-tirol.it":!0,"trentinostirol.it":!0,"trentinosud-tirol.it":!0,"trentinosudtirol.it":!0,"trentinosued-tirol.it":!0,"trentinosuedtirol.it":!0,"tuscany.it":!0,"umb.it":!0,"umbria.it":!0,"val-d-aosta.it":!0,"val-daosta.it":!0,"vald-aosta.it":!0,"valdaosta.it":!0,"valle-aosta.it":!0,"valle-d-aosta.it":!0,"valle-daosta.it":!0,"valleaosta.it":!0,"valled-aosta.it":!0,"valledaosta.it":!0,"vallee-aoste.it":!0,"valleeaoste.it":!0,"vao.it":!0,"vda.it":!0,"ven.it":!0,"veneto.it":!0,"ag.it":!0,"agrigento.it":!0,"al.it":!0,"alessandria.it":!0,"alto-adige.it":!0,"altoadige.it":!0,"an.it":!0,"ancona.it":!0,"andria-barletta-trani.it":!0,"andria-trani-barletta.it":!0,"andriabarlettatrani.it":!0,"andriatranibarletta.it":!0,"ao.it":!0,"aosta.it":!0,"aoste.it":!0,"ap.it":!0,"aq.it":!0,"aquila.it":!0,"ar.it":!0,"arezzo.it":!0,"ascoli-piceno.it":!0,"ascolipiceno.it":!0,"asti.it":!0,"at.it":!0,"av.it":!0,"avellino.it":!0,"ba.it":!0,"balsan.it":!0,"bari.it":!0,"barletta-trani-andria.it":!0,"barlettatraniandria.it":!0,"belluno.it":!0,"benevento.it":!0,"bergamo.it":!0,"bg.it":!0,"bi.it":!0,"biella.it":!0,"bl.it":!0,"bn.it":!0,"bo.it":!0,"bologna.it":!0,"bolzano.it":!0,"bozen.it":!0,"br.it":!0,"brescia.it":!0,"brindisi.it":!0,"bs.it":!0,"bt.it":!0,"bz.it":!0,"ca.it":!0,"cagliari.it":!0,"caltanissetta.it":!0,"campidano-medio.it":!0,"campidanomedio.it":!0,"campobasso.it":!0,"carbonia-iglesias.it":!0,"carboniaiglesias.it":!0,"carrara-massa.it":!0,"carraramassa.it":!0,"caserta.it":!0,"catania.it":!0,"catanzaro.it":!0,"cb.it":!0,"ce.it":!0,"cesena-forli.it":!0,"cesenaforli.it":!0,"ch.it":!0,"chieti.it":!0,"ci.it":!0,"cl.it":!0,"cn.it":!0,"co.it":!0,"como.it":!0,"cosenza.it":!0,"cr.it":!0,"cremona.it":!0,"crotone.it":!0,"cs.it":!0,"ct.it":!0,"cuneo.it":!0,"cz.it":!0,"dell-ogliastra.it":!0,"dellogliastra.it":!0,"en.it":!0,"enna.it":!0,"fc.it":!0,"fe.it":!0,"fermo.it":!0,"ferrara.it":!0,"fg.it":!0,"fi.it":!0,"firenze.it":!0,"florence.it":!0,"fm.it":!0,"foggia.it":!0,"forli-cesena.it":!0,"forlicesena.it":!0,"fr.it":!0,"frosinone.it":!0,"ge.it":!0,"genoa.it":!0,"genova.it":!0,"go.it":!0,"gorizia.it":!0,"gr.it":!0,"grosseto.it":!0,"iglesias-carbonia.it":!0,"iglesiascarbonia.it":!0,"im.it":!0,"imperia.it":!0,"is.it":!0,"isernia.it":!0,"kr.it":!0,"la-spezia.it":!0,"laquila.it":!0,"laspezia.it":!0,"latina.it":!0,"lc.it":!0,"le.it":!0,"lecce.it":!0,"lecco.it":!0,"li.it":!0,"livorno.it":!0,"lo.it":!0,"lodi.it":!0,"lt.it":!0,"lu.it":!0,"lucca.it":!0,"macerata.it":!0,"mantova.it":!0,"massa-carrara.it":!0,"massacarrara.it":!0,"matera.it":!0,"mb.it":!0,"mc.it":!0,"me.it":!0,"medio-campidano.it":!0,"mediocampidano.it":!0,"messina.it":!0,"mi.it":!0,"milan.it":!0,"milano.it":!0,"mn.it":!0,"mo.it":!0,"modena.it":!0,"monza-brianza.it":!0,"monza-e-della-brianza.it":!0,"monza.it":!0,"monzabrianza.it":!0,"monzaebrianza.it":!0,"monzaedellabrianza.it":!0,"ms.it":!0,"mt.it":!0,"na.it":!0,"naples.it":!0,"napoli.it":!0,"no.it":!0,"novara.it":!0,"nu.it":!0,"nuoro.it":!0,"og.it":!0,"ogliastra.it":!0,"olbia-tempio.it":!0,"olbiatempio.it":!0,"or.it":!0,"oristano.it":!0,"ot.it":!0,"pa.it":!0,"padova.it":!0,"padua.it":!0,"palermo.it":!0,"parma.it":!0,"pavia.it":!0,"pc.it":!0,"pd.it":!0,"pe.it":!0,"perugia.it":!0,"pesaro-urbino.it":!0,"pesarourbino.it":!0,"pescara.it":!0,"pg.it":!0,"pi.it":!0,"piacenza.it":!0,"pisa.it":!0,"pistoia.it":!0,"pn.it":!0,"po.it":!0,"pordenone.it":!0,"potenza.it":!0,"pr.it":!0,"prato.it":!0,"pt.it":!0,"pu.it":!0,"pv.it":!0,"pz.it":!0,"ra.it":!0,"ragusa.it":!0,"ravenna.it":!0,"rc.it":!0,"re.it":!0,"reggio-calabria.it":!0,"reggio-emilia.it":!0,"reggiocalabria.it":!0,"reggioemilia.it":!0,"rg.it":!0,"ri.it":!0,"rieti.it":!0,"rimini.it":!0,"rm.it":!0,"rn.it":!0,"ro.it":!0,"roma.it":!0,"rome.it":!0,"rovigo.it":!0,"sa.it":!0,"salerno.it":!0,"sassari.it":!0,"savona.it":!0,"si.it":!0,"siena.it":!0,"siracusa.it":!0,"so.it":!0,"sondrio.it":!0,"sp.it":!0,"sr.it":!0,"ss.it":!0,"suedtirol.it":!0,"sv.it":!0,"ta.it":!0,"taranto.it":!0,"te.it":!0,"tempio-olbia.it":!0,"tempioolbia.it":!0,"teramo.it":!0,"terni.it":!0,"tn.it":!0,"to.it":!0,"torino.it":!0,"tp.it":!0,"tr.it":!0,"trani-andria-barletta.it":!0,"trani-barletta-andria.it":!0,"traniandriabarletta.it":!0,"tranibarlettaandria.it":!0,"trapani.it":!0,"trentino.it":!0,"trento.it":!0,"treviso.it":!0,"trieste.it":!0,"ts.it":!0,"turin.it":!0,"tv.it":!0,"ud.it":!0,"udine.it":!0,"urbino-pesaro.it":!0,"urbinopesaro.it":!0,"va.it":!0,"varese.it":!0,"vb.it":!0,"vc.it":!0,"ve.it":!0,"venezia.it":!0,"venice.it":!0,"verbania.it":!0,"vercelli.it":!0,"verona.it":!0,"vi.it":!0,"vibo-valentia.it":!0,"vibovalentia.it":!0,"vicenza.it":!0,"viterbo.it":!0,"vr.it":!0,"vs.it":!0,"vt.it":!0,"vv.it":!0,je:!0,"co.je":!0,"net.je":!0,"org.je":!0,"*.jm":!0,jo:!0,"com.jo":!0,"org.jo":!0,"net.jo":!0,"edu.jo":!0,"sch.jo":!0,"gov.jo":!0,"mil.jo":!0,"name.jo":!0,jobs:!0,jp:!0,"ac.jp":!0,"ad.jp":!0,"co.jp":!0,"ed.jp":!0,"go.jp":!0,"gr.jp":!0,"lg.jp":!0,"ne.jp":!0,"or.jp":!0,"aichi.jp":!0,"akita.jp":!0,"aomori.jp":!0,"chiba.jp":!0,"ehime.jp":!0,"fukui.jp":!0,"fukuoka.jp":!0,"fukushima.jp":!0,"gifu.jp":!0,"gunma.jp":!0,"hiroshima.jp":!0,"hokkaido.jp":!0,"hyogo.jp":!0,"ibaraki.jp":!0,"ishikawa.jp":!0,"iwate.jp":!0,"kagawa.jp":!0,"kagoshima.jp":!0,"kanagawa.jp":!0,"kochi.jp":!0,"kumamoto.jp":!0,"kyoto.jp":!0,"mie.jp":!0,"miyagi.jp":!0,"miyazaki.jp":!0,"nagano.jp":!0,"nagasaki.jp":!0,"nara.jp":!0,"niigata.jp":!0,"oita.jp":!0,"okayama.jp":!0,"okinawa.jp":!0,"osaka.jp":!0,"saga.jp":!0,"saitama.jp":!0,"shiga.jp":!0,"shimane.jp":!0,"shizuoka.jp":!0,"tochigi.jp":!0,"tokushima.jp":!0,"tokyo.jp":!0,"tottori.jp":!0,"toyama.jp":!0,"wakayama.jp":!0,"yamagata.jp":!0,"yamaguchi.jp":!0,"yamanashi.jp":!0,"xn--4pvxs.jp":!0,"xn--vgu402c.jp":!0,"xn--c3s14m.jp":!0,"xn--f6qx53a.jp":!0,"xn--8pvr4u.jp":!0,"xn--uist22h.jp":!0,"xn--djrs72d6uy.jp":!0,"xn--mkru45i.jp":!0,"xn--0trq7p7nn.jp":!0,"xn--8ltr62k.jp":!0,"xn--2m4a15e.jp":!0,"xn--efvn9s.jp":!0,"xn--32vp30h.jp":!0,"xn--4it797k.jp":!0,"xn--1lqs71d.jp":!0,"xn--5rtp49c.jp":!0,"xn--5js045d.jp":!0,"xn--ehqz56n.jp":!0,"xn--1lqs03n.jp":!0,"xn--qqqt11m.jp":!0,"xn--kbrq7o.jp":!0,"xn--pssu33l.jp":!0,"xn--ntsq17g.jp":!0,"xn--uisz3g.jp":!0,"xn--6btw5a.jp":!0,"xn--1ctwo.jp":!0,"xn--6orx2r.jp":!0,"xn--rht61e.jp":!0,"xn--rht27z.jp":!0,"xn--djty4k.jp":!0,"xn--nit225k.jp":!0,"xn--rht3d.jp":!0,"xn--klty5x.jp":!0,"xn--kltx9a.jp":!0,"xn--kltp7d.jp":!0,"xn--uuwu58a.jp":!0,"xn--zbx025d.jp":!0,"xn--ntso0iqx3a.jp":!0,"xn--elqq16h.jp":!0,"xn--4it168d.jp":!0,"xn--klt787d.jp":!0,"xn--rny31h.jp":!0,"xn--7t0a264c.jp":!0,"xn--5rtq34k.jp":!0,"xn--k7yn95e.jp":!0,"xn--tor131o.jp":!0,"xn--d5qv7z876c.jp":!0,"*.kawasaki.jp":!0,"*.kitakyushu.jp":!0,"*.kobe.jp":!0,"*.nagoya.jp":!0,"*.sapporo.jp":!0,"*.sendai.jp":!0,"*.yokohama.jp":!0,"city.kawasaki.jp":!1,"city.kitakyushu.jp":!1,"city.kobe.jp":!1,"city.nagoya.jp":!1,"city.sapporo.jp":!1,"city.sendai.jp":!1,"city.yokohama.jp":!1,"aisai.aichi.jp":!0,"ama.aichi.jp":!0,"anjo.aichi.jp":!0,"asuke.aichi.jp":!0,"chiryu.aichi.jp":!0,"chita.aichi.jp":!0,"fuso.aichi.jp":!0,"gamagori.aichi.jp":!0,"handa.aichi.jp":!0,"hazu.aichi.jp":!0,"hekinan.aichi.jp":!0,"higashiura.aichi.jp":!0,"ichinomiya.aichi.jp":!0,"inazawa.aichi.jp":!0,"inuyama.aichi.jp":!0,"isshiki.aichi.jp":!0,"iwakura.aichi.jp":!0,"kanie.aichi.jp":!0,"kariya.aichi.jp":!0,"kasugai.aichi.jp":!0,"kira.aichi.jp":!0,"kiyosu.aichi.jp":!0,"komaki.aichi.jp":!0,"konan.aichi.jp":!0,"kota.aichi.jp":!0,"mihama.aichi.jp":!0,"miyoshi.aichi.jp":!0,"nishio.aichi.jp":!0,"nisshin.aichi.jp":!0,"obu.aichi.jp":!0,"oguchi.aichi.jp":!0,"oharu.aichi.jp":!0,"okazaki.aichi.jp":!0,"owariasahi.aichi.jp":!0,"seto.aichi.jp":!0,"shikatsu.aichi.jp":!0,"shinshiro.aichi.jp":!0,"shitara.aichi.jp":!0,"tahara.aichi.jp":!0,"takahama.aichi.jp":!0,"tobishima.aichi.jp":!0,"toei.aichi.jp":!0,"togo.aichi.jp":!0,"tokai.aichi.jp":!0,"tokoname.aichi.jp":!0,"toyoake.aichi.jp":!0,"toyohashi.aichi.jp":!0,"toyokawa.aichi.jp":!0,"toyone.aichi.jp":!0,"toyota.aichi.jp":!0,"tsushima.aichi.jp":!0,"yatomi.aichi.jp":!0,"akita.akita.jp":!0,"daisen.akita.jp":!0,"fujisato.akita.jp":!0,"gojome.akita.jp":!0,"hachirogata.akita.jp":!0,"happou.akita.jp":!0,"higashinaruse.akita.jp":!0,"honjo.akita.jp":!0,"honjyo.akita.jp":!0,"ikawa.akita.jp":!0,"kamikoani.akita.jp":!0,"kamioka.akita.jp":!0,"katagami.akita.jp":!0,"kazuno.akita.jp":!0,"kitaakita.akita.jp":!0,"kosaka.akita.jp":!0,"kyowa.akita.jp":!0,"misato.akita.jp":!0,"mitane.akita.jp":!0,"moriyoshi.akita.jp":!0,"nikaho.akita.jp":!0,"noshiro.akita.jp":!0,"odate.akita.jp":!0,"oga.akita.jp":!0,"ogata.akita.jp":!0,"semboku.akita.jp":!0,"yokote.akita.jp":!0,"yurihonjo.akita.jp":!0,"aomori.aomori.jp":!0,"gonohe.aomori.jp":!0,"hachinohe.aomori.jp":!0,"hashikami.aomori.jp":!0,"hiranai.aomori.jp":!0,"hirosaki.aomori.jp":!0,"itayanagi.aomori.jp":!0,"kuroishi.aomori.jp":!0,"misawa.aomori.jp":!0,"mutsu.aomori.jp":!0,"nakadomari.aomori.jp":!0,"noheji.aomori.jp":!0,"oirase.aomori.jp":!0,"owani.aomori.jp":!0,"rokunohe.aomori.jp":!0,"sannohe.aomori.jp":!0,"shichinohe.aomori.jp":!0,"shingo.aomori.jp":!0,"takko.aomori.jp":!0,"towada.aomori.jp":!0,"tsugaru.aomori.jp":!0,"tsuruta.aomori.jp":!0,"abiko.chiba.jp":!0,"asahi.chiba.jp":!0,"chonan.chiba.jp":!0,"chosei.chiba.jp":!0,"choshi.chiba.jp":!0,"chuo.chiba.jp":!0,"funabashi.chiba.jp":!0,"futtsu.chiba.jp":!0,"hanamigawa.chiba.jp":!0,"ichihara.chiba.jp":!0,"ichikawa.chiba.jp":!0,"ichinomiya.chiba.jp":!0,"inzai.chiba.jp":!0,"isumi.chiba.jp":!0,"kamagaya.chiba.jp":!0,"kamogawa.chiba.jp":!0,"kashiwa.chiba.jp":!0,"katori.chiba.jp":!0,"katsuura.chiba.jp":!0,"kimitsu.chiba.jp":!0,"kisarazu.chiba.jp":!0,"kozaki.chiba.jp":!0,"kujukuri.chiba.jp":!0,"kyonan.chiba.jp":!0,"matsudo.chiba.jp":!0,"midori.chiba.jp":!0,"mihama.chiba.jp":!0,"minamiboso.chiba.jp":!0,"mobara.chiba.jp":!0,"mutsuzawa.chiba.jp":!0,"nagara.chiba.jp":!0,"nagareyama.chiba.jp":!0,"narashino.chiba.jp":!0,"narita.chiba.jp":!0,"noda.chiba.jp":!0,"oamishirasato.chiba.jp":!0,"omigawa.chiba.jp":!0,"onjuku.chiba.jp":!0,"otaki.chiba.jp":!0,"sakae.chiba.jp":!0,"sakura.chiba.jp":!0,"shimofusa.chiba.jp":!0,"shirako.chiba.jp":!0,"shiroi.chiba.jp":!0,"shisui.chiba.jp":!0,"sodegaura.chiba.jp":!0,"sosa.chiba.jp":!0,"tako.chiba.jp":!0,"tateyama.chiba.jp":!0,"togane.chiba.jp":!0,"tohnosho.chiba.jp":!0,"tomisato.chiba.jp":!0,"urayasu.chiba.jp":!0,"yachimata.chiba.jp":!0,"yachiyo.chiba.jp":!0,"yokaichiba.chiba.jp":!0,"yokoshibahikari.chiba.jp":!0,"yotsukaido.chiba.jp":!0,"ainan.ehime.jp":!0,"honai.ehime.jp":!0,"ikata.ehime.jp":!0,"imabari.ehime.jp":!0,"iyo.ehime.jp":!0,"kamijima.ehime.jp":!0,"kihoku.ehime.jp":!0,"kumakogen.ehime.jp":!0,"masaki.ehime.jp":!0,"matsuno.ehime.jp":!0,"matsuyama.ehime.jp":!0,"namikata.ehime.jp":!0,"niihama.ehime.jp":!0,"ozu.ehime.jp":!0,"saijo.ehime.jp":!0,"seiyo.ehime.jp":!0,"shikokuchuo.ehime.jp":!0,"tobe.ehime.jp":!0,"toon.ehime.jp":!0,"uchiko.ehime.jp":!0,"uwajima.ehime.jp":!0,"yawatahama.ehime.jp":!0,"echizen.fukui.jp":!0,"eiheiji.fukui.jp":!0,"fukui.fukui.jp":!0,"ikeda.fukui.jp":!0,"katsuyama.fukui.jp":!0,"mihama.fukui.jp":!0,"minamiechizen.fukui.jp":!0,"obama.fukui.jp":!0,"ohi.fukui.jp":!0,"ono.fukui.jp":!0,"sabae.fukui.jp":!0,"sakai.fukui.jp":!0,"takahama.fukui.jp":!0,"tsuruga.fukui.jp":!0,"wakasa.fukui.jp":!0,"ashiya.fukuoka.jp":!0,"buzen.fukuoka.jp":!0,"chikugo.fukuoka.jp":!0,"chikuho.fukuoka.jp":!0,"chikujo.fukuoka.jp":!0,"chikushino.fukuoka.jp":!0,"chikuzen.fukuoka.jp":!0,"chuo.fukuoka.jp":!0,"dazaifu.fukuoka.jp":!0,"fukuchi.fukuoka.jp":!0,"hakata.fukuoka.jp":!0,"higashi.fukuoka.jp":!0,"hirokawa.fukuoka.jp":!0,"hisayama.fukuoka.jp":!0,"iizuka.fukuoka.jp":!0,"inatsuki.fukuoka.jp":!0,"kaho.fukuoka.jp":!0,"kasuga.fukuoka.jp":!0,"kasuya.fukuoka.jp":!0,"kawara.fukuoka.jp":!0,"keisen.fukuoka.jp":!0,"koga.fukuoka.jp":!0,"kurate.fukuoka.jp":!0,"kurogi.fukuoka.jp":!0,"kurume.fukuoka.jp":!0,"minami.fukuoka.jp":!0,"miyako.fukuoka.jp":!0,"miyama.fukuoka.jp":!0,"miyawaka.fukuoka.jp":!0,"mizumaki.fukuoka.jp":!0,"munakata.fukuoka.jp":!0,"nakagawa.fukuoka.jp":!0,"nakama.fukuoka.jp":!0,"nishi.fukuoka.jp":!0,"nogata.fukuoka.jp":!0,"ogori.fukuoka.jp":!0,"okagaki.fukuoka.jp":!0,"okawa.fukuoka.jp":!0,"oki.fukuoka.jp":!0,"omuta.fukuoka.jp":!0,"onga.fukuoka.jp":!0,"onojo.fukuoka.jp":!0,"oto.fukuoka.jp":!0,"saigawa.fukuoka.jp":!0,"sasaguri.fukuoka.jp":!0,"shingu.fukuoka.jp":!0,"shinyoshitomi.fukuoka.jp":!0,"shonai.fukuoka.jp":!0,"soeda.fukuoka.jp":!0,"sue.fukuoka.jp":!0,"tachiarai.fukuoka.jp":!0,"tagawa.fukuoka.jp":!0,"takata.fukuoka.jp":!0,"toho.fukuoka.jp":!0,"toyotsu.fukuoka.jp":!0,"tsuiki.fukuoka.jp":!0,"ukiha.fukuoka.jp":!0,"umi.fukuoka.jp":!0,"usui.fukuoka.jp":!0,"yamada.fukuoka.jp":!0,"yame.fukuoka.jp":!0,"yanagawa.fukuoka.jp":!0,"yukuhashi.fukuoka.jp":!0,"aizubange.fukushima.jp":!0,"aizumisato.fukushima.jp":!0,"aizuwakamatsu.fukushima.jp":!0,"asakawa.fukushima.jp":!0,"bandai.fukushima.jp":!0,"date.fukushima.jp":!0,"fukushima.fukushima.jp":!0,"furudono.fukushima.jp":!0,"futaba.fukushima.jp":!0,"hanawa.fukushima.jp":!0,"higashi.fukushima.jp":!0,"hirata.fukushima.jp":!0,"hirono.fukushima.jp":!0,"iitate.fukushima.jp":!0,"inawashiro.fukushima.jp":!0,"ishikawa.fukushima.jp":!0,"iwaki.fukushima.jp":!0,"izumizaki.fukushima.jp":!0,"kagamiishi.fukushima.jp":!0,"kaneyama.fukushima.jp":!0,"kawamata.fukushima.jp":!0,"kitakata.fukushima.jp":!0,"kitashiobara.fukushima.jp":!0,"koori.fukushima.jp":!0,"koriyama.fukushima.jp":!0,"kunimi.fukushima.jp":!0,"miharu.fukushima.jp":!0,"mishima.fukushima.jp":!0,"namie.fukushima.jp":!0,"nango.fukushima.jp":!0,"nishiaizu.fukushima.jp":!0,"nishigo.fukushima.jp":!0,"okuma.fukushima.jp":!0,"omotego.fukushima.jp":!0,"ono.fukushima.jp":!0,"otama.fukushima.jp":!0,"samegawa.fukushima.jp":!0,"shimogo.fukushima.jp":!0,"shirakawa.fukushima.jp":!0,"showa.fukushima.jp":!0,"soma.fukushima.jp":!0,"sukagawa.fukushima.jp":!0,"taishin.fukushima.jp":!0,"tamakawa.fukushima.jp":!0,"tanagura.fukushima.jp":!0,"tenei.fukushima.jp":!0,"yabuki.fukushima.jp":!0,"yamato.fukushima.jp":!0,"yamatsuri.fukushima.jp":!0,"yanaizu.fukushima.jp":!0,"yugawa.fukushima.jp":!0,"anpachi.gifu.jp":!0,"ena.gifu.jp":!0,"gifu.gifu.jp":!0,"ginan.gifu.jp":!0,"godo.gifu.jp":!0,"gujo.gifu.jp":!0,"hashima.gifu.jp":!0,"hichiso.gifu.jp":!0,"hida.gifu.jp":!0,"higashishirakawa.gifu.jp":!0,"ibigawa.gifu.jp":!0,"ikeda.gifu.jp":!0,"kakamigahara.gifu.jp":!0,"kani.gifu.jp":!0,"kasahara.gifu.jp":!0,"kasamatsu.gifu.jp":!0,"kawaue.gifu.jp":!0,"kitagata.gifu.jp":!0,"mino.gifu.jp":!0,"minokamo.gifu.jp":!0,"mitake.gifu.jp":!0,"mizunami.gifu.jp":!0,"motosu.gifu.jp":!0,"nakatsugawa.gifu.jp":!0,"ogaki.gifu.jp":!0,"sakahogi.gifu.jp":!0,"seki.gifu.jp":!0,"sekigahara.gifu.jp":!0,"shirakawa.gifu.jp":!0,"tajimi.gifu.jp":!0,"takayama.gifu.jp":!0,"tarui.gifu.jp":!0,"toki.gifu.jp":!0,"tomika.gifu.jp":!0,"wanouchi.gifu.jp":!0,"yamagata.gifu.jp":!0,"yaotsu.gifu.jp":!0,"yoro.gifu.jp":!0,"annaka.gunma.jp":!0,"chiyoda.gunma.jp":!0,"fujioka.gunma.jp":!0,"higashiagatsuma.gunma.jp":!0,"isesaki.gunma.jp":!0,"itakura.gunma.jp":!0,"kanna.gunma.jp":!0,"kanra.gunma.jp":!0,"katashina.gunma.jp":!0,"kawaba.gunma.jp":!0,"kiryu.gunma.jp":!0,"kusatsu.gunma.jp":!0,"maebashi.gunma.jp":!0,"meiwa.gunma.jp":!0,"midori.gunma.jp":!0,"minakami.gunma.jp":!0,"naganohara.gunma.jp":!0,"nakanojo.gunma.jp":!0,"nanmoku.gunma.jp":!0,"numata.gunma.jp":!0,"oizumi.gunma.jp":!0,"ora.gunma.jp":!0,"ota.gunma.jp":!0,"shibukawa.gunma.jp":!0,"shimonita.gunma.jp":!0,"shinto.gunma.jp":!0,"showa.gunma.jp":!0,"takasaki.gunma.jp":!0,"takayama.gunma.jp":!0,"tamamura.gunma.jp":!0,"tatebayashi.gunma.jp":!0,"tomioka.gunma.jp":!0,"tsukiyono.gunma.jp":!0,"tsumagoi.gunma.jp":!0,"ueno.gunma.jp":!0,"yoshioka.gunma.jp":!0,"asaminami.hiroshima.jp":!0,"daiwa.hiroshima.jp":!0,"etajima.hiroshima.jp":!0,"fuchu.hiroshima.jp":!0,"fukuyama.hiroshima.jp":!0,"hatsukaichi.hiroshima.jp":!0,"higashihiroshima.hiroshima.jp":!0,"hongo.hiroshima.jp":!0,"jinsekikogen.hiroshima.jp":!0,"kaita.hiroshima.jp":!0,"kui.hiroshima.jp":!0,"kumano.hiroshima.jp":!0,"kure.hiroshima.jp":!0,"mihara.hiroshima.jp":!0,"miyoshi.hiroshima.jp":!0,"naka.hiroshima.jp":!0,"onomichi.hiroshima.jp":!0,"osakikamijima.hiroshima.jp":!0,"otake.hiroshima.jp":!0,"saka.hiroshima.jp":!0,"sera.hiroshima.jp":!0,"seranishi.hiroshima.jp":!0,"shinichi.hiroshima.jp":!0,"shobara.hiroshima.jp":!0,"takehara.hiroshima.jp":!0,"abashiri.hokkaido.jp":!0,"abira.hokkaido.jp":!0,"aibetsu.hokkaido.jp":!0,"akabira.hokkaido.jp":!0,"akkeshi.hokkaido.jp":!0,"asahikawa.hokkaido.jp":!0,"ashibetsu.hokkaido.jp":!0,"ashoro.hokkaido.jp":!0,"assabu.hokkaido.jp":!0,"atsuma.hokkaido.jp":!0,"bibai.hokkaido.jp":!0,"biei.hokkaido.jp":!0,"bifuka.hokkaido.jp":!0,"bihoro.hokkaido.jp":!0,"biratori.hokkaido.jp":!0,"chippubetsu.hokkaido.jp":!0,"chitose.hokkaido.jp":!0,"date.hokkaido.jp":!0,"ebetsu.hokkaido.jp":!0,"embetsu.hokkaido.jp":!0,"eniwa.hokkaido.jp":!0,"erimo.hokkaido.jp":!0,"esan.hokkaido.jp":!0,"esashi.hokkaido.jp":!0,"fukagawa.hokkaido.jp":!0,"fukushima.hokkaido.jp":!0,"furano.hokkaido.jp":!0,"furubira.hokkaido.jp":!0,"haboro.hokkaido.jp":!0,"hakodate.hokkaido.jp":!0,"hamatonbetsu.hokkaido.jp":!0,"hidaka.hokkaido.jp":!0,"higashikagura.hokkaido.jp":!0,"higashikawa.hokkaido.jp":!0,"hiroo.hokkaido.jp":!0,"hokuryu.hokkaido.jp":!0,"hokuto.hokkaido.jp":!0,"honbetsu.hokkaido.jp":!0,"horokanai.hokkaido.jp":!0,"horonobe.hokkaido.jp":!0,"ikeda.hokkaido.jp":!0,"imakane.hokkaido.jp":!0,"ishikari.hokkaido.jp":!0,"iwamizawa.hokkaido.jp":!0,"iwanai.hokkaido.jp":!0,"kamifurano.hokkaido.jp":!0,"kamikawa.hokkaido.jp":!0,"kamishihoro.hokkaido.jp":!0,"kamisunagawa.hokkaido.jp":!0,"kamoenai.hokkaido.jp":!0,"kayabe.hokkaido.jp":!0,"kembuchi.hokkaido.jp":!0,"kikonai.hokkaido.jp":!0,"kimobetsu.hokkaido.jp":!0,"kitahiroshima.hokkaido.jp":!0,"kitami.hokkaido.jp":!0,"kiyosato.hokkaido.jp":!0,"koshimizu.hokkaido.jp":!0,"kunneppu.hokkaido.jp":!0,"kuriyama.hokkaido.jp":!0,"kuromatsunai.hokkaido.jp":!0,"kushiro.hokkaido.jp":!0,"kutchan.hokkaido.jp":!0,"kyowa.hokkaido.jp":!0,"mashike.hokkaido.jp":!0,"matsumae.hokkaido.jp":!0,"mikasa.hokkaido.jp":!0,"minamifurano.hokkaido.jp":!0,"mombetsu.hokkaido.jp":!0,"moseushi.hokkaido.jp":!0,"mukawa.hokkaido.jp":!0,"muroran.hokkaido.jp":!0,"naie.hokkaido.jp":!0,"nakagawa.hokkaido.jp":!0,"nakasatsunai.hokkaido.jp":!0,"nakatombetsu.hokkaido.jp":!0,"nanae.hokkaido.jp":!0,"nanporo.hokkaido.jp":!0,"nayoro.hokkaido.jp":!0,"nemuro.hokkaido.jp":!0,"niikappu.hokkaido.jp":!0,"niki.hokkaido.jp":!0,"nishiokoppe.hokkaido.jp":!0,"noboribetsu.hokkaido.jp":!0,"numata.hokkaido.jp":!0,"obihiro.hokkaido.jp":!0,"obira.hokkaido.jp":!0,"oketo.hokkaido.jp":!0,"okoppe.hokkaido.jp":!0,"otaru.hokkaido.jp":!0,"otobe.hokkaido.jp":!0,"otofuke.hokkaido.jp":!0,"otoineppu.hokkaido.jp":!0,"oumu.hokkaido.jp":!0,"ozora.hokkaido.jp":!0,"pippu.hokkaido.jp":!0,"rankoshi.hokkaido.jp":!0,"rebun.hokkaido.jp":!0,"rikubetsu.hokkaido.jp":!0,"rishiri.hokkaido.jp":!0,"rishirifuji.hokkaido.jp":!0,"saroma.hokkaido.jp":!0,"sarufutsu.hokkaido.jp":!0,"shakotan.hokkaido.jp":!0,"shari.hokkaido.jp":!0,"shibecha.hokkaido.jp":!0,"shibetsu.hokkaido.jp":!0,"shikabe.hokkaido.jp":!0,"shikaoi.hokkaido.jp":!0,"shimamaki.hokkaido.jp":!0,
"shimizu.hokkaido.jp":!0,"shimokawa.hokkaido.jp":!0,"shinshinotsu.hokkaido.jp":!0,"shintoku.hokkaido.jp":!0,"shiranuka.hokkaido.jp":!0,"shiraoi.hokkaido.jp":!0,"shiriuchi.hokkaido.jp":!0,"sobetsu.hokkaido.jp":!0,"sunagawa.hokkaido.jp":!0,"taiki.hokkaido.jp":!0,"takasu.hokkaido.jp":!0,"takikawa.hokkaido.jp":!0,"takinoue.hokkaido.jp":!0,"teshikaga.hokkaido.jp":!0,"tobetsu.hokkaido.jp":!0,"tohma.hokkaido.jp":!0,"tomakomai.hokkaido.jp":!0,"tomari.hokkaido.jp":!0,"toya.hokkaido.jp":!0,"toyako.hokkaido.jp":!0,"toyotomi.hokkaido.jp":!0,"toyoura.hokkaido.jp":!0,"tsubetsu.hokkaido.jp":!0,"tsukigata.hokkaido.jp":!0,"urakawa.hokkaido.jp":!0,"urausu.hokkaido.jp":!0,"uryu.hokkaido.jp":!0,"utashinai.hokkaido.jp":!0,"wakkanai.hokkaido.jp":!0,"wassamu.hokkaido.jp":!0,"yakumo.hokkaido.jp":!0,"yoichi.hokkaido.jp":!0,"aioi.hyogo.jp":!0,"akashi.hyogo.jp":!0,"ako.hyogo.jp":!0,"amagasaki.hyogo.jp":!0,"aogaki.hyogo.jp":!0,"asago.hyogo.jp":!0,"ashiya.hyogo.jp":!0,"awaji.hyogo.jp":!0,"fukusaki.hyogo.jp":!0,"goshiki.hyogo.jp":!0,"harima.hyogo.jp":!0,"himeji.hyogo.jp":!0,"ichikawa.hyogo.jp":!0,"inagawa.hyogo.jp":!0,"itami.hyogo.jp":!0,"kakogawa.hyogo.jp":!0,"kamigori.hyogo.jp":!0,"kamikawa.hyogo.jp":!0,"kasai.hyogo.jp":!0,"kasuga.hyogo.jp":!0,"kawanishi.hyogo.jp":!0,"miki.hyogo.jp":!0,"minamiawaji.hyogo.jp":!0,"nishinomiya.hyogo.jp":!0,"nishiwaki.hyogo.jp":!0,"ono.hyogo.jp":!0,"sanda.hyogo.jp":!0,"sannan.hyogo.jp":!0,"sasayama.hyogo.jp":!0,"sayo.hyogo.jp":!0,"shingu.hyogo.jp":!0,"shinonsen.hyogo.jp":!0,"shiso.hyogo.jp":!0,"sumoto.hyogo.jp":!0,"taishi.hyogo.jp":!0,"taka.hyogo.jp":!0,"takarazuka.hyogo.jp":!0,"takasago.hyogo.jp":!0,"takino.hyogo.jp":!0,"tamba.hyogo.jp":!0,"tatsuno.hyogo.jp":!0,"toyooka.hyogo.jp":!0,"yabu.hyogo.jp":!0,"yashiro.hyogo.jp":!0,"yoka.hyogo.jp":!0,"yokawa.hyogo.jp":!0,"ami.ibaraki.jp":!0,"asahi.ibaraki.jp":!0,"bando.ibaraki.jp":!0,"chikusei.ibaraki.jp":!0,"daigo.ibaraki.jp":!0,"fujishiro.ibaraki.jp":!0,"hitachi.ibaraki.jp":!0,"hitachinaka.ibaraki.jp":!0,"hitachiomiya.ibaraki.jp":!0,"hitachiota.ibaraki.jp":!0,"ibaraki.ibaraki.jp":!0,"ina.ibaraki.jp":!0,"inashiki.ibaraki.jp":!0,"itako.ibaraki.jp":!0,"iwama.ibaraki.jp":!0,"joso.ibaraki.jp":!0,"kamisu.ibaraki.jp":!0,"kasama.ibaraki.jp":!0,"kashima.ibaraki.jp":!0,"kasumigaura.ibaraki.jp":!0,"koga.ibaraki.jp":!0,"miho.ibaraki.jp":!0,"mito.ibaraki.jp":!0,"moriya.ibaraki.jp":!0,"naka.ibaraki.jp":!0,"namegata.ibaraki.jp":!0,"oarai.ibaraki.jp":!0,"ogawa.ibaraki.jp":!0,"omitama.ibaraki.jp":!0,"ryugasaki.ibaraki.jp":!0,"sakai.ibaraki.jp":!0,"sakuragawa.ibaraki.jp":!0,"shimodate.ibaraki.jp":!0,"shimotsuma.ibaraki.jp":!0,"shirosato.ibaraki.jp":!0,"sowa.ibaraki.jp":!0,"suifu.ibaraki.jp":!0,"takahagi.ibaraki.jp":!0,"tamatsukuri.ibaraki.jp":!0,"tokai.ibaraki.jp":!0,"tomobe.ibaraki.jp":!0,"tone.ibaraki.jp":!0,"toride.ibaraki.jp":!0,"tsuchiura.ibaraki.jp":!0,"tsukuba.ibaraki.jp":!0,"uchihara.ibaraki.jp":!0,"ushiku.ibaraki.jp":!0,"yachiyo.ibaraki.jp":!0,"yamagata.ibaraki.jp":!0,"yawara.ibaraki.jp":!0,"yuki.ibaraki.jp":!0,"anamizu.ishikawa.jp":!0,"hakui.ishikawa.jp":!0,"hakusan.ishikawa.jp":!0,"kaga.ishikawa.jp":!0,"kahoku.ishikawa.jp":!0,"kanazawa.ishikawa.jp":!0,"kawakita.ishikawa.jp":!0,"komatsu.ishikawa.jp":!0,"nakanoto.ishikawa.jp":!0,"nanao.ishikawa.jp":!0,"nomi.ishikawa.jp":!0,"nonoichi.ishikawa.jp":!0,"noto.ishikawa.jp":!0,"shika.ishikawa.jp":!0,"suzu.ishikawa.jp":!0,"tsubata.ishikawa.jp":!0,"tsurugi.ishikawa.jp":!0,"uchinada.ishikawa.jp":!0,"wajima.ishikawa.jp":!0,"fudai.iwate.jp":!0,"fujisawa.iwate.jp":!0,"hanamaki.iwate.jp":!0,"hiraizumi.iwate.jp":!0,"hirono.iwate.jp":!0,"ichinohe.iwate.jp":!0,"ichinoseki.iwate.jp":!0,"iwaizumi.iwate.jp":!0,"iwate.iwate.jp":!0,"joboji.iwate.jp":!0,"kamaishi.iwate.jp":!0,"kanegasaki.iwate.jp":!0,"karumai.iwate.jp":!0,"kawai.iwate.jp":!0,"kitakami.iwate.jp":!0,"kuji.iwate.jp":!0,"kunohe.iwate.jp":!0,"kuzumaki.iwate.jp":!0,"miyako.iwate.jp":!0,"mizusawa.iwate.jp":!0,"morioka.iwate.jp":!0,"ninohe.iwate.jp":!0,"noda.iwate.jp":!0,"ofunato.iwate.jp":!0,"oshu.iwate.jp":!0,"otsuchi.iwate.jp":!0,"rikuzentakata.iwate.jp":!0,"shiwa.iwate.jp":!0,"shizukuishi.iwate.jp":!0,"sumita.iwate.jp":!0,"tanohata.iwate.jp":!0,"tono.iwate.jp":!0,"yahaba.iwate.jp":!0,"yamada.iwate.jp":!0,"ayagawa.kagawa.jp":!0,"higashikagawa.kagawa.jp":!0,"kanonji.kagawa.jp":!0,"kotohira.kagawa.jp":!0,"manno.kagawa.jp":!0,"marugame.kagawa.jp":!0,"mitoyo.kagawa.jp":!0,"naoshima.kagawa.jp":!0,"sanuki.kagawa.jp":!0,"tadotsu.kagawa.jp":!0,"takamatsu.kagawa.jp":!0,"tonosho.kagawa.jp":!0,"uchinomi.kagawa.jp":!0,"utazu.kagawa.jp":!0,"zentsuji.kagawa.jp":!0,"akune.kagoshima.jp":!0,"amami.kagoshima.jp":!0,"hioki.kagoshima.jp":!0,"isa.kagoshima.jp":!0,"isen.kagoshima.jp":!0,"izumi.kagoshima.jp":!0,"kagoshima.kagoshima.jp":!0,"kanoya.kagoshima.jp":!0,"kawanabe.kagoshima.jp":!0,"kinko.kagoshima.jp":!0,"kouyama.kagoshima.jp":!0,"makurazaki.kagoshima.jp":!0,"matsumoto.kagoshima.jp":!0,"minamitane.kagoshima.jp":!0,"nakatane.kagoshima.jp":!0,"nishinoomote.kagoshima.jp":!0,"satsumasendai.kagoshima.jp":!0,"soo.kagoshima.jp":!0,"tarumizu.kagoshima.jp":!0,"yusui.kagoshima.jp":!0,"aikawa.kanagawa.jp":!0,"atsugi.kanagawa.jp":!0,"ayase.kanagawa.jp":!0,"chigasaki.kanagawa.jp":!0,"ebina.kanagawa.jp":!0,"fujisawa.kanagawa.jp":!0,"hadano.kanagawa.jp":!0,"hakone.kanagawa.jp":!0,"hiratsuka.kanagawa.jp":!0,"isehara.kanagawa.jp":!0,"kaisei.kanagawa.jp":!0,"kamakura.kanagawa.jp":!0,"kiyokawa.kanagawa.jp":!0,"matsuda.kanagawa.jp":!0,"minamiashigara.kanagawa.jp":!0,"miura.kanagawa.jp":!0,"nakai.kanagawa.jp":!0,"ninomiya.kanagawa.jp":!0,"odawara.kanagawa.jp":!0,"oi.kanagawa.jp":!0,"oiso.kanagawa.jp":!0,"sagamihara.kanagawa.jp":!0,"samukawa.kanagawa.jp":!0,"tsukui.kanagawa.jp":!0,"yamakita.kanagawa.jp":!0,"yamato.kanagawa.jp":!0,"yokosuka.kanagawa.jp":!0,"yugawara.kanagawa.jp":!0,"zama.kanagawa.jp":!0,"zushi.kanagawa.jp":!0,"aki.kochi.jp":!0,"geisei.kochi.jp":!0,"hidaka.kochi.jp":!0,"higashitsuno.kochi.jp":!0,"ino.kochi.jp":!0,"kagami.kochi.jp":!0,"kami.kochi.jp":!0,"kitagawa.kochi.jp":!0,"kochi.kochi.jp":!0,"mihara.kochi.jp":!0,"motoyama.kochi.jp":!0,"muroto.kochi.jp":!0,"nahari.kochi.jp":!0,"nakamura.kochi.jp":!0,"nankoku.kochi.jp":!0,"nishitosa.kochi.jp":!0,"niyodogawa.kochi.jp":!0,"ochi.kochi.jp":!0,"okawa.kochi.jp":!0,"otoyo.kochi.jp":!0,"otsuki.kochi.jp":!0,"sakawa.kochi.jp":!0,"sukumo.kochi.jp":!0,"susaki.kochi.jp":!0,"tosa.kochi.jp":!0,"tosashimizu.kochi.jp":!0,"toyo.kochi.jp":!0,"tsuno.kochi.jp":!0,"umaji.kochi.jp":!0,"yasuda.kochi.jp":!0,"yusuhara.kochi.jp":!0,"amakusa.kumamoto.jp":!0,"arao.kumamoto.jp":!0,"aso.kumamoto.jp":!0,"choyo.kumamoto.jp":!0,"gyokuto.kumamoto.jp":!0,"hitoyoshi.kumamoto.jp":!0,"kamiamakusa.kumamoto.jp":!0,"kashima.kumamoto.jp":!0,"kikuchi.kumamoto.jp":!0,"kosa.kumamoto.jp":!0,"kumamoto.kumamoto.jp":!0,"mashiki.kumamoto.jp":!0,"mifune.kumamoto.jp":!0,"minamata.kumamoto.jp":!0,"minamioguni.kumamoto.jp":!0,"nagasu.kumamoto.jp":!0,"nishihara.kumamoto.jp":!0,"oguni.kumamoto.jp":!0,"ozu.kumamoto.jp":!0,"sumoto.kumamoto.jp":!0,"takamori.kumamoto.jp":!0,"uki.kumamoto.jp":!0,"uto.kumamoto.jp":!0,"yamaga.kumamoto.jp":!0,"yamato.kumamoto.jp":!0,"yatsushiro.kumamoto.jp":!0,"ayabe.kyoto.jp":!0,"fukuchiyama.kyoto.jp":!0,"higashiyama.kyoto.jp":!0,"ide.kyoto.jp":!0,"ine.kyoto.jp":!0,"joyo.kyoto.jp":!0,"kameoka.kyoto.jp":!0,"kamo.kyoto.jp":!0,"kita.kyoto.jp":!0,"kizu.kyoto.jp":!0,"kumiyama.kyoto.jp":!0,"kyotamba.kyoto.jp":!0,"kyotanabe.kyoto.jp":!0,"kyotango.kyoto.jp":!0,"maizuru.kyoto.jp":!0,"minami.kyoto.jp":!0,"minamiyamashiro.kyoto.jp":!0,"miyazu.kyoto.jp":!0,"muko.kyoto.jp":!0,"nagaokakyo.kyoto.jp":!0,"nakagyo.kyoto.jp":!0,"nantan.kyoto.jp":!0,"oyamazaki.kyoto.jp":!0,"sakyo.kyoto.jp":!0,"seika.kyoto.jp":!0,"tanabe.kyoto.jp":!0,"uji.kyoto.jp":!0,"ujitawara.kyoto.jp":!0,"wazuka.kyoto.jp":!0,"yamashina.kyoto.jp":!0,"yawata.kyoto.jp":!0,"asahi.mie.jp":!0,"inabe.mie.jp":!0,"ise.mie.jp":!0,"kameyama.mie.jp":!0,"kawagoe.mie.jp":!0,"kiho.mie.jp":!0,"kisosaki.mie.jp":!0,"kiwa.mie.jp":!0,"komono.mie.jp":!0,"kumano.mie.jp":!0,"kuwana.mie.jp":!0,"matsusaka.mie.jp":!0,"meiwa.mie.jp":!0,"mihama.mie.jp":!0,"minamiise.mie.jp":!0,"misugi.mie.jp":!0,"miyama.mie.jp":!0,"nabari.mie.jp":!0,"shima.mie.jp":!0,"suzuka.mie.jp":!0,"tado.mie.jp":!0,"taiki.mie.jp":!0,"taki.mie.jp":!0,"tamaki.mie.jp":!0,"toba.mie.jp":!0,"tsu.mie.jp":!0,"udono.mie.jp":!0,"ureshino.mie.jp":!0,"watarai.mie.jp":!0,"yokkaichi.mie.jp":!0,"furukawa.miyagi.jp":!0,"higashimatsushima.miyagi.jp":!0,"ishinomaki.miyagi.jp":!0,"iwanuma.miyagi.jp":!0,"kakuda.miyagi.jp":!0,"kami.miyagi.jp":!0,"kawasaki.miyagi.jp":!0,"kesennuma.miyagi.jp":!0,"marumori.miyagi.jp":!0,"matsushima.miyagi.jp":!0,"minamisanriku.miyagi.jp":!0,"misato.miyagi.jp":!0,"murata.miyagi.jp":!0,"natori.miyagi.jp":!0,"ogawara.miyagi.jp":!0,"ohira.miyagi.jp":!0,"onagawa.miyagi.jp":!0,"osaki.miyagi.jp":!0,"rifu.miyagi.jp":!0,"semine.miyagi.jp":!0,"shibata.miyagi.jp":!0,"shichikashuku.miyagi.jp":!0,"shikama.miyagi.jp":!0,"shiogama.miyagi.jp":!0,"shiroishi.miyagi.jp":!0,"tagajo.miyagi.jp":!0,"taiwa.miyagi.jp":!0,"tome.miyagi.jp":!0,"tomiya.miyagi.jp":!0,"wakuya.miyagi.jp":!0,"watari.miyagi.jp":!0,"yamamoto.miyagi.jp":!0,"zao.miyagi.jp":!0,"aya.miyazaki.jp":!0,"ebino.miyazaki.jp":!0,"gokase.miyazaki.jp":!0,"hyuga.miyazaki.jp":!0,"kadogawa.miyazaki.jp":!0,"kawaminami.miyazaki.jp":!0,"kijo.miyazaki.jp":!0,"kitagawa.miyazaki.jp":!0,"kitakata.miyazaki.jp":!0,"kitaura.miyazaki.jp":!0,"kobayashi.miyazaki.jp":!0,"kunitomi.miyazaki.jp":!0,"kushima.miyazaki.jp":!0,"mimata.miyazaki.jp":!0,"miyakonojo.miyazaki.jp":!0,"miyazaki.miyazaki.jp":!0,"morotsuka.miyazaki.jp":!0,"nichinan.miyazaki.jp":!0,"nishimera.miyazaki.jp":!0,"nobeoka.miyazaki.jp":!0,"saito.miyazaki.jp":!0,"shiiba.miyazaki.jp":!0,"shintomi.miyazaki.jp":!0,"takaharu.miyazaki.jp":!0,"takanabe.miyazaki.jp":!0,"takazaki.miyazaki.jp":!0,"tsuno.miyazaki.jp":!0,"achi.nagano.jp":!0,"agematsu.nagano.jp":!0,"anan.nagano.jp":!0,"aoki.nagano.jp":!0,"asahi.nagano.jp":!0,"azumino.nagano.jp":!0,"chikuhoku.nagano.jp":!0,"chikuma.nagano.jp":!0,"chino.nagano.jp":!0,"fujimi.nagano.jp":!0,"hakuba.nagano.jp":!0,"hara.nagano.jp":!0,"hiraya.nagano.jp":!0,"iida.nagano.jp":!0,"iijima.nagano.jp":!0,"iiyama.nagano.jp":!0,"iizuna.nagano.jp":!0,"ikeda.nagano.jp":!0,"ikusaka.nagano.jp":!0,"ina.nagano.jp":!0,"karuizawa.nagano.jp":!0,"kawakami.nagano.jp":!0,"kiso.nagano.jp":!0,"kisofukushima.nagano.jp":!0,"kitaaiki.nagano.jp":!0,"komagane.nagano.jp":!0,"komoro.nagano.jp":!0,"matsukawa.nagano.jp":!0,"matsumoto.nagano.jp":!0,"miasa.nagano.jp":!0,"minamiaiki.nagano.jp":!0,"minamimaki.nagano.jp":!0,"minamiminowa.nagano.jp":!0,"minowa.nagano.jp":!0,"miyada.nagano.jp":!0,"miyota.nagano.jp":!0,"mochizuki.nagano.jp":!0,"nagano.nagano.jp":!0,"nagawa.nagano.jp":!0,"nagiso.nagano.jp":!0,"nakagawa.nagano.jp":!0,"nakano.nagano.jp":!0,"nozawaonsen.nagano.jp":!0,"obuse.nagano.jp":!0,"ogawa.nagano.jp":!0,"okaya.nagano.jp":!0,"omachi.nagano.jp":!0,"omi.nagano.jp":!0,"ookuwa.nagano.jp":!0,"ooshika.nagano.jp":!0,"otaki.nagano.jp":!0,"otari.nagano.jp":!0,"sakae.nagano.jp":!0,"sakaki.nagano.jp":!0,"saku.nagano.jp":!0,"sakuho.nagano.jp":!0,"shimosuwa.nagano.jp":!0,"shinanomachi.nagano.jp":!0,"shiojiri.nagano.jp":!0,"suwa.nagano.jp":!0,"suzaka.nagano.jp":!0,"takagi.nagano.jp":!0,"takamori.nagano.jp":!0,"takayama.nagano.jp":!0,"tateshina.nagano.jp":!0,"tatsuno.nagano.jp":!0,"togakushi.nagano.jp":!0,"togura.nagano.jp":!0,"tomi.nagano.jp":!0,"ueda.nagano.jp":!0,"wada.nagano.jp":!0,"yamagata.nagano.jp":!0,"yamanouchi.nagano.jp":!0,"yasaka.nagano.jp":!0,"yasuoka.nagano.jp":!0,"chijiwa.nagasaki.jp":!0,"futsu.nagasaki.jp":!0,"goto.nagasaki.jp":!0,"hasami.nagasaki.jp":!0,"hirado.nagasaki.jp":!0,"iki.nagasaki.jp":!0,"isahaya.nagasaki.jp":!0,"kawatana.nagasaki.jp":!0,"kuchinotsu.nagasaki.jp":!0,"matsuura.nagasaki.jp":!0,"nagasaki.nagasaki.jp":!0,"obama.nagasaki.jp":!0,"omura.nagasaki.jp":!0,"oseto.nagasaki.jp":!0,"saikai.nagasaki.jp":!0,"sasebo.nagasaki.jp":!0,"seihi.nagasaki.jp":!0,"shimabara.nagasaki.jp":!0,"shinkamigoto.nagasaki.jp":!0,"togitsu.nagasaki.jp":!0,"tsushima.nagasaki.jp":!0,"unzen.nagasaki.jp":!0,"ando.nara.jp":!0,"gose.nara.jp":!0,"heguri.nara.jp":!0,"higashiyoshino.nara.jp":!0,"ikaruga.nara.jp":!0,"ikoma.nara.jp":!0,"kamikitayama.nara.jp":!0,"kanmaki.nara.jp":!0,"kashiba.nara.jp":!0,"kashihara.nara.jp":!0,"katsuragi.nara.jp":!0,"kawai.nara.jp":!0,"kawakami.nara.jp":!0,"kawanishi.nara.jp":!0,"koryo.nara.jp":!0,"kurotaki.nara.jp":!0,"mitsue.nara.jp":!0,"miyake.nara.jp":!0,"nara.nara.jp":!0,"nosegawa.nara.jp":!0,"oji.nara.jp":!0,"ouda.nara.jp":!0,"oyodo.nara.jp":!0,"sakurai.nara.jp":!0,"sango.nara.jp":!0,"shimoichi.nara.jp":!0,"shimokitayama.nara.jp":!0,"shinjo.nara.jp":!0,"soni.nara.jp":!0,"takatori.nara.jp":!0,"tawaramoto.nara.jp":!0,"tenkawa.nara.jp":!0,"tenri.nara.jp":!0,"uda.nara.jp":!0,"yamatokoriyama.nara.jp":!0,"yamatotakada.nara.jp":!0,"yamazoe.nara.jp":!0,"yoshino.nara.jp":!0,"aga.niigata.jp":!0,"agano.niigata.jp":!0,"gosen.niigata.jp":!0,"itoigawa.niigata.jp":!0,"izumozaki.niigata.jp":!0,"joetsu.niigata.jp":!0,"kamo.niigata.jp":!0,"kariwa.niigata.jp":!0,"kashiwazaki.niigata.jp":!0,"minamiuonuma.niigata.jp":!0,"mitsuke.niigata.jp":!0,"muika.niigata.jp":!0,"murakami.niigata.jp":!0,"myoko.niigata.jp":!0,"nagaoka.niigata.jp":!0,"niigata.niigata.jp":!0,"ojiya.niigata.jp":!0,"omi.niigata.jp":!0,"sado.niigata.jp":!0,"sanjo.niigata.jp":!0,"seiro.niigata.jp":!0,"seirou.niigata.jp":!0,"sekikawa.niigata.jp":!0,"shibata.niigata.jp":!0,"tagami.niigata.jp":!0,"tainai.niigata.jp":!0,"tochio.niigata.jp":!0,"tokamachi.niigata.jp":!0,"tsubame.niigata.jp":!0,"tsunan.niigata.jp":!0,"uonuma.niigata.jp":!0,"yahiko.niigata.jp":!0,"yoita.niigata.jp":!0,"yuzawa.niigata.jp":!0,"beppu.oita.jp":!0,"bungoono.oita.jp":!0,"bungotakada.oita.jp":!0,"hasama.oita.jp":!0,"hiji.oita.jp":!0,"himeshima.oita.jp":!0,"hita.oita.jp":!0,"kamitsue.oita.jp":!0,"kokonoe.oita.jp":!0,"kuju.oita.jp":!0,"kunisaki.oita.jp":!0,"kusu.oita.jp":!0,"oita.oita.jp":!0,"saiki.oita.jp":!0,"taketa.oita.jp":!0,"tsukumi.oita.jp":!0,"usa.oita.jp":!0,"usuki.oita.jp":!0,"yufu.oita.jp":!0,"akaiwa.okayama.jp":!0,"asakuchi.okayama.jp":!0,"bizen.okayama.jp":!0,"hayashima.okayama.jp":!0,"ibara.okayama.jp":!0,"kagamino.okayama.jp":!0,"kasaoka.okayama.jp":!0,"kibichuo.okayama.jp":!0,"kumenan.okayama.jp":!0,"kurashiki.okayama.jp":!0,"maniwa.okayama.jp":!0,"misaki.okayama.jp":!0,"nagi.okayama.jp":!0,"niimi.okayama.jp":!0,"nishiawakura.okayama.jp":!0,"okayama.okayama.jp":!0,"satosho.okayama.jp":!0,"setouchi.okayama.jp":!0,"shinjo.okayama.jp":!0,"shoo.okayama.jp":!0,"soja.okayama.jp":!0,"takahashi.okayama.jp":!0,"tamano.okayama.jp":!0,"tsuyama.okayama.jp":!0,"wake.okayama.jp":!0,"yakage.okayama.jp":!0,"aguni.okinawa.jp":!0,"ginowan.okinawa.jp":!0,"ginoza.okinawa.jp":!0,"gushikami.okinawa.jp":!0,"haebaru.okinawa.jp":!0,"higashi.okinawa.jp":!0,"hirara.okinawa.jp":!0,"iheya.okinawa.jp":!0,"ishigaki.okinawa.jp":!0,"ishikawa.okinawa.jp":!0,"itoman.okinawa.jp":!0,"izena.okinawa.jp":!0,"kadena.okinawa.jp":!0,"kin.okinawa.jp":!0,"kitadaito.okinawa.jp":!0,"kitanakagusuku.okinawa.jp":!0,"kumejima.okinawa.jp":!0,"kunigami.okinawa.jp":!0,"minamidaito.okinawa.jp":!0,"motobu.okinawa.jp":!0,"nago.okinawa.jp":!0,"naha.okinawa.jp":!0,"nakagusuku.okinawa.jp":!0,"nakijin.okinawa.jp":!0,"nanjo.okinawa.jp":!0,"nishihara.okinawa.jp":!0,"ogimi.okinawa.jp":!0,"okinawa.okinawa.jp":!0,"onna.okinawa.jp":!0,"shimoji.okinawa.jp":!0,"taketomi.okinawa.jp":!0,"tarama.okinawa.jp":!0,"tokashiki.okinawa.jp":!0,"tomigusuku.okinawa.jp":!0,"tonaki.okinawa.jp":!0,"urasoe.okinawa.jp":!0,"uruma.okinawa.jp":!0,"yaese.okinawa.jp":!0,"yomitan.okinawa.jp":!0,"yonabaru.okinawa.jp":!0,"yonaguni.okinawa.jp":!0,"zamami.okinawa.jp":!0,"abeno.osaka.jp":!0,"chihayaakasaka.osaka.jp":!0,"chuo.osaka.jp":!0,"daito.osaka.jp":!0,"fujiidera.osaka.jp":!0,"habikino.osaka.jp":!0,"hannan.osaka.jp":!0,"higashiosaka.osaka.jp":!0,"higashisumiyoshi.osaka.jp":!0,"higashiyodogawa.osaka.jp":!0,"hirakata.osaka.jp":!0,"ibaraki.osaka.jp":!0,"ikeda.osaka.jp":!0,"izumi.osaka.jp":!0,"izumiotsu.osaka.jp":!0,"izumisano.osaka.jp":!0,"kadoma.osaka.jp":!0,"kaizuka.osaka.jp":!0,"kanan.osaka.jp":!0,"kashiwara.osaka.jp":!0,"katano.osaka.jp":!0,"kawachinagano.osaka.jp":!0,"kishiwada.osaka.jp":!0,"kita.osaka.jp":!0,"kumatori.osaka.jp":!0,"matsubara.osaka.jp":!0,"minato.osaka.jp":!0,"minoh.osaka.jp":!0,"misaki.osaka.jp":!0,"moriguchi.osaka.jp":!0,"neyagawa.osaka.jp":!0,"nishi.osaka.jp":!0,"nose.osaka.jp":!0,"osakasayama.osaka.jp":!0,"sakai.osaka.jp":!0,"sayama.osaka.jp":!0,"sennan.osaka.jp":!0,"settsu.osaka.jp":!0,"shijonawate.osaka.jp":!0,"shimamoto.osaka.jp":!0,"suita.osaka.jp":!0,"tadaoka.osaka.jp":!0,"taishi.osaka.jp":!0,"tajiri.osaka.jp":!0,"takaishi.osaka.jp":!0,"takatsuki.osaka.jp":!0,"tondabayashi.osaka.jp":!0,"toyonaka.osaka.jp":!0,"toyono.osaka.jp":!0,"yao.osaka.jp":!0,"ariake.saga.jp":!0,"arita.saga.jp":!0,"fukudomi.saga.jp":!0,"genkai.saga.jp":!0,"hamatama.saga.jp":!0,"hizen.saga.jp":!0,"imari.saga.jp":!0,"kamimine.saga.jp":!0,"kanzaki.saga.jp":!0,"karatsu.saga.jp":!0,"kashima.saga.jp":!0,"kitagata.saga.jp":!0,"kitahata.saga.jp":!0,"kiyama.saga.jp":!0,"kouhoku.saga.jp":!0,"kyuragi.saga.jp":!0,"nishiarita.saga.jp":!0,"ogi.saga.jp":!0,"omachi.saga.jp":!0,"ouchi.saga.jp":!0,"saga.saga.jp":!0,"shiroishi.saga.jp":!0,"taku.saga.jp":!0,"tara.saga.jp":!0,"tosu.saga.jp":!0,"yoshinogari.saga.jp":!0,"arakawa.saitama.jp":!0,"asaka.saitama.jp":!0,"chichibu.saitama.jp":!0,"fujimi.saitama.jp":!0,"fujimino.saitama.jp":!0,"fukaya.saitama.jp":!0,"hanno.saitama.jp":!0,"hanyu.saitama.jp":!0,"hasuda.saitama.jp":!0,"hatogaya.saitama.jp":!0,"hatoyama.saitama.jp":!0,"hidaka.saitama.jp":!0,"higashichichibu.saitama.jp":!0,"higashimatsuyama.saitama.jp":!0,"honjo.saitama.jp":!0,"ina.saitama.jp":!0,"iruma.saitama.jp":!0,"iwatsuki.saitama.jp":!0,"kamiizumi.saitama.jp":!0,"kamikawa.saitama.jp":!0,"kamisato.saitama.jp":!0,"kasukabe.saitama.jp":!0,"kawagoe.saitama.jp":!0,"kawaguchi.saitama.jp":!0,"kawajima.saitama.jp":!0,"kazo.saitama.jp":!0,"kitamoto.saitama.jp":!0,"koshigaya.saitama.jp":!0,"kounosu.saitama.jp":!0,"kuki.saitama.jp":!0,"kumagaya.saitama.jp":!0,"matsubushi.saitama.jp":!0,"minano.saitama.jp":!0,"misato.saitama.jp":!0,"miyashiro.saitama.jp":!0,"miyoshi.saitama.jp":!0,"moroyama.saitama.jp":!0,"nagatoro.saitama.jp":!0,"namegawa.saitama.jp":!0,"niiza.saitama.jp":!0,"ogano.saitama.jp":!0,"ogawa.saitama.jp":!0,"ogose.saitama.jp":!0,"okegawa.saitama.jp":!0,"omiya.saitama.jp":!0,"otaki.saitama.jp":!0,"ranzan.saitama.jp":!0,"ryokami.saitama.jp":!0,"saitama.saitama.jp":!0,"sakado.saitama.jp":!0,"satte.saitama.jp":!0,"sayama.saitama.jp":!0,"shiki.saitama.jp":!0,"shiraoka.saitama.jp":!0,"soka.saitama.jp":!0,"sugito.saitama.jp":!0,"toda.saitama.jp":!0,"tokigawa.saitama.jp":!0,"tokorozawa.saitama.jp":!0,"tsurugashima.saitama.jp":!0,"urawa.saitama.jp":!0,"warabi.saitama.jp":!0,"yashio.saitama.jp":!0,"yokoze.saitama.jp":!0,"yono.saitama.jp":!0,"yorii.saitama.jp":!0,"yoshida.saitama.jp":!0,"yoshikawa.saitama.jp":!0,"yoshimi.saitama.jp":!0,"aisho.shiga.jp":!0,"gamo.shiga.jp":!0,"higashiomi.shiga.jp":!0,"hikone.shiga.jp":!0,"koka.shiga.jp":!0,"konan.shiga.jp":!0,"kosei.shiga.jp":!0,"koto.shiga.jp":!0,"kusatsu.shiga.jp":!0,"maibara.shiga.jp":!0,"moriyama.shiga.jp":!0,"nagahama.shiga.jp":!0,"nishiazai.shiga.jp":!0,"notogawa.shiga.jp":!0,"omihachiman.shiga.jp":!0,"otsu.shiga.jp":!0,"ritto.shiga.jp":!0,"ryuoh.shiga.jp":!0,"takashima.shiga.jp":!0,"takatsuki.shiga.jp":!0,"torahime.shiga.jp":!0,"toyosato.shiga.jp":!0,"yasu.shiga.jp":!0,"akagi.shimane.jp":!0,"ama.shimane.jp":!0,"gotsu.shimane.jp":!0,"hamada.shimane.jp":!0,"higashiizumo.shimane.jp":!0,"hikawa.shimane.jp":!0,"hikimi.shimane.jp":!0,"izumo.shimane.jp":!0,"kakinoki.shimane.jp":!0,"masuda.shimane.jp":!0,"matsue.shimane.jp":!0,"misato.shimane.jp":!0,"nishinoshima.shimane.jp":!0,"ohda.shimane.jp":!0,"okinoshima.shimane.jp":!0,"okuizumo.shimane.jp":!0,"shimane.shimane.jp":!0,"tamayu.shimane.jp":!0,"tsuwano.shimane.jp":!0,"unnan.shimane.jp":!0,"yakumo.shimane.jp":!0,"yasugi.shimane.jp":!0,"yatsuka.shimane.jp":!0,"arai.shizuoka.jp":!0,"atami.shizuoka.jp":!0,"fuji.shizuoka.jp":!0,"fujieda.shizuoka.jp":!0,"fujikawa.shizuoka.jp":!0,"fujinomiya.shizuoka.jp":!0,"fukuroi.shizuoka.jp":!0,"gotemba.shizuoka.jp":!0,"haibara.shizuoka.jp":!0,"hamamatsu.shizuoka.jp":!0,"higashiizu.shizuoka.jp":!0,"ito.shizuoka.jp":!0,"iwata.shizuoka.jp":!0,"izu.shizuoka.jp":!0,"izunokuni.shizuoka.jp":!0,"kakegawa.shizuoka.jp":!0,"kannami.shizuoka.jp":!0,"kawanehon.shizuoka.jp":!0,"kawazu.shizuoka.jp":!0,"kikugawa.shizuoka.jp":!0,"kosai.shizuoka.jp":!0,"makinohara.shizuoka.jp":!0,"matsuzaki.shizuoka.jp":!0,"minamiizu.shizuoka.jp":!0,"mishima.shizuoka.jp":!0,"morimachi.shizuoka.jp":!0,"nishiizu.shizuoka.jp":!0,"numazu.shizuoka.jp":!0,"omaezaki.shizuoka.jp":!0,"shimada.shizuoka.jp":!0,"shimizu.shizuoka.jp":!0,"shimoda.shizuoka.jp":!0,"shizuoka.shizuoka.jp":!0,"susono.shizuoka.jp":!0,"yaizu.shizuoka.jp":!0,"yoshida.shizuoka.jp":!0,"ashikaga.tochigi.jp":!0,"bato.tochigi.jp":!0,"haga.tochigi.jp":!0,"ichikai.tochigi.jp":!0,"iwafune.tochigi.jp":!0,"kaminokawa.tochigi.jp":!0,"kanuma.tochigi.jp":!0,"karasuyama.tochigi.jp":!0,"kuroiso.tochigi.jp":!0,"mashiko.tochigi.jp":!0,"mibu.tochigi.jp":!0,"moka.tochigi.jp":!0,"motegi.tochigi.jp":!0,"nasu.tochigi.jp":!0,"nasushiobara.tochigi.jp":!0,"nikko.tochigi.jp":!0,"nishikata.tochigi.jp":!0,"nogi.tochigi.jp":!0,"ohira.tochigi.jp":!0,"ohtawara.tochigi.jp":!0,"oyama.tochigi.jp":!0,"sakura.tochigi.jp":!0,"sano.tochigi.jp":!0,"shimotsuke.tochigi.jp":!0,"shioya.tochigi.jp":!0,"takanezawa.tochigi.jp":!0,"tochigi.tochigi.jp":!0,"tsuga.tochigi.jp":!0,"ujiie.tochigi.jp":!0,"utsunomiya.tochigi.jp":!0,"yaita.tochigi.jp":!0,"aizumi.tokushima.jp":!0,"anan.tokushima.jp":!0,"ichiba.tokushima.jp":!0,"itano.tokushima.jp":!0,"kainan.tokushima.jp":!0,"komatsushima.tokushima.jp":!0,"matsushige.tokushima.jp":!0,"mima.tokushima.jp":!0,"minami.tokushima.jp":!0,"miyoshi.tokushima.jp":!0,"mugi.tokushima.jp":!0,"nakagawa.tokushima.jp":!0,"naruto.tokushima.jp":!0,"sanagochi.tokushima.jp":!0,"shishikui.tokushima.jp":!0,"tokushima.tokushima.jp":!0,"wajiki.tokushima.jp":!0,"adachi.tokyo.jp":!0,"akiruno.tokyo.jp":!0,"akishima.tokyo.jp":!0,"aogashima.tokyo.jp":!0,"arakawa.tokyo.jp":!0,"bunkyo.tokyo.jp":!0,"chiyoda.tokyo.jp":!0,"chofu.tokyo.jp":!0,"chuo.tokyo.jp":!0,"edogawa.tokyo.jp":!0,"fuchu.tokyo.jp":!0,"fussa.tokyo.jp":!0,"hachijo.tokyo.jp":!0,"hachioji.tokyo.jp":!0,"hamura.tokyo.jp":!0,"higashikurume.tokyo.jp":!0,"higashimurayama.tokyo.jp":!0,"higashiyamato.tokyo.jp":!0,"hino.tokyo.jp":!0,"hinode.tokyo.jp":!0,"hinohara.tokyo.jp":!0,"inagi.tokyo.jp":!0,"itabashi.tokyo.jp":!0,"katsushika.tokyo.jp":!0,"kita.tokyo.jp":!0,"kiyose.tokyo.jp":!0,"kodaira.tokyo.jp":!0,"koganei.tokyo.jp":!0,"kokubunji.tokyo.jp":!0,"komae.tokyo.jp":!0,"koto.tokyo.jp":!0,"kouzushima.tokyo.jp":!0,"kunitachi.tokyo.jp":!0,"machida.tokyo.jp":!0,"meguro.tokyo.jp":!0,"minato.tokyo.jp":!0,"mitaka.tokyo.jp":!0,"mizuho.tokyo.jp":!0,"musashimurayama.tokyo.jp":!0,"musashino.tokyo.jp":!0,"nakano.tokyo.jp":!0,"nerima.tokyo.jp":!0,"ogasawara.tokyo.jp":!0,"okutama.tokyo.jp":!0,"ome.tokyo.jp":!0,"oshima.tokyo.jp":!0,"ota.tokyo.jp":!0,"setagaya.tokyo.jp":!0,"shibuya.tokyo.jp":!0,"shinagawa.tokyo.jp":!0,"shinjuku.tokyo.jp":!0,"suginami.tokyo.jp":!0,"sumida.tokyo.jp":!0,"tachikawa.tokyo.jp":!0,"taito.tokyo.jp":!0,"tama.tokyo.jp":!0,"toshima.tokyo.jp":!0,"chizu.tottori.jp":!0,"hino.tottori.jp":!0,"kawahara.tottori.jp":!0,"koge.tottori.jp":!0,"kotoura.tottori.jp":!0,"misasa.tottori.jp":!0,"nanbu.tottori.jp":!0,"nichinan.tottori.jp":!0,"sakaiminato.tottori.jp":!0,"tottori.tottori.jp":!0,"wakasa.tottori.jp":!0,"yazu.tottori.jp":!0,"yonago.tottori.jp":!0,"asahi.toyama.jp":!0,"fuchu.toyama.jp":!0,"fukumitsu.toyama.jp":!0,"funahashi.toyama.jp":!0,"himi.toyama.jp":!0,"imizu.toyama.jp":!0,"inami.toyama.jp":!0,"johana.toyama.jp":!0,"kamiichi.toyama.jp":!0,"kurobe.toyama.jp":!0,"nakaniikawa.toyama.jp":!0,"namerikawa.toyama.jp":!0,"nanto.toyama.jp":!0,"nyuzen.toyama.jp":!0,"oyabe.toyama.jp":!0,"taira.toyama.jp":!0,"takaoka.toyama.jp":!0,"tateyama.toyama.jp":!0,"toga.toyama.jp":!0,"tonami.toyama.jp":!0,"toyama.toyama.jp":!0,"unazuki.toyama.jp":!0,"uozu.toyama.jp":!0,"yamada.toyama.jp":!0,"arida.wakayama.jp":!0,"aridagawa.wakayama.jp":!0,"gobo.wakayama.jp":!0,"hashimoto.wakayama.jp":!0,"hidaka.wakayama.jp":!0,"hirogawa.wakayama.jp":!0,"inami.wakayama.jp":!0,"iwade.wakayama.jp":!0,"kainan.wakayama.jp":!0,"kamitonda.wakayama.jp":!0,"katsuragi.wakayama.jp":!0,"kimino.wakayama.jp":!0,"kinokawa.wakayama.jp":!0,"kitayama.wakayama.jp":!0,"koya.wakayama.jp":!0,"koza.wakayama.jp":!0,"kozagawa.wakayama.jp":!0,"kudoyama.wakayama.jp":!0,"kushimoto.wakayama.jp":!0,"mihama.wakayama.jp":!0,"misato.wakayama.jp":!0,"nachikatsuura.wakayama.jp":!0,"shingu.wakayama.jp":!0,"shirahama.wakayama.jp":!0,"taiji.wakayama.jp":!0,"tanabe.wakayama.jp":!0,"wakayama.wakayama.jp":!0,"yuasa.wakayama.jp":!0,"yura.wakayama.jp":!0,"asahi.yamagata.jp":!0,"funagata.yamagata.jp":!0,"higashine.yamagata.jp":!0,"iide.yamagata.jp":!0,"kahoku.yamagata.jp":!0,"kaminoyama.yamagata.jp":!0,"kaneyama.yamagata.jp":!0,"kawanishi.yamagata.jp":!0,"mamurogawa.yamagata.jp":!0,"mikawa.yamagata.jp":!0,"murayama.yamagata.jp":!0,"nagai.yamagata.jp":!0,"nakayama.yamagata.jp":!0,"nanyo.yamagata.jp":!0,"nishikawa.yamagata.jp":!0,"obanazawa.yamagata.jp":!0,"oe.yamagata.jp":!0,"oguni.yamagata.jp":!0,"ohkura.yamagata.jp":!0,"oishida.yamagata.jp":!0,"sagae.yamagata.jp":!0,"sakata.yamagata.jp":!0,"sakegawa.yamagata.jp":!0,"shinjo.yamagata.jp":!0,"shirataka.yamagata.jp":!0,"shonai.yamagata.jp":!0,"takahata.yamagata.jp":!0,"tendo.yamagata.jp":!0,"tozawa.yamagata.jp":!0,"tsuruoka.yamagata.jp":!0,"yamagata.yamagata.jp":!0,"yamanobe.yamagata.jp":!0,"yonezawa.yamagata.jp":!0,"yuza.yamagata.jp":!0,"abu.yamaguchi.jp":!0,"hagi.yamaguchi.jp":!0,"hikari.yamaguchi.jp":!0,"hofu.yamaguchi.jp":!0,"iwakuni.yamaguchi.jp":!0,"kudamatsu.yamaguchi.jp":!0,"mitou.yamaguchi.jp":!0,"nagato.yamaguchi.jp":!0,"oshima.yamaguchi.jp":!0,"shimonoseki.yamaguchi.jp":!0,"shunan.yamaguchi.jp":!0,"tabuse.yamaguchi.jp":!0,"tokuyama.yamaguchi.jp":!0,"toyota.yamaguchi.jp":!0,"ube.yamaguchi.jp":!0,"yuu.yamaguchi.jp":!0,"chuo.yamanashi.jp":!0,"doshi.yamanashi.jp":!0,"fuefuki.yamanashi.jp":!0,"fujikawa.yamanashi.jp":!0,"fujikawaguchiko.yamanashi.jp":!0,"fujiyoshida.yamanashi.jp":!0,"hayakawa.yamanashi.jp":!0,"hokuto.yamanashi.jp":!0,"ichikawamisato.yamanashi.jp":!0,"kai.yamanashi.jp":!0,"kofu.yamanashi.jp":!0,"koshu.yamanashi.jp":!0,"kosuge.yamanashi.jp":!0,"minami-alps.yamanashi.jp":!0,"minobu.yamanashi.jp":!0,"nakamichi.yamanashi.jp":!0,"nanbu.yamanashi.jp":!0,"narusawa.yamanashi.jp":!0,"nirasaki.yamanashi.jp":!0,"nishikatsura.yamanashi.jp":!0,"oshino.yamanashi.jp":!0,"otsuki.yamanashi.jp":!0,"showa.yamanashi.jp":!0,"tabayama.yamanashi.jp":!0,"tsuru.yamanashi.jp":!0,"uenohara.yamanashi.jp":!0,"yamanakako.yamanashi.jp":!0,"yamanashi.yamanashi.jp":!0,"*.ke":!0,kg:!0,"org.kg":!0,"net.kg":!0,"com.kg":!0,"edu.kg":!0,"gov.kg":!0,"mil.kg":!0,"*.kh":!0,ki:!0,"edu.ki":!0,"biz.ki":!0,"net.ki":!0,"org.ki":!0,"gov.ki":!0,"info.ki":!0,"com.ki":!0,km:!0,"org.km":!0,"nom.km":!0,"gov.km":!0,"prd.km":!0,"tm.km":!0,"edu.km":!0,"mil.km":!0,"ass.km":!0,"com.km":!0,"coop.km":!0,"asso.km":!0,"presse.km":!0,"medecin.km":!0,"notaires.km":!0,"pharmaciens.km":!0,"veterinaire.km":!0,"gouv.km":!0,kn:!0,"net.kn":!0,"org.kn":!0,"edu.kn":!0,"gov.kn":!0,kp:!0,"com.kp":!0,"edu.kp":!0,"gov.kp":!0,"org.kp":!0,"rep.kp":!0,"tra.kp":!0,kr:!0,"ac.kr":!0,"co.kr":!0,"es.kr":!0,"go.kr":!0,"hs.kr":!0,"kg.kr":!0,"mil.kr":!0,"ms.kr":!0,"ne.kr":!0,"or.kr":!0,"pe.kr":!0,"re.kr":!0,"sc.kr":!0,"busan.kr":!0,"chungbuk.kr":!0,"chungnam.kr":!0,"daegu.kr":!0,"daejeon.kr":!0,"gangwon.kr":!0,"gwangju.kr":!0,"gyeongbuk.kr":!0,"gyeonggi.kr":!0,"gyeongnam.kr":!0,"incheon.kr":!0,"jeju.kr":!0,"jeonbuk.kr":!0,"jeonnam.kr":!0,"seoul.kr":!0,"ulsan.kr":!0,"*.kw":!0,ky:!0,"edu.ky":!0,"gov.ky":!0,"com.ky":!0,"org.ky":!0,"net.ky":!0,kz:!0,"org.kz":!0,"edu.kz":!0,"net.kz":!0,"gov.kz":!0,"mil.kz":!0,"com.kz":!0,la:!0,"int.la":!0,"net.la":!0,"info.la":!0,"edu.la":!0,"gov.la":!0,"per.la":!0,"com.la":!0,"org.la":!0,lb:!0,"com.lb":!0,"edu.lb":!0,"gov.lb":!0,"net.lb":!0,"org.lb":!0,lc:!0,"com.lc":!0,"net.lc":!0,"co.lc":!0,"org.lc":!0,"edu.lc":!0,"gov.lc":!0,li:!0,lk:!0,"gov.lk":!0,"sch.lk":!0,"net.lk":!0,"int.lk":!0,"com.lk":!0,"org.lk":!0,"edu.lk":!0,"ngo.lk":!0,"soc.lk":!0,"web.lk":!0,"ltd.lk":!0,"assn.lk":!0,"grp.lk":!0,"hotel.lk":!0,"ac.lk":!0,lr:!0,"com.lr":!0,"edu.lr":!0,"gov.lr":!0,"org.lr":!0,"net.lr":!0,ls:!0,"co.ls":!0,"org.ls":!0,lt:!0,"gov.lt":!0,lu:!0,lv:!0,"com.lv":!0,"edu.lv":!0,"gov.lv":!0,"org.lv":!0,"mil.lv":!0,"id.lv":!0,"net.lv":!0,"asn.lv":!0,"conf.lv":!0,ly:!0,"com.ly":!0,"net.ly":!0,"gov.ly":!0,"plc.ly":!0,"edu.ly":!0,"sch.ly":!0,"med.ly":!0,"org.ly":!0,"id.ly":!0,ma:!0,"co.ma":!0,"net.ma":!0,"gov.ma":!0,"org.ma":!0,"ac.ma":!0,"press.ma":!0,mc:!0,"tm.mc":!0,"asso.mc":!0,md:!0,me:!0,"co.me":!0,"net.me":!0,"org.me":!0,"edu.me":!0,"ac.me":!0,"gov.me":!0,"its.me":!0,"priv.me":!0,mg:!0,"org.mg":!0,"nom.mg":!0,"gov.mg":!0,"prd.mg":!0,"tm.mg":!0,"edu.mg":!0,"mil.mg":!0,"com.mg":!0,"co.mg":!0,mh:!0,mil:!0,mk:!0,"com.mk":!0,"org.mk":!0,"net.mk":!0,"edu.mk":!0,"gov.mk":!0,"inf.mk":!0,"name.mk":!0,ml:!0,"com.ml":!0,"edu.ml":!0,"gouv.ml":!0,"gov.ml":!0,"net.ml":!0,"org.ml":!0,"presse.ml":!0,"*.mm":!0,mn:!0,"gov.mn":!0,"edu.mn":!0,"org.mn":!0,mo:!0,"com.mo":!0,"net.mo":!0,"org.mo":!0,"edu.mo":!0,"gov.mo":!0,mobi:!0,mp:!0,mq:!0,mr:!0,"gov.mr":!0,ms:!0,"com.ms":!0,"edu.ms":!0,"gov.ms":!0,"net.ms":!0,"org.ms":!0,mt:!0,"com.mt":!0,"edu.mt":!0,"net.mt":!0,"org.mt":!0,mu:!0,"com.mu":!0,"net.mu":!0,"org.mu":!0,"gov.mu":!0,"ac.mu":!0,"co.mu":!0,"or.mu":!0,museum:!0,"academy.museum":!0,"agriculture.museum":!0,"air.museum":!0,"airguard.museum":!0,"alabama.museum":!0,"alaska.museum":!0,"amber.museum":!0,"ambulance.museum":!0,"american.museum":!0,"americana.museum":!0,"americanantiques.museum":!0,"americanart.museum":!0,"amsterdam.museum":!0,"and.museum":!0,"annefrank.museum":!0,"anthro.museum":!0,"anthropology.museum":!0,"antiques.museum":!0,"aquarium.museum":!0,"arboretum.museum":!0,"archaeological.museum":!0,"archaeology.museum":!0,"architecture.museum":!0,"art.museum":!0,"artanddesign.museum":!0,"artcenter.museum":!0,"artdeco.museum":!0,"arteducation.museum":!0,"artgallery.museum":!0,"arts.museum":!0,"artsandcrafts.museum":!0,"asmatart.museum":!0,"assassination.museum":!0,"assisi.museum":!0,"association.museum":!0,"astronomy.museum":!0,"atlanta.museum":!0,"austin.museum":!0,"australia.museum":!0,"automotive.museum":!0,"aviation.museum":!0,"axis.museum":!0,"badajoz.museum":!0,"baghdad.museum":!0,"bahn.museum":!0,"bale.museum":!0,"baltimore.museum":!0,"barcelona.museum":!0,"baseball.museum":!0,"basel.museum":!0,"baths.museum":!0,"bauern.museum":!0,"beauxarts.museum":!0,"beeldengeluid.museum":!0,"bellevue.museum":!0,"bergbau.museum":!0,"berkeley.museum":!0,"berlin.museum":!0,"bern.museum":!0,"bible.museum":!0,"bilbao.museum":!0,"bill.museum":!0,"birdart.museum":!0,"birthplace.museum":!0,"bonn.museum":!0,"boston.museum":!0,"botanical.museum":!0,"botanicalgarden.museum":!0,"botanicgarden.museum":!0,"botany.museum":!0,"brandywinevalley.museum":!0,"brasil.museum":!0,"bristol.museum":!0,"british.museum":!0,"britishcolumbia.museum":!0,"broadcast.museum":!0,"brunel.museum":!0,"brussel.museum":!0,"brussels.museum":!0,"bruxelles.museum":!0,"building.museum":!0,"burghof.museum":!0,"bus.museum":!0,"bushey.museum":!0,"cadaques.museum":!0,"california.museum":!0,"cambridge.museum":!0,"can.museum":!0,"canada.museum":!0,"capebreton.museum":!0,"carrier.museum":!0,"cartoonart.museum":!0,"casadelamoneda.museum":!0,"castle.museum":!0,"castres.museum":!0,"celtic.museum":!0,"center.museum":!0,"chattanooga.museum":!0,"cheltenham.museum":!0,"chesapeakebay.museum":!0,"chicago.museum":!0,"children.museum":!0,"childrens.museum":!0,"childrensgarden.museum":!0,"chiropractic.museum":!0,"chocolate.museum":!0,"christiansburg.museum":!0,"cincinnati.museum":!0,"cinema.museum":!0,"circus.museum":!0,
"civilisation.museum":!0,"civilization.museum":!0,"civilwar.museum":!0,"clinton.museum":!0,"clock.museum":!0,"coal.museum":!0,"coastaldefence.museum":!0,"cody.museum":!0,"coldwar.museum":!0,"collection.museum":!0,"colonialwilliamsburg.museum":!0,"coloradoplateau.museum":!0,"columbia.museum":!0,"columbus.museum":!0,"communication.museum":!0,"communications.museum":!0,"community.museum":!0,"computer.museum":!0,"computerhistory.museum":!0,"xn--comunicaes-v6a2o.museum":!0,"contemporary.museum":!0,"contemporaryart.museum":!0,"convent.museum":!0,"copenhagen.museum":!0,"corporation.museum":!0,"xn--correios-e-telecomunicaes-ghc29a.museum":!0,"corvette.museum":!0,"costume.museum":!0,"countryestate.museum":!0,"county.museum":!0,"crafts.museum":!0,"cranbrook.museum":!0,"creation.museum":!0,"cultural.museum":!0,"culturalcenter.museum":!0,"culture.museum":!0,"cyber.museum":!0,"cymru.museum":!0,"dali.museum":!0,"dallas.museum":!0,"database.museum":!0,"ddr.museum":!0,"decorativearts.museum":!0,"delaware.museum":!0,"delmenhorst.museum":!0,"denmark.museum":!0,"depot.museum":!0,"design.museum":!0,"detroit.museum":!0,"dinosaur.museum":!0,"discovery.museum":!0,"dolls.museum":!0,"donostia.museum":!0,"durham.museum":!0,"eastafrica.museum":!0,"eastcoast.museum":!0,"education.museum":!0,"educational.museum":!0,"egyptian.museum":!0,"eisenbahn.museum":!0,"elburg.museum":!0,"elvendrell.museum":!0,"embroidery.museum":!0,"encyclopedic.museum":!0,"england.museum":!0,"entomology.museum":!0,"environment.museum":!0,"environmentalconservation.museum":!0,"epilepsy.museum":!0,"essex.museum":!0,"estate.museum":!0,"ethnology.museum":!0,"exeter.museum":!0,"exhibition.museum":!0,"family.museum":!0,"farm.museum":!0,"farmequipment.museum":!0,"farmers.museum":!0,"farmstead.museum":!0,"field.museum":!0,"figueres.museum":!0,"filatelia.museum":!0,"film.museum":!0,"fineart.museum":!0,"finearts.museum":!0,"finland.museum":!0,"flanders.museum":!0,"florida.museum":!0,"force.museum":!0,"fortmissoula.museum":!0,"fortworth.museum":!0,"foundation.museum":!0,"francaise.museum":!0,"frankfurt.museum":!0,"franziskaner.museum":!0,"freemasonry.museum":!0,"freiburg.museum":!0,"fribourg.museum":!0,"frog.museum":!0,"fundacio.museum":!0,"furniture.museum":!0,"gallery.museum":!0,"garden.museum":!0,"gateway.museum":!0,"geelvinck.museum":!0,"gemological.museum":!0,"geology.museum":!0,"georgia.museum":!0,"giessen.museum":!0,"glas.museum":!0,"glass.museum":!0,"gorge.museum":!0,"grandrapids.museum":!0,"graz.museum":!0,"guernsey.museum":!0,"halloffame.museum":!0,"hamburg.museum":!0,"handson.museum":!0,"harvestcelebration.museum":!0,"hawaii.museum":!0,"health.museum":!0,"heimatunduhren.museum":!0,"hellas.museum":!0,"helsinki.museum":!0,"hembygdsforbund.museum":!0,"heritage.museum":!0,"histoire.museum":!0,"historical.museum":!0,"historicalsociety.museum":!0,"historichouses.museum":!0,"historisch.museum":!0,"historisches.museum":!0,"history.museum":!0,"historyofscience.museum":!0,"horology.museum":!0,"house.museum":!0,"humanities.museum":!0,"illustration.museum":!0,"imageandsound.museum":!0,"indian.museum":!0,"indiana.museum":!0,"indianapolis.museum":!0,"indianmarket.museum":!0,"intelligence.museum":!0,"interactive.museum":!0,"iraq.museum":!0,"iron.museum":!0,"isleofman.museum":!0,"jamison.museum":!0,"jefferson.museum":!0,"jerusalem.museum":!0,"jewelry.museum":!0,"jewish.museum":!0,"jewishart.museum":!0,"jfk.museum":!0,"journalism.museum":!0,"judaica.museum":!0,"judygarland.museum":!0,"juedisches.museum":!0,"juif.museum":!0,"karate.museum":!0,"karikatur.museum":!0,"kids.museum":!0,"koebenhavn.museum":!0,"koeln.museum":!0,"kunst.museum":!0,"kunstsammlung.museum":!0,"kunstunddesign.museum":!0,"labor.museum":!0,"labour.museum":!0,"lajolla.museum":!0,"lancashire.museum":!0,"landes.museum":!0,"lans.museum":!0,"xn--lns-qla.museum":!0,"larsson.museum":!0,"lewismiller.museum":!0,"lincoln.museum":!0,"linz.museum":!0,"living.museum":!0,"livinghistory.museum":!0,"localhistory.museum":!0,"london.museum":!0,"losangeles.museum":!0,"louvre.museum":!0,"loyalist.museum":!0,"lucerne.museum":!0,"luxembourg.museum":!0,"luzern.museum":!0,"mad.museum":!0,"madrid.museum":!0,"mallorca.museum":!0,"manchester.museum":!0,"mansion.museum":!0,"mansions.museum":!0,"manx.museum":!0,"marburg.museum":!0,"maritime.museum":!0,"maritimo.museum":!0,"maryland.museum":!0,"marylhurst.museum":!0,"media.museum":!0,"medical.museum":!0,"medizinhistorisches.museum":!0,"meeres.museum":!0,"memorial.museum":!0,"mesaverde.museum":!0,"michigan.museum":!0,"midatlantic.museum":!0,"military.museum":!0,"mill.museum":!0,"miners.museum":!0,"mining.museum":!0,"minnesota.museum":!0,"missile.museum":!0,"missoula.museum":!0,"modern.museum":!0,"moma.museum":!0,"money.museum":!0,"monmouth.museum":!0,"monticello.museum":!0,"montreal.museum":!0,"moscow.museum":!0,"motorcycle.museum":!0,"muenchen.museum":!0,"muenster.museum":!0,"mulhouse.museum":!0,"muncie.museum":!0,"museet.museum":!0,"museumcenter.museum":!0,"museumvereniging.museum":!0,"music.museum":!0,"national.museum":!0,"nationalfirearms.museum":!0,"nationalheritage.museum":!0,"nativeamerican.museum":!0,"naturalhistory.museum":!0,"naturalhistorymuseum.museum":!0,"naturalsciences.museum":!0,"nature.museum":!0,"naturhistorisches.museum":!0,"natuurwetenschappen.museum":!0,"naumburg.museum":!0,"naval.museum":!0,"nebraska.museum":!0,"neues.museum":!0,"newhampshire.museum":!0,"newjersey.museum":!0,"newmexico.museum":!0,"newport.museum":!0,"newspaper.museum":!0,"newyork.museum":!0,"niepce.museum":!0,"norfolk.museum":!0,"north.museum":!0,"nrw.museum":!0,"nuernberg.museum":!0,"nuremberg.museum":!0,"nyc.museum":!0,"nyny.museum":!0,"oceanographic.museum":!0,"oceanographique.museum":!0,"omaha.museum":!0,"online.museum":!0,"ontario.museum":!0,"openair.museum":!0,"oregon.museum":!0,"oregontrail.museum":!0,"otago.museum":!0,"oxford.museum":!0,"pacific.museum":!0,"paderborn.museum":!0,"palace.museum":!0,"paleo.museum":!0,"palmsprings.museum":!0,"panama.museum":!0,"paris.museum":!0,"pasadena.museum":!0,"pharmacy.museum":!0,"philadelphia.museum":!0,"philadelphiaarea.museum":!0,"philately.museum":!0,"phoenix.museum":!0,"photography.museum":!0,"pilots.museum":!0,"pittsburgh.museum":!0,"planetarium.museum":!0,"plantation.museum":!0,"plants.museum":!0,"plaza.museum":!0,"portal.museum":!0,"portland.museum":!0,"portlligat.museum":!0,"posts-and-telecommunications.museum":!0,"preservation.museum":!0,"presidio.museum":!0,"press.museum":!0,"project.museum":!0,"public.museum":!0,"pubol.museum":!0,"quebec.museum":!0,"railroad.museum":!0,"railway.museum":!0,"research.museum":!0,"resistance.museum":!0,"riodejaneiro.museum":!0,"rochester.museum":!0,"rockart.museum":!0,"roma.museum":!0,"russia.museum":!0,"saintlouis.museum":!0,"salem.museum":!0,"salvadordali.museum":!0,"salzburg.museum":!0,"sandiego.museum":!0,"sanfrancisco.museum":!0,"santabarbara.museum":!0,"santacruz.museum":!0,"santafe.museum":!0,"saskatchewan.museum":!0,"satx.museum":!0,"savannahga.museum":!0,"schlesisches.museum":!0,"schoenbrunn.museum":!0,"schokoladen.museum":!0,"school.museum":!0,"schweiz.museum":!0,"science.museum":!0,"scienceandhistory.museum":!0,"scienceandindustry.museum":!0,"sciencecenter.museum":!0,"sciencecenters.museum":!0,"science-fiction.museum":!0,"sciencehistory.museum":!0,"sciences.museum":!0,"sciencesnaturelles.museum":!0,"scotland.museum":!0,"seaport.museum":!0,"settlement.museum":!0,"settlers.museum":!0,"shell.museum":!0,"sherbrooke.museum":!0,"sibenik.museum":!0,"silk.museum":!0,"ski.museum":!0,"skole.museum":!0,"society.museum":!0,"sologne.museum":!0,"soundandvision.museum":!0,"southcarolina.museum":!0,"southwest.museum":!0,"space.museum":!0,"spy.museum":!0,"square.museum":!0,"stadt.museum":!0,"stalbans.museum":!0,"starnberg.museum":!0,"state.museum":!0,"stateofdelaware.museum":!0,"station.museum":!0,"steam.museum":!0,"steiermark.museum":!0,"stjohn.museum":!0,"stockholm.museum":!0,"stpetersburg.museum":!0,"stuttgart.museum":!0,"suisse.museum":!0,"surgeonshall.museum":!0,"surrey.museum":!0,"svizzera.museum":!0,"sweden.museum":!0,"sydney.museum":!0,"tank.museum":!0,"tcm.museum":!0,"technology.museum":!0,"telekommunikation.museum":!0,"television.museum":!0,"texas.museum":!0,"textile.museum":!0,"theater.museum":!0,"time.museum":!0,"timekeeping.museum":!0,"topology.museum":!0,"torino.museum":!0,"touch.museum":!0,"town.museum":!0,"transport.museum":!0,"tree.museum":!0,"trolley.museum":!0,"trust.museum":!0,"trustee.museum":!0,"uhren.museum":!0,"ulm.museum":!0,"undersea.museum":!0,"university.museum":!0,"usa.museum":!0,"usantiques.museum":!0,"usarts.museum":!0,"uscountryestate.museum":!0,"usculture.museum":!0,"usdecorativearts.museum":!0,"usgarden.museum":!0,"ushistory.museum":!0,"ushuaia.museum":!0,"uslivinghistory.museum":!0,"utah.museum":!0,"uvic.museum":!0,"valley.museum":!0,"vantaa.museum":!0,"versailles.museum":!0,"viking.museum":!0,"village.museum":!0,"virginia.museum":!0,"virtual.museum":!0,"virtuel.museum":!0,"vlaanderen.museum":!0,"volkenkunde.museum":!0,"wales.museum":!0,"wallonie.museum":!0,"war.museum":!0,"washingtondc.museum":!0,"watchandclock.museum":!0,"watch-and-clock.museum":!0,"western.museum":!0,"westfalen.museum":!0,"whaling.museum":!0,"wildlife.museum":!0,"williamsburg.museum":!0,"windmill.museum":!0,"workshop.museum":!0,"york.museum":!0,"yorkshire.museum":!0,"yosemite.museum":!0,"youth.museum":!0,"zoological.museum":!0,"zoology.museum":!0,"xn--9dbhblg6di.museum":!0,"xn--h1aegh.museum":!0,mv:!0,"aero.mv":!0,"biz.mv":!0,"com.mv":!0,"coop.mv":!0,"edu.mv":!0,"gov.mv":!0,"info.mv":!0,"int.mv":!0,"mil.mv":!0,"museum.mv":!0,"name.mv":!0,"net.mv":!0,"org.mv":!0,"pro.mv":!0,mw:!0,"ac.mw":!0,"biz.mw":!0,"co.mw":!0,"com.mw":!0,"coop.mw":!0,"edu.mw":!0,"gov.mw":!0,"int.mw":!0,"museum.mw":!0,"net.mw":!0,"org.mw":!0,mx:!0,"com.mx":!0,"org.mx":!0,"gob.mx":!0,"edu.mx":!0,"net.mx":!0,my:!0,"com.my":!0,"net.my":!0,"org.my":!0,"gov.my":!0,"edu.my":!0,"mil.my":!0,"name.my":!0,"*.mz":!0,"teledata.mz":!1,na:!0,"info.na":!0,"pro.na":!0,"name.na":!0,"school.na":!0,"or.na":!0,"dr.na":!0,"us.na":!0,"mx.na":!0,"ca.na":!0,"in.na":!0,"cc.na":!0,"tv.na":!0,"ws.na":!0,"mobi.na":!0,"co.na":!0,"com.na":!0,"org.na":!0,name:!0,nc:!0,"asso.nc":!0,ne:!0,net:!0,nf:!0,"com.nf":!0,"net.nf":!0,"per.nf":!0,"rec.nf":!0,"web.nf":!0,"arts.nf":!0,"firm.nf":!0,"info.nf":!0,"other.nf":!0,"store.nf":!0,ng:!0,"com.ng":!0,"edu.ng":!0,"name.ng":!0,"net.ng":!0,"org.ng":!0,"sch.ng":!0,"gov.ng":!0,"mil.ng":!0,"mobi.ng":!0,"*.ni":!0,nl:!0,"bv.nl":!0,no:!0,"fhs.no":!0,"vgs.no":!0,"fylkesbibl.no":!0,"folkebibl.no":!0,"museum.no":!0,"idrett.no":!0,"priv.no":!0,"mil.no":!0,"stat.no":!0,"dep.no":!0,"kommune.no":!0,"herad.no":!0,"aa.no":!0,"ah.no":!0,"bu.no":!0,"fm.no":!0,"hl.no":!0,"hm.no":!0,"jan-mayen.no":!0,"mr.no":!0,"nl.no":!0,"nt.no":!0,"of.no":!0,"ol.no":!0,"oslo.no":!0,"rl.no":!0,"sf.no":!0,"st.no":!0,"svalbard.no":!0,"tm.no":!0,"tr.no":!0,"va.no":!0,"vf.no":!0,"gs.aa.no":!0,"gs.ah.no":!0,"gs.bu.no":!0,"gs.fm.no":!0,"gs.hl.no":!0,"gs.hm.no":!0,"gs.jan-mayen.no":!0,"gs.mr.no":!0,"gs.nl.no":!0,"gs.nt.no":!0,"gs.of.no":!0,"gs.ol.no":!0,"gs.oslo.no":!0,"gs.rl.no":!0,"gs.sf.no":!0,"gs.st.no":!0,"gs.svalbard.no":!0,"gs.tm.no":!0,"gs.tr.no":!0,"gs.va.no":!0,"gs.vf.no":!0,"akrehamn.no":!0,"xn--krehamn-dxa.no":!0,"algard.no":!0,"xn--lgrd-poac.no":!0,"arna.no":!0,"brumunddal.no":!0,"bryne.no":!0,"bronnoysund.no":!0,"xn--brnnysund-m8ac.no":!0,"drobak.no":!0,"xn--drbak-wua.no":!0,"egersund.no":!0,"fetsund.no":!0,"floro.no":!0,"xn--flor-jra.no":!0,"fredrikstad.no":!0,"hokksund.no":!0,"honefoss.no":!0,"xn--hnefoss-q1a.no":!0,"jessheim.no":!0,"jorpeland.no":!0,"xn--jrpeland-54a.no":!0,"kirkenes.no":!0,"kopervik.no":!0,"krokstadelva.no":!0,"langevag.no":!0,"xn--langevg-jxa.no":!0,"leirvik.no":!0,"mjondalen.no":!0,"xn--mjndalen-64a.no":!0,"mo-i-rana.no":!0,"mosjoen.no":!0,"xn--mosjen-eya.no":!0,"nesoddtangen.no":!0,"orkanger.no":!0,"osoyro.no":!0,"xn--osyro-wua.no":!0,"raholt.no":!0,"xn--rholt-mra.no":!0,"sandnessjoen.no":!0,"xn--sandnessjen-ogb.no":!0,"skedsmokorset.no":!0,"slattum.no":!0,"spjelkavik.no":!0,"stathelle.no":!0,"stavern.no":!0,"stjordalshalsen.no":!0,"xn--stjrdalshalsen-sqb.no":!0,"tananger.no":!0,"tranby.no":!0,"vossevangen.no":!0,"afjord.no":!0,"xn--fjord-lra.no":!0,"agdenes.no":!0,"al.no":!0,"xn--l-1fa.no":!0,"alesund.no":!0,"xn--lesund-hua.no":!0,"alstahaug.no":!0,"alta.no":!0,"xn--lt-liac.no":!0,"alaheadju.no":!0,"xn--laheadju-7ya.no":!0,"alvdal.no":!0,"amli.no":!0,"xn--mli-tla.no":!0,"amot.no":!0,"xn--mot-tla.no":!0,"andebu.no":!0,"andoy.no":!0,"xn--andy-ira.no":!0,"andasuolo.no":!0,"ardal.no":!0,"xn--rdal-poa.no":!0,"aremark.no":!0,"arendal.no":!0,"xn--s-1fa.no":!0,"aseral.no":!0,"xn--seral-lra.no":!0,"asker.no":!0,"askim.no":!0,"askvoll.no":!0,"askoy.no":!0,"xn--asky-ira.no":!0,"asnes.no":!0,"xn--snes-poa.no":!0,"audnedaln.no":!0,"aukra.no":!0,"aure.no":!0,"aurland.no":!0,"aurskog-holand.no":!0,"xn--aurskog-hland-jnb.no":!0,"austevoll.no":!0,"austrheim.no":!0,"averoy.no":!0,"xn--avery-yua.no":!0,"balestrand.no":!0,"ballangen.no":!0,"balat.no":!0,"xn--blt-elab.no":!0,"balsfjord.no":!0,"bahccavuotna.no":!0,"xn--bhccavuotna-k7a.no":!0,"bamble.no":!0,"bardu.no":!0,"beardu.no":!0,"beiarn.no":!0,"bajddar.no":!0,"xn--bjddar-pta.no":!0,"baidar.no":!0,"xn--bidr-5nac.no":!0,"berg.no":!0,"bergen.no":!0,"berlevag.no":!0,"xn--berlevg-jxa.no":!0,"bearalvahki.no":!0,"xn--bearalvhki-y4a.no":!0,"bindal.no":!0,"birkenes.no":!0,"bjarkoy.no":!0,"xn--bjarky-fya.no":!0,"bjerkreim.no":!0,"bjugn.no":!0,"bodo.no":!0,"xn--bod-2na.no":!0,"badaddja.no":!0,"xn--bdddj-mrabd.no":!0,"budejju.no":!0,"bokn.no":!0,"bremanger.no":!0,"bronnoy.no":!0,"xn--brnny-wuac.no":!0,"bygland.no":!0,"bykle.no":!0,"barum.no":!0,"xn--brum-voa.no":!0,"bo.telemark.no":!0,"xn--b-5ga.telemark.no":!0,"bo.nordland.no":!0,"xn--b-5ga.nordland.no":!0,"bievat.no":!0,"xn--bievt-0qa.no":!0,"bomlo.no":!0,"xn--bmlo-gra.no":!0,"batsfjord.no":!0,"xn--btsfjord-9za.no":!0,"bahcavuotna.no":!0,"xn--bhcavuotna-s4a.no":!0,"dovre.no":!0,"drammen.no":!0,"drangedal.no":!0,"dyroy.no":!0,"xn--dyry-ira.no":!0,"donna.no":!0,"xn--dnna-gra.no":!0,"eid.no":!0,"eidfjord.no":!0,"eidsberg.no":!0,"eidskog.no":!0,"eidsvoll.no":!0,"eigersund.no":!0,"elverum.no":!0,"enebakk.no":!0,"engerdal.no":!0,"etne.no":!0,"etnedal.no":!0,"evenes.no":!0,"evenassi.no":!0,"xn--eveni-0qa01ga.no":!0,"evje-og-hornnes.no":!0,"farsund.no":!0,"fauske.no":!0,"fuossko.no":!0,"fuoisku.no":!0,"fedje.no":!0,"fet.no":!0,"finnoy.no":!0,"xn--finny-yua.no":!0,"fitjar.no":!0,"fjaler.no":!0,"fjell.no":!0,"flakstad.no":!0,"flatanger.no":!0,"flekkefjord.no":!0,"flesberg.no":!0,"flora.no":!0,"fla.no":!0,"xn--fl-zia.no":!0,"folldal.no":!0,"forsand.no":!0,"fosnes.no":!0,"frei.no":!0,"frogn.no":!0,"froland.no":!0,"frosta.no":!0,"frana.no":!0,"xn--frna-woa.no":!0,"froya.no":!0,"xn--frya-hra.no":!0,"fusa.no":!0,"fyresdal.no":!0,"forde.no":!0,"xn--frde-gra.no":!0,"gamvik.no":!0,"gangaviika.no":!0,"xn--ggaviika-8ya47h.no":!0,"gaular.no":!0,"gausdal.no":!0,"gildeskal.no":!0,"xn--gildeskl-g0a.no":!0,"giske.no":!0,"gjemnes.no":!0,"gjerdrum.no":!0,"gjerstad.no":!0,"gjesdal.no":!0,"gjovik.no":!0,"xn--gjvik-wua.no":!0,"gloppen.no":!0,"gol.no":!0,"gran.no":!0,"grane.no":!0,"granvin.no":!0,"gratangen.no":!0,"grimstad.no":!0,"grong.no":!0,"kraanghke.no":!0,"xn--kranghke-b0a.no":!0,"grue.no":!0,"gulen.no":!0,"hadsel.no":!0,"halden.no":!0,"halsa.no":!0,"hamar.no":!0,"hamaroy.no":!0,"habmer.no":!0,"xn--hbmer-xqa.no":!0,"hapmir.no":!0,"xn--hpmir-xqa.no":!0,"hammerfest.no":!0,"hammarfeasta.no":!0,"xn--hmmrfeasta-s4ac.no":!0,"haram.no":!0,"hareid.no":!0,"harstad.no":!0,"hasvik.no":!0,"aknoluokta.no":!0,"xn--koluokta-7ya57h.no":!0,"hattfjelldal.no":!0,"aarborte.no":!0,"haugesund.no":!0,"hemne.no":!0,"hemnes.no":!0,"hemsedal.no":!0,"heroy.more-og-romsdal.no":!0,"xn--hery-ira.xn--mre-og-romsdal-qqb.no":!0,"heroy.nordland.no":!0,"xn--hery-ira.nordland.no":!0,"hitra.no":!0,"hjartdal.no":!0,"hjelmeland.no":!0,"hobol.no":!0,"xn--hobl-ira.no":!0,"hof.no":!0,"hol.no":!0,"hole.no":!0,"holmestrand.no":!0,"holtalen.no":!0,"xn--holtlen-hxa.no":!0,"hornindal.no":!0,"horten.no":!0,"hurdal.no":!0,"hurum.no":!0,"hvaler.no":!0,"hyllestad.no":!0,"hagebostad.no":!0,"xn--hgebostad-g3a.no":!0,"hoyanger.no":!0,"xn--hyanger-q1a.no":!0,"hoylandet.no":!0,"xn--hylandet-54a.no":!0,"ha.no":!0,"xn--h-2fa.no":!0,"ibestad.no":!0,"inderoy.no":!0,"xn--indery-fya.no":!0,"iveland.no":!0,"jevnaker.no":!0,"jondal.no":!0,"jolster.no":!0,"xn--jlster-bya.no":!0,"karasjok.no":!0,"karasjohka.no":!0,"xn--krjohka-hwab49j.no":!0,"karlsoy.no":!0,"galsa.no":!0,"xn--gls-elac.no":!0,"karmoy.no":!0,"xn--karmy-yua.no":!0,"kautokeino.no":!0,"guovdageaidnu.no":!0,"klepp.no":!0,"klabu.no":!0,"xn--klbu-woa.no":!0,"kongsberg.no":!0,"kongsvinger.no":!0,"kragero.no":!0,"xn--krager-gya.no":!0,"kristiansand.no":!0,"kristiansund.no":!0,"krodsherad.no":!0,"xn--krdsherad-m8a.no":!0,"kvalsund.no":!0,"rahkkeravju.no":!0,"xn--rhkkervju-01af.no":!0,"kvam.no":!0,"kvinesdal.no":!0,"kvinnherad.no":!0,"kviteseid.no":!0,"kvitsoy.no":!0,"xn--kvitsy-fya.no":!0,"kvafjord.no":!0,"xn--kvfjord-nxa.no":!0,"giehtavuoatna.no":!0,"kvanangen.no":!0,"xn--kvnangen-k0a.no":!0,"navuotna.no":!0,"xn--nvuotna-hwa.no":!0,"kafjord.no":!0,"xn--kfjord-iua.no":!0,"gaivuotna.no":!0,"xn--givuotna-8ya.no":!0,"larvik.no":!0,"lavangen.no":!0,"lavagis.no":!0,"loabat.no":!0,"xn--loabt-0qa.no":!0,"lebesby.no":!0,"davvesiida.no":!0,"leikanger.no":!0,"leirfjord.no":!0,"leka.no":!0,"leksvik.no":!0,"lenvik.no":!0,"leangaviika.no":!0,"xn--leagaviika-52b.no":!0,"lesja.no":!0,"levanger.no":!0,"lier.no":!0,"lierne.no":!0,"lillehammer.no":!0,"lillesand.no":!0,"lindesnes.no":!0,"lindas.no":!0,"xn--linds-pra.no":!0,"lom.no":!0,"loppa.no":!0,"lahppi.no":!0,"xn--lhppi-xqa.no":!0,"lund.no":!0,"lunner.no":!0,"luroy.no":!0,"xn--lury-ira.no":!0,"luster.no":!0,"lyngdal.no":!0,"lyngen.no":!0,"ivgu.no":!0,"lardal.no":!0,"lerdal.no":!0,"xn--lrdal-sra.no":!0,"lodingen.no":!0,"xn--ldingen-q1a.no":!0,"lorenskog.no":!0,"xn--lrenskog-54a.no":!0,"loten.no":!0,"xn--lten-gra.no":!0,"malvik.no":!0,"masoy.no":!0,"xn--msy-ula0h.no":!0,"muosat.no":!0,"xn--muost-0qa.no":!0,"mandal.no":!0,"marker.no":!0,"marnardal.no":!0,"masfjorden.no":!0,"meland.no":!0,"meldal.no":!0,"melhus.no":!0,"meloy.no":!0,"xn--mely-ira.no":!0,"meraker.no":!0,"xn--merker-kua.no":!0,"moareke.no":!0,"xn--moreke-jua.no":!0,"midsund.no":!0,"midtre-gauldal.no":!0,"modalen.no":!0,"modum.no":!0,"molde.no":!0,"moskenes.no":!0,"moss.no":!0,"mosvik.no":!0,"malselv.no":!0,"xn--mlselv-iua.no":!0,"malatvuopmi.no":!0,"xn--mlatvuopmi-s4a.no":!0,"namdalseid.no":!0,"aejrie.no":!0,"namsos.no":!0,"namsskogan.no":!0,"naamesjevuemie.no":!0,"xn--nmesjevuemie-tcba.no":!0,"laakesvuemie.no":!0,"nannestad.no":!0,"narvik.no":!0,"narviika.no":!0,"naustdal.no":!0,"nedre-eiker.no":!0,"nes.akershus.no":!0,"nes.buskerud.no":!0,"nesna.no":!0,"nesodden.no":!0,"nesseby.no":!0,"unjarga.no":!0,"xn--unjrga-rta.no":!0,"nesset.no":!0,"nissedal.no":!0,"nittedal.no":!0,"nord-aurdal.no":!0,"nord-fron.no":!0,"nord-odal.no":!0,"norddal.no":!0,"nordkapp.no":!0,"davvenjarga.no":!0,"xn--davvenjrga-y4a.no":!0,"nordre-land.no":!0,"nordreisa.no":!0,"raisa.no":!0,"xn--risa-5na.no":!0,"nore-og-uvdal.no":!0,"notodden.no":!0,"naroy.no":!0,"xn--nry-yla5g.no":!0,"notteroy.no":!0,"xn--nttery-byae.no":!0,"odda.no":!0,"oksnes.no":!0,"xn--ksnes-uua.no":!0,"oppdal.no":!0,"oppegard.no":!0,"xn--oppegrd-ixa.no":!0,"orkdal.no":!0,"orland.no":!0,"xn--rland-uua.no":!0,"orskog.no":!0,"xn--rskog-uua.no":!0,"orsta.no":!0,"xn--rsta-fra.no":!0,"os.hedmark.no":!0,"os.hordaland.no":!0,"osen.no":!0,"osteroy.no":!0,"xn--ostery-fya.no":!0,"ostre-toten.no":!0,"xn--stre-toten-zcb.no":!0,"overhalla.no":!0,"ovre-eiker.no":!0,"xn--vre-eiker-k8a.no":!0,"oyer.no":!0,"xn--yer-zna.no":!0,"oygarden.no":!0,"xn--ygarden-p1a.no":!0,"oystre-slidre.no":!0,"xn--ystre-slidre-ujb.no":!0,"porsanger.no":!0,"porsangu.no":!0,"xn--porsgu-sta26f.no":!0,"porsgrunn.no":!0,"radoy.no":!0,"xn--rady-ira.no":!0,"rakkestad.no":!0,"rana.no":!0,"ruovat.no":!0,"randaberg.no":!0,"rauma.no":!0,"rendalen.no":!0,"rennebu.no":!0,"rennesoy.no":!0,"xn--rennesy-v1a.no":!0,"rindal.no":!0,"ringebu.no":!0,"ringerike.no":!0,"ringsaker.no":!0,"rissa.no":!0,"risor.no":!0,"xn--risr-ira.no":!0,"roan.no":!0,"rollag.no":!0,"rygge.no":!0,"ralingen.no":!0,"xn--rlingen-mxa.no":!0,"rodoy.no":!0,"xn--rdy-0nab.no":!0,"romskog.no":!0,"xn--rmskog-bya.no":!0,"roros.no":!0,"xn--rros-gra.no":!0,"rost.no":!0,"xn--rst-0na.no":!0,"royken.no":!0,"xn--ryken-vua.no":!0,"royrvik.no":!0,"xn--ryrvik-bya.no":!0,"rade.no":!0,"xn--rde-ula.no":!0,"salangen.no":!0,"siellak.no":!0,"saltdal.no":!0,"salat.no":!0,"xn--slt-elab.no":!0,"xn--slat-5na.no":!0,"samnanger.no":!0,"sande.more-og-romsdal.no":!0,"sande.xn--mre-og-romsdal-qqb.no":!0,"sande.vestfold.no":!0,"sandefjord.no":!0,"sandnes.no":!0,"sandoy.no":!0,"xn--sandy-yua.no":!0,"sarpsborg.no":!0,"sauda.no":!0,"sauherad.no":!0,"sel.no":!0,"selbu.no":!0,"selje.no":!0,"seljord.no":!0,"sigdal.no":!0,"siljan.no":!0,"sirdal.no":!0,"skaun.no":!0,"skedsmo.no":!0,"ski.no":!0,"skien.no":!0,"skiptvet.no":!0,"skjervoy.no":!0,"xn--skjervy-v1a.no":!0,"skierva.no":!0,"xn--skierv-uta.no":!0,"skjak.no":!0,"xn--skjk-soa.no":!0,"skodje.no":!0,"skanland.no":!0,"xn--sknland-fxa.no":!0,"skanit.no":!0,"xn--sknit-yqa.no":!0,"smola.no":!0,"xn--smla-hra.no":!0,"snillfjord.no":!0,"snasa.no":!0,"xn--snsa-roa.no":!0,"snoasa.no":!0,"snaase.no":!0,"xn--snase-nra.no":!0,"sogndal.no":!0,"sokndal.no":!0,"sola.no":!0,"solund.no":!0,"songdalen.no":!0,"sortland.no":!0,"spydeberg.no":!0,"stange.no":!0,"stavanger.no":!0,"steigen.no":!0,"steinkjer.no":!0,"stjordal.no":!0,"xn--stjrdal-s1a.no":!0,"stokke.no":!0,"stor-elvdal.no":!0,"stord.no":!0,"stordal.no":!0,"storfjord.no":!0,"omasvuotna.no":!0,"strand.no":!0,"stranda.no":!0,"stryn.no":!0,"sula.no":!0,"suldal.no":!0,"sund.no":!0,"sunndal.no":!0,"surnadal.no":!0,"sveio.no":!0,"svelvik.no":!0,"sykkylven.no":!0,"sogne.no":!0,"xn--sgne-gra.no":!0,"somna.no":!0,"xn--smna-gra.no":!0,"sondre-land.no":!0,"xn--sndre-land-0cb.no":!0,"sor-aurdal.no":!0,"xn--sr-aurdal-l8a.no":!0,"sor-fron.no":!0,"xn--sr-fron-q1a.no":!0,"sor-odal.no":!0,"xn--sr-odal-q1a.no":!0,"sor-varanger.no":!0,"xn--sr-varanger-ggb.no":!0,"matta-varjjat.no":!0,"xn--mtta-vrjjat-k7af.no":!0,"sorfold.no":!0,"xn--srfold-bya.no":!0,"sorreisa.no":!0,"xn--srreisa-q1a.no":!0,"sorum.no":!0,"xn--srum-gra.no":!0,"tana.no":!0,"deatnu.no":!0,"time.no":!0,"tingvoll.no":!0,"tinn.no":!0,"tjeldsund.no":!0,"dielddanuorri.no":!0,"tjome.no":!0,"xn--tjme-hra.no":!0,"tokke.no":!0,"tolga.no":!0,"torsken.no":!0,"tranoy.no":!0,"xn--trany-yua.no":!0,"tromso.no":!0,"xn--troms-zua.no":!0,"tromsa.no":!0,"romsa.no":!0,"trondheim.no":!0,"troandin.no":!0,"trysil.no":!0,"trana.no":!0,"xn--trna-woa.no":!0,"trogstad.no":!0,"xn--trgstad-r1a.no":!0,"tvedestrand.no":!0,"tydal.no":!0,"tynset.no":!0,"tysfjord.no":!0,"divtasvuodna.no":!0,"divttasvuotna.no":!0,"tysnes.no":!0,"tysvar.no":!0,"xn--tysvr-vra.no":!0,"tonsberg.no":!0,"xn--tnsberg-q1a.no":!0,"ullensaker.no":!0,"ullensvang.no":!0,"ulvik.no":!0,"utsira.no":!0,"vadso.no":!0,"xn--vads-jra.no":!0,"cahcesuolo.no":!0,"xn--hcesuolo-7ya35b.no":!0,"vaksdal.no":!0,"valle.no":!0,"vang.no":!0,"vanylven.no":!0,"vardo.no":!0,"xn--vard-jra.no":!0,"varggat.no":!0,"xn--vrggt-xqad.no":!0,"vefsn.no":!0,"vaapste.no":!0,"vega.no":!0,"vegarshei.no":!0,"xn--vegrshei-c0a.no":!0,"vennesla.no":!0,"verdal.no":!0,"verran.no":!0,"vestby.no":!0,"vestnes.no":!0,"vestre-slidre.no":!0,"vestre-toten.no":!0,"vestvagoy.no":!0,"xn--vestvgy-ixa6o.no":!0,"vevelstad.no":!0,"vik.no":!0,"vikna.no":!0,"vindafjord.no":!0,"volda.no":!0,"voss.no":!0,"varoy.no":!0,"xn--vry-yla5g.no":!0,"vagan.no":!0,"xn--vgan-qoa.no":!0,"voagat.no":!0,"vagsoy.no":!0,"xn--vgsy-qoa0j.no":!0,"vaga.no":!0,"xn--vg-yiab.no":!0,"valer.ostfold.no":!0,"xn--vler-qoa.xn--stfold-9xa.no":!0,"valer.hedmark.no":!0,"xn--vler-qoa.hedmark.no":!0,"*.np":!0,nr:!0,"biz.nr":!0,"info.nr":!0,"gov.nr":!0,"edu.nr":!0,"org.nr":!0,"net.nr":!0,"com.nr":!0,nu:!0,nz:!0,"ac.nz":!0,"co.nz":!0,"cri.nz":!0,"geek.nz":!0,"gen.nz":!0,"govt.nz":!0,"health.nz":!0,"iwi.nz":!0,"kiwi.nz":!0,"maori.nz":!0,"mil.nz":!0,"xn--mori-qsa.nz":!0,"net.nz":!0,"org.nz":!0,"parliament.nz":!0,"school.nz":!0,om:!0,"co.om":!0,"com.om":!0,"edu.om":!0,"gov.om":!0,"med.om":!0,"museum.om":!0,"net.om":!0,"org.om":!0,"pro.om":!0,org:!0,pa:!0,"ac.pa":!0,"gob.pa":!0,"com.pa":!0,"org.pa":!0,"sld.pa":!0,"edu.pa":!0,"net.pa":!0,"ing.pa":!0,"abo.pa":!0,"med.pa":!0,"nom.pa":!0,pe:!0,"edu.pe":!0,"gob.pe":!0,"nom.pe":!0,"mil.pe":!0,"org.pe":!0,"com.pe":!0,"net.pe":!0,pf:!0,"com.pf":!0,"org.pf":!0,"edu.pf":!0,"*.pg":!0,ph:!0,"com.ph":!0,"net.ph":!0,"org.ph":!0,"gov.ph":!0,"edu.ph":!0,"ngo.ph":!0,"mil.ph":!0,"i.ph":!0,pk:!0,"com.pk":!0,"net.pk":!0,"edu.pk":!0,"org.pk":!0,"fam.pk":!0,"biz.pk":!0,"web.pk":!0,"gov.pk":!0,"gob.pk":!0,"gok.pk":!0,"gon.pk":!0,"gop.pk":!0,"gos.pk":!0,"info.pk":!0,pl:!0,"com.pl":!0,"net.pl":!0,"org.pl":!0,"aid.pl":!0,"agro.pl":!0,"atm.pl":!0,"auto.pl":!0,"biz.pl":!0,"edu.pl":!0,"gmina.pl":!0,"gsm.pl":!0,"info.pl":!0,"mail.pl":!0,"miasta.pl":!0,"media.pl":!0,"mil.pl":!0,"nieruchomosci.pl":!0,"nom.pl":!0,"pc.pl":!0,"powiat.pl":!0,"priv.pl":!0,"realestate.pl":!0,"rel.pl":!0,"sex.pl":!0,"shop.pl":!0,"sklep.pl":!0,"sos.pl":!0,"szkola.pl":!0,"targi.pl":!0,"tm.pl":!0,"tourism.pl":!0,"travel.pl":!0,"turystyka.pl":!0,"gov.pl":!0,"ap.gov.pl":!0,"ic.gov.pl":!0,"is.gov.pl":!0,"us.gov.pl":!0,"kmpsp.gov.pl":!0,"kppsp.gov.pl":!0,"kwpsp.gov.pl":!0,"psp.gov.pl":!0,"wskr.gov.pl":!0,"kwp.gov.pl":!0,"mw.gov.pl":!0,"ug.gov.pl":!0,"um.gov.pl":!0,"umig.gov.pl":!0,"ugim.gov.pl":!0,"upow.gov.pl":!0,"uw.gov.pl":!0,"starostwo.gov.pl":!0,"pa.gov.pl":!0,"po.gov.pl":!0,"psse.gov.pl":!0,"pup.gov.pl":!0,"rzgw.gov.pl":!0,"sa.gov.pl":!0,"so.gov.pl":!0,"sr.gov.pl":!0,"wsa.gov.pl":!0,"sko.gov.pl":!0,"uzs.gov.pl":!0,"wiih.gov.pl":!0,"winb.gov.pl":!0,"pinb.gov.pl":!0,"wios.gov.pl":!0,"witd.gov.pl":!0,"wzmiuw.gov.pl":!0,"piw.gov.pl":!0,"wiw.gov.pl":!0,"griw.gov.pl":!0,"wif.gov.pl":!0,"oum.gov.pl":!0,"sdn.gov.pl":!0,"zp.gov.pl":!0,"uppo.gov.pl":!0,"mup.gov.pl":!0,"wuoz.gov.pl":!0,"konsulat.gov.pl":!0,"oirm.gov.pl":!0,"augustow.pl":!0,"babia-gora.pl":!0,"bedzin.pl":!0,"beskidy.pl":!0,"bialowieza.pl":!0,"bialystok.pl":!0,"bielawa.pl":!0,"bieszczady.pl":!0,"boleslawiec.pl":!0,"bydgoszcz.pl":!0,"bytom.pl":!0,"cieszyn.pl":!0,"czeladz.pl":!0,"czest.pl":!0,"dlugoleka.pl":!0,"elblag.pl":!0,"elk.pl":!0,"glogow.pl":!0,"gniezno.pl":!0,"gorlice.pl":!0,"grajewo.pl":!0,"ilawa.pl":!0,"jaworzno.pl":!0,"jelenia-gora.pl":!0,"jgora.pl":!0,"kalisz.pl":!0,"kazimierz-dolny.pl":!0,"karpacz.pl":!0,"kartuzy.pl":!0,"kaszuby.pl":!0,"katowice.pl":!0,"kepno.pl":!0,"ketrzyn.pl":!0,"klodzko.pl":!0,"kobierzyce.pl":!0,"kolobrzeg.pl":!0,"konin.pl":!0,"konskowola.pl":!0,"kutno.pl":!0,"lapy.pl":!0,"lebork.pl":!0,"legnica.pl":!0,"lezajsk.pl":!0,"limanowa.pl":!0,"lomza.pl":!0,"lowicz.pl":!0,"lubin.pl":!0,"lukow.pl":!0,"malbork.pl":!0,"malopolska.pl":!0,"mazowsze.pl":!0,"mazury.pl":!0,"mielec.pl":!0,"mielno.pl":!0,"mragowo.pl":!0,"naklo.pl":!0,"nowaruda.pl":!0,"nysa.pl":!0,"olawa.pl":!0,"olecko.pl":!0,"olkusz.pl":!0,"olsztyn.pl":!0,"opoczno.pl":!0,"opole.pl":!0,"ostroda.pl":!0,"ostroleka.pl":!0,"ostrowiec.pl":!0,"ostrowwlkp.pl":!0,"pila.pl":!0,"pisz.pl":!0,"podhale.pl":!0,"podlasie.pl":!0,"polkowice.pl":!0,"pomorze.pl":!0,"pomorskie.pl":!0,"prochowice.pl":!0,"pruszkow.pl":!0,"przeworsk.pl":!0,"pulawy.pl":!0,"radom.pl":!0,"rawa-maz.pl":!0,"rybnik.pl":!0,"rzeszow.pl":!0,"sanok.pl":!0,"sejny.pl":!0,"slask.pl":!0,"slupsk.pl":!0,"sosnowiec.pl":!0,"stalowa-wola.pl":!0,"skoczow.pl":!0,"starachowice.pl":!0,"stargard.pl":!0,"suwalki.pl":!0,"swidnica.pl":!0,"swiebodzin.pl":!0,"swinoujscie.pl":!0,"szczecin.pl":!0,"szczytno.pl":!0,"tarnobrzeg.pl":!0,"tgory.pl":!0,"turek.pl":!0,"tychy.pl":!0,"ustka.pl":!0,"walbrzych.pl":!0,"warmia.pl":!0,"warszawa.pl":!0,"waw.pl":!0,"wegrow.pl":!0,"wielun.pl":!0,"wlocl.pl":!0,"wloclawek.pl":!0,"wodzislaw.pl":!0,"wolomin.pl":!0,"wroclaw.pl":!0,"zachpomor.pl":!0,"zagan.pl":!0,"zarow.pl":!0,"zgora.pl":!0,"zgorzelec.pl":!0,pm:!0,pn:!0,"gov.pn":!0,"co.pn":!0,"org.pn":!0,"edu.pn":!0,"net.pn":!0,post:!0,pr:!0,"com.pr":!0,"net.pr":!0,"org.pr":!0,"gov.pr":!0,"edu.pr":!0,"isla.pr":!0,"pro.pr":!0,"biz.pr":!0,"info.pr":!0,"name.pr":!0,"est.pr":!0,"prof.pr":!0,"ac.pr":!0,pro:!0,"aca.pro":!0,"bar.pro":!0,"cpa.pro":!0,"jur.pro":!0,"law.pro":!0,"med.pro":!0,"eng.pro":!0,ps:!0,"edu.ps":!0,"gov.ps":!0,"sec.ps":!0,"plo.ps":!0,"com.ps":!0,"org.ps":!0,"net.ps":!0,pt:!0,"net.pt":!0,"gov.pt":!0,"org.pt":!0,"edu.pt":!0,"int.pt":!0,"publ.pt":!0,"com.pt":!0,"nome.pt":!0,pw:!0,"co.pw":!0,"ne.pw":!0,"or.pw":!0,"ed.pw":!0,"go.pw":!0,"belau.pw":!0,py:!0,"com.py":!0,"coop.py":!0,"edu.py":!0,"gov.py":!0,"mil.py":!0,"net.py":!0,"org.py":!0,qa:!0,"com.qa":!0,"edu.qa":!0,"gov.qa":!0,"mil.qa":!0,"name.qa":!0,"net.qa":!0,"org.qa":!0,"sch.qa":!0,re:!0,"com.re":!0,"asso.re":!0,"nom.re":!0,ro:!0,"com.ro":!0,"org.ro":!0,"tm.ro":!0,"nt.ro":!0,"nom.ro":!0,"info.ro":!0,"rec.ro":!0,"arts.ro":!0,"firm.ro":!0,"store.ro":!0,"www.ro":!0,rs:!0,"co.rs":!0,"org.rs":!0,"edu.rs":!0,"ac.rs":!0,"gov.rs":!0,"in.rs":!0,ru:!0,"ac.ru":!0,"com.ru":!0,"edu.ru":!0,"int.ru":!0,"net.ru":!0,"org.ru":!0,"pp.ru":!0,"adygeya.ru":!0,"altai.ru":!0,"amur.ru":!0,"arkhangelsk.ru":!0,"astrakhan.ru":!0,"bashkiria.ru":!0,"belgorod.ru":!0,"bir.ru":!0,"bryansk.ru":!0,"buryatia.ru":!0,"cbg.ru":!0,"chel.ru":!0,"chelyabinsk.ru":!0,"chita.ru":!0,"chukotka.ru":!0,"chuvashia.ru":!0,"dagestan.ru":!0,"dudinka.ru":!0,"e-burg.ru":!0,"grozny.ru":!0,"irkutsk.ru":!0,"ivanovo.ru":!0,"izhevsk.ru":!0,"jar.ru":!0,"joshkar-ola.ru":!0,"kalmykia.ru":!0,"kaluga.ru":!0,"kamchatka.ru":!0,"karelia.ru":!0,"kazan.ru":!0,"kchr.ru":!0,"kemerovo.ru":!0,"khabarovsk.ru":!0,"khakassia.ru":!0,"khv.ru":!0,"kirov.ru":!0,"koenig.ru":!0,"komi.ru":!0,"kostroma.ru":!0,"krasnoyarsk.ru":!0,"kuban.ru":!0,"kurgan.ru":!0,"kursk.ru":!0,"lipetsk.ru":!0,"magadan.ru":!0,"mari.ru":!0,"mari-el.ru":!0,"marine.ru":!0,"mordovia.ru":!0,"msk.ru":!0,"murmansk.ru":!0,"nalchik.ru":!0,"nnov.ru":!0,"nov.ru":!0,"novosibirsk.ru":!0,"nsk.ru":!0,"omsk.ru":!0,"orenburg.ru":!0,"oryol.ru":!0,"palana.ru":!0,"penza.ru":!0,"perm.ru":!0,"ptz.ru":!0,"rnd.ru":!0,"ryazan.ru":!0,"sakhalin.ru":!0,"samara.ru":!0,"saratov.ru":!0,"simbirsk.ru":!0,"smolensk.ru":!0,"spb.ru":!0,"stavropol.ru":!0,"stv.ru":!0,"surgut.ru":!0,"tambov.ru":!0,"tatarstan.ru":!0,"tom.ru":!0,"tomsk.ru":!0,"tsaritsyn.ru":!0,"tsk.ru":!0,"tula.ru":!0,"tuva.ru":!0,"tver.ru":!0,"tyumen.ru":!0,"udm.ru":!0,"udmurtia.ru":!0,"ulan-ude.ru":!0,"vladikavkaz.ru":!0,"vladimir.ru":!0,"vladivostok.ru":!0,"volgograd.ru":!0,"vologda.ru":!0,"voronezh.ru":!0,"vrn.ru":!0,"vyatka.ru":!0,"yakutia.ru":!0,"yamal.ru":!0,"yaroslavl.ru":!0,"yekaterinburg.ru":!0,"yuzhno-sakhalinsk.ru":!0,"amursk.ru":!0,"baikal.ru":!0,"cmw.ru":!0,"fareast.ru":!0,"jamal.ru":!0,"kms.ru":!0,"k-uralsk.ru":!0,"kustanai.ru":!0,"kuzbass.ru":!0,"magnitka.ru":!0,"mytis.ru":!0,"nakhodka.ru":!0,"nkz.ru":!0,"norilsk.ru":!0,"oskol.ru":!0,"pyatigorsk.ru":!0,"rubtsovsk.ru":!0,"snz.ru":!0,"syzran.ru":!0,"vdonsk.ru":!0,"zgrad.ru":!0,"gov.ru":!0,"mil.ru":!0,"test.ru":!0,rw:!0,"gov.rw":!0,"net.rw":!0,"edu.rw":!0,"ac.rw":!0,"com.rw":!0,"co.rw":!0,"int.rw":!0,"mil.rw":!0,"gouv.rw":!0,sa:!0,"com.sa":!0,"net.sa":!0,"org.sa":!0,"gov.sa":!0,"med.sa":!0,"pub.sa":!0,"edu.sa":!0,"sch.sa":!0,sb:!0,"com.sb":!0,"edu.sb":!0,"gov.sb":!0,"net.sb":!0,"org.sb":!0,sc:!0,"com.sc":!0,"gov.sc":!0,"net.sc":!0,"org.sc":!0,"edu.sc":!0,sd:!0,"com.sd":!0,"net.sd":!0,"org.sd":!0,"edu.sd":!0,"med.sd":!0,"tv.sd":!0,"gov.sd":!0,"info.sd":!0,se:!0,"a.se":!0,"ac.se":!0,"b.se":!0,"bd.se":!0,"brand.se":!0,"c.se":!0,"d.se":!0,"e.se":!0,"f.se":!0,"fh.se":!0,"fhsk.se":!0,"fhv.se":!0,"g.se":!0,"h.se":!0,"i.se":!0,"k.se":!0,"komforb.se":!0,"kommunalforbund.se":!0,"komvux.se":!0,"l.se":!0,"lanbib.se":!0,"m.se":!0,"n.se":!0,"naturbruksgymn.se":!0,"o.se":!0,"org.se":!0,"p.se":!0,"parti.se":!0,"pp.se":!0,"press.se":!0,"r.se":!0,"s.se":!0,"t.se":!0,"tm.se":!0,"u.se":!0,"w.se":!0,"x.se":!0,"y.se":!0,"z.se":!0,sg:!0,
"com.sg":!0,"net.sg":!0,"org.sg":!0,"gov.sg":!0,"edu.sg":!0,"per.sg":!0,sh:!0,"com.sh":!0,"net.sh":!0,"gov.sh":!0,"org.sh":!0,"mil.sh":!0,si:!0,sj:!0,sk:!0,sl:!0,"com.sl":!0,"net.sl":!0,"edu.sl":!0,"gov.sl":!0,"org.sl":!0,sm:!0,sn:!0,"art.sn":!0,"com.sn":!0,"edu.sn":!0,"gouv.sn":!0,"org.sn":!0,"perso.sn":!0,"univ.sn":!0,so:!0,"com.so":!0,"net.so":!0,"org.so":!0,sr:!0,st:!0,"co.st":!0,"com.st":!0,"consulado.st":!0,"edu.st":!0,"embaixada.st":!0,"gov.st":!0,"mil.st":!0,"net.st":!0,"org.st":!0,"principe.st":!0,"saotome.st":!0,"store.st":!0,su:!0,"adygeya.su":!0,"arkhangelsk.su":!0,"balashov.su":!0,"bashkiria.su":!0,"bryansk.su":!0,"dagestan.su":!0,"grozny.su":!0,"ivanovo.su":!0,"kalmykia.su":!0,"kaluga.su":!0,"karelia.su":!0,"khakassia.su":!0,"krasnodar.su":!0,"kurgan.su":!0,"lenug.su":!0,"mordovia.su":!0,"msk.su":!0,"murmansk.su":!0,"nalchik.su":!0,"nov.su":!0,"obninsk.su":!0,"penza.su":!0,"pokrovsk.su":!0,"sochi.su":!0,"spb.su":!0,"togliatti.su":!0,"troitsk.su":!0,"tula.su":!0,"tuva.su":!0,"vladikavkaz.su":!0,"vladimir.su":!0,"vologda.su":!0,sv:!0,"com.sv":!0,"edu.sv":!0,"gob.sv":!0,"org.sv":!0,"red.sv":!0,sx:!0,"gov.sx":!0,sy:!0,"edu.sy":!0,"gov.sy":!0,"net.sy":!0,"mil.sy":!0,"com.sy":!0,"org.sy":!0,sz:!0,"co.sz":!0,"ac.sz":!0,"org.sz":!0,tc:!0,td:!0,tel:!0,tf:!0,tg:!0,th:!0,"ac.th":!0,"co.th":!0,"go.th":!0,"in.th":!0,"mi.th":!0,"net.th":!0,"or.th":!0,tj:!0,"ac.tj":!0,"biz.tj":!0,"co.tj":!0,"com.tj":!0,"edu.tj":!0,"go.tj":!0,"gov.tj":!0,"int.tj":!0,"mil.tj":!0,"name.tj":!0,"net.tj":!0,"nic.tj":!0,"org.tj":!0,"test.tj":!0,"web.tj":!0,tk:!0,tl:!0,"gov.tl":!0,tm:!0,"com.tm":!0,"co.tm":!0,"org.tm":!0,"net.tm":!0,"nom.tm":!0,"gov.tm":!0,"mil.tm":!0,"edu.tm":!0,tn:!0,"com.tn":!0,"ens.tn":!0,"fin.tn":!0,"gov.tn":!0,"ind.tn":!0,"intl.tn":!0,"nat.tn":!0,"net.tn":!0,"org.tn":!0,"info.tn":!0,"perso.tn":!0,"tourism.tn":!0,"edunet.tn":!0,"rnrt.tn":!0,"rns.tn":!0,"rnu.tn":!0,"mincom.tn":!0,"agrinet.tn":!0,"defense.tn":!0,"turen.tn":!0,to:!0,"com.to":!0,"gov.to":!0,"net.to":!0,"org.to":!0,"edu.to":!0,"mil.to":!0,tp:!0,tr:!0,"com.tr":!0,"info.tr":!0,"biz.tr":!0,"net.tr":!0,"org.tr":!0,"web.tr":!0,"gen.tr":!0,"tv.tr":!0,"av.tr":!0,"dr.tr":!0,"bbs.tr":!0,"name.tr":!0,"tel.tr":!0,"gov.tr":!0,"bel.tr":!0,"pol.tr":!0,"mil.tr":!0,"k12.tr":!0,"edu.tr":!0,"kep.tr":!0,"nc.tr":!0,"gov.nc.tr":!0,travel:!0,tt:!0,"co.tt":!0,"com.tt":!0,"org.tt":!0,"net.tt":!0,"biz.tt":!0,"info.tt":!0,"pro.tt":!0,"int.tt":!0,"coop.tt":!0,"jobs.tt":!0,"mobi.tt":!0,"travel.tt":!0,"museum.tt":!0,"aero.tt":!0,"name.tt":!0,"gov.tt":!0,"edu.tt":!0,tv:!0,tw:!0,"edu.tw":!0,"gov.tw":!0,"mil.tw":!0,"com.tw":!0,"net.tw":!0,"org.tw":!0,"idv.tw":!0,"game.tw":!0,"ebiz.tw":!0,"club.tw":!0,"xn--zf0ao64a.tw":!0,"xn--uc0atv.tw":!0,"xn--czrw28b.tw":!0,tz:!0,"ac.tz":!0,"co.tz":!0,"go.tz":!0,"hotel.tz":!0,"info.tz":!0,"me.tz":!0,"mil.tz":!0,"mobi.tz":!0,"ne.tz":!0,"or.tz":!0,"sc.tz":!0,"tv.tz":!0,ua:!0,"com.ua":!0,"edu.ua":!0,"gov.ua":!0,"in.ua":!0,"net.ua":!0,"org.ua":!0,"cherkassy.ua":!0,"cherkasy.ua":!0,"chernigov.ua":!0,"chernihiv.ua":!0,"chernivtsi.ua":!0,"chernovtsy.ua":!0,"ck.ua":!0,"cn.ua":!0,"cr.ua":!0,"crimea.ua":!0,"cv.ua":!0,"dn.ua":!0,"dnepropetrovsk.ua":!0,"dnipropetrovsk.ua":!0,"dominic.ua":!0,"donetsk.ua":!0,"dp.ua":!0,"if.ua":!0,"ivano-frankivsk.ua":!0,"kh.ua":!0,"kharkiv.ua":!0,"kharkov.ua":!0,"kherson.ua":!0,"khmelnitskiy.ua":!0,"khmelnytskyi.ua":!0,"kiev.ua":!0,"kirovograd.ua":!0,"km.ua":!0,"kr.ua":!0,"krym.ua":!0,"ks.ua":!0,"kv.ua":!0,"kyiv.ua":!0,"lg.ua":!0,"lt.ua":!0,"lugansk.ua":!0,"lutsk.ua":!0,"lv.ua":!0,"lviv.ua":!0,"mk.ua":!0,"mykolaiv.ua":!0,"nikolaev.ua":!0,"od.ua":!0,"odesa.ua":!0,"odessa.ua":!0,"pl.ua":!0,"poltava.ua":!0,"rivne.ua":!0,"rovno.ua":!0,"rv.ua":!0,"sb.ua":!0,"sebastopol.ua":!0,"sevastopol.ua":!0,"sm.ua":!0,"sumy.ua":!0,"te.ua":!0,"ternopil.ua":!0,"uz.ua":!0,"uzhgorod.ua":!0,"vinnica.ua":!0,"vinnytsia.ua":!0,"vn.ua":!0,"volyn.ua":!0,"yalta.ua":!0,"zaporizhzhe.ua":!0,"zaporizhzhia.ua":!0,"zhitomir.ua":!0,"zhytomyr.ua":!0,"zp.ua":!0,"zt.ua":!0,ug:!0,"co.ug":!0,"or.ug":!0,"ac.ug":!0,"sc.ug":!0,"go.ug":!0,"ne.ug":!0,"com.ug":!0,"org.ug":!0,uk:!0,"ac.uk":!0,"co.uk":!0,"gov.uk":!0,"ltd.uk":!0,"me.uk":!0,"net.uk":!0,"nhs.uk":!0,"org.uk":!0,"plc.uk":!0,"police.uk":!0,"*.sch.uk":!0,us:!0,"dni.us":!0,"fed.us":!0,"isa.us":!0,"kids.us":!0,"nsn.us":!0,"ak.us":!0,"al.us":!0,"ar.us":!0,"as.us":!0,"az.us":!0,"ca.us":!0,"co.us":!0,"ct.us":!0,"dc.us":!0,"de.us":!0,"fl.us":!0,"ga.us":!0,"gu.us":!0,"hi.us":!0,"ia.us":!0,"id.us":!0,"il.us":!0,"in.us":!0,"ks.us":!0,"ky.us":!0,"la.us":!0,"ma.us":!0,"md.us":!0,"me.us":!0,"mi.us":!0,"mn.us":!0,"mo.us":!0,"ms.us":!0,"mt.us":!0,"nc.us":!0,"nd.us":!0,"ne.us":!0,"nh.us":!0,"nj.us":!0,"nm.us":!0,"nv.us":!0,"ny.us":!0,"oh.us":!0,"ok.us":!0,"or.us":!0,"pa.us":!0,"pr.us":!0,"ri.us":!0,"sc.us":!0,"sd.us":!0,"tn.us":!0,"tx.us":!0,"ut.us":!0,"vi.us":!0,"vt.us":!0,"va.us":!0,"wa.us":!0,"wi.us":!0,"wv.us":!0,"wy.us":!0,"k12.ak.us":!0,"k12.al.us":!0,"k12.ar.us":!0,"k12.as.us":!0,"k12.az.us":!0,"k12.ca.us":!0,"k12.co.us":!0,"k12.ct.us":!0,"k12.dc.us":!0,"k12.de.us":!0,"k12.fl.us":!0,"k12.ga.us":!0,"k12.gu.us":!0,"k12.ia.us":!0,"k12.id.us":!0,"k12.il.us":!0,"k12.in.us":!0,"k12.ks.us":!0,"k12.ky.us":!0,"k12.la.us":!0,"k12.ma.us":!0,"k12.md.us":!0,"k12.me.us":!0,"k12.mi.us":!0,"k12.mn.us":!0,"k12.mo.us":!0,"k12.ms.us":!0,"k12.mt.us":!0,"k12.nc.us":!0,"k12.ne.us":!0,"k12.nh.us":!0,"k12.nj.us":!0,"k12.nm.us":!0,"k12.nv.us":!0,"k12.ny.us":!0,"k12.oh.us":!0,"k12.ok.us":!0,"k12.or.us":!0,"k12.pa.us":!0,"k12.pr.us":!0,"k12.ri.us":!0,"k12.sc.us":!0,"k12.tn.us":!0,"k12.tx.us":!0,"k12.ut.us":!0,"k12.vi.us":!0,"k12.vt.us":!0,"k12.va.us":!0,"k12.wa.us":!0,"k12.wi.us":!0,"k12.wy.us":!0,"cc.ak.us":!0,"cc.al.us":!0,"cc.ar.us":!0,"cc.as.us":!0,"cc.az.us":!0,"cc.ca.us":!0,"cc.co.us":!0,"cc.ct.us":!0,"cc.dc.us":!0,"cc.de.us":!0,"cc.fl.us":!0,"cc.ga.us":!0,"cc.gu.us":!0,"cc.hi.us":!0,"cc.ia.us":!0,"cc.id.us":!0,"cc.il.us":!0,"cc.in.us":!0,"cc.ks.us":!0,"cc.ky.us":!0,"cc.la.us":!0,"cc.ma.us":!0,"cc.md.us":!0,"cc.me.us":!0,"cc.mi.us":!0,"cc.mn.us":!0,"cc.mo.us":!0,"cc.ms.us":!0,"cc.mt.us":!0,"cc.nc.us":!0,"cc.nd.us":!0,"cc.ne.us":!0,"cc.nh.us":!0,"cc.nj.us":!0,"cc.nm.us":!0,"cc.nv.us":!0,"cc.ny.us":!0,"cc.oh.us":!0,"cc.ok.us":!0,"cc.or.us":!0,"cc.pa.us":!0,"cc.pr.us":!0,"cc.ri.us":!0,"cc.sc.us":!0,"cc.sd.us":!0,"cc.tn.us":!0,"cc.tx.us":!0,"cc.ut.us":!0,"cc.vi.us":!0,"cc.vt.us":!0,"cc.va.us":!0,"cc.wa.us":!0,"cc.wi.us":!0,"cc.wv.us":!0,"cc.wy.us":!0,"lib.ak.us":!0,"lib.al.us":!0,"lib.ar.us":!0,"lib.as.us":!0,"lib.az.us":!0,"lib.ca.us":!0,"lib.co.us":!0,"lib.ct.us":!0,"lib.dc.us":!0,"lib.de.us":!0,"lib.fl.us":!0,"lib.ga.us":!0,"lib.gu.us":!0,"lib.hi.us":!0,"lib.ia.us":!0,"lib.id.us":!0,"lib.il.us":!0,"lib.in.us":!0,"lib.ks.us":!0,"lib.ky.us":!0,"lib.la.us":!0,"lib.ma.us":!0,"lib.md.us":!0,"lib.me.us":!0,"lib.mi.us":!0,"lib.mn.us":!0,"lib.mo.us":!0,"lib.ms.us":!0,"lib.mt.us":!0,"lib.nc.us":!0,"lib.nd.us":!0,"lib.ne.us":!0,"lib.nh.us":!0,"lib.nj.us":!0,"lib.nm.us":!0,"lib.nv.us":!0,"lib.ny.us":!0,"lib.oh.us":!0,"lib.ok.us":!0,"lib.or.us":!0,"lib.pa.us":!0,"lib.pr.us":!0,"lib.ri.us":!0,"lib.sc.us":!0,"lib.sd.us":!0,"lib.tn.us":!0,"lib.tx.us":!0,"lib.ut.us":!0,"lib.vi.us":!0,"lib.vt.us":!0,"lib.va.us":!0,"lib.wa.us":!0,"lib.wi.us":!0,"lib.wy.us":!0,"pvt.k12.ma.us":!0,"chtr.k12.ma.us":!0,"paroch.k12.ma.us":!0,uy:!0,"com.uy":!0,"edu.uy":!0,"gub.uy":!0,"mil.uy":!0,"net.uy":!0,"org.uy":!0,uz:!0,"co.uz":!0,"com.uz":!0,"net.uz":!0,"org.uz":!0,va:!0,vc:!0,"com.vc":!0,"net.vc":!0,"org.vc":!0,"gov.vc":!0,"mil.vc":!0,"edu.vc":!0,ve:!0,"arts.ve":!0,"co.ve":!0,"com.ve":!0,"e12.ve":!0,"edu.ve":!0,"firm.ve":!0,"gob.ve":!0,"gov.ve":!0,"info.ve":!0,"int.ve":!0,"mil.ve":!0,"net.ve":!0,"org.ve":!0,"rec.ve":!0,"store.ve":!0,"tec.ve":!0,"web.ve":!0,vg:!0,vi:!0,"co.vi":!0,"com.vi":!0,"k12.vi":!0,"net.vi":!0,"org.vi":!0,vn:!0,"com.vn":!0,"net.vn":!0,"org.vn":!0,"edu.vn":!0,"gov.vn":!0,"int.vn":!0,"ac.vn":!0,"biz.vn":!0,"info.vn":!0,"name.vn":!0,"pro.vn":!0,"health.vn":!0,vu:!0,"com.vu":!0,"edu.vu":!0,"net.vu":!0,"org.vu":!0,wf:!0,ws:!0,"com.ws":!0,"net.ws":!0,"org.ws":!0,"gov.ws":!0,"edu.ws":!0,yt:!0,"xn--mgbaam7a8h":!0,"xn--y9a3aq":!0,"xn--54b7fta0cc":!0,"xn--90ais":!0,"xn--fiqs8s":!0,"xn--fiqz9s":!0,"xn--lgbbat1ad8j":!0,"xn--wgbh1c":!0,"xn--node":!0,"xn--qxam":!0,"xn--j6w193g":!0,"xn--h2brj9c":!0,"xn--mgbbh1a71e":!0,"xn--fpcrj9c3d":!0,"xn--gecrj9c":!0,"xn--s9brj9c":!0,"xn--45brj9c":!0,"xn--xkc2dl3a5ee0h":!0,"xn--mgba3a4f16a":!0,"xn--mgba3a4fra":!0,"xn--mgbtx2b":!0,"xn--mgbayh7gpa":!0,"xn--3e0b707e":!0,"xn--80ao21a":!0,"xn--fzc2c9e2c":!0,"xn--xkc2al3hye2a":!0,"xn--mgbc0a9azcg":!0,"xn--d1alf":!0,"xn--l1acc":!0,"xn--mix891f":!0,"xn--mix082f":!0,"xn--mgbx4cd0ab":!0,"xn--mgb9awbf":!0,"xn--mgbai9azgqp6j":!0,"xn--mgbai9a5eva00b":!0,"xn--ygbi2ammx":!0,"xn--90a3ac":!0,"xn--o1ac.xn--90a3ac":!0,"xn--c1avg.xn--90a3ac":!0,"xn--90azh.xn--90a3ac":!0,"xn--d1at.xn--90a3ac":!0,"xn--o1ach.xn--90a3ac":!0,"xn--80au.xn--90a3ac":!0,"xn--p1ai":!0,"xn--wgbl6a":!0,"xn--mgberp4a5d4ar":!0,"xn--mgberp4a5d4a87g":!0,"xn--mgbqly7c0a67fbc":!0,"xn--mgbqly7cvafr":!0,"xn--mgbpl2fh":!0,"xn--yfro4i67o":!0,"xn--clchc0ea0b2g2a9gcd":!0,"xn--ogbpf8fl":!0,"xn--mgbtf8fl":!0,"xn--o3cw4h":!0,"xn--pgbs0dh":!0,"xn--kpry57d":!0,"xn--kprw13d":!0,"xn--nnx388a":!0,"xn--j1amh":!0,"xn--mgb2ddes":!0,xxx:!0,"*.ye":!0,"ac.za":!0,"agrica.za":!0,"alt.za":!0,"co.za":!0,"edu.za":!0,"gov.za":!0,"grondar.za":!0,"law.za":!0,"mil.za":!0,"net.za":!0,"ngo.za":!0,"nis.za":!0,"nom.za":!0,"org.za":!0,"school.za":!0,"tm.za":!0,"web.za":!0,"*.zm":!0,"*.zw":!0,aaa:!0,aarp:!0,abarth:!0,abb:!0,abbott:!0,abbvie:!0,abc:!0,able:!0,abogado:!0,abudhabi:!0,academy:!0,accenture:!0,accountant:!0,accountants:!0,aco:!0,active:!0,actor:!0,adac:!0,ads:!0,adult:!0,aeg:!0,aetna:!0,afamilycompany:!0,afl:!0,africa:!0,africamagic:!0,agakhan:!0,agency:!0,aig:!0,aigo:!0,airbus:!0,airforce:!0,airtel:!0,akdn:!0,alfaromeo:!0,alibaba:!0,alipay:!0,allfinanz:!0,allstate:!0,ally:!0,alsace:!0,alstom:!0,americanexpress:!0,americanfamily:!0,amex:!0,amfam:!0,amica:!0,amsterdam:!0,analytics:!0,android:!0,anquan:!0,anz:!0,aol:!0,apartments:!0,app:!0,apple:!0,aquarelle:!0,aramco:!0,archi:!0,army:!0,arte:!0,asda:!0,associates:!0,athleta:!0,attorney:!0,auction:!0,audi:!0,audible:!0,audio:!0,auspost:!0,author:!0,auto:!0,autos:!0,avianca:!0,aws:!0,axa:!0,azure:!0,baby:!0,baidu:!0,banamex:!0,bananarepublic:!0,band:!0,bank:!0,bar:!0,barcelona:!0,barclaycard:!0,barclays:!0,barefoot:!0,bargains:!0,basketball:!0,bauhaus:!0,bayern:!0,bbc:!0,bbt:!0,bbva:!0,bcg:!0,bcn:!0,beats:!0,beer:!0,bentley:!0,berlin:!0,best:!0,bestbuy:!0,bet:!0,bharti:!0,bible:!0,bid:!0,bike:!0,bing:!0,bingo:!0,bio:!0,black:!0,blackfriday:!0,blanco:!0,blockbuster:!0,blog:!0,bloomberg:!0,blue:!0,bms:!0,bmw:!0,bnl:!0,bnpparibas:!0,boats:!0,boehringer:!0,bofa:!0,bom:!0,bond:!0,boo:!0,book:!0,booking:!0,boots:!0,bosch:!0,bostik:!0,bot:!0,boutique:!0,bradesco:!0,bridgestone:!0,broadway:!0,broker:!0,brother:!0,brussels:!0,budapest:!0,bugatti:!0,build:!0,builders:!0,business:!0,buy:!0,buzz:!0,bzh:!0,cab:!0,cafe:!0,cal:!0,call:!0,calvinklein:!0,camera:!0,camp:!0,cancerresearch:!0,canon:!0,capetown:!0,capital:!0,capitalone:!0,car:!0,caravan:!0,cards:!0,care:!0,career:!0,careers:!0,cars:!0,cartier:!0,casa:!0,"case":!0,caseih:!0,cash:!0,casino:!0,catering:!0,cba:!0,cbn:!0,cbre:!0,cbs:!0,ceb:!0,center:!0,ceo:!0,cern:!0,cfa:!0,cfd:!0,chanel:!0,channel:!0,chase:!0,chat:!0,cheap:!0,chintai:!0,chloe:!0,christmas:!0,chrome:!0,chrysler:!0,church:!0,cipriani:!0,circle:!0,cisco:!0,citadel:!0,citi:!0,citic:!0,city:!0,cityeats:!0,claims:!0,cleaning:!0,click:!0,clinic:!0,clothing:!0,cloud:!0,club:!0,clubmed:!0,coach:!0,codes:!0,coffee:!0,college:!0,cologne:!0,comcast:!0,commbank:!0,community:!0,company:!0,computer:!0,comsec:!0,condos:!0,construction:!0,consulting:!0,contact:!0,contractors:!0,cooking:!0,cookingchannel:!0,cool:!0,corsica:!0,country:!0,coupon:!0,coupons:!0,courses:!0,credit:!0,creditcard:!0,creditunion:!0,cricket:!0,crown:!0,crs:!0,cruises:!0,csc:!0,cuisinella:!0,cymru:!0,cyou:!0,dabur:!0,dad:!0,dance:!0,date:!0,dating:!0,datsun:!0,day:!0,dclk:!0,dds:!0,deal:!0,dealer:!0,deals:!0,degree:!0,delivery:!0,dell:!0,deloitte:!0,delta:!0,democrat:!0,dental:!0,dentist:!0,desi:!0,design:!0,dev:!0,dhl:!0,diamonds:!0,diet:!0,digital:!0,direct:!0,directory:!0,discount:!0,discover:!0,dish:!0,dnp:!0,docs:!0,dodge:!0,dog:!0,doha:!0,domains:!0,doosan:!0,dot:!0,download:!0,drive:!0,dstv:!0,dtv:!0,dubai:!0,duck:!0,dunlop:!0,duns:!0,dupont:!0,durban:!0,dvag:!0,dwg:!0,earth:!0,eat:!0,edeka:!0,education:!0,email:!0,emerck:!0,emerson:!0,energy:!0,engineer:!0,engineering:!0,enterprises:!0,epost:!0,epson:!0,equipment:!0,ericsson:!0,erni:!0,esq:!0,estate:!0,esurance:!0,etisalat:!0,eurovision:!0,eus:!0,events:!0,everbank:!0,exchange:!0,expert:!0,exposed:!0,express:!0,extraspace:!0,fage:!0,fail:!0,fairwinds:!0,faith:!0,family:!0,fan:!0,fans:!0,farm:!0,farmers:!0,fashion:!0,fast:!0,fedex:!0,feedback:!0,ferrari:!0,ferrero:!0,fiat:!0,fidelity:!0,fido:!0,film:!0,"final":!0,finance:!0,financial:!0,fire:!0,firestone:!0,firmdale:!0,fish:!0,fishing:!0,fit:!0,fitness:!0,flickr:!0,flights:!0,flir:!0,florist:!0,flowers:!0,flsmidth:!0,fly:!0,foo:!0,foodnetwork:!0,football:!0,ford:!0,forex:!0,forsale:!0,forum:!0,foundation:!0,fox:!0,fresenius:!0,frl:!0,frogans:!0,frontdoor:!0,frontier:!0,ftr:!0,fujitsu:!0,fujixerox:!0,fund:!0,furniture:!0,futbol:!0,fyi:!0,gal:!0,gallery:!0,gallo:!0,gallup:!0,game:!0,games:!0,gap:!0,garden:!0,gbiz:!0,gdn:!0,gea:!0,gent:!0,genting:!0,george:!0,ggee:!0,gift:!0,gifts:!0,gives:!0,giving:!0,glade:!0,glass:!0,gle:!0,global:!0,globo:!0,gmail:!0,gmo:!0,gmx:!0,godaddy:!0,gold:!0,goldpoint:!0,golf:!0,goo:!0,goodhands:!0,goodyear:!0,goog:!0,google:!0,gop:!0,got:!0,gotv:!0,grainger:!0,graphics:!0,gratis:!0,green:!0,gripe:!0,group:!0,guardian:!0,gucci:!0,guge:!0,guide:!0,guitars:!0,guru:!0,hamburg:!0,hangout:!0,haus:!0,hbo:!0,hdfc:!0,hdfcbank:!0,health:!0,healthcare:!0,help:!0,helsinki:!0,here:!0,hermes:!0,hgtv:!0,hiphop:!0,hisamitsu:!0,hitachi:!0,hiv:!0,hkt:!0,hockey:!0,holdings:!0,holiday:!0,homedepot:!0,homegoods:!0,homes:!0,homesense:!0,honda:!0,honeywell:!0,horse:!0,host:!0,hosting:!0,hot:!0,hoteles:!0,hotmail:!0,house:!0,how:!0,hsbc:!0,htc:!0,hughes:!0,hyatt:!0,hyundai:!0,ibm:!0,icbc:!0,ice:!0,icu:!0,ieee:!0,ifm:!0,iinet:!0,ikano:!0,imamat:!0,imdb:!0,immo:!0,immobilien:!0,industries:!0,infiniti:!0,ing:!0,ink:!0,institute:!0,insurance:!0,insure:!0,intel:!0,international:!0,intuit:!0,investments:!0,ipiranga:!0,irish:!0,iselect:!0,ismaili:!0,ist:!0,istanbul:!0,itau:!0,itv:!0,iveco:!0,iwc:!0,jaguar:!0,java:!0,jcb:!0,jcp:!0,jeep:!0,jetzt:!0,jewelry:!0,jio:!0,jlc:!0,jll:!0,jmp:!0,jnj:!0,joburg:!0,jot:!0,joy:!0,jpmorgan:!0,jprs:!0,juegos:!0,juniper:!0,kaufen:!0,kddi:!0,kerryhotels:!0,kerrylogistics:!0,kerryproperties:!0,kfh:!0,kia:!0,kim:!0,kinder:!0,kindle:!0,kitchen:!0,kiwi:!0,koeln:!0,komatsu:!0,kosher:!0,kpmg:!0,kpn:!0,krd:!0,kred:!0,kuokgroup:!0,kyknet:!0,kyoto:!0,lacaixa:!0,ladbrokes:!0,lamborghini:!0,lancaster:!0,lancia:!0,lancome:!0,land:!0,landrover:!0,lanxess:!0,lasalle:!0,lat:!0,latino:!0,latrobe:!0,law:!0,lawyer:!0,lds:!0,lease:!0,leclerc:!0,lefrak:!0,legal:!0,lego:!0,lexus:!0,lgbt:!0,liaison:!0,lidl:!0,life:!0,lifeinsurance:!0,lifestyle:!0,lighting:!0,like:!0,lilly:!0,limited:!0,limo:!0,lincoln:!0,linde:!0,link:!0,lipsy:!0,live:!0,living:!0,lixil:!0,loan:!0,loans:!0,locker:!0,locus:!0,loft:!0,lol:!0,london:!0,lotte:!0,lotto:!0,love:!0,lpl:!0,lplfinancial:!0,ltd:!0,ltda:!0,lundbeck:!0,lupin:!0,luxe:!0,luxury:!0,macys:!0,madrid:!0,maif:!0,maison:!0,makeup:!0,man:!0,management:!0,mango:!0,market:!0,marketing:!0,markets:!0,marriott:!0,marshalls:!0,maserati:!0,mattel:!0,mba:!0,mcd:!0,mcdonalds:!0,mckinsey:!0,med:!0,media:!0,meet:!0,melbourne:!0,meme:!0,memorial:!0,men:!0,menu:!0,meo:!0,metlife:!0,miami:!0,microsoft:!0,mini:!0,mint:!0,mit:!0,mitsubishi:!0,mlb:!0,mls:!0,mma:!0,mnet:!0,mobily:!0,moda:!0,moe:!0,moi:!0,mom:!0,monash:!0,money:!0,monster:!0,montblanc:!0,mopar:!0,mormon:!0,mortgage:!0,moscow:!0,moto:!0,motorcycles:!0,mov:!0,movie:!0,movistar:!0,msd:!0,mtn:!0,mtpc:!0,mtr:!0,multichoice:!0,mutual:!0,mutuelle:!0,mzansimagic:!0,nab:!0,nadex:!0,nagoya:!0,naspers:!0,nationwide:!0,natura:!0,navy:!0,nba:!0,nec:!0,netbank:!0,netflix:!0,network:!0,neustar:!0,"new":!0,newholland:!0,news:!0,next:!0,nextdirect:!0,nexus:!0,nfl:!0,ngo:!0,nhk:!0,nico:!0,nike:!0,nikon:!0,ninja:!0,nissan:!0,nokia:!0,northwesternmutual:!0,norton:!0,now:!0,nowruz:!0,nowtv:!0,nra:!0,nrw:!0,ntt:!0,nyc:!0,obi:!0,observer:!0,off:!0,office:!0,okinawa:!0,olayan:!0,olayangroup:!0,oldnavy:!0,ollo:!0,omega:!0,one:!0,ong:!0,onl:!0,online:!0,onyourside:!0,ooo:!0,open:!0,oracle:!0,orange:!0,organic:!0,orientexpress:!0,osaka:!0,otsuka:!0,ott:!0,ovh:!0,page:!0,pamperedchef:!0,panasonic:!0,panerai:!0,paris:!0,pars:!0,partners:!0,parts:!0,party:!0,passagens:!0,pay:!0,payu:!0,pccw:!0,pet:!0,pfizer:!0,pharmacy:!0,philips:!0,photo:!0,photography:!0,photos:!0,physio:!0,piaget:!0,pics:!0,pictet:!0,pictures:!0,pid:!0,pin:!0,ping:!0,pink:!0,pioneer:!0,pizza:!0,place:!0,play:!0,playstation:!0,plumbing:!0,plus:!0,pnc:!0,pohl:!0,poker:!0,politie:!0,porn:!0,pramerica:!0,praxi:!0,press:!0,prime:!0,prod:!0,productions:!0,prof:!0,progressive:!0,promo:!0,properties:!0,property:!0,protection:!0,pru:!0,prudential:!0,pub:!0,qpon:!0,quebec:!0,quest:!0,qvc:!0,racing:!0,raid:!0,read:!0,realestate:!0,realtor:!0,realty:!0,recipes:!0,red:!0,redstone:!0,redumbrella:!0,rehab:!0,reise:!0,reisen:!0,reit:!0,reliance:!0,ren:!0,rent:!0,rentals:!0,repair:!0,report:!0,republican:!0,rest:!0,restaurant:!0,review:!0,reviews:!0,rexroth:!0,rich:!0,richardli:!0,ricoh:!0,rightathome:!0,ril:!0,rio:!0,rip:!0,rocher:!0,rocks:!0,rodeo:!0,rogers:!0,room:!0,rsvp:!0,ruhr:!0,run:!0,rwe:!0,ryukyu:!0,saarland:!0,safe:!0,safety:!0,sakura:!0,sale:!0,salon:!0,samsclub:!0,samsung:!0,sandvik:!0,sandvikcoromant:!0,sanofi:!0,sap:!0,sapo:!0,sarl:!0,sas:!0,save:!0,saxo:!0,sbi:!0,sbs:!0,sca:!0,scb:!0,schaeffler:!0,schmidt:!0,scholarships:!0,school:!0,schule:!0,schwarz:!0,science:!0,scjohnson:!0,scor:!0,scot:!0,seat:!0,secure:!0,security:!0,seek:!0,sener:!0,services:!0,ses:!0,seven:!0,sew:!0,sex:!0,sexy:!0,sfr:!0,shangrila:!0,sharp:!0,shaw:!0,shell:!0,shia:!0,shiksha:!0,shoes:!0,shouji:!0,show:!0,showtime:!0,shriram:!0,silk:!0,sina:!0,singles:!0,site:!0,ski:!0,skin:!0,sky:!0,skype:!0,sling:!0,smart:!0,smile:!0,sncf:!0,soccer:!0,social:!0,softbank:!0,software:!0,sohu:!0,solar:!0,solutions:!0,song:!0,sony:!0,soy:!0,space:!0,spiegel:!0,spot:!0,spreadbetting:!0,srl:!0,srt:!0,stada:!0,staples:!0,star:!0,starhub:!0,statebank:!0,statefarm:!0,statoil:!0,stc:!0,stcgroup:!0,stockholm:!0,storage:!0,store:!0,studio:!0,study:!0,style:!0,sucks:!0,supersport:!0,supplies:!0,supply:!0,support:!0,surf:!0,surgery:!0,suzuki:!0,swatch:!0,swiftcover:!0,swiss:!0,sydney:!0,symantec:!0,systems:!0,tab:!0,taipei:!0,talk:!0,taobao:!0,target:!0,tatamotors:!0,tatar:!0,tattoo:!0,tax:!0,taxi:!0,tci:!0,tdk:!0,team:!0,tech:!0,technology:!0,telecity:!0,telefonica:!0,temasek:!0,tennis:!0,teva:!0,thd:!0,theater:!0,theatre:!0,theguardian:!0,tiaa:!0,tickets:!0,tienda:!0,tiffany:!0,tips:!0,tires:!0,tirol:!0,tjmaxx:!0,tjx:!0,tkmaxx:!0,tmall:!0,today:!0,tokyo:!0,tools:!0,top:!0,toray:!0,toshiba:!0,total:!0,tours:!0,town:!0,toyota:!0,toys:!0,trade:!0,trading:!0,training:!0,travelchannel:!0,travelers:!0,travelersinsurance:!0,trust:!0,trv:!0,tube:!0,tui:!0,tunes:!0,tushu:!0,tvs:!0,ubank:!0,ubs:!0,uconnect:!0,university:!0,uno:!0,uol:!0,ups:!0,vacations:!0,vana:!0,vanguard:!0,vegas:!0,ventures:!0,verisign:!0,versicherung:!0,vet:!0,viajes:!0,video:!0,vig:!0,viking:!0,villas:!0,vin:!0,vip:!0,virgin:!0,visa:!0,vision:!0,vista:!0,vistaprint:!0,viva:!0,vivo:!0,vlaanderen:!0,vodka:!0,volkswagen:!0,vote:!0,voting:!0,voto:!0,voyage:!0,vuelos:!0,wales:!0,walmart:!0,walter:!0,wang:!0,wanggou:!0,warman:!0,watch:!0,watches:!0,weather:!0,weatherchannel:!0,webcam:!0,weber:!0,website:!0,wed:!0,wedding:!0,weibo:!0,weir:!0,whoswho:!0,wien:!0,wiki:!0,williamhill:!0,win:!0,windows:!0,wine:!0,winners:!0,wme:!0,wolterskluwer:!0,woodside:!0,work:!0,works:!0,world:!0,wtc:!0,wtf:!0,xbox:!0,xerox:!0,xfinity:!0,xihuan:!0,xin:!0,"xn--11b4c3d":!0,"xn--1ck2e1b":!0,"xn--1qqw23a":!0,"xn--30rr7y":!0,"xn--3bst00m":!0,"xn--3ds443g":!0,"xn--3oq18vl8pn36a":!0,"xn--3pxu8k":!0,"xn--42c2d9a":!0,"xn--45q11c":!0,"xn--4gbrim":!0,"xn--4gq48lf9j":!0,"xn--55qw42g":!0,"xn--55qx5d":!0,"xn--5su34j936bgsg":!0,"xn--5tzm5g":!0,"xn--6frz82g":!0,"xn--6qq986b3xl":!0,"xn--80adxhks":!0,"xn--80asehdb":!0,"xn--80aswg":!0,"xn--8y0a063a":!0,"xn--9dbq2a":!0,"xn--9et52u":!0,"xn--9krt00a":!0,"xn--b4w605ferd":!0,"xn--bck1b9a5dre4c":!0,"xn--c1avg":!0,"xn--c2br7g":!0,"xn--cck2b3b":!0,"xn--cg4bki":!0,"xn--czr694b":!0,"xn--czrs0t":!0,"xn--czru2d":!0,"xn--d1acj3b":!0,"xn--eckvdtc9d":!0,"xn--efvy88h":!0,"xn--estv75g":!0,"xn--fct429k":!0,"xn--fhbei":!0,"xn--fiq228c5hs":!0,"xn--fiq64b":!0,"xn--fjq720a":!0,"xn--flw351e":!0,"xn--fzys8d69uvgm":!0,"xn--g2xx48c":!0,"xn--gckr3f0f":!0,"xn--hxt814e":!0,"xn--i1b6b1a6a2e":!0,"xn--imr513n":!0,"xn--io0a7i":!0,"xn--j1aef":!0,"xn--jlq61u9w7b":!0,"xn--jvr189m":!0,"xn--kcrx77d1x4a":!0,"xn--kpu716f":!0,"xn--kput3i":!0,"xn--mgba3a3ejt":!0,"xn--mgba7c0bbn0a":!0,"xn--mgbaakc7dvf":!0,"xn--mgbab2bd":!0,"xn--mgbb9fbpob":!0,"xn--mgbca7dzdo":!0,"xn--mgbt3dhd":!0,"xn--mk1bu44c":!0,"xn--mxtq1m":!0,"xn--ngbc5azd":!0,"xn--ngbe9e0a":!0,"xn--nqv7f":!0,"xn--nqv7fs00ema":!0,"xn--nyqy26a":!0,"xn--p1acf":!0,"xn--pbt977c":!0,"xn--pssy2u":!0,"xn--q9jyb4c":!0,"xn--qcka1pmc":!0,"xn--rhqv96g":!0,"xn--rovu88b":!0,"xn--ses554g":!0,"xn--t60b56a":!0,"xn--tckwe":!0,"xn--unup4y":!0,"xn--vermgensberater-ctb":!0,"xn--vermgensberatung-pwb":!0,"xn--vhquv":!0,"xn--vuq861b":!0,"xn--w4r85el8fhu5dnra":!0,"xn--w4rs40l":!0,"xn--xhq521b":!0,"xn--zfr164b":!0,xperia:!0,xyz:!0,yachts:!0,yahoo:!0,yamaxun:!0,yandex:!0,yodobashi:!0,yoga:!0,yokohama:!0,you:!0,youtube:!0,yun:!0,zappos:!0,zara:!0,zero:!0,zip:!0,zippo:!0,zone:!0,zuerich:!0,"cloudfront.net":!0,"ap-northeast-1.compute.amazonaws.com":!0,"ap-southeast-1.compute.amazonaws.com":!0,"ap-southeast-2.compute.amazonaws.com":!0,"cn-north-1.compute.amazonaws.cn":!0,"compute.amazonaws.cn":!0,"compute.amazonaws.com":!0,"compute-1.amazonaws.com":!0,"eu-west-1.compute.amazonaws.com":!0,"eu-central-1.compute.amazonaws.com":!0,"sa-east-1.compute.amazonaws.com":!0,"us-east-1.amazonaws.com":!0,"us-gov-west-1.compute.amazonaws.com":!0,"us-west-1.compute.amazonaws.com":!0,"us-west-2.compute.amazonaws.com":!0,"z-1.compute-1.amazonaws.com":!0,"z-2.compute-1.amazonaws.com":!0,"elasticbeanstalk.com":!0,"elb.amazonaws.com":!0,"s3.amazonaws.com":!0,"s3-ap-northeast-1.amazonaws.com":!0,"s3-ap-southeast-1.amazonaws.com":!0,"s3-ap-southeast-2.amazonaws.com":!0,"s3-external-1.amazonaws.com":!0,"s3-external-2.amazonaws.com":!0,"s3-fips-us-gov-west-1.amazonaws.com":!0,"s3-eu-central-1.amazonaws.com":!0,"s3-eu-west-1.amazonaws.com":!0,"s3-sa-east-1.amazonaws.com":!0,"s3-us-gov-west-1.amazonaws.com":!0,"s3-us-west-1.amazonaws.com":!0,"s3-us-west-2.amazonaws.com":!0,"s3.cn-north-1.amazonaws.com.cn":!0,"s3.eu-central-1.amazonaws.com":!0,"betainabox.com":!0,"ae.org":!0,"ar.com":!0,"br.com":!0,"cn.com":!0,"com.de":!0,"com.se":!0,"de.com":!0,"eu.com":!0,"gb.com":!0,"gb.net":!0,"hu.com":!0,"hu.net":!0,"jp.net":!0,"jpn.com":!0,"kr.com":!0,"mex.com":!0,"no.com":!0,"qc.com":!0,"ru.com":!0,"sa.com":!0,"se.com":!0,"se.net":!0,"uk.com":!0,"uk.net":!0,"us.com":!0,"uy.com":!0,"za.bz":!0,"za.com":!0,"africa.com":!0,"gr.com":!0,"in.net":!0,"us.org":!0,"co.com":!0,"c.la":!0,"cloudcontrolled.com":!0,"cloudcontrolapp.com":!0,"co.ca":!0,"c.cdn77.org":!0,"cdn77-ssl.net":!0,"r.cdn77.net":!0,"rsc.cdn77.org":!0,"ssl.origin.cdn77-secure.org":!0,"co.nl":!0,"co.no":!0,"*.platform.sh":!0,"cupcake.is":!0,"dreamhosters.com":!0,"duckdns.org":!0,"dyndns-at-home.com":!0,"dyndns-at-work.com":!0,"dyndns-blog.com":!0,"dyndns-free.com":!0,"dyndns-home.com":!0,"dyndns-ip.com":!0,"dyndns-mail.com":!0,"dyndns-office.com":!0,"dyndns-pics.com":!0,"dyndns-remote.com":!0,"dyndns-server.com":!0,"dyndns-web.com":!0,"dyndns-wiki.com":!0,"dyndns-work.com":!0,"dyndns.biz":!0,"dyndns.info":!0,"dyndns.org":!0,"dyndns.tv":!0,"at-band-camp.net":!0,"ath.cx":!0,"barrel-of-knowledge.info":!0,"barrell-of-knowledge.info":!0,"better-than.tv":!0,"blogdns.com":!0,"blogdns.net":!0,"blogdns.org":!0,"blogsite.org":!0,"boldlygoingnowhere.org":!0,"broke-it.net":!0,"buyshouses.net":!0,"cechire.com":!0,"dnsalias.com":!0,"dnsalias.net":!0,"dnsalias.org":!0,"dnsdojo.com":!0,"dnsdojo.net":!0,"dnsdojo.org":!0,"does-it.net":!0,"doesntexist.com":!0,"doesntexist.org":!0,"dontexist.com":!0,"dontexist.net":!0,"dontexist.org":!0,"doomdns.com":!0,"doomdns.org":!0,"dvrdns.org":!0,"dyn-o-saur.com":!0,"dynalias.com":!0,"dynalias.net":!0,"dynalias.org":!0,"dynathome.net":!0,"dyndns.ws":!0,"endofinternet.net":!0,"endofinternet.org":!0,"endoftheinternet.org":!0,"est-a-la-maison.com":!0,"est-a-la-masion.com":!0,"est-le-patron.com":!0,"est-mon-blogueur.com":!0,"for-better.biz":!0,"for-more.biz":!0,"for-our.info":!0,"for-some.biz":!0,"for-the.biz":!0,"forgot.her.name":!0,"forgot.his.name":!0,"from-ak.com":!0,"from-al.com":!0,"from-ar.com":!0,"from-az.net":!0,"from-ca.com":!0,"from-co.net":!0,"from-ct.com":!0,"from-dc.com":!0,"from-de.com":!0,"from-fl.com":!0,"from-ga.com":!0,"from-hi.com":!0,"from-ia.com":!0,"from-id.com":!0,"from-il.com":!0,"from-in.com":!0,"from-ks.com":!0,"from-ky.com":!0,"from-la.net":!0,"from-ma.com":!0,"from-md.com":!0,"from-me.org":!0,"from-mi.com":!0,"from-mn.com":!0,"from-mo.com":!0,"from-ms.com":!0,"from-mt.com":!0,"from-nc.com":!0,"from-nd.com":!0,"from-ne.com":!0,"from-nh.com":!0,"from-nj.com":!0,"from-nm.com":!0,"from-nv.com":!0,"from-ny.net":!0,"from-oh.com":!0,"from-ok.com":!0,"from-or.com":!0,"from-pa.com":!0,"from-pr.com":!0,"from-ri.com":!0,"from-sc.com":!0,"from-sd.com":!0,"from-tn.com":!0,"from-tx.com":!0,"from-ut.com":!0,"from-va.com":!0,"from-vt.com":!0,"from-wa.com":!0,"from-wi.com":!0,"from-wv.com":!0,"from-wy.com":!0,"ftpaccess.cc":!0,"fuettertdasnetz.de":!0,"game-host.org":!0,"game-server.cc":!0,"getmyip.com":!0,"gets-it.net":!0,"go.dyndns.org":!0,"gotdns.com":!0,"gotdns.org":!0,"groks-the.info":!0,"groks-this.info":!0,"ham-radio-op.net":!0,"here-for-more.info":!0,"hobby-site.com":!0,"hobby-site.org":!0,"home.dyndns.org":!0,"homedns.org":!0,"homeftp.net":!0,"homeftp.org":!0,"homeip.net":!0,"homelinux.com":!0,"homelinux.net":!0,"homelinux.org":!0,"homeunix.com":!0,"homeunix.net":!0,"homeunix.org":!0,"iamallama.com":!0,"in-the-band.net":!0,"is-a-anarchist.com":!0,"is-a-blogger.com":!0,"is-a-bookkeeper.com":!0,"is-a-bruinsfan.org":!0,"is-a-bulls-fan.com":!0,"is-a-candidate.org":!0,"is-a-caterer.com":!0,"is-a-celticsfan.org":!0,"is-a-chef.com":!0,"is-a-chef.net":!0,"is-a-chef.org":!0,"is-a-conservative.com":!0,"is-a-cpa.com":!0,"is-a-cubicle-slave.com":!0,"is-a-democrat.com":!0,"is-a-designer.com":!0,"is-a-doctor.com":!0,"is-a-financialadvisor.com":!0,"is-a-geek.com":!0,"is-a-geek.net":!0,"is-a-geek.org":!0,"is-a-green.com":!0,"is-a-guru.com":!0,"is-a-hard-worker.com":!0,"is-a-hunter.com":!0,"is-a-knight.org":!0,"is-a-landscaper.com":!0,"is-a-lawyer.com":!0,"is-a-liberal.com":!0,"is-a-libertarian.com":!0,"is-a-linux-user.org":!0,"is-a-llama.com":!0,"is-a-musician.com":!0,"is-a-nascarfan.com":!0,"is-a-nurse.com":!0,"is-a-painter.com":!0,"is-a-patsfan.org":!0,"is-a-personaltrainer.com":!0,"is-a-photographer.com":!0,"is-a-player.com":!0,"is-a-republican.com":!0,"is-a-rockstar.com":!0,"is-a-socialist.com":!0,"is-a-soxfan.org":!0,"is-a-student.com":!0,"is-a-teacher.com":!0,"is-a-techie.com":!0,"is-a-therapist.com":!0,"is-an-accountant.com":!0,"is-an-actor.com":!0,"is-an-actress.com":!0,"is-an-anarchist.com":!0,"is-an-artist.com":!0,"is-an-engineer.com":!0,"is-an-entertainer.com":!0,"is-by.us":!0,"is-certified.com":!0,"is-found.org":!0,"is-gone.com":!0,"is-into-anime.com":!0,"is-into-cars.com":!0,"is-into-cartoons.com":!0,"is-into-games.com":!0,"is-leet.com":!0,"is-lost.org":!0,"is-not-certified.com":!0,"is-saved.org":!0,"is-slick.com":!0,"is-uberleet.com":!0,"is-very-bad.org":!0,"is-very-evil.org":!0,"is-very-good.org":!0,"is-very-nice.org":!0,"is-very-sweet.org":!0,"is-with-theband.com":!0,"isa-geek.com":!0,"isa-geek.net":!0,"isa-geek.org":!0,"isa-hockeynut.com":!0,"issmarterthanyou.com":!0,"isteingeek.de":!0,"istmein.de":!0,"kicks-ass.net":!0,"kicks-ass.org":!0,"knowsitall.info":!0,"land-4-sale.us":!0,"lebtimnetz.de":!0,"leitungsen.de":!0,"likes-pie.com":!0,"likescandy.com":!0,"merseine.nu":!0,"mine.nu":!0,"misconfused.org":!0,"mypets.ws":!0,"myphotos.cc":!0,"neat-url.com":!0,"office-on-the.net":!0,"on-the-web.tv":!0,"podzone.net":!0,"podzone.org":!0,"readmyblog.org":!0,"saves-the-whales.com":!0,"scrapper-site.net":!0,"scrapping.cc":!0,"selfip.biz":!0,"selfip.com":!0,"selfip.info":!0,"selfip.net":!0,"selfip.org":!0,"sells-for-less.com":!0,"sells-for-u.com":!0,"sells-it.net":!0,"sellsyourhome.org":!0,"servebbs.com":!0,"servebbs.net":!0,"servebbs.org":!0,"serveftp.net":!0,"serveftp.org":!0,"servegame.org":!0,"shacknet.nu":!0,"simple-url.com":!0,"space-to-rent.com":!0,"stuff-4-sale.org":!0,"stuff-4-sale.us":!0,"teaches-yoga.com":!0,"thruhere.net":!0,"traeumtgerade.de":!0,"webhop.biz":!0,"webhop.info":!0,"webhop.net":!0,"webhop.org":!0,"worse-than.tv":!0,"writesthisblog.com":!0,"eu.org":!0,"al.eu.org":!0,"asso.eu.org":!0,"at.eu.org":!0,"au.eu.org":!0,"be.eu.org":!0,"bg.eu.org":!0,"ca.eu.org":!0,"cd.eu.org":!0,"ch.eu.org":!0,"cn.eu.org":!0,"cy.eu.org":!0,"cz.eu.org":!0,"de.eu.org":!0,"dk.eu.org":!0,"edu.eu.org":!0,"ee.eu.org":!0,"es.eu.org":!0,"fi.eu.org":!0,"fr.eu.org":!0,"gr.eu.org":!0,"hr.eu.org":!0,"hu.eu.org":!0,"ie.eu.org":!0,"il.eu.org":!0,"in.eu.org":!0,"int.eu.org":!0,"is.eu.org":!0,"it.eu.org":!0,"jp.eu.org":!0,"kr.eu.org":!0,"lt.eu.org":!0,"lu.eu.org":!0,"lv.eu.org":!0,"mc.eu.org":!0,"me.eu.org":!0,"mk.eu.org":!0,"mt.eu.org":!0,"my.eu.org":!0,"net.eu.org":!0,"ng.eu.org":!0,"nl.eu.org":!0,"no.eu.org":!0,"nz.eu.org":!0,"paris.eu.org":!0,"pl.eu.org":!0,"pt.eu.org":!0,"q-a.eu.org":!0,"ro.eu.org":!0,"ru.eu.org":!0,"se.eu.org":!0,"si.eu.org":!0,"sk.eu.org":!0,"tr.eu.org":!0,"uk.eu.org":!0,"us.eu.org":!0,"a.ssl.fastly.net":!0,"b.ssl.fastly.net":!0,"global.ssl.fastly.net":!0,"a.prod.fastly.net":!0,"global.prod.fastly.net":!0,"firebaseapp.com":!0,"flynnhub.com":!0,"service.gov.uk":!0,"github.io":!0,"githubusercontent.com":!0,"ro.com":!0,"appspot.com":!0,"blogspot.ae":!0,"blogspot.al":!0,"blogspot.am":!0,"blogspot.ba":!0,"blogspot.be":!0,"blogspot.bg":!0,"blogspot.bj":!0,"blogspot.ca":!0,"blogspot.cf":!0,"blogspot.ch":!0,"blogspot.cl":!0,"blogspot.co.at":!0,"blogspot.co.id":!0,"blogspot.co.il":!0,"blogspot.co.ke":!0,"blogspot.co.nz":!0,"blogspot.co.uk":!0,"blogspot.co.za":!0,"blogspot.com":!0,"blogspot.com.ar":!0,"blogspot.com.au":!0,"blogspot.com.br":!0,"blogspot.com.by":!0,"blogspot.com.co":!0,"blogspot.com.cy":!0,"blogspot.com.ee":!0,"blogspot.com.eg":!0,"blogspot.com.es":!0,"blogspot.com.mt":!0,"blogspot.com.ng":!0,"blogspot.com.tr":!0,"blogspot.com.uy":!0,"blogspot.cv":!0,"blogspot.cz":!0,"blogspot.de":!0,"blogspot.dk":!0,"blogspot.fi":!0,"blogspot.fr":!0,"blogspot.gr":!0,"blogspot.hk":!0,"blogspot.hr":!0,"blogspot.hu":!0,"blogspot.ie":!0,"blogspot.in":!0,"blogspot.is":!0,"blogspot.it":!0,"blogspot.jp":!0,"blogspot.kr":!0,"blogspot.li":!0,"blogspot.lt":!0,"blogspot.lu":!0,"blogspot.md":!0,"blogspot.mk":!0,"blogspot.mr":!0,"blogspot.mx":!0,"blogspot.my":!0,"blogspot.nl":!0,"blogspot.no":!0,"blogspot.pe":!0,"blogspot.pt":!0,"blogspot.qa":!0,"blogspot.re":!0,"blogspot.ro":!0,"blogspot.rs":!0,"blogspot.ru":!0,"blogspot.se":!0,"blogspot.sg":!0,"blogspot.si":!0,"blogspot.sk":!0,"blogspot.sn":!0,"blogspot.td":!0,"blogspot.tw":!0,"blogspot.ug":!0,"blogspot.vn":!0,"codespot.com":!0,"googleapis.com":!0,"googlecode.com":!0,"pagespeedmobilizer.com":!0,"withgoogle.com":!0,"withyoutube.com":!0,"herokuapp.com":!0,"herokussl.com":!0,"iki.fi":!0,"biz.at":!0,"info.at":!0,"co.pl":!0,"azurewebsites.net":!0,"azure-mobile.net":!0,"cloudapp.net":!0,"bmoattachments.org":!0,"4u.com":!0,"nfshost.com":!0,
"nyc.mn":!0,"nid.io":!0,"operaunite.com":!0,"outsystemscloud.com":!0,"art.pl":!0,"gliwice.pl":!0,"krakow.pl":!0,"poznan.pl":!0,"wroc.pl":!0,"zakopane.pl":!0,"pantheon.io":!0,"gotpantheon.com":!0,"priv.at":!0,"qa2.com":!0,"rhcloud.com":!0,"sandcats.io":!0,"biz.ua":!0,"co.ua":!0,"pp.ua":!0,"sinaapp.com":!0,"vipsinaapp.com":!0,"1kapp.com":!0,"gda.pl":!0,"gdansk.pl":!0,"gdynia.pl":!0,"med.pl":!0,"sopot.pl":!0,"hk.com":!0,"hk.org":!0,"ltd.hk":!0,"inc.hk":!0,"yolasite.com":!0,"za.net":!0,"za.org":!0});
},{"punycode":433}],369:[function(require,module,exports){
"use strict";function Store(){}exports.Store=Store,Store.prototype.synchronous=!1,Store.prototype.findCookie=function(o,e,t,r){throw new Error("findCookie is not implemented")},Store.prototype.findCookies=function(o,e,t){throw new Error("findCookies is not implemented")},Store.prototype.putCookie=function(o,e){throw new Error("putCookie is not implemented")},Store.prototype.updateCookie=function(o,e,t){throw new Error("updateCookie is not implemented")},Store.prototype.removeCookie=function(o,e,t,r){throw new Error("removeCookie is not implemented")},Store.prototype.removeCookies=function(o,e,t){throw new Error("removeCookies is not implemented")},Store.prototype.getAllCookies=function(o){throw new Error("getAllCookies is not implemented (therefore jar cannot be serialized)")};
},{}],370:[function(require,module,exports){
module.exports={"author":{"name":"Jeremy Stashewsky","email":"jstashewsky@salesforce.com"},"contributors":[{"name":"Alexander Savin"},{"name":"Ian Livingstone"},{"name":"Ivan Nikulin"},{"name":"Lalit Kapoor"},{"name":"Sam Thompson"},{"name":"Sebastian Mayr"}],"license":"BSD-3-Clause","name":"tough-cookie","description":"RFC6265 Cookies and Cookie Jar for node.js","keywords":["HTTP","cookie","cookies","set-cookie","cookiejar","jar","RFC6265","RFC2965"],"version":"2.2.1","homepage":"https://github.com/SalesforceEng/tough-cookie","repository":{"type":"git","url":"git://github.com/SalesforceEng/tough-cookie.git"},"bugs":{"url":"https://github.com/SalesforceEng/tough-cookie/issues"},"main":"./lib/cookie","files":["lib"],"scripts":{"suffixup":"curl -o public_suffix_list.dat https://publicsuffix.org/list/public_suffix_list.dat && ./generate-pubsuffix.js","test":"vows test/*_test.js"},"engines":{"node":">=0.10.0"},"devDependencies":{"async":"^1.4.2","vows":"^0.8.1"},"readme":"[RFC6265](https://tools.ietf.org/html/rfc6265) Cookies and CookieJar for Node.js\n\n[![Build Status](https://travis-ci.org/SalesforceEng/tough-cookie.png?branch=master)](https://travis-ci.org/SalesforceEng/tough-cookie)\n\n[![NPM Stats](https://nodei.co/npm/tough-cookie.png?downloads=true&stars=true)](https://npmjs.org/package/tough-cookie)\n![NPM Downloads](https://nodei.co/npm-dl/tough-cookie.png?months=9)\n\n# Synopsis\n\n``` javascript\nvar tough = require('tough-cookie');\nvar Cookie = tough.Cookie;\nvar cookie = Cookie.parse(header);\ncookie.value = 'somethingdifferent';\nheader = cookie.toString();\n\nvar cookiejar = new tough.CookieJar();\ncookiejar.setCookie(cookie, 'http://currentdomain.example.com/path', cb);\n// ...\ncookiejar.getCookies('http://example.com/otherpath',function(err,cookies) {\n  res.headers['cookie'] = cookies.join('; ');\n});\n```\n\n# Installation\n\nIt's _so_ easy!\n\n`npm install tough-cookie`\n\nWhy the name?  NPM modules `cookie`, `cookies` and `cookiejar` were already taken.\n\n# API\n\n## tough\n\nFunctions on the module you get from `require('tough-cookie')`.  All can be used as pure functions and don't need to be \"bound\".\n\n**Note**: prior to 1.0.x, several of these functions took a `strict` parameter. This has since been removed from the API as it was no longer necessary.\n\n### `parseDate(string)`\n\nParse a cookie date string into a `Date`.  Parses according to RFC6265 Section 5.1.1, not `Date.parse()`.\n\n### `formatDate(date)`\n\nFormat a Date into a RFC1123 string (the RFC6265-recommended format).\n\n### `canonicalDomain(str)`\n\nTransforms a domain-name into a canonical domain-name.  The canonical domain-name is a trimmed, lowercased, stripped-of-leading-dot and optionally punycode-encoded domain-name (Section 5.1.2 of RFC6265).  For the most part, this function is idempotent (can be run again on its output without ill effects).\n\n### `domainMatch(str,domStr[,canonicalize=true])`\n\nAnswers \"does this real domain match the domain in a cookie?\".  The `str` is the \"current\" domain-name and the `domStr` is the \"cookie\" domain-name.  Matches according to RFC6265 Section 5.1.3, but it helps to think of it as a \"suffix match\".\n\nThe `canonicalize` parameter will run the other two paramters through `canonicalDomain` or not.\n\n### `defaultPath(path)`\n\nGiven a current request/response path, gives the Path apropriate for storing in a cookie.  This is basically the \"directory\" of a \"file\" in the path, but is specified by Section 5.1.4 of the RFC.\n\nThe `path` parameter MUST be _only_ the pathname part of a URI (i.e. excludes the hostname, query, fragment, etc.).  This is the `.pathname` property of node's `uri.parse()` output.\n\n### `pathMatch(reqPath,cookiePath)`\n\nAnswers \"does the request-path path-match a given cookie-path?\" as per RFC6265 Section 5.1.4.  Returns a boolean.\n\nThis is essentially a prefix-match where `cookiePath` is a prefix of `reqPath`.\n\n### `parse(cookieString[, options])`\n\nalias for `Cookie.parse(cookieString[, options])`\n\n### `fromJSON(string)`\n\nalias for `Cookie.fromJSON(string)`\n\n### `getPublicSuffix(hostname)`\n\nReturns the public suffix of this hostname.  The public suffix is the shortest domain-name upon which a cookie can be set.  Returns `null` if the hostname cannot have cookies set for it.\n\nFor example: `www.example.com` and `www.subdomain.example.com` both have public suffix `example.com`.\n\nFor further information, see http://publicsuffix.org/.  This module derives its list from that site.\n\n### `cookieCompare(a,b)`\n\nFor use with `.sort()`, sorts a list of cookies into the recommended order given in the RFC (Section 5.4 step 2). The sort algorithm is, in order of precedence:\n\n* Longest `.path`\n* oldest `.creation` (which has a 1ms precision, same as `Date`)\n* lowest `.creationIndex` (to get beyond the 1ms precision)\n\n``` javascript\nvar cookies = [ /* unsorted array of Cookie objects */ ];\ncookies = cookies.sort(cookieCompare);\n```\n\n**Note**: Since JavaScript's `Date` is limited to a 1ms precision, cookies within the same milisecond are entirely possible. This is especially true when using the `now` option to `.setCookie()`. The `.creationIndex` property is a per-process global counter, assigned during construction with `new Cookie()`. This preserves the spirit of the RFC sorting: older cookies go first. This works great for `MemoryCookieStore`, since `Set-Cookie` headers are parsed in order, but may not be so great for distributed systems. Sophisticated `Store`s may wish to set this to some other _logical clock_ such that if cookies A and B are created in the same millisecond, but cookie A is created before cookie B, then `A.creationIndex < B.creationIndex`. If you want to alter the global counter, which you probably _shouldn't_ do, it's stored in `Cookie.cookiesCreated`.\n\n### `permuteDomain(domain)`\n\nGenerates a list of all possible domains that `domainMatch()` the parameter.  May be handy for implementing cookie stores.\n\n### `permutePath(path)`\n\nGenerates a list of all possible paths that `pathMatch()` the parameter.  May be handy for implementing cookie stores.\n\n\n## Cookie\n\nExported via `tough.Cookie`.\n\n### `Cookie.parse(cookieString[, options])`\n\nParses a single Cookie or Set-Cookie HTTP header into a `Cookie` object.  Returns `undefined` if the string can't be parsed.\n\nThe options parameter is not required and currently has only one property:\n\n  * _loose_ - boolean - if `true` enable parsing of key-less cookies like `=abc` and `=`, which are not RFC-compliant.\n\nIf options is not an object, it is ignored, which means you can use `Array#map` with it.\n\nHere's how to process the Set-Cookie header(s) on a node HTTP/HTTPS response:\n\n``` javascript\nif (res.headers['set-cookie'] instanceof Array)\n  cookies = res.headers['set-cookie'].map(Cookie.parse);\nelse\n  cookies = [Cookie.parse(res.headers['set-cookie'])];\n```\n\n### Properties\n\nCookie object properties:\n\n  * _key_ - string - the name or key of the cookie (default \"\")\n  * _value_ - string - the value of the cookie (default \"\")\n  * _expires_ - `Date` - if set, the `Expires=` attribute of the cookie (defaults to the string `\"Infinity\"`). See `setExpires()`\n  * _maxAge_ - seconds - if set, the `Max-Age=` attribute _in seconds_ of the cookie.  May also be set to strings `\"Infinity\"` and `\"-Infinity\"` for non-expiry and immediate-expiry, respectively.  See `setMaxAge()`\n  * _domain_ - string - the `Domain=` attribute of the cookie\n  * _path_ - string - the `Path=` of the cookie\n  * _secure_ - boolean - the `Secure` cookie flag\n  * _httpOnly_ - boolean - the `HttpOnly` cookie flag\n  * _extensions_ - `Array` - any unrecognized cookie attributes as strings (even if equal-signs inside)\n  * _creation_ - `Date` - when this cookie was constructed\n  * _creationIndex_ - number - set at construction, used to provide greater sort precision (please see `cookieCompare(a,b)` for a full explanation)\n\nAfter a cookie has been passed through `CookieJar.setCookie()` it will have the following additional attributes:\n\n  * _hostOnly_ - boolean - is this a host-only cookie (i.e. no Domain field was set, but was instead implied)\n  * _pathIsDefault_ - boolean - if true, there was no Path field on the cookie and `defaultPath()` was used to derive one.\n  * _creation_ - `Date` - **modified** from construction to when the cookie was added to the jar\n  * _lastAccessed_ - `Date` - last time the cookie got accessed. Will affect cookie cleaning once implemented.  Using `cookiejar.getCookies(...)` will update this attribute.\n\n### `Cookie([{properties}])`\n\nReceives an options object that can contain any of the above Cookie properties, uses the default for unspecified properties.\n\n### `.toString()`\n\nencode to a Set-Cookie header value.  The Expires cookie field is set using `formatDate()`, but is omitted entirely if `.expires` is `Infinity`.\n\n### `.cookieString()`\n\nencode to a Cookie header value (i.e. the `.key` and `.value` properties joined with '=').\n\n### `.setExpires(String)`\n\nsets the expiry based on a date-string passed through `parseDate()`.  If parseDate returns `null` (i.e. can't parse this date string), `.expires` is set to `\"Infinity\"` (a string) is set.\n\n### `.setMaxAge(number)`\n\nsets the maxAge in seconds.  Coerces `-Infinity` to `\"-Infinity\"` and `Infinity` to `\"Infinity\"` so it JSON serializes correctly.\n\n### `.expiryTime([now=Date.now()])`\n\n### `.expiryDate([now=Date.now()])`\n\nexpiryTime() Computes the absolute unix-epoch milliseconds that this cookie expires. expiryDate() works similarly, except it returns a `Date` object.  Note that in both cases the `now` parameter should be milliseconds.\n\nMax-Age takes precedence over Expires (as per the RFC). The `.creation` attribute -- or, by default, the `now` paramter -- is used to offset the `.maxAge` attribute.\n\nIf Expires (`.expires`) is set, that's returned.\n\nOtherwise, `expiryTime()` returns `Infinity` and `expiryDate()` returns a `Date` object for \"Tue, 19 Jan 2038 03:14:07 GMT\" (latest date that can be expressed by a 32-bit `time_t`; the common limit for most user-agents).\n\n### `.TTL([now=Date.now()])`\n\ncompute the TTL relative to `now` (milliseconds).  The same precedence rules as for `expiryTime`/`expiryDate` apply.\n\nThe \"number\" `Infinity` is returned for cookies without an explicit expiry and `0` is returned if the cookie is expired.  Otherwise a time-to-live in milliseconds is returned.\n\n### `.canonicalizedDoman()`\n\n### `.cdomain()`\n\nreturn the canonicalized `.domain` field.  This is lower-cased and punycode (RFC3490) encoded if the domain has any non-ASCII characters.\n\n### `.toJSON()`\n\nFor convenience in using `JSON.serialize(cookie)`. Returns a plain-old `Object` that can be JSON-serialized.\n\nAny `Date` properties (i.e., `.expires`, `.creation`, and `.lastAccessed`) are exported in ISO format (`.toISOString()`).\n\n**NOTE**: Custom `Cookie` properties will be discarded. In tough-cookie 1.x, since there was no `.toJSON` method explicitly defined, all enumerable properties were captured. If you want a property to be serialized, add the property name to the `Cookie.serializableProperties` Array.\n\n### `Cookie.fromJSON(strOrObj)`\n\nDoes the reverse of `cookie.toJSON()`. If passed a string, will `JSON.parse()` that first.\n\nAny `Date` properties (i.e., `.expires`, `.creation`, and `.lastAccessed`) are parsed via `Date.parse()`, not the tough-cookie `parseDate`, since it's JavaScript/JSON-y timestamps being handled at this layer.\n\nReturns `null` upon JSON parsing error.\n\n### `.clone()`\n\nDoes a deep clone of this cookie, exactly implemented as `Cookie.fromJSON(cookie.toJSON())`.\n\n### `.validate()`\n\nStatus: *IN PROGRESS*. Works for a few things, but is by no means comprehensive.\n\nvalidates cookie attributes for semantic correctness.  Useful for \"lint\" checking any Set-Cookie headers you generate.  For now, it returns a boolean, but eventually could return a reason string -- you can future-proof with this construct:\n\n``` javascript\nif (cookie.validate() === true) {\n  // it's tasty\n} else {\n  // yuck!\n}\n```\n\n\n## CookieJar\n\nExported via `tough.CookieJar`.\n\n### `CookieJar([store],[options])`\n\nSimply use `new CookieJar()`.  If you'd like to use a custom store, pass that to the constructor otherwise a `MemoryCookieStore` will be created and used.\n\nThe `options` object can be omitted and can have the following properties:\n\n  * _rejectPublicSuffixes_ - boolean - default `true` - reject cookies with domains like \"com\" and \"co.uk\"\n  * _looseMode_ - boolean - default `false` - accept malformed cookies like `bar` and `=bar`, which have an implied empty name.\n    This is not in the standard, but is used sometimes on the web and is accepted by (most) browsers.\n\nSince eventually this module would like to support database/remote/etc. CookieJars, continuation passing style is used for CookieJar methods.\n\n### `.setCookie(cookieOrString, currentUrl, [{options},] cb(err,cookie))`\n\nAttempt to set the cookie in the cookie jar.  If the operation fails, an error will be given to the callback `cb`, otherwise the cookie is passed through.  The cookie will have updated `.creation`, `.lastAccessed` and `.hostOnly` properties.\n\nThe `options` object can be omitted and can have the following properties:\n\n  * _http_ - boolean - default `true` - indicates if this is an HTTP or non-HTTP API.  Affects HttpOnly cookies.\n  * _secure_ - boolean - autodetect from url - indicates if this is a \"Secure\" API.  If the currentUrl starts with `https:` or `wss:` then this is defaulted to `true`, otherwise `false`.\n  * _now_ - Date - default `new Date()` - what to use for the creation/access time of cookies\n  * _ignoreError_ - boolean - default `false` - silently ignore things like parse errors and invalid domains.  `Store` errors aren't ignored by this option.\n\nAs per the RFC, the `.hostOnly` property is set if there was no \"Domain=\" parameter in the cookie string (or `.domain` was null on the Cookie object).  The `.domain` property is set to the fully-qualified hostname of `currentUrl` in this case.  Matching this cookie requires an exact hostname match (not a `domainMatch` as per usual).\n\n### `.setCookieSync(cookieOrString, currentUrl, [{options}])`\n\nSynchronous version of `setCookie`; only works with synchronous stores (e.g. the default `MemoryCookieStore`).\n\n### `.getCookies(currentUrl, [{options},] cb(err,cookies))`\n\nRetrieve the list of cookies that can be sent in a Cookie header for the current url.\n\nIf an error is encountered, that's passed as `err` to the callback, otherwise an `Array` of `Cookie` objects is passed.  The array is sorted with `cookieCompare()` unless the `{sort:false}` option is given.\n\nThe `options` object can be omitted and can have the following properties:\n\n  * _http_ - boolean - default `true` - indicates if this is an HTTP or non-HTTP API.  Affects HttpOnly cookies.\n  * _secure_ - boolean - autodetect from url - indicates if this is a \"Secure\" API.  If the currentUrl starts with `https:` or `wss:` then this is defaulted to `true`, otherwise `false`.\n  * _now_ - Date - default `new Date()` - what to use for the creation/access time of cookies\n  * _expire_ - boolean - default `true` - perform expiry-time checking of cookies and asynchronously remove expired cookies from the store.  Using `false` will return expired cookies and **not** remove them from the store (which is useful for replaying Set-Cookie headers, potentially).\n  * _allPaths_ - boolean - default `false` - if `true`, do not scope cookies by path. The default uses RFC-compliant path scoping. **Note**: may not be supported by the underlying store (the default `MemoryCookieStore` supports it).\n\nThe `.lastAccessed` property of the returned cookies will have been updated.\n\n### `.getCookiesSync(currentUrl, [{options}])`\n\nSynchronous version of `getCookies`; only works with synchronous stores (e.g. the default `MemoryCookieStore`).\n\n### `.getCookieString(...)`\n\nAccepts the same options as `.getCookies()` but passes a string suitable for a Cookie header rather than an array to the callback.  Simply maps the `Cookie` array via `.cookieString()`.\n\n### `.getCookieStringSync(...)`\n\nSynchronous version of `getCookieString`; only works with synchronous stores (e.g. the default `MemoryCookieStore`).\n\n### `.getSetCookieStrings(...)`\n\nReturns an array of strings suitable for **Set-Cookie** headers. Accepts the same options as `.getCookies()`.  Simply maps the cookie array via `.toString()`.\n\n### `.getSetCookieStringsSync(...)`\n\nSynchronous version of `getSetCookieStrings`; only works with synchronous stores (e.g. the default `MemoryCookieStore`).\n\n### `.serialize(cb(err,serializedObject))`\n\nSerialize the Jar if the underlying store supports `.getAllCookies`.\n\n**NOTE**: Custom `Cookie` properties will be discarded. If you want a property to be serialized, add the property name to the `Cookie.serializableProperties` Array.\n\nSee [Serialization Format].\n\n### `.serializeSync()`\n\nSync version of .serialize\n\n### `.toJSON()`\n\nAlias of .serializeSync() for the convenience of `JSON.stringify(cookiejar)`.\n\n### `CookieJar.deserialize(serialized, [store], cb(err,object))`\n\nA new Jar is created and the serialized Cookies are added to the underlying store. Each `Cookie` is added via `store.putCookie` in the order in which they appear in the serialization.\n\nThe `store` argument is optional, but should be an instance of `Store`. By default, a new instance of `MemoryCookieStore` is created.\n\nAs a convenience, if `serialized` is a string, it is passed through `JSON.parse` first. If that throws an error, this is passed to the callback.\n\n### `CookieJar.deserializeSync(serialized, [store])`\n\nSync version of `.deserialize`.  _Note_ that the `store` must be synchronous for this to work.\n\n### `CookieJar.fromJSON(string)`\n\nAlias of `.deserializeSync` to provide consistency with `Cookie.fromJSON()`.\n\n### `.clone([store,]cb(err,newJar))`\n\nProduces a deep clone of this jar. Modifications to the original won't affect the clone, and vice versa.\n\nThe `store` argument is optional, but should be an instance of `Store`. By default, a new instance of `MemoryCookieStore` is created. Transferring between store types is supported so long as the source implements `.getAllCookies()` and the destination implements `.putCookie()`.\n\n### `.cloneSync([store])`\n\nSynchronous version of `.clone`, returning a new `CookieJar` instance.\n\nThe `store` argument is optional, but must be a _synchronous_ `Store` instance if specified. If not passed, a new instance of `MemoryCookieStore` is used.\n\nThe _source_ and _destination_ must both be synchronous `Store`s. If one or both stores are asynchronous, use `.clone` instead. Recall that `MemoryCookieStore` supports both synchronous and asynchronous API calls.\n\n## Store\n\nBase class for CookieJar stores. Available as `tough.Store`.\n\n## Store API\n\nThe storage model for each `CookieJar` instance can be replaced with a custom implementation.  The default is `MemoryCookieStore` which can be found in the `lib/memstore.js` file.  The API uses continuation-passing-style to allow for asynchronous stores.\n\nStores should inherit from the base `Store` class, which is available as `require('tough-cookie').Store`.\n\nStores are asynchronous by default, but if `store.synchronous` is set to `true`, then the `*Sync` methods on the of the containing `CookieJar` can be used (however, the continuation-passing style\n\nAll `domain` parameters will have been normalized before calling.\n\nThe Cookie store must have all of the following methods.\n\n### `store.findCookie(domain, path, key, cb(err,cookie))`\n\nRetrieve a cookie with the given domain, path and key (a.k.a. name).  The RFC maintains that exactly one of these cookies should exist in a store.  If the store is using versioning, this means that the latest/newest such cookie should be returned.\n\nCallback takes an error and the resulting `Cookie` object.  If no cookie is found then `null` MUST be passed instead (i.e. not an error).\n\n### `store.findCookies(domain, path, cb(err,cookies))`\n\nLocates cookies matching the given domain and path.  This is most often called in the context of `cookiejar.getCookies()` above.\n\nIf no cookies are found, the callback MUST be passed an empty array.\n\nThe resulting list will be checked for applicability to the current request according to the RFC (domain-match, path-match, http-only-flag, secure-flag, expiry, etc.), so it's OK to use an optimistic search algorithm when implementing this method.  However, the search algorithm used SHOULD try to find cookies that `domainMatch()` the domain and `pathMatch()` the path in order to limit the amount of checking that needs to be done.\n\nAs of version 0.9.12, the `allPaths` option to `cookiejar.getCookies()` above will cause the path here to be `null`.  If the path is `null`, path-matching MUST NOT be performed (i.e. domain-matching only).\n\n### `store.putCookie(cookie, cb(err))`\n\nAdds a new cookie to the store.  The implementation SHOULD replace any existing cookie with the same `.domain`, `.path`, and `.key` properties -- depending on the nature of the implementation, it's possible that between the call to `fetchCookie` and `putCookie` that a duplicate `putCookie` can occur.\n\nThe `cookie` object MUST NOT be modified; the caller will have already updated the `.creation` and `.lastAccessed` properties.\n\nPass an error if the cookie cannot be stored.\n\n### `store.updateCookie(oldCookie, newCookie, cb(err))`\n\nUpdate an existing cookie.  The implementation MUST update the `.value` for a cookie with the same `domain`, `.path` and `.key`.  The implementation SHOULD check that the old value in the store is equivalent to `oldCookie` - how the conflict is resolved is up to the store.\n\nThe `.lastAccessed` property will always be different between the two objects (to the precision possible via JavaScript's clock).  Both `.creation` and `.creationIndex` are guaranteed to be the same.  Stores MAY ignore or defer the `.lastAccessed` change at the cost of affecting how cookies are selected for automatic deletion (e.g., least-recently-used, which is up to the store to implement).\n\nStores may wish to optimize changing the `.value` of the cookie in the store versus storing a new cookie.  If the implementation doesn't define this method a stub that calls `putCookie(newCookie,cb)` will be added to the store object.\n\nThe `newCookie` and `oldCookie` objects MUST NOT be modified.\n\nPass an error if the newCookie cannot be stored.\n\n### `store.removeCookie(domain, path, key, cb(err))`\n\nRemove a cookie from the store (see notes on `findCookie` about the uniqueness constraint).\n\nThe implementation MUST NOT pass an error if the cookie doesn't exist; only pass an error due to the failure to remove an existing cookie.\n\n### `store.removeCookies(domain, path, cb(err))`\n\nRemoves matching cookies from the store.  The `path` parameter is optional, and if missing means all paths in a domain should be removed.\n\nPass an error ONLY if removing any existing cookies failed.\n\n### `store.getAllCookies(cb(err, cookies))`\n\nProduces an `Array` of all cookies during `jar.serialize()`. The items in the array can be true `Cookie` objects or generic `Object`s with the [Serialization Format] data structure.\n\nCookies SHOULD be returned in creation order to preserve sorting via `compareCookies()`. For reference, `MemoryCookieStore` will sort by `.creationIndex` since it uses true `Cookie` objects internally. If you don't return the cookies in creation order, they'll still be sorted by creation time, but this only has a precision of 1ms.  See `compareCookies` for more detail.\n\nPass an error if retrieval fails.\n\n## MemoryCookieStore\n\nInherits from `Store`.\n\nA just-in-memory CookieJar synchronous store implementation, used by default. Despite being a synchronous implementation, it's usable with both the synchronous and asynchronous forms of the `CookieJar` API.\n\n# Serialization Format\n\n**NOTE**: if you want to have custom `Cookie` properties serialized, add the property name to `Cookie.serializableProperties`.\n\n```js\n  {\n    // The version of tough-cookie that serialized this jar.\n    version: 'tough-cookie@1.x.y',\n\n    // add the store type, to make humans happy:\n    storeType: 'MemoryCookieStore',\n\n    // CookieJar configuration:\n    rejectPublicSuffixes: true,\n    // ... future items go here\n\n    // Gets filled from jar.store.getAllCookies():\n    cookies: [\n      {\n        key: 'string',\n        value: 'string',\n        // ...\n        /* other Cookie.serializableProperties go here */\n      }\n    ]\n  }\n```\n\n# Copyright and License\n\n(tl;dr: BSD-3-Clause with some MPL/2.0)\n\n```text\n Copyright (c) 2015, Salesforce.com, Inc.\n All rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are met:\n\n 1. Redistributions of source code must retain the above copyright notice,\n this list of conditions and the following disclaimer.\n\n 2. Redistributions in binary form must reproduce the above copyright notice,\n this list of conditions and the following disclaimer in the documentation\n and/or other materials provided with the distribution.\n\n 3. Neither the name of Salesforce.com nor the names of its contributors may\n be used to endorse or promote products derived from this software without\n specific prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n POSSIBILITY OF SUCH DAMAGE.\n```\n\nPortions may be licensed under different licenses (in particular `public_suffix_list.dat` is MPL/2.0); please read that file and the LICENSE file for full details.\n","readmeFilename":"README.md","_id":"tough-cookie@2.2.1","_shasum":"3b0516b799e70e8164436a1446e7e5877fda118e","_from":"tough-cookie@~2.2.0","_resolved":"https://registry.npmjs.org/tough-cookie/-/tough-cookie-2.2.1.tgz"}
},{}],371:[function(require,module,exports){
(function (process,Buffer){
"use strict";function httpOverHttp(e){var t=new TunnelingAgent(e);return t.request=http.request,t}function httpsOverHttp(e){var t=new TunnelingAgent(e);return t.request=http.request,t.createSocket=createSecureSocket,t.defaultPort=443,t}function httpOverHttps(e){var t=new TunnelingAgent(e);return t.request=https.request,t}function httpsOverHttps(e){var t=new TunnelingAgent(e);return t.request=https.request,t.createSocket=createSecureSocket,t.defaultPort=443,t}function TunnelingAgent(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||http.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(e,n,r){for(var s=0,o=t.requests.length;o>s;++s){var u=t.requests[s];if(u.host===n&&u.port===r)return t.requests.splice(s,1),void u.request.onSocket(e)}e.destroy(),t.removeSocket(e)})}function createSecureSocket(e,t){var n=this;TunnelingAgent.prototype.createSocket.call(n,e,function(r){var s=tls.connect(0,mergeOptions({},n.options,{servername:e.host,socket:r}));n.sockets[n.sockets.indexOf(r)]=s,t(s)})}function mergeOptions(e){for(var t=1,n=arguments.length;n>t;++t){var r=arguments[t];if("object"==typeof r)for(var s=Object.keys(r),o=0,u=s.length;u>o;++o){var i=s[o];void 0!==r[i]&&(e[i]=r[i])}}return e}var net=require("net"),tls=require("tls"),http=require("http"),https=require("https"),events=require("events"),assert=require("assert"),util=require("util");exports.httpOverHttp=httpOverHttp,exports.httpsOverHttp=httpsOverHttp,exports.httpOverHttps=httpOverHttps,exports.httpsOverHttps=httpsOverHttps,util.inherits(TunnelingAgent,events.EventEmitter),TunnelingAgent.prototype.addRequest=function(e,t){var n=this;return"string"==typeof t&&(t={host:t,port:arguments[2],path:arguments[3]}),n.sockets.length>=this.maxSockets?void n.requests.push({host:t.host,port:t.port,request:e}):void n.createConnection({host:t.host,port:t.port,request:e})},TunnelingAgent.prototype.createConnection=function(e){var t=this;t.createSocket(e,function(n){function r(){t.emit("free",n,e.host,e.port)}function s(e){t.removeSocket(n),n.removeListener("free",r),n.removeListener("close",s),n.removeListener("agentRemove",s)}n.on("free",r),n.on("close",s),n.on("agentRemove",s),e.request.onSocket(n)})},TunnelingAgent.prototype.createSocket=function(e,t){function n(e){e.upgrade=!0}function r(e,t,n){process.nextTick(function(){s(e,t,n)})}function s(n,r,s){if(a.removeAllListeners(),r.removeAllListeners(),200===n.statusCode)assert.equal(s.length,0),debug("tunneling connection has established"),u.sockets[u.sockets.indexOf(i)]=r,t(r);else{debug("tunneling socket could not be established, statusCode=%d",n.statusCode);var o=new Error("tunneling socket could not be established, statusCode="+n.statusCode);o.code="ECONNRESET",e.request.emit("error",o),u.removeSocket(i)}}function o(t){a.removeAllListeners(),debug("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var n=new Error("tunneling socket could not be established, cause="+t.message);n.code="ECONNRESET",e.request.emit("error",n),u.removeSocket(i)}var u=this,i={};u.sockets.push(i);var c=mergeOptions({},u.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1});c.proxyAuth&&(c.headers=c.headers||{},c.headers["Proxy-Authorization"]="Basic "+new Buffer(c.proxyAuth).toString("base64")),debug("making CONNECT request");var a=u.request(c);a.useChunkedEncodingByDefault=!1,a.once("response",n),a.once("upgrade",r),a.once("connect",s),a.once("error",o),a.end()},TunnelingAgent.prototype.removeSocket=function(e){var t=this.sockets.indexOf(e);if(-1!==t){this.sockets.splice(t,1);var n=this.requests.shift();n&&this.createConnection(n)}};var debug;debug=process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments);"string"==typeof e[0]?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:function(){},exports.debug=debug;
}).call(this,require('_process'),require("buffer").Buffer)

},{"_process":425,"assert":2,"buffer":42,"events":84,"http":92,"https":95,"net":35,"tls":35,"util":594}],372:[function(require,module,exports){
(function (process,Buffer){
"use strict";function filterForNonReserved(e,t){var r={};for(var o in t){var n=-1===e.indexOf(o);n&&(r[o]=t[o])}return r}function filterOutReservedFunctions(e,t){var r={};for(var o in t){var n=!(-1===e.indexOf(o)),i="function"==typeof t[o];n&&i||(r[o]=t[o])}return r}function connectionErrorHandler(e){var t=this;t.res?t.res.request?t.res.request.emit("error",e):t.res.emit("error",e):t._httpMessage.emit("error",e)}function requestToJSON(){var e=this;return{uri:e.uri,method:e.method,headers:e.headers}}function responseToJSON(){var e=this;return{statusCode:e.statusCode,body:e.body,headers:e.headers,request:requestToJSON.call(e.request)}}function Request(e){var t=this;e.har&&(t._har=new Har(t),e=t._har.options(e)),stream.Stream.call(t);var r=Object.keys(Request.prototype),o=filterForNonReserved(r,e);util._extend(t,o),e=filterOutReservedFunctions(r,e),t.readable=!0,t.writable=!0,e.method&&(t.explicitMethod=!0),t._qs=new Querystring(t),t._auth=new Auth(t),t._oauth=new OAuth(t),t._multipart=new Multipart(t),t._redirect=new Redirect(t),t._tunnel=new Tunnel(t),t.init(e)}function debug(){Request.debug&&console.error("REQUEST %s",util.format.apply(util,arguments))}var http=require("http"),https=require("https"),url=require("url"),util=require("util"),stream=require("stream"),zlib=require("zlib"),bl=require("bl"),hawk=require("hawk"),aws=require("aws-sign2"),httpSignature=require("http-signature"),mime=require("mime-types"),stringstream=require("stringstream"),caseless=require("caseless"),ForeverAgent=require("forever-agent"),FormData=require("form-data"),isTypedArray=require("is-typedarray").strict,helpers=require("./lib/helpers"),cookies=require("./lib/cookies"),getProxyFromURI=require("./lib/getProxyFromURI"),Querystring=require("./lib/querystring").Querystring,Har=require("./lib/har").Har,Auth=require("./lib/auth").Auth,OAuth=require("./lib/oauth").OAuth,Multipart=require("./lib/multipart").Multipart,Redirect=require("./lib/redirect").Redirect,Tunnel=require("./lib/tunnel").Tunnel,safeStringify=helpers.safeStringify,isReadStream=helpers.isReadStream,toBase64=helpers.toBase64,defer=helpers.defer,copy=helpers.copy,version=helpers.version,globalCookieJar=cookies.jar(),globalPool={};util.inherits(Request,stream.Stream),Request.debug=process.env.NODE_DEBUG&&/\brequest\b/.test(process.env.NODE_DEBUG),Request.prototype.debug=debug,Request.prototype.init=function(e){function t(){if(isTypedArray(r.body)&&(r.body=new Buffer(r.body)),!r.hasHeader("content-length")){var e;e="string"==typeof r.body?Buffer.byteLength(r.body):Array.isArray(r.body)?r.body.reduce(function(e,t){return e+t.length},0):r.body.length,e?r.setHeader("content-length",e):r.emit("error",new Error("Argument error, options.body."))}}var r=this;e||(e={}),r.headers=r.headers?copy(r.headers):{};for(var o in r.headers)"undefined"==typeof r.headers[o]&&delete r.headers[o];if(caseless.httpify(r,r.headers),r.method||(r.method=e.method||"GET"),r.localAddress||(r.localAddress=e.localAddress),r._qs.init(e),debug(e),r.pool||r.pool===!1||(r.pool=globalPool),r.dests=r.dests||[],r.__isRequestRequest=!0,!r._callback&&r.callback&&(r._callback=r.callback,r.callback=function(){r._callbackCalled||(r._callbackCalled=!0,r._callback.apply(r,arguments))},r.on("error",r.callback.bind()),r.on("complete",r.callback.bind(r,null))),!r.uri&&r.url&&(r.uri=r.url,delete r.url),r.baseUrl){if("string"!=typeof r.baseUrl)return r.emit("error",new Error("options.baseUrl must be a string"));if("string"!=typeof r.uri)return r.emit("error",new Error("options.uri must be a string when using options.baseUrl"));if(0===r.uri.indexOf("//")||-1!==r.uri.indexOf("://"))return r.emit("error",new Error("options.uri must be a path when using options.baseUrl"));var n=r.baseUrl.lastIndexOf("/")===r.baseUrl.length-1,i=0===r.uri.indexOf("/");n&&i?r.uri=r.baseUrl+r.uri.slice(1):n||i?r.uri=r.baseUrl+r.uri:""===r.uri?r.uri=r.baseUrl:r.uri=r.baseUrl+"/"+r.uri,delete r.baseUrl}if(!r.uri)return r.emit("error",new Error("options.uri is a required argument"));if("string"==typeof r.uri&&(r.uri=url.parse(r.uri)),r.uri.href||(r.uri.href=url.format(r.uri)),"unix:"===r.uri.protocol)return r.emit("error",new Error("`unix://` URL scheme is no longer supported. Please use the format `http://unix:SOCKET:PATH`"));if("unix"===r.uri.host&&r.enableUnixSocket(),r.strictSSL===!1&&(r.rejectUnauthorized=!1),r.uri.pathname||(r.uri.pathname="/"),!(r.uri.host||r.uri.hostname&&r.uri.port||r.uri.isUnix)){var s=url.format(r.uri),a='Invalid URI "'+s+'"';return 0===Object.keys(e).length&&(a+=". This can be caused by a crappy redirection."),r.abort(),r.emit("error",new Error(a))}if(r.hasOwnProperty("proxy")||(r.proxy=getProxyFromURI(r.uri)),r.tunnel=r._tunnel.isEnabled(),r.proxy&&r._tunnel.setup(e),r._redirect.onRequest(e),r.setHost=!1,!r.hasHeader("host")){var u=r.originalHostHeaderName||"host";r.setHeader(u,r.uri.hostname),r.uri.port&&(80===r.uri.port&&"http:"===r.uri.protocol||443===r.uri.port&&"https:"===r.uri.protocol||r.setHeader(u,r.getHeader("host")+(":"+r.uri.port))),r.setHost=!0}if(r.jar(r._jar||e.jar),r.uri.port||("http:"===r.uri.protocol?r.uri.port=80:"https:"===r.uri.protocol&&(r.uri.port=443)),r.proxy&&!r.tunnel?(r.port=r.proxy.port,r.host=r.proxy.hostname):(r.port=r.uri.port,r.host=r.uri.hostname),e.form&&r.form(e.form),e.formData){var p=e.formData,d=r.form(),c=function(e,t){t.hasOwnProperty("value")&&t.hasOwnProperty("options")?d.append(e,t.value,t.options):d.append(e,t)};for(var h in p)if(p.hasOwnProperty(h)){var l=p[h];if(l instanceof Array)for(var f=0;f<l.length;f++)c(h,l[f]);else c(h,l)}}if(e.qs&&r.qs(e.qs),r.uri.path?r.path=r.uri.path:r.path=r.uri.pathname+(r.uri.search||""),0===r.path.length&&(r.path="/"),e.aws&&r.aws(e.aws),e.hawk&&r.hawk(e.hawk),e.httpSignature&&r.httpSignature(e.httpSignature),e.auth&&(Object.prototype.hasOwnProperty.call(e.auth,"username")&&(e.auth.user=e.auth.username),Object.prototype.hasOwnProperty.call(e.auth,"password")&&(e.auth.pass=e.auth.password),r.auth(e.auth.user,e.auth.pass,e.auth.sendImmediately,e.auth.bearer)),r.gzip&&!r.hasHeader("accept-encoding")&&r.setHeader("accept-encoding","gzip"),r.uri.auth&&!r.hasHeader("authorization")){var m=r.uri.auth.split(":").map(function(e){return r._qs.unescape(e)});r.auth(m[0],m.slice(1).join(":"),!0)}if(!r.tunnel&&r.proxy&&r.proxy.auth&&!r.hasHeader("proxy-authorization")){var g=r.proxy.auth.split(":").map(function(e){return r._qs.unescape(e)}),y="Basic "+toBase64(g.join(":"));r.setHeader("proxy-authorization",y)}r.proxy&&!r.tunnel&&(r.path=r.uri.protocol+"//"+r.uri.host+r.path),e.json&&r.json(e.json),e.multipart&&r.multipart(e.multipart),e.time&&(r.timing=!0,r.elapsedTime=r.elapsedTime||0),r.body&&t(),e.oauth?r.oauth(e.oauth):r._oauth.params&&r.hasHeader("authorization")&&r.oauth(r._oauth.params);var b=r.proxy&&!r.tunnel?r.proxy.protocol:r.uri.protocol,q={"http:":http,"https:":https},v=r.httpModules||{};if(r.httpModule=v[b]||q[b],!r.httpModule)return r.emit("error",new Error("Invalid protocol: "+b));if(e.ca&&(r.ca=e.ca),!r.agent)if(e.agentOptions&&(r.agentOptions=e.agentOptions),e.agentClass)r.agentClass=e.agentClass;else if(e.forever){var _=version();0===_.major&&_.minor<=10?r.agentClass="http:"===b?ForeverAgent:ForeverAgent.SSL:(r.agentClass=r.httpModule.Agent,r.agentOptions=r.agentOptions||{},r.agentOptions.keepAlive=!0)}else r.agentClass=r.httpModule.Agent;r.pool===!1?r.agent=!1:r.agent=r.agent||r.getNewAgent(),r.on("pipe",function(e){if(r.ntick&&r._started&&r.emit("error",new Error("You cannot pipe to this stream after the outbound request has started.")),r.src=e,isReadStream(e))r.hasHeader("content-type")||r.setHeader("content-type",mime.lookup(e.path));else{if(e.headers)for(var t in e.headers)r.hasHeader(t)||r.setHeader(t,e.headers[t]);r._json&&!r.hasHeader("content-type")&&r.setHeader("content-type","application/json"),e.method&&!r.explicitMethod&&(r.method=e.method)}}),defer(function(){if(!r._aborted){var e=function(){if(r._form&&(r._auth.hasAuth?r._auth.hasAuth&&r._auth.sentAuth&&r._form.pipe(r):r._form.pipe(r)),r._multipart&&r._multipart.chunked&&r._multipart.body.pipe(r),r.body)t(),Array.isArray(r.body)?r.body.forEach(function(e){r.write(e)}):r.write(r.body),r.end();else if(r.requestBodyStream)console.warn("options.requestBodyStream is deprecated, please pass the request object to stream.pipe."),r.requestBodyStream.pipe(r);else if(!r.src){if(r._auth.hasAuth&&!r._auth.sentAuth)return void r.end();"GET"!==r.method&&"undefined"!=typeof r.method&&r.setHeader("content-length",0),r.end()}};r._form&&!r.hasHeader("content-length")?(r.setHeader(r._form.getHeaders(),!0),r._form.getLength(function(t,o){t||r.setHeader("content-length",o),e()})):e(),r.ntick=!0}})},Request.prototype.getNewAgent=function(){var e=this,t=e.agentClass,r={};if(e.agentOptions)for(var o in e.agentOptions)r[o]=e.agentOptions[o];e.ca&&(r.ca=e.ca),e.ciphers&&(r.ciphers=e.ciphers),e.secureProtocol&&(r.secureProtocol=e.secureProtocol),e.secureOptions&&(r.secureOptions=e.secureOptions),"undefined"!=typeof e.rejectUnauthorized&&(r.rejectUnauthorized=e.rejectUnauthorized),e.cert&&e.key&&(r.key=e.key,r.cert=e.cert),e.pfx&&(r.pfx=e.pfx),e.passphrase&&(r.passphrase=e.passphrase);var n="";t!==e.httpModule.Agent&&(n+=t.name);var i=e.proxy;"string"==typeof i&&(i=url.parse(i));var s=i&&"https:"===i.protocol||"https:"===this.uri.protocol;return s&&(r.ca&&(n&&(n+=":"),n+=r.ca),"undefined"!=typeof r.rejectUnauthorized&&(n&&(n+=":"),n+=r.rejectUnauthorized),r.cert&&(n&&(n+=":"),n+=r.cert.toString("ascii")+r.key.toString("ascii")),r.pfx&&(n&&(n+=":"),n+=r.pfx.toString("ascii")),r.ciphers&&(n&&(n+=":"),n+=r.ciphers),r.secureProtocol&&(n&&(n+=":"),n+=r.secureProtocol),r.secureOptions&&(n&&(n+=":"),n+=r.secureOptions)),e.pool===globalPool&&!n&&0===Object.keys(r).length&&e.httpModule.globalAgent?e.httpModule.globalAgent:(n=e.uri.protocol+n,e.pool[n]||(e.pool[n]=new t(r),e.pool.maxSockets&&(e.pool[n].maxSockets=e.pool.maxSockets)),e.pool[n])},Request.prototype.start=function(){var e=this;if(!e._aborted){e._started=!0,e.method=e.method||"GET",e.href=e.uri.href,e.src&&e.src.stat&&e.src.stat.size&&!e.hasHeader("content-length")&&e.setHeader("content-length",e.src.stat.size),e._aws&&e.aws(e._aws,!0);var t=copy(e);if(delete t.auth,debug("make request",e.uri.href),e.req=e.httpModule.request(t),e.timing&&(e.startTime=(new Date).getTime()),e.timeout&&!e.timeoutTimer){var r=e.timeout<0?0:e.timeout;e.timeoutTimer=setTimeout(function(){var t=e.req.socket&&e.req.socket.readable===!1;e.abort();var r=new Error("ETIMEDOUT");r.code="ETIMEDOUT",r.connect=t,e.emit("error",r)},r),e.req.setTimeout&&e.req.setTimeout(r,function(){if(e.req){e.req.abort();var t=new Error("ESOCKETTIMEDOUT");t.code="ESOCKETTIMEDOUT",t.connect=!1,e.emit("error",t)}})}e.req.on("response",e.onRequestResponse.bind(e)),e.req.on("error",e.onRequestError.bind(e)),e.req.on("drain",function(){e.emit("drain")}),e.req.on("socket",function(t){e.emit("socket",t)}),e.on("end",function(){e.req.connection&&e.req.connection.removeListener("error",connectionErrorHandler)}),e.emit("request",e.req)}},Request.prototype.onRequestError=function(e){var t=this;if(!t._aborted){if(t.req&&t.req._reusedSocket&&"ECONNRESET"===e.code&&t.agent.addRequestNoreuse)return t.agent={addRequest:t.agent.addRequestNoreuse.bind(t.agent)},t.start(),void t.req.end();t.timeout&&t.timeoutTimer&&(clearTimeout(t.timeoutTimer),t.timeoutTimer=null),t.emit("error",e)}},Request.prototype.onRequestResponse=function(e){var t=this;if(debug("onRequestResponse",t.uri.href,e.statusCode,e.headers),e.on("end",function(){t.timing&&(t.elapsedTime+=(new Date).getTime()-t.startTime,debug("elapsed time",t.elapsedTime),e.elapsedTime=t.elapsedTime),debug("response end",t.uri.href,e.statusCode,e.headers)}),e.connection&&-1===e.connection.listeners("error").indexOf(connectionErrorHandler)&&(e.connection.setMaxListeners(0),e.connection.once("error",connectionErrorHandler)),t._aborted)return debug("aborted",t.uri.href),void e.resume();if(t.response=e,e.request=t,e.toJSON=responseToJSON,t.httpModule===https&&t.strictSSL&&(!e.hasOwnProperty("socket")||!e.socket.authorized)){debug("strict ssl error",t.uri.href);var r=e.hasOwnProperty("socket")?e.socket.authorizationError:t.uri.href+" does not support SSL";return void t.emit("error",new Error("SSL Error: "+r))}t.originalHost=t.getHeader("host"),t.originalHostHeaderName||(t.originalHostHeaderName=t.hasHeader("host")),t.setHost&&t.removeHeader("host"),t.timeout&&t.timeoutTimer&&(clearTimeout(t.timeoutTimer),t.timeoutTimer=null);var o=t._jar&&t._jar.setCookie?t._jar:globalCookieJar,n=function(e){try{o.setCookie(e,t.uri.href,{ignoreError:!0})}catch(r){t.emit("error",r)}};if(e.caseless=caseless(e.headers),e.caseless.has("set-cookie")&&!t._disableCookies){var i=e.caseless.has("set-cookie");Array.isArray(e.headers[i])?e.headers[i].forEach(n):n(e.headers[i])}if(!t._redirect.onResponse(e)){e.on("close",function(){t._ended||t.response.emit("end")}),e.on("end",function(){t._ended=!0});var s;if(t.gzip){var a=e.headers["content-encoding"]||"identity";a=a.trim().toLowerCase(),"gzip"===a?(s=zlib.createGunzip(),e.pipe(s)):("identity"!==a&&debug("ignoring unrecognized Content-Encoding "+a),s=e)}else s=e;t.encoding&&(0!==t.dests.length?console.error("Ignoring encoding parameter as this stream is being piped to another stream which makes the encoding option invalid."):s.setEncoding?s.setEncoding(t.encoding):s=s.pipe(stringstream(t.encoding))),t._paused&&s.pause(),t.responseContent=s,t.emit("response",e),t.dests.forEach(function(e){t.pipeDest(e)}),s.on("data",function(e){t._destdata=!0,t.emit("data",e)}),s.on("end",function(e){t.emit("end",e)}),s.on("error",function(e){t.emit("error",e)}),s.on("close",function(){t.emit("close")}),t.callback?t.readResponseBody(e):t.on("end",function(){return t._aborted?void debug("aborted",t.uri.href):void t.emit("complete",e)}),debug("finish init function",t.uri.href)}},Request.prototype.readResponseBody=function(e){var t=this;debug("reading response's body");var r=bl(),o=[];t.on("data",function(e){Buffer.isBuffer(e)?r.append(e):o.push(e)}),t.on("end",function(){if(debug("end event",t.uri.href),t._aborted)return void debug("aborted",t.uri.href);if(r.length?(debug("has body",t.uri.href,r.length),null===t.encoding?e.body=r.slice():e.body=r.toString(t.encoding)):o.length&&("utf8"===t.encoding&&o[0].length>0&&"\ufeff"===o[0][0]&&(o[0]=o[0].substring(1)),e.body=o.join("")),t._json)try{e.body=JSON.parse(e.body,t._jsonReviver)}catch(n){debug("invalid JSON received",t.uri.href)}debug("emitting complete",t.uri.href),"undefined"!=typeof e.body||t._json||(e.body=null===t.encoding?new Buffer(0):""),t.emit("complete",e,e.body)})},Request.prototype.abort=function(){var e=this;e._aborted=!0,e.req?e.req.abort():e.response&&e.response.abort(),e.emit("abort")},Request.prototype.pipeDest=function(e){var t=this,r=t.response;if(e.headers&&!e.headersSent){if(r.caseless.has("content-type")){var o=r.caseless.has("content-type");e.setHeader?e.setHeader(o,r.headers[o]):e.headers[o]=r.headers[o]}if(r.caseless.has("content-length")){var n=r.caseless.has("content-length");e.setHeader?e.setHeader(n,r.headers[n]):e.headers[n]=r.headers[n]}}if(e.setHeader&&!e.headersSent){for(var i in r.headers)t.gzip&&"content-encoding"===i||e.setHeader(i,r.headers[i]);e.statusCode=r.statusCode}t.pipefilter&&t.pipefilter(r,e)},Request.prototype.qs=function(e,t){var r,o=this;r=!t&&o.uri.query?o._qs.parse(o.uri.query):{};for(var n in e)r[n]=e[n];var i=o._qs.stringify(r);return""===i?o:(o.uri=url.parse(o.uri.href.split("?")[0]+"?"+i),o.url=o.uri,o.path=o.uri.path,"unix"===o.uri.host&&o.enableUnixSocket(),o)},Request.prototype.form=function(e){var t=this;return e?(/^application\/x-www-form-urlencoded\b/.test(t.getHeader("content-type"))||t.setHeader("content-type","application/x-www-form-urlencoded"),t.body="string"==typeof e?t._qs.rfc3986(e.toString("utf8")):t._qs.stringify(e).toString("utf8"),t):(t._form=new FormData,t._form.on("error",function(e){e.message="form-data: "+e.message,t.emit("error",e),t.abort()}),t._form)},Request.prototype.multipart=function(e){var t=this;return t._multipart.onRequest(e),t._multipart.chunked||(t.body=t._multipart.body),t},Request.prototype.json=function(e){var t=this;return t.hasHeader("accept")||t.setHeader("accept","application/json"),t._json=!0,"boolean"==typeof e?void 0!==t.body&&(/^application\/x-www-form-urlencoded\b/.test(t.getHeader("content-type"))?t.body=t._qs.rfc3986(t.body):t.body=safeStringify(t.body),t.hasHeader("content-type")||t.setHeader("content-type","application/json")):(t.body=safeStringify(e),t.hasHeader("content-type")||t.setHeader("content-type","application/json")),"function"==typeof t.jsonReviver&&(t._jsonReviver=t.jsonReviver),t},Request.prototype.getHeader=function(e,t){var r,o,n,i=this;return t||(t=i.headers),Object.keys(t).forEach(function(i){i.length===e.length&&(o=new RegExp(e,"i"),n=i.match(o),n&&(r=t[i]))}),r},Request.prototype.enableUnixSocket=function(){var e=this.uri.path.split(":"),t=e[0],r=e[1];this.socketPath=t,this.uri.pathname=r,this.uri.path=r,this.uri.host=t,this.uri.hostname=t,this.uri.isUnix=!0},Request.prototype.auth=function(e,t,r,o){var n=this;return n._auth.onRequest(e,t,r,o),n},Request.prototype.aws=function(e,t){var r=this;if(!t)return r._aws=e,r;var o=new Date;r.setHeader("date",o.toUTCString());var n={key:e.key,secret:e.secret,verb:r.method.toUpperCase(),date:o,contentType:r.getHeader("content-type")||"",md5:r.getHeader("content-md5")||"",amazonHeaders:aws.canonicalizeHeaders(r.headers)},i=r.uri.path;return e.bucket&&i?n.resource="/"+e.bucket+i:e.bucket&&!i?n.resource="/"+e.bucket:!e.bucket&&i?n.resource=i:e.bucket||i||(n.resource="/"),n.resource=aws.canonicalizeResource(n.resource),r.setHeader("authorization",aws.authorization(n)),r},Request.prototype.httpSignature=function(e){var t=this;return httpSignature.signRequest({getHeader:function(e){return t.getHeader(e,t.headers)},setHeader:function(e,r){t.setHeader(e,r)},method:t.method,path:t.path},e),debug("httpSignature authorization",t.getHeader("authorization")),t},Request.prototype.hawk=function(e){var t=this;t.setHeader("Authorization",hawk.client.header(t.uri,t.method,e).field)},Request.prototype.oauth=function(e){var t=this;return t._oauth.onRequest(e),t},Request.prototype.jar=function(e){var t,r=this;if(0===r._redirect.redirectsFollowed&&(r.originalCookieHeader=r.getHeader("cookie")),e){var o=e&&e.getCookieString?e:globalCookieJar,n=r.uri.href;o&&(t=o.getCookieString(n))}else t=!1,r._disableCookies=!0;return t&&t.length&&(r.originalCookieHeader?r.setHeader("cookie",r.originalCookieHeader+"; "+t):r.setHeader("cookie",t)),r._jar=e,r},Request.prototype.pipe=function(e,t){var r=this;if(!r.response)return r.dests.push(e),stream.Stream.prototype.pipe.call(r,e,t),e;if(r._destdata)r.emit("error",new Error("You cannot pipe after data has been emitted from the response."));else{if(!r._ended)return stream.Stream.prototype.pipe.call(r,e,t),r.pipeDest(e),e;r.emit("error",new Error("You cannot pipe after the response has been ended."))}},Request.prototype.write=function(){var e=this;if(!e._aborted)return e._started||e.start(),e.req.write.apply(e.req,arguments)},Request.prototype.end=function(e){var t=this;t._aborted||(e&&t.write(e),t._started||t.start(),t.req.end())},Request.prototype.pause=function(){var e=this;e.responseContent?e.responseContent.pause.apply(e.responseContent,arguments):e._paused=!0},Request.prototype.resume=function(){var e=this;e.responseContent?e.responseContent.resume.apply(e.responseContent,arguments):e._paused=!1},Request.prototype.destroy=function(){var e=this;e._ended?e.response&&e.response.destroy():e.end()},Request.defaultProxyHeaderWhiteList=Tunnel.defaultProxyHeaderWhiteList.slice(),Request.defaultProxyHeaderExclusiveList=Tunnel.defaultProxyHeaderExclusiveList.slice(),Request.prototype.toJSON=requestToJSON,module.exports=Request;
}).call(this,require('_process'),require("buffer").Buffer)

},{"./lib/auth":248,"./lib/cookies":249,"./lib/getProxyFromURI":250,"./lib/har":251,"./lib/helpers":252,"./lib/multipart":253,"./lib/oauth":254,"./lib/querystring":255,"./lib/redirect":256,"./lib/tunnel":257,"_process":425,"aws-sign2":258,"bl":259,"buffer":42,"caseless":270,"forever-agent":274,"form-data":275,"hawk":304,"http":92,"http-signature":305,"https":95,"is-typedarray":351,"mime-types":354,"stream":573,"stringstream":363,"url":592,"util":594,"zlib":34}],373:[function(require,module,exports){
module.exports=require("./lib/sse");
},{"./lib/sse":374}],374:[function(require,module,exports){
function SSE(e,r){r=new Options({path:"/sse",verifyRequest:null}).merge(r),this.server=e;var t=this.server.listeners("request");this.server.removeAllListeners("request");var i=this;this.server.on("request",function(e,s){var n=url.parse(e.url);if(n.pathname!=r.value.path||null!=r.value.verifyRequest&&!r.value.verifyRequest(e))for(var u=0,l=t.length;l>u;++u)t[u].call(i.server,e,s);else i.handleRequest(e,s,n.query)})}var Options=require("options"),util=require("util"),url=require("url"),querystring=require("querystring"),events=require("events"),SSEClient=require("./sseclient");module.exports=SSE,module.exports.Client=SSEClient,util.inherits(SSE,events.EventEmitter),SSE.prototype.handleRequest=function(e,r,t){var i=new SSEClient(e,r);i.initialize(),this.emit("connection",i,querystring.parse(t))};
},{"./sseclient":375,"events":84,"options":376,"querystring":436,"url":592,"util":594}],375:[function(require,module,exports){
function SSEClient(e,t){this.req=e,this.res=t;var i=this;t.on("close",function(){i.emit("close")})}var util=require("util"),events=require("events");module.exports=SSEClient,util.inherits(SSEClient,events.EventEmitter),SSEClient.prototype.initialize=function(){this.req.socket.setNoDelay(!0),this.res.writeHead(200,{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}),this.res.write(":ok\n\n")},SSEClient.prototype.send=function(e,t,i){if(0!==arguments.length){var n={event:e||void 0,data:t||void 0,id:i||void 0,retry:void 0};"object"==typeof e&&(n.event=e.event||void 0,n.data=e.data||void 0,n.id=e.id||void 0,n.retry=e.retry||void 0),"object"!=typeof e&&1===arguments.length&&(n.event=void 0,n.data=e),n.event&&this.res.write("event: "+n.event+"\n"),n.retry&&this.res.write("retry: "+n.retry+"\n"),n.id&&this.res.write("id: "+n.id+"\n"),n.data=n.data.replace(/(\r\n|\r|\n)/g,"\n");for(var r=n.data.split(/\n/),o=0,s=r.length;s>o;++o){var a=r[o];o+1===s?this.res.write("data: "+a+"\n\n"):this.res.write("data: "+a+"\n")}}},SSEClient.prototype.close=function(){this.res.end()};
},{"events":84,"util":594}],376:[function(require,module,exports){
function Options(e){var n={},t=this.value={};Object.keys(e).forEach(function(r){n[r]=e[r],Object.defineProperty(t,r,{get:function(){return n[r]},configurable:!1,enumerable:!0})}),this.reset=function(){return Object.keys(e).forEach(function(t){n[t]=e[t]}),this},this.merge=function(e,t){if(e=e||{},"[object Array]"===Object.prototype.toString.call(t)){for(var r=[],i=0,o=t.length;o>i;++i){var f=t[i];f in e||r.push(f)}if(r.length>0)throw r.length>1?new Error("options "+r.slice(0,r.length-1).join(", ")+" and "+r[r.length-1]+" must be defined"):new Error("option "+r[0]+" must be defined")}return Object.keys(e).forEach(function(t){t in n&&(n[t]=e[t])}),this},this.copy=function(n){var r={};return Object.keys(e).forEach(function(e){-1!==n.indexOf(e)&&(r[e]=t[e])}),r},this.read=function(e,n){if("function"==typeof n){var t=this;fs.readFile(e,function(e,r){if(e)return n(e);var i=JSON.parse(r);t.merge(i),n()})}else{var r=JSON.parse(fs.readFileSync(e));this.merge(r)}return this},this.isDefined=function(e){return"undefined"!=typeof t[e]},this.isDefinedAndNonNull=function(e){return"undefined"!=typeof t[e]&&null!==t[e]},Object.freeze(t),Object.freeze(this)}var fs=require("fs");module.exports=Options;
},{"fs":35}],377:[function(require,module,exports){
arguments[4][149][0].apply(exports,arguments)
},{"dup":149}],378:[function(require,module,exports){
function tostr(t){var o,r;for(o=[],r=0;r<t.length;r++)o.push(UIDCHARS[t[r]%UIDCHARS.length]);return o.join("")}function uid(t,o){return"undefined"==typeof o?tostr(crypto.pseudoRandomBytes(t)):void crypto.pseudoRandomBytes(t,function(t,r){return t?o(t):void o(null,tostr(r))})}var crypto=require("crypto"),UIDCHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";module.exports=uid;
},{"crypto":52}],379:[function(require,module,exports){
var trim=require("./trim"),decap=require("./decapitalize");module.exports=function(e,r){return e=trim(e).replace(/[-_\s]+(.)?/g,function(e,r){return r?r.toUpperCase():""}),r===!0?decap(e):e};
},{"./decapitalize":382,"./trim":386}],380:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){e=makeString(e);var t=r?e.slice(1).toLowerCase():e.slice(1);return e.charAt(0).toUpperCase()+t};
},{"./helper/makeString":385}],381:[function(require,module,exports){
var capitalize=require("./capitalize"),camelize=require("./camelize"),makeString=require("./helper/makeString");module.exports=function(e){return e=makeString(e),capitalize(camelize(e.replace(/[\W_]/g," ")).replace(/\s/g,""))};
},{"./camelize":379,"./capitalize":380,"./helper/makeString":385}],382:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e){return e=makeString(e),e.charAt(0).toLowerCase()+e.slice(1)};
},{"./helper/makeString":385}],383:[function(require,module,exports){
var escapeRegExp=require("./escapeRegExp");module.exports=function(e){return null==e?"\\s":e.source?e.source:"["+escapeRegExp(e)+"]"};
},{"./escapeRegExp":384}],384:[function(require,module,exports){
var makeString=require("./makeString");module.exports=function(e){return makeString(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")};
},{"./makeString":385}],385:[function(require,module,exports){
module.exports=function(n){return null==n?"":""+n};
},{}],386:[function(require,module,exports){
var makeString=require("./helper/makeString"),defaultToWhiteSpace=require("./helper/defaultToWhiteSpace"),nativeTrim=String.prototype.trim;module.exports=function(e,r){return e=makeString(e),!r&&nativeTrim?nativeTrim.call(e):(r=defaultToWhiteSpace(r),e.replace(new RegExp("^"+r+"+|"+r+"+$","g"),""))};
},{"./helper/defaultToWhiteSpace":383,"./helper/makeString":385}],387:[function(require,module,exports){
module.exports={"name":"loopback","version":"2.26.2","description":"LoopBack: Open Source Framework for Node.js","homepage":"http://loopback.io","keywords":["web","restful","rest","api","express","restify","koa","auth","security","oracle","mysql","nosql","mongo","mongodb","sqlserver","mssql","postgres","postgresql","soap","StrongLoop","framework","mobile","mBaaS"],"scripts":{"test":"grunt mocha-and-karma"},"dependencies":{"async":"^0.9.0","bcryptjs":"^2.1.0","body-parser":"^1.12.0","canonical-json":"0.0.4","continuation-local-storage":"^3.1.3","cookie-parser":"^1.3.4","debug":"^2.1.2","depd":"^1.0.0","ejs":"^2.3.1","errorhandler":"^1.3.4","express":"^4.12.2","inflection":"^1.6.0","loopback-connector-remote":"^1.0.3","loopback-phase":"^1.2.0","nodemailer":"^1.3.1","nodemailer-stub-transport":"^0.1.5","serve-favicon":"^2.2.0","stable":"^0.1.5","strong-remoting":"^2.21.0","uid2":"0.0.3","underscore.string":"^3.0.3","sl-blip":"http://blip.strongloop.com/loopback@2.26.2"},"peerDependencies":{"loopback-datasource-juggler":"^2.19.0"},"devDependencies":{"bluebird":"^2.9.9","browserify":"^10.0.0","chai":"^2.1.1","es5-shim":"^4.1.0","grunt":"^0.4.5","grunt-browserify":"^3.5.0","grunt-cli":"^0.1.13","grunt-contrib-jshint":"^0.11.0","grunt-contrib-uglify":"^0.9.1","grunt-contrib-watch":"^0.6.1","grunt-jscs":"^1.5.0","grunt-karma":"^0.10.1","grunt-mocha-test":"^0.12.7","karma":"^0.12.31","karma-browserify":"^4.0.0","karma-chrome-launcher":"^0.1.7","karma-firefox-launcher":"^0.1.4","karma-html2js-preprocessor":"^0.1.0","karma-junit-reporter":"^0.2.2","karma-mocha":"^0.1.10","karma-phantomjs-launcher":"^0.1.4","karma-script-launcher":"^0.1.0","loopback-boot":"^2.7.0","loopback-datasource-juggler":"^2.19.1","loopback-testing":"~1.1.0","mocha":"^2.1.0","sinon":"^1.13.0","strong-task-emitter":"^0.0.6","supertest":"^0.15.0"},"repository":{"type":"git","url":"https://github.com/strongloop/loopback"},"browser":{"express":"./lib/browser-express.js","./lib/server-app.js":"./lib/browser-express.js","./server/current-context.js":"./browser/current-context.js","connect":false,"nodemailer":false,"supertest":false,"depd":"loopback-datasource-juggler/lib/browser.depd.js","bcrypt":false},"license":"MIT","optionalDependencies":{"sl-blip":"http://blip.strongloop.com/loopback@2.26.2"},"readme":"# LoopBack\n\n[![Gitter](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/strongloop/loopback?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)\n\nLoopBack is a highly-extensible, open-source Node.js framework that enables you to:\n\n  * Create dynamic end-to-end REST APIs with little or no coding.\n  * Access data from Oracle, MySQL, PostgreSQL, MS SQL Server, MongoDB, SOAP and other REST APIs.\n  * Incorporate model relationships and access controls for complex APIs.\n  * Use built-in push, geolocation, and file services for mobile apps.\n  * Easily create client apps using Android, iOS, and JavaScript SDKs.\n  * Run your application on-premises or in the cloud.\n\nLoopBack consists of:\n\n  * A library of Node.js modules.\n  * [Yeoman](http://yeoman.io/) generators for scaffolding applications.\n  * Client SDKs for iOS, Android, and web clients.\n\nLoopBack tools include:\n  * Command-line tool `slc loopback` to create applications, models, data sources, and so on.\n  * StrongLoop Arc, a graphical tool for editing LoopBack applications; and for deploying and monitoring applications.\n\nFor more details, see [http://loopback.io/](http://loopback.io/).\n\n## LoopBack modules\n\nThe LoopBack framework is a set of Node.js modules that you can use independently or together.\n\n![LoopBack modules](https://github.com/strongloop/loopback/raw/master/docs/assets/lb-modules.png \"LoopBack modules\")\n\n### Core\n* [loopback](https://github.com/strongloop/loopback)\n* [loopback-datasource-juggler](https://github.com/strongloop/loopback-datasource-juggler)\n* [strong-remoting](https://github.com/strongloop/strong-remoting)\n\n### Connectors\n* [loopback-connector-mongodb](https://github.com/strongloop/loopback-connector-mongodb)\n* [loopback-connector-mysql](https://github.com/strongloop/loopback-connector-mysql)\n* [loopback-connector-postgresql](https://github.com/strongloop/loopback-connector-postgresql)\n* [loopback-connector-rest](https://github.com/strongloop/loopback-connector-rest)\n\n### Enterprise Connectors\n* [loopback-connector-oracle](https://github.com/strongloop/loopback-connector-oracle)\n* [loopback-connector-mssql](https://github.com/strongloop/loopback-connector-mssql)\n* [loopback-connector-soap](https://github.com/strongloop/loopback-connector-soap)\n* [loopback-connector-atg](https://github.com/strongloop/loopback-connector-atg)\n\n### Community Connectors\n\nThe LoopBack community has created and supports a number of additional connectors.  See [Community connectors](http://docs.strongloop.com/display/LB/Community+connectors) for details.\n\n### Components\n* [loopback-component-push](https://github.com/strongloop/loopback-component-push)\n* [loopback-component-storage](https://github.com/strongloop/loopback-component-storage)\n* [loopback-component-passport](https://github.com/strongloop/loopback-component-passport)\n\n### Client SDKs\n* [loopback-sdk-ios](https://github.com/strongloop/loopback-sdk-ios)\n* [loopback-sdk-android](https://github.com/strongloop/loopback-sdk-android)\n* [loopback-sdk-angular](https://github.com/strongloop/loopback-sdk-angular)\n  * [loopback-sdk-angular-cli](https://github.com/strongloop/loopback-sdk-angular-cli)\n  * [grunt-loopback-sdk-angular](https://github.com/strongloop/grunt-loopback-sdk-angular)\n\n### Tools\n* [loopback-explorer](https://github.com/strongloop/loopback-explorer)\n* [loopback-workspace](https://github.com/strongloop/loopback-workspace)\n* [generator-loopback](https://github.com/strongloop/generator-loopback)\n\n### Examples\n\nStrongLoop provides a number of example applications that illustrate various key LoopBack features. In some cases, they have accompanying step-by-step instructions (tutorials).\n\nSee [loopback-example](https://github.com/strongloop/loopback-example) for details.\n\n## Resources\n\n  * [Documentation](http://docs.strongloop.com/display/LB/LoopBack).\n  * [API documentation](http://apidocs.strongloop.com/loopback).\n  * [LoopBack Google Group](https://groups.google.com/forum/#!forum/loopbackjs).\n  * [GitHub issues](https://github.com/strongloop/loopback/issues).\n  * [Gitter chat](https://gitter.im/strongloop/loopback).\n\n## Contributing\n\nSee https://github.com/strongloop/loopback/wiki/Contributing-code\n\n## Issues\n\nSee https://github.com/strongloop/loopback/wiki/Reporting-issues\n\n[![Analytics](https://sl-beacon.appspot.com/UA-37775386-1/github/loopback/readme?pixel)](https://github.com/strongloop/loopback)\n","readmeFilename":"README.md","bugs":{"url":"https://github.com/strongloop/loopback/issues"},"_id":"loopback@2.26.2","_shasum":"9fc08f55a0e8868050698d8891652cf38648cd66","_from":"loopback@2.26.2","_resolved":"https://registry.npmjs.org/loopback/-/loopback-2.26.2.tgz"}
},{}],388:[function(require,module,exports){
function MillerRabin(r){this.rand=r||new brorand.Rand}var bn=require("bn.js"),brorand=require("brorand");module.exports=MillerRabin,MillerRabin.create=function(r){return new MillerRabin(r)},MillerRabin.prototype._rand=function(r){var n=r.bitLength(),e=this.rand.generate(Math.ceil(n/8));e[0]|=3;var t=7&n;return 0!==t&&(e[e.length-1]>>=7-t),new bn(e)},MillerRabin.prototype.test=function(r,n,e){var t=r.bitLength(),a=bn.mont(r),i=new bn(1).toRed(a);n||(n=Math.max(1,t/48|0));for(var o=r.subn(1),b=o.subn(1),d=0;!o.testn(d);d++);for(var u=r.shrn(d),f=o.toRed(a),c=!0;n>0;n--){var s=this._rand(b);e&&e(s);var l=s.toRed(a).redPow(u);if(0!==l.cmp(i)&&0!==l.cmp(f)){for(var m=1;d>m;m++){if(l=l.redSqr(),0===l.cmp(i))return!1;if(0===l.cmp(f))break}if(m===d)return!1}}return c},MillerRabin.prototype.getDivisor=function(r,n){var e=r.bitLength(),t=bn.mont(r),a=new bn(1).toRed(t);n||(n=Math.max(1,e/48|0));for(var i=r.subn(1),o=i.subn(1),b=0;!i.testn(b);b++);for(var d=r.shrn(b),u=i.toRed(t);n>0;n--){var f=this._rand(o),c=r.gcd(f);if(0!==c.cmpn(1))return c;var s=f.toRed(t).redPow(d);if(0!==s.cmp(a)&&0!==s.cmp(u)){for(var l=1;b>l;l++){if(s=s.redSqr(),0===s.cmp(a))return s.fromRed().subn(1).gcd(r);if(0===s.cmp(u))break}if(l===b)return s=s.redSqr(),s.fromRed().subn(1).gcd(r)}}return!1};
},{"bn.js":389,"brorand":5}],389:[function(require,module,exports){
arguments[4][26][0].apply(exports,arguments)
},{"dup":26}],390:[function(require,module,exports){
function assert(r,e){if(!r)throw new Error(e||"Assertion failed")}module.exports=assert,assert.equal=function(r,e,s){if(r!=e)throw new Error(s||"Assertion failed: "+r+" != "+e)};
},{}],391:[function(require,module,exports){
arguments[4][107][0].apply(exports,arguments)
},{"dup":107}],392:[function(require,module,exports){
exports.endianness=function(){return"LE"},exports.hostname=function(){return"undefined"!=typeof location?location.hostname:""},exports.loadavg=function(){return[]},exports.uptime=function(){return 0},exports.freemem=function(){return Number.MAX_VALUE},exports.totalmem=function(){return Number.MAX_VALUE},exports.cpus=function(){return[]},exports.type=function(){return"Browser"},exports.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},exports.networkInterfaces=exports.getNetworkInterfaces=function(){return{}},exports.arch=function(){return"javascript"},exports.platform=function(){return"browser"},exports.tmpdir=exports.tmpDir=function(){return"/tmp"},exports.EOL="\n";
},{}],393:[function(require,module,exports){
"use strict";var TYPED_OK="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;exports.assign=function(r){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var e=t.shift();if(e){if("object"!=typeof e)throw new TypeError(e+"must be non-object");for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n])}}return r},exports.shrinkBuf=function(r,t){return r.length===t?r:r.subarray?r.subarray(0,t):(r.length=t,r)};var fnTyped={arraySet:function(r,t,e,n,a){if(t.subarray&&r.subarray)return void r.set(t.subarray(e,e+n),a);for(var o=0;n>o;o++)r[a+o]=t[e+o]},flattenChunks:function(r){var t,e,n,a,o,s;for(n=0,t=0,e=r.length;e>t;t++)n+=r[t].length;for(s=new Uint8Array(n),a=0,t=0,e=r.length;e>t;t++)o=r[t],s.set(o,a),a+=o.length;return s}},fnUntyped={arraySet:function(r,t,e,n,a){for(var o=0;n>o;o++)r[a+o]=t[e+o]},flattenChunks:function(r){return[].concat.apply([],r)}};exports.setTyped=function(r){r?(exports.Buf8=Uint8Array,exports.Buf16=Uint16Array,exports.Buf32=Int32Array,exports.assign(exports,fnTyped)):(exports.Buf8=Array,exports.Buf16=Array,exports.Buf32=Array,exports.assign(exports,fnUntyped))},exports.setTyped(TYPED_OK);
},{}],394:[function(require,module,exports){
"use strict";function adler32(e,r,o,t){for(var d=65535&e|0,l=e>>>16&65535|0,u=0;0!==o;){u=o>2e3?2e3:o,o-=u;do d=d+r[t++]|0,l=l+d|0;while(--u);d%=65521,l%=65521}return d|l<<16|0}module.exports=adler32;
},{}],395:[function(require,module,exports){
module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};
},{}],396:[function(require,module,exports){
"use strict";function makeTable(){for(var r,a=[],c=0;256>c;c++){r=c;for(var e=0;8>e;e++)r=1&r?3988292384^r>>>1:r>>>1;a[c]=r}return a}function crc32(r,a,c,e){var o=crcTable,t=e+c;r=-1^r;for(var n=e;t>n;n++)r=r>>>8^o[255&(r^a[n])];return-1^r}var crcTable=makeTable();module.exports=crc32;
},{}],397:[function(require,module,exports){
"use strict";function err(t,e){return t.msg=msg[e],e}function rank(t){return(t<<1)-(t>4?9:0)}function zero(t){for(var e=t.length;--e>=0;)t[e]=0}function flush_pending(t){var e=t.state,_=e.pending;_>t.avail_out&&(_=t.avail_out),0!==_&&(utils.arraySet(t.output,e.pending_buf,e.pending_out,_,t.next_out),t.next_out+=_,e.pending_out+=_,t.total_out+=_,t.avail_out-=_,e.pending-=_,0===e.pending&&(e.pending_out=0))}function flush_block_only(t,e){trees._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,flush_pending(t.strm)}function put_byte(t,e){t.pending_buf[t.pending++]=e}function putShortMSB(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function read_buf(t,e,_,a){var s=t.avail_in;return s>a&&(s=a),0===s?0:(t.avail_in-=s,utils.arraySet(e,t.input,t.next_in,s,_),1===t.state.wrap?t.adler=adler32(t.adler,e,s,_):2===t.state.wrap&&(t.adler=crc32(t.adler,e,s,_)),t.next_in+=s,t.total_in+=s,s)}function longest_match(t,e){var _,a,s=t.max_chain_length,n=t.strstart,i=t.prev_length,r=t.nice_match,l=t.strstart>t.w_size-MIN_LOOKAHEAD?t.strstart-(t.w_size-MIN_LOOKAHEAD):0,h=t.window,o=t.w_mask,d=t.prev,u=t.strstart+MAX_MATCH,f=h[n+i-1],E=h[n+i];t.prev_length>=t.good_match&&(s>>=2),r>t.lookahead&&(r=t.lookahead);do if(_=e,h[_+i]===E&&h[_+i-1]===f&&h[_]===h[n]&&h[++_]===h[n+1]){n+=2,_++;do;while(h[++n]===h[++_]&&h[++n]===h[++_]&&h[++n]===h[++_]&&h[++n]===h[++_]&&h[++n]===h[++_]&&h[++n]===h[++_]&&h[++n]===h[++_]&&h[++n]===h[++_]&&u>n);if(a=MAX_MATCH-(u-n),n=u-MAX_MATCH,a>i){if(t.match_start=e,i=a,a>=r)break;f=h[n+i-1],E=h[n+i]}}while((e=d[e&o])>l&&0!==--s);return i<=t.lookahead?i:t.lookahead}function fill_window(t){var e,_,a,s,n,i=t.w_size;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=i+(i-MIN_LOOKAHEAD)){utils.arraySet(t.window,t.window,i,i,0),t.match_start-=i,t.strstart-=i,t.block_start-=i,_=t.hash_size,e=_;do a=t.head[--e],t.head[e]=a>=i?a-i:0;while(--_);_=i,e=_;do a=t.prev[--e],t.prev[e]=a>=i?a-i:0;while(--_);s+=i}if(0===t.strm.avail_in)break;if(_=read_buf(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=_,t.lookahead+t.insert>=MIN_MATCH)for(n=t.strstart-t.insert,t.ins_h=t.window[n],t.ins_h=(t.ins_h<<t.hash_shift^t.window[n+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[n+MIN_MATCH-1])&t.hash_mask,t.prev[n&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=n,n++,t.insert--,!(t.lookahead+t.insert<MIN_MATCH)););}while(t.lookahead<MIN_LOOKAHEAD&&0!==t.strm.avail_in)}function deflate_stored(t,e){var _=65535;for(_>t.pending_buf_size-5&&(_=t.pending_buf_size-5);;){if(t.lookahead<=1){if(fill_window(t),0===t.lookahead&&e===Z_NO_FLUSH)return BS_NEED_MORE;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var a=t.block_start+_;if((0===t.strstart||t.strstart>=a)&&(t.lookahead=t.strstart-a,t.strstart=a,flush_block_only(t,!1),0===t.strm.avail_out))return BS_NEED_MORE;if(t.strstart-t.block_start>=t.w_size-MIN_LOOKAHEAD&&(flush_block_only(t,!1),0===t.strm.avail_out))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH?(flush_block_only(t,!0),0===t.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):t.strstart>t.block_start&&(flush_block_only(t,!1),0===t.strm.avail_out)?BS_NEED_MORE:BS_NEED_MORE}function deflate_fast(t,e){for(var _,a;;){if(t.lookahead<MIN_LOOKAHEAD){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH)return BS_NEED_MORE;if(0===t.lookahead)break}if(_=0,t.lookahead>=MIN_MATCH&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+MIN_MATCH-1])&t.hash_mask,_=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==_&&t.strstart-_<=t.w_size-MIN_LOOKAHEAD&&(t.match_length=longest_match(t,_)),t.match_length>=MIN_MATCH)if(a=trees._tr_tally(t,t.strstart-t.match_start,t.match_length-MIN_MATCH),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=MIN_MATCH){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+MIN_MATCH-1])&t.hash_mask,_=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else a=trees._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(a&&(flush_block_only(t,!1),0===t.strm.avail_out))return BS_NEED_MORE}return t.insert=t.strstart<MIN_MATCH-1?t.strstart:MIN_MATCH-1,e===Z_FINISH?(flush_block_only(t,!0),0===t.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),0===t.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(t,e){for(var _,a,s;;){if(t.lookahead<MIN_LOOKAHEAD){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH)return BS_NEED_MORE;if(0===t.lookahead)break}if(_=0,t.lookahead>=MIN_MATCH&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+MIN_MATCH-1])&t.hash_mask,_=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=MIN_MATCH-1,0!==_&&t.prev_length<t.max_lazy_match&&t.strstart-_<=t.w_size-MIN_LOOKAHEAD&&(t.match_length=longest_match(t,_),t.match_length<=5&&(t.strategy===Z_FILTERED||t.match_length===MIN_MATCH&&t.strstart-t.match_start>4096)&&(t.match_length=MIN_MATCH-1)),t.prev_length>=MIN_MATCH&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-MIN_MATCH,a=trees._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-MIN_MATCH),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=s&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+MIN_MATCH-1])&t.hash_mask,_=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=MIN_MATCH-1,t.strstart++,a&&(flush_block_only(t,!1),0===t.strm.avail_out))return BS_NEED_MORE}else if(t.match_available){if(a=trees._tr_tally(t,0,t.window[t.strstart-1]),a&&flush_block_only(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return BS_NEED_MORE}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(a=trees._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<MIN_MATCH-1?t.strstart:MIN_MATCH-1,e===Z_FINISH?(flush_block_only(t,!0),0===t.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),0===t.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(t,e){for(var _,a,s,n,i=t.window;;){if(t.lookahead<=MAX_MATCH){if(fill_window(t),t.lookahead<=MAX_MATCH&&e===Z_NO_FLUSH)return BS_NEED_MORE;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=MIN_MATCH&&t.strstart>0&&(s=t.strstart-1,a=i[s],a===i[++s]&&a===i[++s]&&a===i[++s])){n=t.strstart+MAX_MATCH;do;while(a===i[++s]&&a===i[++s]&&a===i[++s]&&a===i[++s]&&a===i[++s]&&a===i[++s]&&a===i[++s]&&a===i[++s]&&n>s);t.match_length=MAX_MATCH-(n-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=MIN_MATCH?(_=trees._tr_tally(t,1,t.match_length-MIN_MATCH),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(_=trees._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),_&&(flush_block_only(t,!1),0===t.strm.avail_out))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH?(flush_block_only(t,!0),0===t.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),0===t.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(t,e){for(var _;;){if(0===t.lookahead&&(fill_window(t),0===t.lookahead)){if(e===Z_NO_FLUSH)return BS_NEED_MORE;break}if(t.match_length=0,_=trees._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,_&&(flush_block_only(t,!1),0===t.strm.avail_out))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH?(flush_block_only(t,!0),0===t.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),0===t.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function lm_init(t){t.window_size=2*t.w_size,zero(t.head),t.max_lazy_match=configuration_table[t.level].max_lazy,t.good_match=configuration_table[t.level].good_length,t.nice_match=configuration_table[t.level].nice_length,t.max_chain_length=configuration_table[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=MIN_MATCH-1,t.match_available=0,t.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils.Buf16(2*HEAP_SIZE),this.dyn_dtree=new utils.Buf16(2*(2*D_CODES+1)),this.bl_tree=new utils.Buf16(2*(2*BL_CODES+1)),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils.Buf16(MAX_BITS+1),this.heap=new utils.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=Z_UNKNOWN,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?INIT_STATE:BUSY_STATE,t.adler=2===e.wrap?0:1,e.last_flush=Z_NO_FLUSH,trees._tr_init(e),Z_OK):err(t,Z_STREAM_ERROR)}function deflateReset(t){var e=deflateResetKeep(t);return e===Z_OK&&lm_init(t.state),e}function deflateSetHeader(t,e){return t&&t.state?2!==t.state.wrap?Z_STREAM_ERROR:(t.state.gzhead=e,Z_OK):Z_STREAM_ERROR}function deflateInit2(t,e,_,a,s,n){if(!t)return Z_STREAM_ERROR;var i=1;if(e===Z_DEFAULT_COMPRESSION&&(e=6),0>a?(i=0,a=-a):a>15&&(i=2,a-=16),1>s||s>MAX_MEM_LEVEL||_!==Z_DEFLATED||8>a||a>15||0>e||e>9||0>n||n>Z_FIXED)return err(t,Z_STREAM_ERROR);8===a&&(a=9);var r=new DeflateState;return t.state=r,r.strm=t,r.wrap=i,r.gzhead=null,r.w_bits=a,r.w_size=1<<r.w_bits,r.w_mask=r.w_size-1,r.hash_bits=s+7,r.hash_size=1<<r.hash_bits,r.hash_mask=r.hash_size-1,r.hash_shift=~~((r.hash_bits+MIN_MATCH-1)/MIN_MATCH),r.window=new utils.Buf8(2*r.w_size),r.head=new utils.Buf16(r.hash_size),r.prev=new utils.Buf16(r.w_size),r.lit_bufsize=1<<s+6,r.pending_buf_size=4*r.lit_bufsize,r.pending_buf=new utils.Buf8(r.pending_buf_size),r.d_buf=r.lit_bufsize>>1,r.l_buf=3*r.lit_bufsize,r.level=e,r.strategy=n,r.method=_,deflateReset(t)}function deflateInit(t,e){return deflateInit2(t,e,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)}function deflate(t,e){var _,a,s,n;if(!t||!t.state||e>Z_BLOCK||0>e)return t?err(t,Z_STREAM_ERROR):Z_STREAM_ERROR;if(a=t.state,!t.output||!t.input&&0!==t.avail_in||a.status===FINISH_STATE&&e!==Z_FINISH)return err(t,0===t.avail_out?Z_BUF_ERROR:Z_STREAM_ERROR);if(a.strm=t,_=a.last_flush,a.last_flush=e,a.status===INIT_STATE)if(2===a.wrap)t.adler=0,put_byte(a,31),put_byte(a,139),put_byte(a,8),a.gzhead?(put_byte(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),put_byte(a,255&a.gzhead.time),put_byte(a,a.gzhead.time>>8&255),put_byte(a,a.gzhead.time>>16&255),put_byte(a,a.gzhead.time>>24&255),put_byte(a,9===a.level?2:a.strategy>=Z_HUFFMAN_ONLY||a.level<2?4:0),put_byte(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(put_byte(a,255&a.gzhead.extra.length),put_byte(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=crc32(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=EXTRA_STATE):(put_byte(a,0),put_byte(a,0),put_byte(a,0),put_byte(a,0),put_byte(a,0),put_byte(a,9===a.level?2:a.strategy>=Z_HUFFMAN_ONLY||a.level<2?4:0),put_byte(a,OS_CODE),a.status=BUSY_STATE);else{var i=Z_DEFLATED+(a.w_bits-8<<4)<<8,r=-1;r=a.strategy>=Z_HUFFMAN_ONLY||a.level<2?0:a.level<6?1:6===a.level?2:3,i|=r<<6,0!==a.strstart&&(i|=PRESET_DICT),i+=31-i%31,a.status=BUSY_STATE,putShortMSB(a,i),0!==a.strstart&&(putShortMSB(a,t.adler>>>16),putShortMSB(a,65535&t.adler)),t.adler=1}if(a.status===EXTRA_STATE)if(a.gzhead.extra){for(s=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>s&&(t.adler=crc32(t.adler,a.pending_buf,a.pending-s,s)),flush_pending(t),s=a.pending,a.pending!==a.pending_buf_size));)put_byte(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>s&&(t.adler=crc32(t.adler,a.pending_buf,a.pending-s,s)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=NAME_STATE)}else a.status=NAME_STATE;if(a.status===NAME_STATE)if(a.gzhead.name){s=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>s&&(t.adler=crc32(t.adler,a.pending_buf,a.pending-s,s)),flush_pending(t),s=a.pending,a.pending===a.pending_buf_size)){n=1;break}n=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,put_byte(a,n)}while(0!==n);a.gzhead.hcrc&&a.pending>s&&(t.adler=crc32(t.adler,a.pending_buf,a.pending-s,s)),0===n&&(a.gzindex=0,a.status=COMMENT_STATE)}else a.status=COMMENT_STATE;if(a.status===COMMENT_STATE)if(a.gzhead.comment){s=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>s&&(t.adler=crc32(t.adler,a.pending_buf,a.pending-s,s)),flush_pending(t),s=a.pending,a.pending===a.pending_buf_size)){n=1;break}n=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,put_byte(a,n)}while(0!==n);a.gzhead.hcrc&&a.pending>s&&(t.adler=crc32(t.adler,a.pending_buf,a.pending-s,s)),0===n&&(a.status=HCRC_STATE)}else a.status=HCRC_STATE;if(a.status===HCRC_STATE&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&flush_pending(t),a.pending+2<=a.pending_buf_size&&(put_byte(a,255&t.adler),put_byte(a,t.adler>>8&255),t.adler=0,a.status=BUSY_STATE)):a.status=BUSY_STATE),0!==a.pending){if(flush_pending(t),0===t.avail_out)return a.last_flush=-1,Z_OK}else if(0===t.avail_in&&rank(e)<=rank(_)&&e!==Z_FINISH)return err(t,Z_BUF_ERROR);if(a.status===FINISH_STATE&&0!==t.avail_in)return err(t,Z_BUF_ERROR);if(0!==t.avail_in||0!==a.lookahead||e!==Z_NO_FLUSH&&a.status!==FINISH_STATE){var l=a.strategy===Z_HUFFMAN_ONLY?deflate_huff(a,e):a.strategy===Z_RLE?deflate_rle(a,e):configuration_table[a.level].func(a,e);if((l===BS_FINISH_STARTED||l===BS_FINISH_DONE)&&(a.status=FINISH_STATE),l===BS_NEED_MORE||l===BS_FINISH_STARTED)return 0===t.avail_out&&(a.last_flush=-1),Z_OK;if(l===BS_BLOCK_DONE&&(e===Z_PARTIAL_FLUSH?trees._tr_align(a):e!==Z_BLOCK&&(trees._tr_stored_block(a,0,0,!1),e===Z_FULL_FLUSH&&(zero(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),flush_pending(t),0===t.avail_out))return a.last_flush=-1,Z_OK}return e!==Z_FINISH?Z_OK:a.wrap<=0?Z_STREAM_END:(2===a.wrap?(put_byte(a,255&t.adler),put_byte(a,t.adler>>8&255),put_byte(a,t.adler>>16&255),put_byte(a,t.adler>>24&255),put_byte(a,255&t.total_in),put_byte(a,t.total_in>>8&255),put_byte(a,t.total_in>>16&255),put_byte(a,t.total_in>>24&255)):(putShortMSB(a,t.adler>>>16),putShortMSB(a,65535&t.adler)),flush_pending(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?Z_OK:Z_STREAM_END)}function deflateEnd(t){var e;return t&&t.state?(e=t.state.status,e!==INIT_STATE&&e!==EXTRA_STATE&&e!==NAME_STATE&&e!==COMMENT_STATE&&e!==HCRC_STATE&&e!==BUSY_STATE&&e!==FINISH_STATE?err(t,Z_STREAM_ERROR):(t.state=null,e===BUSY_STATE?err(t,Z_DATA_ERROR):Z_OK)):Z_STREAM_ERROR}var utils=require("../utils/common"),trees=require("./trees"),adler32=require("./adler32"),crc32=require("./crc32"),msg=require("./messages"),Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH=4,Z_BLOCK=5,Z_OK=0,Z_STREAM_END=1,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY=0,Z_UNKNOWN=2,Z_DEFLATED=8,MAX_MEM_LEVEL=9,MAX_WBITS=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,Config=function(t,e,_,a,s){this.good_length=t,this.max_lazy=e,this.nice_length=_,this.max_chain=a,this.func=s},configuration_table;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],exports.deflateInit=deflateInit,exports.deflateInit2=deflateInit2,exports.deflateReset=deflateReset,exports.deflateResetKeep=deflateResetKeep,exports.deflateSetHeader=deflateSetHeader,exports.deflate=deflate,exports.deflateEnd=deflateEnd,exports.deflateInfo="pako deflate (from Nodeca project)";
},{"../utils/common":393,"./adler32":394,"./crc32":396,"./messages":401,"./trees":402}],398:[function(require,module,exports){
"use strict";var BAD=30,TYPE=12;module.exports=function(i,e){var o,a,t,d,n,l,s,f,r,b,c,u,v,m,w,h,k,_,x,g,A,B,D,p,E;o=i.state,a=i.next_in,p=i.input,t=a+(i.avail_in-5),d=i.next_out,E=i.output,n=d-(e-i.avail_out),l=d+(i.avail_out-257),s=o.dmax,f=o.wsize,r=o.whave,b=o.wnext,c=o.window,u=o.hold,v=o.bits,m=o.lencode,w=o.distcode,h=(1<<o.lenbits)-1,k=(1<<o.distbits)-1;i:do{15>v&&(u+=p[a++]<<v,v+=8,u+=p[a++]<<v,v+=8),_=m[u&h];e:for(;;){if(x=_>>>24,u>>>=x,v-=x,x=_>>>16&255,0===x)E[d++]=65535&_;else{if(!(16&x)){if(0===(64&x)){_=m[(65535&_)+(u&(1<<x)-1)];continue e}if(32&x){o.mode=TYPE;break i}i.msg="invalid literal/length code",o.mode=BAD;break i}g=65535&_,x&=15,x&&(x>v&&(u+=p[a++]<<v,v+=8),g+=u&(1<<x)-1,u>>>=x,v-=x),15>v&&(u+=p[a++]<<v,v+=8,u+=p[a++]<<v,v+=8),_=w[u&k];o:for(;;){if(x=_>>>24,u>>>=x,v-=x,x=_>>>16&255,!(16&x)){if(0===(64&x)){_=w[(65535&_)+(u&(1<<x)-1)];continue o}i.msg="invalid distance code",o.mode=BAD;break i}if(A=65535&_,x&=15,x>v&&(u+=p[a++]<<v,v+=8,x>v&&(u+=p[a++]<<v,v+=8)),A+=u&(1<<x)-1,A>s){i.msg="invalid distance too far back",o.mode=BAD;break i}if(u>>>=x,v-=x,x=d-n,A>x){if(x=A-x,x>r&&o.sane){i.msg="invalid distance too far back",o.mode=BAD;break i}if(B=0,D=c,0===b){if(B+=f-x,g>x){g-=x;do E[d++]=c[B++];while(--x);B=d-A,D=E}}else if(x>b){if(B+=f+b-x,x-=b,g>x){g-=x;do E[d++]=c[B++];while(--x);if(B=0,g>b){x=b,g-=x;do E[d++]=c[B++];while(--x);B=d-A,D=E}}}else if(B+=b-x,g>x){g-=x;do E[d++]=c[B++];while(--x);B=d-A,D=E}for(;g>2;)E[d++]=D[B++],E[d++]=D[B++],E[d++]=D[B++],g-=3;g&&(E[d++]=D[B++],g>1&&(E[d++]=D[B++]))}else{B=d-A;do E[d++]=E[B++],E[d++]=E[B++],E[d++]=E[B++],g-=3;while(g>2);g&&(E[d++]=E[B++],g>1&&(E[d++]=E[B++]))}break}}break}}while(t>a&&l>d);g=v>>3,a-=g,v-=g<<3,u&=(1<<v)-1,i.next_in=a,i.next_out=d,i.avail_in=t>a?5+(t-a):5-(a-t),i.avail_out=l>d?257+(l-d):257-(d-l),o.hold=u,o.bits=v};
},{}],399:[function(require,module,exports){
"use strict";function ZSWAP32(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils.Buf16(320),this.work=new utils.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=HEAD,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new utils.Buf32(ENOUGH_LENS),t.distcode=t.distdyn=new utils.Buf32(ENOUGH_DISTS),t.sane=1,t.back=-1,Z_OK):Z_STREAM_ERROR}function inflateReset(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,inflateResetKeep(e)):Z_STREAM_ERROR}function inflateReset2(e,t){var a,i;return e&&e.state?(i=e.state,0>t?(a=0,t=-t):(a=(t>>4)+1,48>t&&(t&=15)),t&&(8>t||t>15)?Z_STREAM_ERROR:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=a,i.wbits=t,inflateReset(e))):Z_STREAM_ERROR}function inflateInit2(e,t){var a,i;return e?(i=new InflateState,e.state=i,i.window=null,a=inflateReset2(e,t),a!==Z_OK&&(e.state=null),a):Z_STREAM_ERROR}function inflateInit(e){return inflateInit2(e,DEF_WBITS)}function fixedtables(e){if(virgin){var t;for(lenfix=new utils.Buf32(512),distfix=new utils.Buf32(32),t=0;144>t;)e.lens[t++]=8;for(;256>t;)e.lens[t++]=9;for(;280>t;)e.lens[t++]=7;for(;288>t;)e.lens[t++]=8;for(inflate_table(LENS,e.lens,0,288,lenfix,0,e.work,{bits:9}),t=0;32>t;)e.lens[t++]=5;inflate_table(DISTS,e.lens,0,32,distfix,0,e.work,{bits:5}),virgin=!1}e.lencode=lenfix,e.lenbits=9,e.distcode=distfix,e.distbits=5}function updatewindow(e,t,a,i){var n,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new utils.Buf8(s.wsize)),i>=s.wsize?(utils.arraySet(s.window,t,a-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(n=s.wsize-s.wnext,n>i&&(n=i),utils.arraySet(s.window,t,a-i,n,s.wnext),i-=n,i?(utils.arraySet(s.window,t,a-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0}function inflate(e,t){var a,i,n,s,l,r,o,d,f,c,h,E,b,k,_,m,u,w,R,T,g,D,S,x,A=0,v=new utils.Buf8(4),O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Z_STREAM_ERROR;a=e.state,a.mode===TYPE&&(a.mode=TYPEDO),l=e.next_out,n=e.output,o=e.avail_out,s=e.next_in,i=e.input,r=e.avail_in,d=a.hold,f=a.bits,c=r,h=o,D=Z_OK;e:for(;;)switch(a.mode){case HEAD:if(0===a.wrap){a.mode=TYPEDO;break}for(;16>f;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if(2&a.wrap&&35615===d){a.check=0,v[0]=255&d,v[1]=d>>>8&255,a.check=crc32(a.check,v,2,0),d=0,f=0,a.mode=FLAGS;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",a.mode=BAD;break}if((15&d)!==Z_DEFLATED){e.msg="unknown compression method",a.mode=BAD;break}if(d>>>=4,f-=4,g=(15&d)+8,0===a.wbits)a.wbits=g;else if(g>a.wbits){e.msg="invalid window size",a.mode=BAD;break}a.dmax=1<<g,e.adler=a.check=1,a.mode=512&d?DICTID:TYPE,d=0,f=0;break;case FLAGS:for(;16>f;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if(a.flags=d,(255&a.flags)!==Z_DEFLATED){e.msg="unknown compression method",a.mode=BAD;break}if(57344&a.flags){e.msg="unknown header flags set",a.mode=BAD;break}a.head&&(a.head.text=d>>8&1),512&a.flags&&(v[0]=255&d,v[1]=d>>>8&255,a.check=crc32(a.check,v,2,0)),d=0,f=0,a.mode=TIME;case TIME:for(;32>f;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}a.head&&(a.head.time=d),512&a.flags&&(v[0]=255&d,v[1]=d>>>8&255,v[2]=d>>>16&255,v[3]=d>>>24&255,a.check=crc32(a.check,v,4,0)),d=0,f=0,a.mode=OS;case OS:for(;16>f;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}a.head&&(a.head.xflags=255&d,a.head.os=d>>8),512&a.flags&&(v[0]=255&d,v[1]=d>>>8&255,a.check=crc32(a.check,v,2,0)),d=0,f=0,a.mode=EXLEN;case EXLEN:if(1024&a.flags){for(;16>f;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}a.length=d,a.head&&(a.head.extra_len=d),512&a.flags&&(v[0]=255&d,v[1]=d>>>8&255,a.check=crc32(a.check,v,2,0)),d=0,f=0}else a.head&&(a.head.extra=null);a.mode=EXTRA;case EXTRA:if(1024&a.flags&&(E=a.length,E>r&&(E=r),E&&(a.head&&(g=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),utils.arraySet(a.head.extra,i,s,E,g)),512&a.flags&&(a.check=crc32(a.check,i,E,s)),r-=E,s+=E,a.length-=E),a.length))break e;a.length=0,a.mode=NAME;case NAME:if(2048&a.flags){if(0===r)break e;E=0;do g=i[s+E++],a.head&&g&&a.length<65536&&(a.head.name+=String.fromCharCode(g));while(g&&r>E);if(512&a.flags&&(a.check=crc32(a.check,i,E,s)),r-=E,s+=E,g)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=COMMENT;case COMMENT:if(4096&a.flags){if(0===r)break e;E=0;do g=i[s+E++],a.head&&g&&a.length<65536&&(a.head.comment+=String.fromCharCode(g));while(g&&r>E);if(512&a.flags&&(a.check=crc32(a.check,i,E,s)),r-=E,s+=E,g)break e}else a.head&&(a.head.comment=null);a.mode=HCRC;case HCRC:if(512&a.flags){for(;16>f;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if(d!==(65535&a.check)){e.msg="header crc mismatch",a.mode=BAD;break}d=0,f=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),e.adler=a.check=0,a.mode=TYPE;break;case DICTID:for(;32>f;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}e.adler=a.check=ZSWAP32(d),d=0,f=0,a.mode=DICT;case DICT:if(0===a.havedict)return e.next_out=l,e.avail_out=o,e.next_in=s,e.avail_in=r,a.hold=d,a.bits=f,Z_NEED_DICT;e.adler=a.check=1,a.mode=TYPE;case TYPE:if(t===Z_BLOCK||t===Z_TREES)break e;case TYPEDO:if(a.last){d>>>=7&f,f-=7&f,a.mode=CHECK;break}for(;3>f;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}switch(a.last=1&d,d>>>=1,f-=1,3&d){case 0:a.mode=STORED;break;case 1:if(fixedtables(a),a.mode=LEN_,t===Z_TREES){d>>>=2,f-=2;break e}break;case 2:a.mode=TABLE;break;case 3:e.msg="invalid block type",a.mode=BAD}d>>>=2,f-=2;break;case STORED:for(d>>>=7&f,f-=7&f;32>f;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if((65535&d)!==(d>>>16^65535)){e.msg="invalid stored block lengths",a.mode=BAD;break}if(a.length=65535&d,d=0,f=0,a.mode=COPY_,t===Z_TREES)break e;case COPY_:a.mode=COPY;case COPY:if(E=a.length){if(E>r&&(E=r),E>o&&(E=o),0===E)break e;utils.arraySet(n,i,s,E,l),r-=E,s+=E,o-=E,l+=E,a.length-=E;break}a.mode=TYPE;break;case TABLE:for(;14>f;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if(a.nlen=(31&d)+257,d>>>=5,f-=5,a.ndist=(31&d)+1,d>>>=5,f-=5,a.ncode=(15&d)+4,d>>>=4,f-=4,a.nlen>286||a.ndist>30){e.msg="too many length or distance symbols",a.mode=BAD;break}a.have=0,a.mode=LENLENS;case LENLENS:for(;a.have<a.ncode;){for(;3>f;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}a.lens[O[a.have++]]=7&d,d>>>=3,f-=3}for(;a.have<19;)a.lens[O[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,S={bits:a.lenbits},D=inflate_table(CODES,a.lens,0,19,a.lencode,0,a.work,S),a.lenbits=S.bits,D){e.msg="invalid code lengths set",a.mode=BAD;break}a.have=0,a.mode=CODELENS;case CODELENS:for(;a.have<a.nlen+a.ndist;){for(;A=a.lencode[d&(1<<a.lenbits)-1],_=A>>>24,m=A>>>16&255,u=65535&A,!(f>=_);){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if(16>u)d>>>=_,f-=_,a.lens[a.have++]=u;else{if(16===u){for(x=_+2;x>f;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if(d>>>=_,f-=_,0===a.have){e.msg="invalid bit length repeat",a.mode=BAD;break}g=a.lens[a.have-1],E=3+(3&d),d>>>=2,f-=2}else if(17===u){for(x=_+3;x>f;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}d>>>=_,f-=_,g=0,E=3+(7&d),d>>>=3,f-=3}else{for(x=_+7;x>f;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}d>>>=_,f-=_,g=0,E=11+(127&d),d>>>=7,f-=7}if(a.have+E>a.nlen+a.ndist){e.msg="invalid bit length repeat",a.mode=BAD;break}for(;E--;)a.lens[a.have++]=g}}if(a.mode===BAD)break;if(0===a.lens[256]){e.msg="invalid code -- missing end-of-block",a.mode=BAD;break}if(a.lenbits=9,S={bits:a.lenbits},D=inflate_table(LENS,a.lens,0,a.nlen,a.lencode,0,a.work,S),a.lenbits=S.bits,D){e.msg="invalid literal/lengths set",a.mode=BAD;break}if(a.distbits=6,a.distcode=a.distdyn,S={bits:a.distbits},D=inflate_table(DISTS,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,S),a.distbits=S.bits,D){e.msg="invalid distances set",a.mode=BAD;break}if(a.mode=LEN_,t===Z_TREES)break e;case LEN_:a.mode=LEN;case LEN:if(r>=6&&o>=258){e.next_out=l,e.avail_out=o,e.next_in=s,e.avail_in=r,a.hold=d,a.bits=f,inflate_fast(e,h),l=e.next_out,n=e.output,o=e.avail_out,s=e.next_in,i=e.input,r=e.avail_in,d=a.hold,f=a.bits,a.mode===TYPE&&(a.back=-1);break}for(a.back=0;A=a.lencode[d&(1<<a.lenbits)-1],_=A>>>24,m=A>>>16&255,u=65535&A,!(f>=_);){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if(m&&0===(240&m)){for(w=_,R=m,T=u;A=a.lencode[T+((d&(1<<w+R)-1)>>w)],_=A>>>24,m=A>>>16&255,u=65535&A,!(f>=w+_);){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}d>>>=w,f-=w,a.back+=w}if(d>>>=_,f-=_,a.back+=_,a.length=u,0===m){a.mode=LIT;break}if(32&m){a.back=-1,a.mode=TYPE;break}if(64&m){e.msg="invalid literal/length code",a.mode=BAD;break}a.extra=15&m,a.mode=LENEXT;case LENEXT:if(a.extra){for(x=a.extra;x>f;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}a.length+=d&(1<<a.extra)-1,d>>>=a.extra,f-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=DIST;case DIST:for(;A=a.distcode[d&(1<<a.distbits)-1],_=A>>>24,m=A>>>16&255,u=65535&A,!(f>=_);){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if(0===(240&m)){for(w=_,R=m,T=u;A=a.distcode[T+((d&(1<<w+R)-1)>>w)],_=A>>>24,m=A>>>16&255,u=65535&A,!(f>=w+_);){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}d>>>=w,f-=w,a.back+=w}if(d>>>=_,f-=_,a.back+=_,64&m){e.msg="invalid distance code",a.mode=BAD;break}a.offset=u,a.extra=15&m,a.mode=DISTEXT;case DISTEXT:if(a.extra){for(x=a.extra;x>f;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}a.offset+=d&(1<<a.extra)-1,d>>>=a.extra,f-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){e.msg="invalid distance too far back",a.mode=BAD;break}a.mode=MATCH;case MATCH:if(0===o)break e;if(E=h-o,a.offset>E){if(E=a.offset-E,E>a.whave&&a.sane){e.msg="invalid distance too far back",a.mode=BAD;break}E>a.wnext?(E-=a.wnext,b=a.wsize-E):b=a.wnext-E,E>a.length&&(E=a.length),k=a.window}else k=n,b=l-a.offset,E=a.length;E>o&&(E=o),o-=E,a.length-=E;do n[l++]=k[b++];while(--E);0===a.length&&(a.mode=LEN);break;case LIT:if(0===o)break e;n[l++]=a.length,o--,a.mode=LEN;break;case CHECK:if(a.wrap){for(;32>f;){if(0===r)break e;r--,d|=i[s++]<<f,f+=8}if(h-=o,e.total_out+=h,a.total+=h,h&&(e.adler=a.check=a.flags?crc32(a.check,n,h,l-h):adler32(a.check,n,h,l-h)),h=o,(a.flags?d:ZSWAP32(d))!==a.check){e.msg="incorrect data check",a.mode=BAD;break}d=0,f=0}a.mode=LENGTH;case LENGTH:if(a.wrap&&a.flags){for(;32>f;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if(d!==(4294967295&a.total)){e.msg="incorrect length check",a.mode=BAD;break}d=0,f=0}a.mode=DONE;case DONE:D=Z_STREAM_END;break e;case BAD:D=Z_DATA_ERROR;break e;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return e.next_out=l,e.avail_out=o,e.next_in=s,e.avail_in=r,a.hold=d,a.bits=f,(a.wsize||h!==e.avail_out&&a.mode<BAD&&(a.mode<CHECK||t!==Z_FINISH))&&updatewindow(e,e.output,e.next_out,h-e.avail_out)?(a.mode=MEM,Z_MEM_ERROR):(c-=e.avail_in,h-=e.avail_out,e.total_in+=c,e.total_out+=h,a.total+=h,a.wrap&&h&&(e.adler=a.check=a.flags?crc32(a.check,n,h,e.next_out-h):adler32(a.check,n,h,e.next_out-h)),e.data_type=a.bits+(a.last?64:0)+(a.mode===TYPE?128:0)+(a.mode===LEN_||a.mode===COPY_?256:0),(0===c&&0===h||t===Z_FINISH)&&D===Z_OK&&(D=Z_BUF_ERROR),D)}function inflateEnd(e){if(!e||!e.state)return Z_STREAM_ERROR;var t=e.state;return t.window&&(t.window=null),e.state=null,Z_OK}function inflateGetHeader(e,t){var a;return e&&e.state?(a=e.state,0===(2&a.wrap)?Z_STREAM_ERROR:(a.head=t,t.done=!1,Z_OK)):Z_STREAM_ERROR}var utils=require("../utils/common"),adler32=require("./adler32"),crc32=require("./crc32"),inflate_fast=require("./inffast"),inflate_table=require("./inftrees"),CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,virgin=!0,lenfix,distfix;exports.inflateReset=inflateReset,exports.inflateReset2=inflateReset2,exports.inflateResetKeep=inflateResetKeep,exports.inflateInit=inflateInit,exports.inflateInit2=inflateInit2,exports.inflate=inflate,exports.inflateEnd=inflateEnd,exports.inflateGetHeader=inflateGetHeader,exports.inflateInfo="pako inflate (from Nodeca project)";
},{"../utils/common":393,"./adler32":394,"./crc32":396,"./inffast":398,"./inftrees":400}],400:[function(require,module,exports){
"use strict";var utils=require("../utils/common"),MAXBITS=15,ENOUGH_LENS=852,ENOUGH_DISTS=592,CODES=0,LENS=1,DISTS=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function(r,S,e,f,t,i,u,o){var E,l,s,n,I,N,T,B,D,O=o.bits,a=0,b=0,A=0,L=0,M=0,X=0,d=0,G=0,H=0,U=0,_=null,x=0,c=new utils.Buf16(MAXBITS+1),m=new utils.Buf16(MAXBITS+1),v=null,w=0;for(a=0;MAXBITS>=a;a++)c[a]=0;for(b=0;f>b;b++)c[S[e+b]]++;for(M=O,L=MAXBITS;L>=1&&0===c[L];L--);if(M>L&&(M=L),0===L)return t[i++]=20971520,t[i++]=20971520,o.bits=1,0;for(A=1;L>A&&0===c[A];A++);for(A>M&&(M=A),G=1,a=1;MAXBITS>=a;a++)if(G<<=1,G-=c[a],0>G)return-1;if(G>0&&(r===CODES||1!==L))return-1;for(m[1]=0,a=1;MAXBITS>a;a++)m[a+1]=m[a]+c[a];for(b=0;f>b;b++)0!==S[e+b]&&(u[m[S[e+b]]++]=b);if(r===CODES?(_=v=u,N=19):r===LENS?(_=lbase,x-=257,v=lext,w-=257,N=256):(_=dbase,v=dext,N=-1),U=0,b=0,a=A,I=i,X=M,d=0,s=-1,H=1<<M,n=H-1,r===LENS&&H>ENOUGH_LENS||r===DISTS&&H>ENOUGH_DISTS)return 1;for(var C=0;;){C++,T=a-d,u[b]<N?(B=0,D=u[b]):u[b]>N?(B=v[w+u[b]],D=_[x+u[b]]):(B=96,D=0),E=1<<a-d,l=1<<X,A=l;do l-=E,t[I+(U>>d)+l]=T<<24|B<<16|D|0;while(0!==l);for(E=1<<a-1;U&E;)E>>=1;if(0!==E?(U&=E-1,U+=E):U=0,b++,0===--c[a]){if(a===L)break;a=S[e+u[b]]}if(a>M&&(U&n)!==s){for(0===d&&(d=M),I+=A,X=a-d,G=1<<X;L>X+d&&(G-=c[X+d],!(0>=G));)X++,G<<=1;if(H+=1<<X,r===LENS&&H>ENOUGH_LENS||r===DISTS&&H>ENOUGH_DISTS)return 1;s=U&n,t[s]=M<<24|X<<16|I-i|0}}return 0!==U&&(t[I+U]=a-d<<24|64<<16|0),o.bits=M,0};
},{"../utils/common":393}],401:[function(require,module,exports){
"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};
},{}],402:[function(require,module,exports){
"use strict";function zero(e){for(var _=e.length;--_>=0;)e[_]=0}function d_code(e){return 256>e?_dist_code[e]:_dist_code[256+(e>>>7)]}function put_short(e,_){e.pending_buf[e.pending++]=255&_,e.pending_buf[e.pending++]=_>>>8&255}function send_bits(e,_,t){e.bi_valid>Buf_size-t?(e.bi_buf|=_<<e.bi_valid&65535,put_short(e,e.bi_buf),e.bi_buf=_>>Buf_size-e.bi_valid,e.bi_valid+=t-Buf_size):(e.bi_buf|=_<<e.bi_valid&65535,e.bi_valid+=t)}function send_code(e,_,t){send_bits(e,t[2*_],t[2*_+1])}function bi_reverse(e,_){var t=0;do t|=1&e,e>>>=1,t<<=1;while(--_>0);return t>>>1}function bi_flush(e){16===e.bi_valid?(put_short(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function gen_bitlen(e,_){var t,r,i,n,s,d,a=_.dyn_tree,l=_.max_code,c=_.stat_desc.static_tree,o=_.stat_desc.has_stree,b=_.stat_desc.extra_bits,f=_.stat_desc.extra_base,u=_.stat_desc.max_length,p=0;for(n=0;MAX_BITS>=n;n++)e.bl_count[n]=0;for(a[2*e.heap[e.heap_max]+1]=0,t=e.heap_max+1;HEAP_SIZE>t;t++)r=e.heap[t],n=a[2*a[2*r+1]+1]+1,n>u&&(n=u,p++),a[2*r+1]=n,r>l||(e.bl_count[n]++,s=0,r>=f&&(s=b[r-f]),d=a[2*r],e.opt_len+=d*(n+s),o&&(e.static_len+=d*(c[2*r+1]+s)));if(0!==p){do{for(n=u-1;0===e.bl_count[n];)n--;e.bl_count[n]--,e.bl_count[n+1]+=2,e.bl_count[u]--,p-=2}while(p>0);for(n=u;0!==n;n--)for(r=e.bl_count[n];0!==r;)i=e.heap[--t],i>l||(a[2*i+1]!==n&&(e.opt_len+=(n-a[2*i+1])*a[2*i],a[2*i+1]=n),r--)}}function gen_codes(e,_,t){var r,i,n=new Array(MAX_BITS+1),s=0;for(r=1;MAX_BITS>=r;r++)n[r]=s=s+t[r-1]<<1;for(i=0;_>=i;i++){var d=e[2*i+1];0!==d&&(e[2*i]=bi_reverse(n[d]++,d))}}function tr_static_init(){var e,_,t,r,i,n=new Array(MAX_BITS+1);for(t=0,r=0;LENGTH_CODES-1>r;r++)for(base_length[r]=t,e=0;e<1<<extra_lbits[r];e++)_length_code[t++]=r;for(_length_code[t-1]=r,i=0,r=0;16>r;r++)for(base_dist[r]=i,e=0;e<1<<extra_dbits[r];e++)_dist_code[i++]=r;for(i>>=7;D_CODES>r;r++)for(base_dist[r]=i<<7,e=0;e<1<<extra_dbits[r]-7;e++)_dist_code[256+i++]=r;for(_=0;MAX_BITS>=_;_++)n[_]=0;for(e=0;143>=e;)static_ltree[2*e+1]=8,e++,n[8]++;for(;255>=e;)static_ltree[2*e+1]=9,e++,n[9]++;for(;279>=e;)static_ltree[2*e+1]=7,e++,n[7]++;for(;287>=e;)static_ltree[2*e+1]=8,e++,n[8]++;for(gen_codes(static_ltree,L_CODES+1,n),e=0;D_CODES>e;e++)static_dtree[2*e+1]=5,static_dtree[2*e]=bi_reverse(e,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}function init_block(e){var _;for(_=0;L_CODES>_;_++)e.dyn_ltree[2*_]=0;for(_=0;D_CODES>_;_++)e.dyn_dtree[2*_]=0;for(_=0;BL_CODES>_;_++)e.bl_tree[2*_]=0;e.dyn_ltree[2*END_BLOCK]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function bi_windup(e){e.bi_valid>8?put_short(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function copy_block(e,_,t,r){bi_windup(e),r&&(put_short(e,t),put_short(e,~t)),utils.arraySet(e.pending_buf,e.window,_,t,e.pending),e.pending+=t}function smaller(e,_,t,r){var i=2*_,n=2*t;return e[i]<e[n]||e[i]===e[n]&&r[_]<=r[t]}function pqdownheap(e,_,t){for(var r=e.heap[t],i=t<<1;i<=e.heap_len&&(i<e.heap_len&&smaller(_,e.heap[i+1],e.heap[i],e.depth)&&i++,!smaller(_,r,e.heap[i],e.depth));)e.heap[t]=e.heap[i],t=i,i<<=1;e.heap[t]=r}function compress_block(e,_,t){var r,i,n,s,d=0;if(0!==e.last_lit)do r=e.pending_buf[e.d_buf+2*d]<<8|e.pending_buf[e.d_buf+2*d+1],i=e.pending_buf[e.l_buf+d],d++,0===r?send_code(e,i,_):(n=_length_code[i],send_code(e,n+LITERALS+1,_),s=extra_lbits[n],0!==s&&(i-=base_length[n],send_bits(e,i,s)),r--,n=d_code(r),send_code(e,n,t),s=extra_dbits[n],0!==s&&(r-=base_dist[n],send_bits(e,r,s)));while(d<e.last_lit);send_code(e,END_BLOCK,_)}function build_tree(e,_){var t,r,i,n=_.dyn_tree,s=_.stat_desc.static_tree,d=_.stat_desc.has_stree,a=_.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=HEAP_SIZE,t=0;a>t;t++)0!==n[2*t]?(e.heap[++e.heap_len]=l=t,e.depth[t]=0):n[2*t+1]=0;for(;e.heap_len<2;)i=e.heap[++e.heap_len]=2>l?++l:0,n[2*i]=1,e.depth[i]=0,e.opt_len--,d&&(e.static_len-=s[2*i+1]);for(_.max_code=l,t=e.heap_len>>1;t>=1;t--)pqdownheap(e,n,t);i=a;do t=e.heap[1],e.heap[1]=e.heap[e.heap_len--],pqdownheap(e,n,1),r=e.heap[1],e.heap[--e.heap_max]=t,e.heap[--e.heap_max]=r,n[2*i]=n[2*t]+n[2*r],e.depth[i]=(e.depth[t]>=e.depth[r]?e.depth[t]:e.depth[r])+1,n[2*t+1]=n[2*r+1]=i,e.heap[1]=i++,pqdownheap(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],gen_bitlen(e,_),gen_codes(n,l,e.bl_count)}function scan_tree(e,_,t){var r,i,n=-1,s=_[1],d=0,a=7,l=4;for(0===s&&(a=138,l=3),_[2*(t+1)+1]=65535,r=0;t>=r;r++)i=s,s=_[2*(r+1)+1],++d<a&&i===s||(l>d?e.bl_tree[2*i]+=d:0!==i?(i!==n&&e.bl_tree[2*i]++,e.bl_tree[2*REP_3_6]++):10>=d?e.bl_tree[2*REPZ_3_10]++:e.bl_tree[2*REPZ_11_138]++,d=0,n=i,0===s?(a=138,l=3):i===s?(a=6,l=3):(a=7,l=4))}function send_tree(e,_,t){var r,i,n=-1,s=_[1],d=0,a=7,l=4;for(0===s&&(a=138,l=3),r=0;t>=r;r++)if(i=s,s=_[2*(r+1)+1],!(++d<a&&i===s)){if(l>d){do send_code(e,i,e.bl_tree);while(0!==--d)}else 0!==i?(i!==n&&(send_code(e,i,e.bl_tree),d--),send_code(e,REP_3_6,e.bl_tree),send_bits(e,d-3,2)):10>=d?(send_code(e,REPZ_3_10,e.bl_tree),send_bits(e,d-3,3)):(send_code(e,REPZ_11_138,e.bl_tree),send_bits(e,d-11,7));d=0,n=i,0===s?(a=138,l=3):i===s?(a=6,l=3):(a=7,l=4)}}function build_bl_tree(e){var _;for(scan_tree(e,e.dyn_ltree,e.l_desc.max_code),scan_tree(e,e.dyn_dtree,e.d_desc.max_code),build_tree(e,e.bl_desc),_=BL_CODES-1;_>=3&&0===e.bl_tree[2*bl_order[_]+1];_--);return e.opt_len+=3*(_+1)+5+5+4,_}function send_all_trees(e,_,t,r){var i;for(send_bits(e,_-257,5),send_bits(e,t-1,5),send_bits(e,r-4,4),i=0;r>i;i++)send_bits(e,e.bl_tree[2*bl_order[i]+1],3);send_tree(e,e.dyn_ltree,_-1),send_tree(e,e.dyn_dtree,t-1)}function detect_data_type(e){var _,t=4093624447;for(_=0;31>=_;_++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*_])return Z_BINARY;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return Z_TEXT;for(_=32;LITERALS>_;_++)if(0!==e.dyn_ltree[2*_])return Z_TEXT;return Z_BINARY}function _tr_init(e){static_init_done||(tr_static_init(),static_init_done=!0),e.l_desc=new TreeDesc(e.dyn_ltree,static_l_desc),e.d_desc=new TreeDesc(e.dyn_dtree,static_d_desc),e.bl_desc=new TreeDesc(e.bl_tree,static_bl_desc),e.bi_buf=0,e.bi_valid=0,init_block(e)}function _tr_stored_block(e,_,t,r){send_bits(e,(STORED_BLOCK<<1)+(r?1:0),3),copy_block(e,_,t,!0)}function _tr_align(e){send_bits(e,STATIC_TREES<<1,3),send_code(e,END_BLOCK,static_ltree),bi_flush(e)}function _tr_flush_block(e,_,t,r){var i,n,s=0;e.level>0?(e.strm.data_type===Z_UNKNOWN&&(e.strm.data_type=detect_data_type(e)),build_tree(e,e.l_desc),build_tree(e,e.d_desc),s=build_bl_tree(e),i=e.opt_len+3+7>>>3,n=e.static_len+3+7>>>3,i>=n&&(i=n)):i=n=t+5,i>=t+4&&-1!==_?_tr_stored_block(e,_,t,r):e.strategy===Z_FIXED||n===i?(send_bits(e,(STATIC_TREES<<1)+(r?1:0),3),compress_block(e,static_ltree,static_dtree)):(send_bits(e,(DYN_TREES<<1)+(r?1:0),3),send_all_trees(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),compress_block(e,e.dyn_ltree,e.dyn_dtree)),init_block(e),r&&bi_windup(e)}function _tr_tally(e,_,t){return e.pending_buf[e.d_buf+2*e.last_lit]=_>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&_,e.pending_buf[e.l_buf+e.last_lit]=255&t,e.last_lit++,0===_?e.dyn_ltree[2*t]++:(e.matches++,_--,e.dyn_ltree[2*(_length_code[t]+LITERALS+1)]++,e.dyn_dtree[2*d_code(_)]++),e.last_lit===e.lit_bufsize-1}var utils=require("../utils/common"),Z_FIXED=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN=2,STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH=3,MAX_MATCH=258,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array(2*(L_CODES+2));zero(static_ltree);var static_dtree=new Array(2*D_CODES);zero(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero(_dist_code);var _length_code=new Array(MAX_MATCH-MIN_MATCH+1);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var base_dist=new Array(D_CODES);zero(base_dist);var StaticTreeDesc=function(e,_,t,r,i){this.static_tree=e,this.extra_bits=_,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=e&&e.length},static_l_desc,static_d_desc,static_bl_desc,TreeDesc=function(e,_){this.dyn_tree=e,this.max_code=0,this.stat_desc=_},static_init_done=!1;exports._tr_init=_tr_init,exports._tr_stored_block=_tr_stored_block,exports._tr_flush_block=_tr_flush_block,exports._tr_tally=_tr_tally,exports._tr_align=_tr_align;
},{"../utils/common":393}],403:[function(require,module,exports){
"use strict";function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}module.exports=ZStream;
},{}],404:[function(require,module,exports){
module.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}
},{}],405:[function(require,module,exports){
var asn1=require("asn1.js"),RSAPrivateKey=asn1.define("RSAPrivateKey",function(){this.seq().obj(this.key("version")["int"](),this.key("modulus")["int"](),this.key("publicExponent")["int"](),this.key("privateExponent")["int"](),this.key("prime1")["int"](),this.key("prime2")["int"](),this.key("exponent1")["int"](),this.key("exponent2")["int"](),this.key("coefficient")["int"]())});exports.RSAPrivateKey=RSAPrivateKey;var RSAPublicKey=asn1.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus")["int"](),this.key("publicExponent")["int"]())});exports.RSAPublicKey=RSAPublicKey;var PublicKey=asn1.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())});exports.PublicKey=PublicKey;var AlgorithmIdentifier=asn1.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p")["int"](),this.key("q")["int"](),this.key("g")["int"]()).optional())}),PrivateKeyInfo=asn1.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version")["int"](),this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});exports.PrivateKey=PrivateKeyInfo;var EncryptedPrivateKeyInfo=asn1.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters")["int"]())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});exports.EncryptedPrivateKey=EncryptedPrivateKeyInfo;var DSAPrivateKey=asn1.define("DSAPrivateKey",function(){this.seq().obj(this.key("version")["int"](),this.key("p")["int"](),this.key("q")["int"](),this.key("g")["int"](),this.key("pub_key")["int"](),this.key("priv_key")["int"]())});exports.DSAPrivateKey=DSAPrivateKey,exports.DSAparam=asn1.define("DSAparam",function(){this["int"]()});var ECPrivateKey=asn1.define("ECPrivateKey",function(){this.seq().obj(this.key("version")["int"](),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ECParameters),this.key("publicKey").optional().explicit(1).bitstr())});exports.ECPrivateKey=ECPrivateKey;var ECParameters=asn1.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});exports.signature=asn1.define("signature",function(){this.seq().obj(this.key("r")["int"](),this.key("s")["int"]())});
},{"asn1.js":408}],406:[function(require,module,exports){
(function (Buffer){
var findProc=/Proc-Type: 4,ENCRYPTED\r?\nDEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\r?\n\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n/m,startRegex=/^-----BEGIN (.*) KEY-----\r?\n/m,fullRegex=/^-----BEGIN (.*) KEY-----\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n-----END \1 KEY-----$/m,evp=require("evp_bytestokey"),ciphers=require("browserify-aes");module.exports=function(e,r){var a,n=e.toString(),t=n.match(findProc);if(t){var f="aes"+t[1],c=new Buffer(t[2],"hex"),s=new Buffer(t[3].replace(/\r?\n/g,""),"base64"),i=evp(r,c.slice(0,8),parseInt(t[1],10)).key,p=[],u=ciphers.createDecipheriv(f,i,c);p.push(u.update(s)),p.push(u["final"]()),a=Buffer.concat(p)}else{var o=n.match(fullRegex);a=new Buffer(o[2].replace(/\r?\n/g,""),"base64")}var E=n.match(startRegex)[1]+" KEY";return{tag:E,data:a}};
}).call(this,require("buffer").Buffer)

},{"browserify-aes":9,"buffer":42,"evp_bytestokey":85}],407:[function(require,module,exports){
(function (Buffer){
function parseKeys(e){var r;"object"!=typeof e||Buffer.isBuffer(e)||(r=e.passphrase,e=e.key),"string"==typeof e&&(e=new Buffer(e));var a,t,s=fixProc(e,r),i=s.tag,c=s.data;switch(i){case"PUBLIC KEY":switch(t=asn1.PublicKey.decode(c,"der"),a=t.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPublicKey.decode(t.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return t.subjectPrivateKey=t.subjectPublicKey,{type:"ec",data:t};case"1.2.840.10040.4.1":return t.algorithm.params.pub_key=asn1.DSAparam.decode(t.subjectPublicKey.data,"der"),{type:"dsa",data:t.algorithm.params};default:throw new Error("unknown key id "+a)}throw new Error("unknown key type "+i);case"ENCRYPTED PRIVATE KEY":c=asn1.EncryptedPrivateKey.decode(c,"der"),c=decrypt(c,r);case"PRIVATE KEY":switch(t=asn1.PrivateKey.decode(c,"der"),a=t.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPrivateKey.decode(t.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:t.algorithm.curve,privateKey:asn1.ECPrivateKey.decode(t.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return t.algorithm.params.priv_key=asn1.DSAparam.decode(t.subjectPrivateKey,"der"),{type:"dsa",params:t.algorithm.params};default:throw new Error("unknown key id "+a)}throw new Error("unknown key type "+i);case"RSA PUBLIC KEY":return asn1.RSAPublicKey.decode(c,"der");case"RSA PRIVATE KEY":return asn1.RSAPrivateKey.decode(c,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:asn1.DSAPrivateKey.decode(c,"der")};case"EC PRIVATE KEY":return c=asn1.ECPrivateKey.decode(c,"der"),{curve:c.parameters.value,privateKey:c.privateKey};default:throw new Error("unknown key type "+i)}}function decrypt(e,r){var a=e.algorithm.decrypt.kde.kdeparams.salt,t=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),s=aesid[e.algorithm.decrypt.cipher.algo.join(".")],i=e.algorithm.decrypt.cipher.iv,c=e.subjectPrivateKey,d=parseInt(s.split("-")[1],10)/8,n=compat.pbkdf2Sync(r,a,t,d),o=ciphers.createDecipheriv(s,n,i),u=[];return u.push(o.update(c)),u.push(o["final"]()),Buffer.concat(u)}var asn1=require("./asn1"),aesid=require("./aesid.json"),fixProc=require("./fixProc"),ciphers=require("browserify-aes"),compat=require("pbkdf2");module.exports=parseKeys,parseKeys.signature=asn1.signature;
}).call(this,require("buffer").Buffer)

},{"./aesid.json":404,"./asn1":405,"./fixProc":406,"browserify-aes":9,"buffer":42,"pbkdf2":424}],408:[function(require,module,exports){
var asn1=exports;asn1.bignum=require("bn.js"),asn1.define=require("./asn1/api").define,asn1.base=require("./asn1/base"),asn1.constants=require("./asn1/constants"),asn1.decoders=require("./asn1/decoders"),asn1.encoders=require("./asn1/encoders");
},{"./asn1/api":409,"./asn1/base":411,"./asn1/constants":415,"./asn1/decoders":417,"./asn1/encoders":420,"bn.js":422}],409:[function(require,module,exports){
function Entity(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}var asn1=require("../asn1"),inherits=require("inherits"),api=exports;api.define=function(t,e){return new Entity(t,e)},Entity.prototype._createNamed=function(t){var e;try{e=require("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(n){e=function(t){this._initNamed(t)}}return inherits(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},Entity.prototype._getDecoder=function(t){return this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(asn1.decoders[t])),this.decoders[t]},Entity.prototype.decode=function(t,e,n){return this._getDecoder(e).decode(t,n)},Entity.prototype._getEncoder=function(t){return this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(asn1.encoders[t])),this.encoders[t]},Entity.prototype.encode=function(t,e,n){return this._getEncoder(e).encode(t,n)};
},{"../asn1":408,"inherits":98,"vm":595}],410:[function(require,module,exports){
function DecoderBuffer(e,t){return Reporter.call(this,t),Buffer.isBuffer(e)?(this.base=e,this.offset=0,void(this.length=e.length)):void this.error("Input not Buffer")}function EncoderBuffer(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof EncoderBuffer||(e=new EncoderBuffer(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(e>=0&&255>=e))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=Buffer.byteLength(e);else{if(!Buffer.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}var inherits=require("inherits"),Reporter=require("../base").Reporter,Buffer=require("buffer").Buffer;inherits(DecoderBuffer,Reporter),exports.DecoderBuffer=DecoderBuffer,DecoderBuffer.prototype.save=function(){return{offset:this.offset,reporter:Reporter.prototype.save.call(this)}},DecoderBuffer.prototype.restore=function(e){var t=new DecoderBuffer(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,Reporter.prototype.restore.call(this,e.reporter),t},DecoderBuffer.prototype.isEmpty=function(){return this.offset===this.length},DecoderBuffer.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},DecoderBuffer.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new DecoderBuffer(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},DecoderBuffer.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},exports.EncoderBuffer=EncoderBuffer,EncoderBuffer.prototype.join=function(e,t){return e||(e=new Buffer(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(e,t),t+=r.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):Buffer.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)};
},{"../base":411,"buffer":42,"inherits":98}],411:[function(require,module,exports){
var base=exports;base.Reporter=require("./reporter").Reporter,base.DecoderBuffer=require("./buffer").DecoderBuffer,base.EncoderBuffer=require("./buffer").EncoderBuffer,base.Node=require("./node");
},{"./buffer":410,"./node":412,"./reporter":413}],412:[function(require,module,exports){
function Node(e,t){var r={};this._baseState=r,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r["default"]=null,r.explicit=null,r.implicit=null,r.parent||(r.children=[],this._wrap())}var Reporter=require("../base").Reporter,EncoderBuffer=require("../base").EncoderBuffer,assert=require("minimalistic-assert"),tags=["seq","seqof","set","setof","octstr","bitstr","objid","bool","gentime","utctime","null_","enum","int","ia5str","utf8str","bmpstr","numstr","printstr"],methods=["key","obj","use","optional","explicit","implicit","def","choice","any"].concat(tags),overrided=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];module.exports=Node;var stateProps=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit"];Node.prototype.clone=function(){var e=this._baseState,t={};stateProps.forEach(function(r){t[r]=e[r]});var r=new this.constructor(t.parent);return r._baseState=t,r},Node.prototype._wrap=function(){var e=this._baseState;methods.forEach(function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}},this)},Node.prototype._init=function(e){var t=this._baseState;assert(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),assert.equal(t.children.length,1,"Root node can have only one child")},Node.prototype._useArgs=function(e){var t=this._baseState,r=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==r.length&&(assert(null===t.children),t.children=r,r.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(assert(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(r){r==(0|r)&&(r|=0);var i=e[r];t[i]=r}),t}))},overrided.forEach(function(e){Node.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),tags.forEach(function(e){Node.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return assert(null===t.tag),t.tag=e,this._useArgs(r),this}}),Node.prototype.use=function(e){var t=this._baseState;return assert(null===t.use),t.use=e,this},Node.prototype.optional=function(){var e=this._baseState;return e.optional=!0,this},Node.prototype.def=function(e){var t=this._baseState;return assert(null===t["default"]),t["default"]=e,t.optional=!0,this},Node.prototype.explicit=function(e){var t=this._baseState;return assert(null===t.explicit&&null===t.implicit),t.explicit=e,this},Node.prototype.implicit=function(e){var t=this._baseState;return assert(null===t.explicit&&null===t.implicit),t.implicit=e,this},Node.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},Node.prototype.key=function(e){var t=this._baseState;return assert(null===t.key),t.key=e,this},Node.prototype.any=function(){var e=this._baseState;return e.any=!0,this},Node.prototype.choice=function(e){var t=this._baseState;return assert(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},Node.prototype._decode=function(e){var t=this._baseState;if(null===t.parent)return e.wrapResult(t.children[0]._decode(e));var r,i=t["default"],n=!0;if(null!==t.key&&(r=e.enterKey(t.key)),t.optional){var o=null;if(null!==t.explicit?o=t.explicit:null!==t.implicit?o=t.implicit:null!==t.tag&&(o=t.tag),null!==o||t.any){if(n=this._peekTag(e,o,t.any),e.isError(n))return n}else{var s=e.save();try{null===t.choice?this._decodeGeneric(t.tag,e):this._decodeChoice(e),n=!0}catch(a){n=!1}e.restore(s)}}var c;if(t.obj&&n&&(c=e.enterObject()),n){if(null!==t.explicit){var l=this._decodeTag(e,t.explicit);if(e.isError(l))return l;e=l}if(null===t.use&&null===t.choice){if(t.any)var s=e.save();var u=this._decodeTag(e,null!==t.implicit?t.implicit:t.tag,t.any);if(e.isError(u))return u;t.any?i=e.raw(s):e=u}if(i=t.any?i:null===t.choice?this._decodeGeneric(t.tag,e):this._decodeChoice(e),e.isError(i))return i;if(!t.any&&null===t.choice&&null!==t.children){var d=t.children.some(function(t){t._decode(e)});if(d)return err}}return t.obj&&n&&(i=e.leaveObject(c)),null===t.key||null===i&&n!==!0||e.leaveKey(r,t.key,i),i},Node.prototype._decodeGeneric=function(e,t){var r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0]):"octstr"===e||"bitstr"===e?this._decodeStr(t,e):"ia5str"===e||"utf8str"===e||"bmpstr"===e?this._decodeStr(t,e):"numstr"===e||"printstr"===e?this._decodeStr(t,e):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1]):"objid"===e?this._decodeObjid(t,null,null):"gentime"===e||"utctime"===e?this._decodeTime(t,e):"null_"===e?this._decodeNull(t):"bool"===e?this._decodeBool(t):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0]):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t):t.error("unknown tag: "+e)},Node.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),assert(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},Node.prototype._decodeChoice=function(e){var t=this._baseState,r=null,i=!1;return Object.keys(t.choice).some(function(n){var o=e.save(),s=t.choice[n];try{var a=s._decode(e);if(e.isError(a))return!1;r={type:n,value:a},i=!0}catch(c){return e.restore(o),!1}return!0},this),i?r:e.error("Choice not matched")},Node.prototype._createEncoderBuffer=function(e){return new EncoderBuffer(e,this.reporter)},Node.prototype._encode=function(e,t,r){var i=this._baseState;if(null===i["default"]||i["default"]!==e){var n=this._encodeValue(e,t,r);if(void 0!==n&&!this._skipDefault(n,t,r))return n}},Node.prototype._encodeValue=function(e,t,r){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new Reporter);var n=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i["default"])return;e=i["default"]}var o=null,s=!1;if(i.any)n=this._createEncoderBuffer(e);else if(i.choice)n=this._encodeChoice(e,t);else if(i.children)o=i.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var i=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var n=r._encode(e[r._baseState.key],t,e);return t.leaveKey(i),n},this).filter(function(e){return e}),o=this._createEncoderBuffer(o);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var a=this.clone();a._baseState.implicit=null,o=this._createEncoderBuffer(e.map(function(r){var i=this._baseState;return this._getUse(i.args[0],e)._encode(r,t)},a))}else null!==i.use?n=this._getUse(i.use,r)._encode(e,t):(o=this._encodePrimitive(i.tag,e),s=!0);var n;if(!i.any&&null===i.choice){var c=null!==i.implicit?i.implicit:i.tag,l=null===i.implicit?"universal":"context";null===c?null===i.use&&t.error("Tag could be ommited only for .use()"):null===i.use&&(n=this._encodeComposite(c,s,l,o))}return null!==i.explicit&&(n=this._encodeComposite(i.explicit,!1,"context",n)),n},Node.prototype._encodeChoice=function(e,t){var r=this._baseState,i=r.choice[e.type];return i||assert(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),i._encode(e.value,t)},Node.prototype._encodePrimitive=function(e,t){var r=this._baseState;if("octstr"===e||"bitstr"===e||"ia5str"===e)return this._encodeStr(t,e);if("utf8str"===e||"bmpstr"===e)return this._encodeStr(t,e);if("numstr"===e||"printstr"===e)return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);throw new Error("Unsupported tag: "+e)},Node.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},Node.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)};
},{"../base":411,"minimalistic-assert":390}],413:[function(require,module,exports){
function Reporter(r){this._reporterState={obj:null,path:[],options:r||{},errors:[]}}function ReporterError(r,t){this.path=r,this.rethrow(t)}var inherits=require("inherits");exports.Reporter=Reporter,Reporter.prototype.isError=function(r){return r instanceof ReporterError},Reporter.prototype.save=function(){var r=this._reporterState;return{obj:r.obj,pathLen:r.path.length}},Reporter.prototype.restore=function(r){var t=this._reporterState;t.obj=r.obj,t.path=t.path.slice(0,r.pathLen)},Reporter.prototype.enterKey=function(r){return this._reporterState.path.push(r)},Reporter.prototype.leaveKey=function(r,t,e){var o=this._reporterState;o.path=o.path.slice(0,r-1),null!==o.obj&&(o.obj[t]=e)},Reporter.prototype.enterObject=function(){var r=this._reporterState,t=r.obj;return r.obj={},t},Reporter.prototype.leaveObject=function(r){var t=this._reporterState,e=t.obj;return t.obj=r,e},Reporter.prototype.error=function(r){var t,e=this._reporterState,o=r instanceof ReporterError;if(t=o?r:new ReporterError(e.path.map(function(r){return"["+JSON.stringify(r)+"]"}).join(""),r.message||r,r.stack),!e.options.partial)throw t;return o||e.errors.push(t),t},Reporter.prototype.wrapResult=function(r){var t=this._reporterState;return t.options.partial?{result:this.isError(r)?null:r,errors:t.errors}:r},inherits(ReporterError,Error),ReporterError.prototype.rethrow=function(r){return this.message=r+" at: "+(this.path||"(shallow)"),Error.captureStackTrace(this,ReporterError),this};
},{"inherits":98}],414:[function(require,module,exports){
var constants=require("../constants");exports.tagClass={0:"universal",1:"application",2:"context",3:"private"},exports.tagClassByName=constants._reverse(exports.tagClass),exports.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},exports.tagByName=constants._reverse(exports.tag);
},{"../constants":415}],415:[function(require,module,exports){
var constants=exports;constants._reverse=function(r){var e={};return Object.keys(r).forEach(function(n){(0|n)==n&&(n=0|n);var t=r[n];e[t]=n}),e},constants.der=require("./der");
},{"./der":414}],416:[function(require,module,exports){
function DERDecoder(r){this.enc="der",this.name=r.name,this.entity=r,this.tree=new DERNode,this.tree._init(r.body)}function DERNode(r){base.Node.call(this,"der",r)}function derDecodeTag(r,e){var t=r.readUInt8(e);if(r.isError(t))return t;var i=der.tagClass[t>>6],o=0===(32&t);if(31===(31&t)){var n=t;for(t=0;128===(128&n);){if(n=r.readUInt8(e),r.isError(n))return n;t<<=7,t|=127&n}}else t&=31;var s=der.tag[t];return{cls:i,primitive:o,tag:t,tagStr:s}}function derDecodeLen(r,e,t){var i=r.readUInt8(t);if(r.isError(i))return i;if(!e&&128===i)return null;if(0===(128&i))return i;var o=127&i;if(o>=4)return r.error("length octect is too long");i=0;for(var n=0;o>n;n++){i<<=8;var s=r.readUInt8(t);if(r.isError(s))return s;i|=s}return i}var inherits=require("inherits"),asn1=require("../../asn1"),base=asn1.base,bignum=asn1.bignum,der=asn1.constants.der;module.exports=DERDecoder,DERDecoder.prototype.decode=function(r,e){return r instanceof base.DecoderBuffer||(r=new base.DecoderBuffer(r,e)),this.tree._decode(r,e)},inherits(DERNode,base.Node),DERNode.prototype._peekTag=function(r,e,t){if(r.isEmpty())return!1;var i=r.save(),o=derDecodeTag(r,'Failed to peek tag: "'+e+'"');return r.isError(o)?o:(r.restore(i),o.tag===e||o.tagStr===e||t)},DERNode.prototype._decodeTag=function(r,e,t){var i=derDecodeTag(r,'Failed to decode tag of "'+e+'"');if(r.isError(i))return i;var o=derDecodeLen(r,i.primitive,'Failed to get length of "'+e+'"');if(r.isError(o))return o;if(!t&&i.tag!==e&&i.tagStr!==e&&i.tagStr+"of"!==e)return r.error('Failed to match tag: "'+e+'"');if(i.primitive||null!==o)return r.skip(o,'Failed to match body of: "'+e+'"');var n=r.save(),s=this._skipUntilEnd(r,'Failed to skip indefinite length body: "'+this.tag+'"');return r.isError(s)?s:(o=r.offset-n.offset,r.restore(n),r.skip(o,'Failed to match body of: "'+e+'"'))},DERNode.prototype._skipUntilEnd=function(r,e){for(;;){var t=derDecodeTag(r,e);if(r.isError(t))return t;var i=derDecodeLen(r,t.primitive,e);if(r.isError(i))return i;var o;if(o=t.primitive||null!==i?r.skip(i):this._skipUntilEnd(r,e),r.isError(o))return o;if("end"===t.tagStr)break}},DERNode.prototype._decodeList=function(r,e,t){for(var i=[];!r.isEmpty();){var o=this._peekTag(r,"end");if(r.isError(o))return o;var n=t.decode(r,"der");if(r.isError(n)&&o)break;i.push(n)}return i},DERNode.prototype._decodeStr=function(r,e){if("octstr"===e)return r.raw();if("bitstr"===e){var t=r.readUInt8();return r.isError(t)?t:{unused:t,data:r.raw()}}if("ia5str"===e||"utf8str"===e)return r.raw().toString();if("numstr"===e){var i=r.raw().toString("ascii");return this._isNumstr(i)?i:r.error("Decoding of string type: numstr unsupported characters")}if("printstr"===e){var o=r.raw().toString("ascii");return this._isPrintstr(o)?o:r.error("Decoding of string type: printstr unsupported characters")}if("bmpstr"===e){var n=r.raw();if(n.length%2===1)return r.error("Decoding of string type: bmpstr length mismatch");for(var s="",a=0;a<n.length/2;a++)s+=String.fromCharCode(n.readUInt16BE(2*a));return s}return r.error("Decoding of string type: "+e+" unsupported")},DERNode.prototype._decodeObjid=function(r,e,t){for(var i=[],o=0;!r.isEmpty();){var n=r.readUInt8();o<<=7,o|=127&n,0===(128&n)&&(i.push(o),o=0)}128&n&&i.push(o);var s=i[0]/40|0,a=i[0]%40;if(t?result=i:result=[s,a].concat(i.slice(1)),e){var d=e[result.join(" ")];void 0===d&&(d=e[result.join(".")]),void 0!==d&&(result=d)}return result},DERNode.prototype._decodeTime=function(r,e){var t=r.raw().toString();if("gentime"===e)var i=0|t.slice(0,4),o=0|t.slice(4,6),n=0|t.slice(6,8),s=0|t.slice(8,10),a=0|t.slice(10,12),d=0|t.slice(12,14);else{if("utctime"!==e)return r.error("Decoding "+e+" time is not supported yet");var i=0|t.slice(0,2),o=0|t.slice(2,4),n=0|t.slice(4,6),s=0|t.slice(6,8),a=0|t.slice(8,10),d=0|t.slice(10,12);i=70>i?2e3+i:1900+i}return Date.UTC(i,o-1,n,s,a,d,0)},DERNode.prototype._decodeNull=function(r){return null},DERNode.prototype._decodeBool=function(r){var e=r.readUInt8();return r.isError(e)?e:0!==e},DERNode.prototype._decodeInt=function(r,e){var t=r.raw(),i=new bignum(t);return e&&(i=e[i.toString(10)]||i),i},DERNode.prototype._use=function(r,e){return"function"==typeof r&&(r=r(e)),r._getDecoder("der").tree};
},{"../../asn1":408,"inherits":98}],417:[function(require,module,exports){
var decoders=exports;decoders.der=require("./der"),decoders.pem=require("./pem");
},{"./der":416,"./pem":418}],418:[function(require,module,exports){
function PEMDecoder(e){DERDecoder.call(this,e),this.enc="pem"}var inherits=require("inherits"),Buffer=require("buffer").Buffer,asn1=require("../../asn1"),DERDecoder=require("./der");inherits(PEMDecoder,DERDecoder),module.exports=PEMDecoder,PEMDecoder.prototype.decode=function(e,r){for(var o=e.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),t=/^-----(BEGIN|END) ([^-]+)-----$/,n=-1,c=-1,a=0;a<o.length;a++){var f=o[a].match(t);if(null!==f&&f[2]===i){if(-1!==n){if("END"!==f[1])break;c=a;break}if("BEGIN"!==f[1])break;n=a}}if(-1===n||-1===c)throw new Error("PEM section not found for: "+i);var d=o.slice(n+1,c).join("");d.replace(/[^a-z0-9\+\/=]+/gi,"");var s=new Buffer(d,"base64");return DERDecoder.prototype.decode.call(this,s,r)};
},{"../../asn1":408,"./der":416,"buffer":42,"inherits":98}],419:[function(require,module,exports){
function DEREncoder(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new DERNode,this.tree._init(e.body)}function DERNode(e){base.Node.call(this,"der",e)}function two(e){return 10>e?"0"+e:e}function encodeTag(e,r,t,n){var o;if("seqof"===e?e="seq":"setof"===e&&(e="set"),der.tagByName.hasOwnProperty(e))o=der.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);o=e}return o>=31?n.error("Multi-octet tag encoding unsupported"):(r||(o|=32),o|=der.tagClassByName[t||"universal"]<<6)}var inherits=require("inherits"),Buffer=require("buffer").Buffer,asn1=require("../../asn1"),base=asn1.base,bignum=asn1.bignum,der=asn1.constants.der;module.exports=DEREncoder,DEREncoder.prototype.encode=function(e,r){return this.tree._encode(e,r).join()},inherits(DERNode,base.Node),DERNode.prototype._encodeComposite=function(e,r,t,n){var o=encodeTag(e,r,t,this.reporter);if(n.length<128){var i=new Buffer(2);return i[0]=o,i[1]=n.length,this._createEncoderBuffer([i,n])}for(var f=1,s=n.length;s>=256;s>>=8)f++;var i=new Buffer(2+f);i[0]=o,i[1]=128|f;for(var s=1+f,u=n.length;u>0;s--,u>>=8)i[s]=255&u;return this._createEncoderBuffer([i,n])},DERNode.prototype._encodeStr=function(e,r){if("octstr"===r)return this._createEncoderBuffer(e);if("bitstr"===r)return this._createEncoderBuffer([0|e.unused,e.data]);if("ia5str"===r||"utf8str"===r)return this._createEncoderBuffer(e);if("bmpstr"===r){for(var t=new Buffer(2*e.length),n=0;n<e.length;n++)t.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(t)}return"numstr"===r?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===r?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):this.reporter.error("Encoding of string type: "+r+" unsupported")},DERNode.prototype._encodeObjid=function(e,r,t){if("string"==typeof e){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s\.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e)){e=e.slice();for(var n=0;n<e.length;n++)e[n]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!t){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var o=0,n=0;n<e.length;n++){var i=e[n];for(o++;i>=128;i>>=7)o++}for(var f=new Buffer(o),s=f.length-1,n=e.length-1;n>=0;n--){var i=e[n];for(f[s--]=127&i;(i>>=7)>0;)f[s--]=128|127&i}return this._createEncoderBuffer(f)},DERNode.prototype._encodeTime=function(e,r){var t,n=new Date(e);return"gentime"===r?t=[two(n.getFullYear()),two(n.getUTCMonth()+1),two(n.getUTCDate()),two(n.getUTCHours()),two(n.getUTCMinutes()),two(n.getUTCSeconds()),"Z"].join(""):"utctime"===r?t=[two(n.getFullYear()%100),two(n.getUTCMonth()+1),two(n.getUTCDate()),two(n.getUTCHours()),two(n.getUTCMinutes()),two(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(t,"octstr")},DERNode.prototype._encodeNull=function(){return this._createEncoderBuffer("")},DERNode.prototype._encodeInt=function(e,r){if("string"==typeof e){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if("number"!=typeof e&&!Buffer.isBuffer(e)){var t=e.toArray();!e.sign&&128&t[0]&&t.unshift(0),e=new Buffer(t)}if(Buffer.isBuffer(e)){var n=e.length;0===e.length&&n++;var o=new Buffer(n);return e.copy(o),0===e.length&&(o[0]=0),this._createEncoderBuffer(o)}if(128>e)return this._createEncoderBuffer(e);if(256>e)return this._createEncoderBuffer([0,e]);for(var n=1,i=e;i>=256;i>>=8)n++;for(var o=new Array(n),i=o.length-1;i>=0;i--)o[i]=255&e,e>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new Buffer(o))},DERNode.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},DERNode.prototype._use=function(e,r){return"function"==typeof e&&(e=e(r)),e._getEncoder("der").tree},DERNode.prototype._skipDefault=function(e,r,t){var n,o=this._baseState;if(null===o["default"])return!1;var i=e.join();if(void 0===o.defaultBuffer&&(o.defaultBuffer=this._encodeValue(o["default"],r,t).join()),i.length!==o.defaultBuffer.length)return!1;for(n=0;n<i.length;n++)if(i[n]!==o.defaultBuffer[n])return!1;return!0};
},{"../../asn1":408,"buffer":42,"inherits":98}],420:[function(require,module,exports){
var encoders=exports;encoders.der=require("./der"),encoders.pem=require("./pem");
},{"./der":419,"./pem":421}],421:[function(require,module,exports){
function PEMEncoder(e){DEREncoder.call(this,e),this.enc="pem"}var inherits=require("inherits"),Buffer=require("buffer").Buffer,asn1=require("../../asn1"),DEREncoder=require("./der");inherits(PEMEncoder,DEREncoder),module.exports=PEMEncoder,PEMEncoder.prototype.encode=function(e,r){for(var n=DEREncoder.prototype.encode.call(this,e),o=n.toString("base64"),i=["-----BEGIN "+r.label+"-----"],E=0;E<o.length;E+=64)i.push(o.slice(E,E+64));return i.push("-----END "+r.label+"-----"),i.join("\n")};
},{"../../asn1":408,"./der":419,"buffer":42,"inherits":98}],422:[function(require,module,exports){
arguments[4][26][0].apply(exports,arguments)
},{"dup":26}],423:[function(require,module,exports){
(function (process){
function normalizeArray(r,t){for(var e=0,n=r.length-1;n>=0;n--){var s=r[n];"."===s?r.splice(n,1):".."===s?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function filter(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(r){return splitPathRe.exec(r).slice(1)};exports.resolve=function(){for(var r="",t=!1,e=arguments.length-1;e>=-1&&!t;e--){var n=e>=0?arguments[e]:process.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(r=n+"/"+r,t="/"===n.charAt(0))}return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),(t?"/":"")+r||"."},exports.normalize=function(r){var t=exports.isAbsolute(r),e="/"===substr(r,-1);return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),r||t||(r="."),r&&e&&(r+="/"),(t?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),s=e(t.split("/")),i=Math.min(n.length,s.length),o=i,u=0;i>u;u++)if(n[u]!==s[u]){o=u;break}for(var l=[],u=o;u<n.length;u++)l.push("..");return l=l.concat(s.slice(o)),l.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){var t=splitPath(r),e=t[0],n=t[1];return e||n?(n&&(n=n.substr(0,n.length-1)),e+n):"."},exports.basename=function(r,t){var e=splitPath(r)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},exports.extname=function(r){return splitPath(r)[3]};var substr="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return 0>t&&(t=r.length+t),r.substr(t,e)};
}).call(this,require('_process'))

},{"_process":425}],424:[function(require,module,exports){
(function (Buffer){
function pbkdf2(e,r,t,f,n,o){if("function"==typeof n&&(o=n,n=void 0),"function"!=typeof o)throw new Error("No callback provided to pbkdf2");var a=pbkdf2Sync(e,r,t,f,n);setTimeout(function(){o(void 0,a)})}function pbkdf2Sync(e,r,t,f,n){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(0>t)throw new TypeError("Bad iterations");if("number"!=typeof f)throw new TypeError("Key length not a number");if(0>f||f>MAX_ALLOC)throw new TypeError("Bad key length");n=n||"sha1",Buffer.isBuffer(e)||(e=new Buffer(e,"binary")),Buffer.isBuffer(r)||(r=new Buffer(r,"binary"));var o,a=1,i=new Buffer(f),p=new Buffer(r.length+4);r.copy(p,0,0,r.length);for(var c,u,y=1;a>=y;y++){p.writeUInt32BE(y,r.length);var d=createHmac(n,e).update(p).digest();o||(o=d.length,u=new Buffer(o),a=Math.ceil(f/o),c=f-(a-1)*o),d.copy(u,0,0,o);for(var w=1;t>w;w++){d=createHmac(n,e).update(d).digest();for(var b=0;o>b;b++)u[b]^=d[b]}var h=(y-1)*o,B=y===a?c:o;u.copy(i,h,0,B)}return i}var createHmac=require("create-hmac"),MAX_ALLOC=Math.pow(2,30)-1;exports.pbkdf2=pbkdf2,exports.pbkdf2Sync=pbkdf2Sync;
}).call(this,require("buffer").Buffer)

},{"buffer":42,"create-hmac":51}],425:[function(require,module,exports){
function drainQueue(){if(!draining){draining=!0;for(var e,o=queue.length;o;){e=queue,queue=[];for(var r=-1;++r<o;)e[r]();o=queue.length}draining=!1}}function noop(){}var process=module.exports={},queue=[],draining=!1;process.nextTick=function(e){queue.push(e),draining||setTimeout(drainQueue,0)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],426:[function(require,module,exports){
exports.publicEncrypt=require("./publicEncrypt"),exports.privateDecrypt=require("./privateDecrypt"),exports.privateEncrypt=function(r,p){return exports.publicEncrypt(r,p,!0)},exports.publicDecrypt=function(r,p){return exports.privateDecrypt(r,p,!0)};
},{"./privateDecrypt":429,"./publicEncrypt":430}],427:[function(require,module,exports){
(function (Buffer){
function i2ops(e){var r=new Buffer(4);return r.writeUInt32BE(e,0),r}var createHash=require("create-hash");module.exports=function(e,r){for(var t,a=new Buffer(""),n=0;a.length<r;)t=i2ops(n++),a=Buffer.concat([a,createHash("sha1").update(e).update(t).digest()]);return a.slice(0,r)};
}).call(this,require("buffer").Buffer)

},{"buffer":42,"create-hash":48}],428:[function(require,module,exports){
arguments[4][26][0].apply(exports,arguments)
},{"dup":26}],429:[function(require,module,exports){
(function (Buffer){
function oaep(r,e){var n=(r.modulus,r.modulus.byteLength()),t=(e.length,createHash("sha1").update(new Buffer("")).digest()),i=t.length;if(0!==e[0])throw new Error("decryption error");var o=e.slice(1,i+1),u=e.slice(i+1),a=xor(o,mgf(u,i)),c=xor(u,mgf(a,n-i-1));if(compare(t,c.slice(0,i)))throw new Error("decryption error");for(var f=i;0===c[f];)f++;if(1!==c[f++])throw new Error("decryption error");return c.slice(f)}function pkcs1(r,e,n){for(var t=e.slice(0,2),i=2,o=0;0!==e[i++];)if(i>=e.length){o++;break}var u=e.slice(2,i-1);e.slice(i-1,i);if(("0002"!==t.toString("hex")&&!n||"0001"!==t.toString("hex")&&n)&&o++,u.length<8&&o++,o)throw new Error("decryption error");return e.slice(i)}function compare(r,e){r=new Buffer(r),e=new Buffer(e);var n=0,t=r.length;r.length!==e.length&&(n++,t=Math.min(r.length,e.length));for(var i=-1;++i<t;)n+=r[i]^e[i];return n}var parseKeys=require("parse-asn1"),mgf=require("./mgf"),xor=require("./xor"),bn=require("bn.js"),crt=require("browserify-rsa"),createHash=require("create-hash"),withPublic=require("./withPublic");module.exports=function(r,e,n){var t;t=r.padding?r.padding:n?1:4;var i=parseKeys(r),o=i.modulus.byteLength();if(e.length>o||new bn(e).cmp(i.modulus)>=0)throw new Error("decryption error");var u;u=n?withPublic(new bn(e),i):crt(e,i);var a=new Buffer(o-u.length);if(a.fill(0),u=Buffer.concat([a,u],o),4===t)return oaep(i,u);if(1===t)return pkcs1(i,u,n);if(3===t)return u;throw new Error("unknown padding")};
}).call(this,require("buffer").Buffer)

},{"./mgf":427,"./withPublic":431,"./xor":432,"bn.js":428,"browserify-rsa":25,"buffer":42,"create-hash":48,"parse-asn1":407}],430:[function(require,module,exports){
(function (Buffer){
function oaep(e,r){var n=e.modulus.byteLength(),o=r.length,t=createHash("sha1").update(new Buffer("")).digest(),f=t.length,u=2*f;if(o>n-u-2)throw new Error("message too long");var a=new Buffer(n-o-u-2);a.fill(0);var s=n-f-1,i=randomBytes(f),w=xor(Buffer.concat([t,a,new Buffer([1]),r],s),mgf(i,s)),c=xor(i,mgf(w,f));return new bn(Buffer.concat([new Buffer([0]),c,w],n))}function pkcs1(e,r,n){var o=r.length,t=e.modulus.byteLength();if(o>t-11)throw new Error("message too long");var f;return n?(f=new Buffer(t-o-3),f.fill(255)):f=nonZero(t-o-3),new bn(Buffer.concat([new Buffer([0,n?1:2]),f,new Buffer([0]),r],t))}function nonZero(e,r){for(var n,o=new Buffer(e),t=0,f=randomBytes(2*e),u=0;e>t;)u===f.length&&(f=randomBytes(2*e),u=0),n=f[u++],n&&(o[t++]=n);return o}var parseKeys=require("parse-asn1"),randomBytes=require("randombytes"),createHash=require("create-hash"),mgf=require("./mgf"),xor=require("./xor"),bn=require("bn.js"),withPublic=require("./withPublic"),crt=require("browserify-rsa"),constants={RSA_PKCS1_OAEP_PADDING:4,RSA_PKCS1_PADDIN:1,RSA_NO_PADDING:3};module.exports=function(e,r,n){var o;o=e.padding?e.padding:n?1:4;var t,f=parseKeys(e);if(4===o)t=oaep(f,r);else if(1===o)t=pkcs1(f,r,n);else{if(3!==o)throw new Error("unknown padding");if(t=new bn(r),t.cmp(f.modulus)>=0)throw new Error("data too long for modulus")}return n?crt(t,f):withPublic(t,f)};
}).call(this,require("buffer").Buffer)

},{"./mgf":427,"./withPublic":431,"./xor":432,"bn.js":428,"browserify-rsa":25,"buffer":42,"create-hash":48,"parse-asn1":407,"randombytes":437}],431:[function(require,module,exports){
(function (Buffer){
function withPublic(e,n){return new Buffer(e.toRed(bn.mont(n.modulus)).redPow(new bn(n.publicExponent)).fromRed().toArray())}var bn=require("bn.js");module.exports=withPublic;
}).call(this,require("buffer").Buffer)

},{"bn.js":428,"buffer":42}],432:[function(require,module,exports){
module.exports=function(r,e){for(var n=r.length,o=-1;++o<n;)r[o]^=e[o];return r};
},{}],433:[function(require,module,exports){
(function (global){
!function(o){function e(o){throw RangeError(L[o])}function n(o,e){for(var n=o.length;n--;)o[n]=e(o[n]);return o}function t(o,e){return n(o.split(S),e).join(".")}function r(o){for(var e,n,t=[],r=0,u=o.length;u>r;)e=o.charCodeAt(r++),e>=55296&&56319>=e&&u>r?(n=o.charCodeAt(r++),56320==(64512&n)?t.push(((1023&e)<<10)+(1023&n)+65536):(t.push(e),r--)):t.push(e);return t}function u(o){return n(o,function(o){var e="";return o>65535&&(o-=65536,e+=R(o>>>10&1023|55296),o=56320|1023&o),e+=R(o)}).join("")}function i(o){return 10>o-48?o-22:26>o-65?o-65:26>o-97?o-97:x}function f(o,e){return o+22+75*(26>o)-((0!=e)<<5)}function c(o,e,n){var t=0;for(o=n?P(o/m):o>>1,o+=P(o/e);o>M*C>>1;t+=x)o=P(o/M);return P(t+(M+1)*o/(o+j))}function l(o){var n,t,r,f,l,d,s,a,p,h,v=[],g=o.length,w=0,j=I,m=A;for(t=o.lastIndexOf(F),0>t&&(t=0),r=0;t>r;++r)o.charCodeAt(r)>=128&&e("not-basic"),v.push(o.charCodeAt(r));for(f=t>0?t+1:0;g>f;){for(l=w,d=1,s=x;f>=g&&e("invalid-input"),a=i(o.charCodeAt(f++)),(a>=x||a>P((b-w)/d))&&e("overflow"),w+=a*d,p=m>=s?y:s>=m+C?C:s-m,!(p>a);s+=x)h=x-p,d>P(b/h)&&e("overflow"),d*=h;n=v.length+1,m=c(w-l,n,0==l),P(w/n)>b-j&&e("overflow"),j+=P(w/n),w%=n,v.splice(w++,0,j)}return u(v)}function d(o){var n,t,u,i,l,d,s,a,p,h,v,g,w,j,m,E=[];for(o=r(o),g=o.length,n=I,t=0,l=A,d=0;g>d;++d)v=o[d],128>v&&E.push(R(v));for(u=i=E.length,i&&E.push(F);g>u;){for(s=b,d=0;g>d;++d)v=o[d],v>=n&&s>v&&(s=v);for(w=u+1,s-n>P((b-t)/w)&&e("overflow"),t+=(s-n)*w,n=s,d=0;g>d;++d)if(v=o[d],n>v&&++t>b&&e("overflow"),v==n){for(a=t,p=x;h=l>=p?y:p>=l+C?C:p-l,!(h>a);p+=x)m=a-h,j=x-h,E.push(R(f(h+m%j,0))),a=P(m/j);E.push(R(f(a,0))),l=c(t,w,u==i),t=0,++u}++t,++n}return E.join("")}function s(o){return t(o,function(o){return E.test(o)?l(o.slice(4).toLowerCase()):o})}function a(o){return t(o,function(o){return O.test(o)?"xn--"+d(o):o})}var p="object"==typeof exports&&exports,h="object"==typeof module&&module&&module.exports==p&&module,v="object"==typeof global&&global;(v.global===v||v.window===v)&&(o=v);var g,w,b=2147483647,x=36,y=1,C=26,j=38,m=700,A=72,I=128,F="-",E=/^xn--/,O=/[^ -~]/,S=/\x2E|\u3002|\uFF0E|\uFF61/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},M=x-y,P=Math.floor,R=String.fromCharCode;if(g={version:"1.2.4",ucs2:{decode:r,encode:u},decode:l,encode:d,toASCII:a,toUnicode:s},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(p&&!p.nodeType)if(h)h.exports=g;else for(w in g)g.hasOwnProperty(w)&&(p[w]=g[w]);else o.punycode=g}(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],434:[function(require,module,exports){
"use strict";function hasOwnProperty(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(r,e,t,n){e=e||"&",t=t||"=";var o={};if("string"!=typeof r||0===r.length)return o;var a=/\+/g;r=r.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var y=0;p>y;++y){var u,c,i,l,f=r[y].replace(a,"%20"),v=f.indexOf(t);v>=0?(u=f.substr(0,v),c=f.substr(v+1)):(u=f,c=""),i=decodeURIComponent(u),l=decodeURIComponent(c),hasOwnProperty(o,i)?isArray(o[i])?o[i].push(l):o[i]=[o[i],l]:o[i]=l}return o};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};
},{}],435:[function(require,module,exports){
"use strict";function map(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var stringifyPrimitive=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};module.exports=function(r,e,t,n){return e=e||"&",t=t||"=",null===r&&(r=void 0),"object"==typeof r?map(objectKeys(r),function(n){var i=encodeURIComponent(stringifyPrimitive(n))+t;return isArray(r[n])?map(r[n],function(r){return i+encodeURIComponent(stringifyPrimitive(r))}).join(e):i+encodeURIComponent(stringifyPrimitive(r[n]))}).join(e):n?encodeURIComponent(stringifyPrimitive(n))+t+encodeURIComponent(stringifyPrimitive(r)):""};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)},objectKeys=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e};
},{}],436:[function(require,module,exports){
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");
},{"./decode":434,"./encode":435}],437:[function(require,module,exports){
(function (process,global,Buffer){
"use strict";function oldBrowser(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function randomBytes(r,o){if(r>65536)throw new Error("requested too many random bytes");var e=new global.Uint8Array(r);crypto.getRandomValues(e);var t=new Buffer(e.buffer);return"function"==typeof o?process.nextTick(function(){o(null,t)}):t}var crypto=global.crypto||global.msCrypto;crypto&&crypto.getRandomValues?module.exports=randomBytes:module.exports=oldBrowser;
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer)

},{"_process":425,"buffer":42}],438:[function(require,module,exports){
arguments[4][247][0].apply(exports,arguments)
},{"./lib/cookies":440,"./lib/helpers":443,"./request":563,"dup":247,"extend":464}],439:[function(require,module,exports){
arguments[4][248][0].apply(exports,arguments)
},{"./helpers":443,"caseless":461,"dup":248,"node-uuid":548}],440:[function(require,module,exports){
arguments[4][249][0].apply(exports,arguments)
},{"dup":249,"tough-cookie":555}],441:[function(require,module,exports){
(function (process){
"use strict";function formatHostname(o){return o.replace(/^\.*/,".").toLowerCase()}function parseNoProxyZone(o){o=o.trim().toLowerCase();var r=o.split(":",2),t=formatHostname(r[0]),e=r[1],n=o.indexOf(":")>-1;return{hostname:t,port:e,hasPort:n}}function uriInNoProxy(o,r){var t=o.port||("https:"===o.protocol?"443":"80"),e=formatHostname(o.hostname),n=r.split(",");return n.map(parseNoProxyZone).some(function(o){var r=e.indexOf(o.hostname),n=r>-1&&r===e.length-o.hostname.length;return o.hasPort?t===o.port&&n:n})}function getProxyFromURI(o){var r=process.env.NO_PROXY||process.env.no_proxy||"";return"*"===r?null:""!==r&&uriInNoProxy(o,r)?null:"http:"===o.protocol?process.env.HTTP_PROXY||process.env.http_proxy||null:"https:"===o.protocol?process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy||null:null}module.exports=getProxyFromURI;
}).call(this,require('_process'))

},{"_process":425}],442:[function(require,module,exports){
arguments[4][251][0].apply(exports,arguments)
},{"dup":251,"fs":35,"har-validator":468,"querystring":436,"util":594}],443:[function(require,module,exports){
(function (process,Buffer){
"use strict";function deferMethod(){return"undefined"==typeof setImmediate?process.nextTick:setImmediate}function isFunction(e){return"function"==typeof e}function paramsHaveRequestBody(e){return e.body||e.requestBodyStream||e.json&&"boolean"!=typeof e.json||e.multipart}function safeStringify(e){var t;try{t=JSON.stringify(e)}catch(r){t=jsonSafeStringify(e)}return t}function md5(e){return crypto.createHash("md5").update(e).digest("hex")}function isReadStream(e){return e.readable&&e.path&&e.mode}function toBase64(e){return new Buffer(e||"","utf8").toString("base64")}function copy(e){var t={};return Object.keys(e).forEach(function(r){t[r]=e[r]}),t}function version(){var e=process.version.replace("v","").split(".");return{major:parseInt(e[0],10),minor:parseInt(e[1],10),patch:parseInt(e[2],10)}}var jsonSafeStringify=require("json-stringify-safe"),crypto=require("crypto");exports.isFunction=isFunction,exports.paramsHaveRequestBody=paramsHaveRequestBody,exports.safeStringify=safeStringify,exports.md5=md5,exports.isReadStream=isReadStream,exports.toBase64=toBase64,exports.copy=copy,exports.version=version,exports.defer=deferMethod();
}).call(this,require('_process'),require("buffer").Buffer)

},{"_process":425,"buffer":42,"crypto":52,"json-stringify-safe":544}],444:[function(require,module,exports){
(function (Buffer){
"use strict";function Multipart(e){this.request=e,this.boundary=uuid(),this.chunked=!1,this.body=null}var uuid=require("node-uuid"),CombinedStream=require("combined-stream"),isstream=require("isstream");Multipart.prototype.isChunked=function(e){var r=this,t=!1,n=e.data||e;return n.forEach||r.request.emit("error",new Error("Argument error, options.multipart.")),void 0!==e.chunked&&(t=e.chunked),"chunked"===r.request.getHeader("transfer-encoding")&&(t=!0),t||n.forEach(function(e){"undefined"==typeof e.body&&r.request.emit("error",new Error("Body attribute missing in multipart.")),isstream(e.body)&&(t=!0)}),t},Multipart.prototype.setHeaders=function(e){var r=this;e&&!r.request.hasHeader("transfer-encoding")&&r.request.setHeader("transfer-encoding","chunked");var t=r.request.getHeader("content-type");t&&-1!==t.indexOf("multipart")?-1!==t.indexOf("boundary")?r.boundary=t.replace(/.*boundary=([^\s;]+).*/,"$1"):r.request.setHeader("content-type",t+"; boundary="+r.boundary):r.request.setHeader("content-type","multipart/related; boundary="+r.boundary)},Multipart.prototype.build=function(e,r){function t(e){return r?u.append(e):u.push(new Buffer(e))}var n=this,u=r?new CombinedStream:[];return n.request.preambleCRLF&&t("\r\n"),e.forEach(function(e){var r="--"+n.boundary+"\r\n";Object.keys(e).forEach(function(t){"body"!==t&&(r+=t+": "+e[t]+"\r\n")}),r+="\r\n",t(r),t(e.body),t("\r\n")}),t("--"+n.boundary+"--"),n.request.postambleCRLF&&t("\r\n"),u},Multipart.prototype.onRequest=function(e){var r=this,t=r.isChunked(e),n=e.data||e;r.setHeaders(t),r.chunked=t,r.body=r.build(n,t)},exports.Multipart=Multipart;
}).call(this,require("buffer").Buffer)

},{"buffer":42,"combined-stream":462,"isstream":543,"node-uuid":548}],445:[function(require,module,exports){
(function (Buffer){
"use strict";function OAuth(e){this.request=e,this.params=null}var url=require("url"),qs=require("qs"),caseless=require("caseless"),uuid=require("node-uuid"),oauth=require("oauth-sign"),crypto=require("crypto");OAuth.prototype.buildParams=function(e,t,r,a,o,u){var s={};for(var n in e)s["oauth_"+n]=e[n];s.oauth_version||(s.oauth_version="1.0"),s.oauth_timestamp||(s.oauth_timestamp=Math.floor(Date.now()/1e3).toString()),s.oauth_nonce||(s.oauth_nonce=uuid().replace(/-/g,"")),s.oauth_signature_method||(s.oauth_signature_method="HMAC-SHA1");var h=s.oauth_consumer_secret||s.oauth_private_key;delete s.oauth_consumer_secret,delete s.oauth_private_key;var i=s.oauth_token_secret;delete s.oauth_token_secret;var d=s.oauth_realm;delete s.oauth_realm,delete s.oauth_transport_method;var c=t.protocol+"//"+t.host+t.pathname,_=u.parse([].concat(a,o,u.stringify(s)).join("&"));return s.oauth_signature=oauth.sign(s.oauth_signature_method,r,c,_,h,i),d&&(s.realm=d),s},OAuth.prototype.buildBodyHash=function(e,t){["HMAC-SHA1","RSA-SHA1"].indexOf(e.signature_method||"HMAC-SHA1")<0&&this.request.emit("error",new Error("oauth: "+e.signature_method+" signature_method not supported with body_hash signing."));var r=crypto.createHash("sha1");r.update(t||"");var a=r.digest("hex");return new Buffer(a).toString("base64")},OAuth.prototype.concatParams=function(e,t,r){r=r||"";var a=Object.keys(e).filter(function(e){return"realm"!==e&&"oauth_signature"!==e}).sort();return e.realm&&a.splice(0,0,"realm"),a.push("oauth_signature"),a.map(function(t){return t+"="+r+oauth.rfc3986(e[t])+r}).join(t)},OAuth.prototype.onRequest=function(e){var t=this;t.params=e;var r,a,o=t.request.uri||{},u=t.request.method||"",s=caseless(t.request.headers),n=t.request.body||"",h=t.request.qsLib||qs,i=s.get("content-type")||"",d="application/x-www-form-urlencoded",c=e.transport_method||"header";i.slice(0,d.length)===d&&(i=d,r=n),o.query&&(a=o.query),"body"!==c||"POST"===u&&i===d||t.request.emit("error",new Error("oauth: transport_method of body requires POST and content-type "+d)),r||"boolean"!=typeof e.body_hash||(e.body_hash=t.buildBodyHash(e,t.request.body.toString()));var _=t.buildParams(e,o,u,a,r,h);switch(c){case"header":t.request.setHeader("Authorization","OAuth "+t.concatParams(_,",",'"'));break;case"query":var p=t.request.uri.href+=(a?"&":"?")+t.concatParams(_,"&");t.request.uri=url.parse(p),t.request.path=t.request.uri.path;break;case"body":t.request.body=(r?r+"&":"")+t.concatParams(_,"&");break;default:t.request.emit("error",new Error("oauth: transport_method invalid"))}},exports.OAuth=OAuth;
}).call(this,require("buffer").Buffer)

},{"buffer":42,"caseless":461,"crypto":52,"node-uuid":548,"oauth-sign":549,"qs":550,"url":592}],446:[function(require,module,exports){
arguments[4][255][0].apply(exports,arguments)
},{"dup":255,"qs":550,"querystring":436}],447:[function(require,module,exports){
arguments[4][256][0].apply(exports,arguments)
},{"dup":256,"url":592}],448:[function(require,module,exports){
arguments[4][257][0].apply(exports,arguments)
},{"dup":257,"tunnel-agent":562,"url":592}],449:[function(require,module,exports){
arguments[4][258][0].apply(exports,arguments)
},{"crypto":52,"dup":258,"url":592}],450:[function(require,module,exports){
(function (Buffer){
function BufferList(t){if(!(this instanceof BufferList))return new BufferList(t);if(this._bufs=[],this.length=0,"function"==typeof t){this._callback=t;var e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",function(t){t.on("error",e)}),this.on("unpipe",function(t){t.removeListener("error",e)})}else Buffer.isBuffer(t)?this.append(t):Array.isArray(t)&&t.forEach(function(t){Buffer.isBuffer(t)&&this.append(t)}.bind(this));DuplexStream.call(this)}var DuplexStream=require("readable-stream/duplex"),util=require("util");util.inherits(BufferList,DuplexStream),BufferList.prototype._offset=function(t){for(var e,i=0,s=0;s<this._bufs.length;s++){if(e=i+this._bufs[s].length,e>t)return[s,t-i];i=e}},BufferList.prototype.append=function(t){var e=Buffer.isBuffer(t)||t instanceof BufferList;return this._bufs.push(e?t:new Buffer(t)),this.length+=t.length,this},BufferList.prototype._write=function(t,e,i){this.append(t),i&&i()},BufferList.prototype._read=function(t){return this.length?(t=Math.min(t,this.length),this.push(this.slice(0,t)),void this.consume(t)):this.push(null)},BufferList.prototype.end=function(t){DuplexStream.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},BufferList.prototype.get=function(t){return this.slice(t,t+1)[0]},BufferList.prototype.slice=function(t,e){return this.copy(null,0,t,e)},BufferList.prototype.copy=function(t,e,i,s){if(("number"!=typeof i||0>i)&&(i=0),("number"!=typeof s||s>this.length)&&(s=this.length),i>=this.length)return t||new Buffer(0);if(0>=s)return t||new Buffer(0);var r,f,n=!!t,u=this._offset(i),h=s-i,o=h,l=n&&e||0,a=u[1];if(0===i&&s==this.length){if(!n)return Buffer.concat(this._bufs);for(f=0;f<this._bufs.length;f++)this._bufs[f].copy(t,l),l+=this._bufs[f].length;return t}if(o<=this._bufs[u[0]].length-a)return n?this._bufs[u[0]].copy(t,e,a,a+o):this._bufs[u[0]].slice(a,a+o);for(n||(t=new Buffer(h)),f=u[0];f<this._bufs.length;f++){if(r=this._bufs[f].length-a,!(o>r)){this._bufs[f].copy(t,l,a,a+o);break}this._bufs[f].copy(t,l,a),l+=r,o-=r,a&&(a=0)}return t},BufferList.prototype.toString=function(t,e,i){return this.slice(e,i).toString(t)},BufferList.prototype.consume=function(t){for(;this._bufs.length;){if(!(t>this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},BufferList.prototype.duplicate=function(){for(var t=0,e=new BufferList;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},BufferList.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var e in t)!function(e){BufferList.prototype[e]=function(i){return this.slice(i,i+t[e])[e](0)}}(e)}(),module.exports=BufferList;
}).call(this,require("buffer").Buffer)

},{"buffer":42,"readable-stream/duplex":451,"util":594}],451:[function(require,module,exports){
arguments[4][260][0].apply(exports,arguments)
},{"./lib/_stream_duplex.js":452,"dup":260}],452:[function(require,module,exports){
arguments[4][261][0].apply(exports,arguments)
},{"./_stream_readable":453,"./_stream_writable":454,"core-util-is":455,"dup":261,"inherits":456,"process-nextick-args":458}],453:[function(require,module,exports){
(function (process){
"use strict";function ReadableState(e,t){Duplex=Duplex||require("./_stream_duplex"),e=e||{},this.objectMode=!!e.objectMode,t instanceof Duplex&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this.decoder=new StringDecoder(e.encoding),this.encoding=e.encoding)}function Readable(e){return Duplex=Duplex||require("./_stream_duplex"),this instanceof Readable?(this._readableState=new ReadableState(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),void Stream.call(this)):new Readable(e)}function readableAddChunk(e,t,r,n,a){var i=chunkInvalid(t,r);if(i)e.emit("error",i);else if(null===r)t.reading=!1,onEofChunk(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!a){var d=new Error("stream.push() after EOF");e.emit("error",d)}else if(t.endEmitted&&a){var d=new Error("stream.unshift() after end event");e.emit("error",d)}else!t.decoder||a||n||(r=t.decoder.write(r)),a||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,a?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e)),maybeReadMore(e,t);else a||(t.reading=!1);return needMoreData(t)}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function computeNewHighWaterMark(e){return e>=MAX_HWM?e=MAX_HWM:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function chunkInvalid(e,t){var r=null;return Buffer.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function onEofChunk(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,emitReadable(e)}}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(debug("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?processNextTick(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){debug("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,processNextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(debug("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;debug("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&EElistenerCount(e,"data")&&(t.flowing=!0,flow(e))}}function nReadingNextTick(e){debug("readable nexttick read 0"),e.read(0)}function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,processNextTick(resume_,e,t))}function resume_(e,t){t.reading||(debug("resume read 0"),e.read(0)),t.resumeScheduled=!1,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;if(debug("flow",t.flowing),t.flowing)do var r=e.read();while(null!==r&&t.flowing)}function fromList(e,t){var r,n=t.buffer,a=t.length,i=!!t.decoder,d=!!t.objectMode;if(0===n.length)return null;if(0===a)r=null;else if(d)r=n.shift();else if(!e||e>=a)r=i?n.join(""):1===n.length?n[0]:Buffer.concat(n,a),n.length=0;else if(e<n[0].length){var o=n[0];r=o.slice(0,e),n[0]=o.slice(e)}else if(e===n[0].length)r=n.shift();else{r=i?"":new Buffer(e);for(var l=0,u=0,s=n.length;s>u&&e>l;u++){var o=n[0],h=Math.min(e-l,o.length);i?r+=o.slice(0,h):o.copy(r,l,0,h),h<o.length?n[0]=o.slice(h):n.shift(),l+=h}}return r}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,processNextTick(endReadableNT,t,e))}function endReadableNT(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function forEach(e,t){for(var r=0,n=e.length;n>r;r++)t(e[r],r)}function indexOf(e,t){for(var r=0,n=e.length;n>r;r++)if(e[r]===t)return r;return-1}module.exports=Readable;var processNextTick=require("process-nextick-args"),isArray=require("isarray"),Buffer=require("buffer").Buffer;Readable.ReadableState=ReadableState;var EE=require("events"),EElistenerCount=function(e,t){return e.listeners(t).length},Stream;!function(){try{Stream=require("stream")}catch(e){}finally{Stream||(Stream=require("events").EventEmitter)}}();var Buffer=require("buffer").Buffer,util=require("core-util-is");util.inherits=require("inherits");var debugUtil=require("util"),debug;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder;util.inherits(Readable,Stream);var Duplex,Duplex;Readable.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding,t!==r.encoding&&(e=new Buffer(e,t),t="")),readableAddChunk(this,r,e,t,!1)},Readable.prototype.unshift=function(e){var t=this._readableState;return readableAddChunk(this,t,e,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable.prototype.setEncoding=function(e){return StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this._readableState.decoder=new StringDecoder(e),this._readableState.encoding=e,this};var MAX_HWM=8388608;Readable.prototype.read=function(e){debug("read",e);var t=this._readableState,r=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return debug("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(e=howMuchToRead(e,t),0===e&&t.ended)return 0===t.length&&endReadable(this),null;var n=t.needReadable;debug("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,debug("length less than watermark",n)),(t.ended||t.reading)&&(n=!1,debug("reading or ended",n)),n&&(debug("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),n&&!t.reading&&(e=howMuchToRead(r,t));var a;return a=e>0?fromList(e,t):null,null===a&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),r!==e&&t.ended&&0===t.length&&endReadable(this),null!==a&&this.emit("data",a),a},Readable.prototype._read=function(e){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(e,t){function r(e){debug("onunpipe"),e===s&&a()}function n(){debug("onend"),e.end()}function a(){debug("cleanup"),e.removeListener("close",o),e.removeListener("finish",l),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",r),s.removeListener("end",n),s.removeListener("end",a),s.removeListener("data",i),g=!0,!h.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}function i(t){debug("ondata");var r=e.write(t);!1===r&&(1!==h.pipesCount||h.pipes[0]!==e||1!==s.listenerCount("data")||g||(debug("false write response, pause",s._readableState.awaitDrain),s._readableState.awaitDrain++),s.pause())}function d(t){debug("onerror",t),u(),e.removeListener("error",d),0===EElistenerCount(e,"error")&&e.emit("error",t)}function o(){e.removeListener("finish",l),u()}function l(){debug("onfinish"),e.removeListener("close",o),u()}function u(){debug("unpipe"),s.unpipe(e)}var s=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,debug("pipe count=%d opts=%j",h.pipesCount,t);var f=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,p=f?n:a;h.endEmitted?processNextTick(p):s.once("end",p),e.on("unpipe",r);var c=pipeOnDrain(s);e.on("drain",c);var g=!1;return s.on("data",i),e._events&&e._events.error?isArray(e._events.error)?e._events.error.unshift(d):e._events.error=[d,e._events.error]:e.on("error",d),e.once("close",o),e.once("finish",l),e.emit("pipe",s),h.flowing||(debug("pipe resume"),s.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;n>a;a++)r[a].emit("unpipe",this);return this}var a=indexOf(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},Readable.prototype.on=function(e,t){var r=Stream.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&emitReadable(this,n):processNextTick(nReadingNextTick,this))}return r},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug("resume"),e.flowing=!0,resume(this,e)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(debug("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(a){if(debug("wrapped data"),t.decoder&&(a=t.decoder.write(a)),(!t.objectMode||null!==a&&void 0!==a)&&(t.objectMode||a&&a.length)){var i=n.push(a);i||(r=!0,e.pause())}});for(var a in e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));var i=["error","close","destroy","pause","resume"];return forEach(i,function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){debug("wrapped _read",t),r&&(r=!1,e.resume())},n},Readable._fromList=fromList;
}).call(this,require('_process'))

},{"./_stream_duplex":452,"_process":425,"buffer":42,"core-util-is":455,"events":84,"inherits":456,"isarray":457,"process-nextick-args":458,"stream":573,"string_decoder/":459,"util":6}],454:[function(require,module,exports){
arguments[4][263][0].apply(exports,arguments)
},{"./_stream_duplex":452,"buffer":42,"core-util-is":455,"dup":263,"events":84,"inherits":456,"process-nextick-args":458,"stream":573,"util-deprecate":460}],455:[function(require,module,exports){
(function (Buffer){
function isArray(r){return Array.isArray?Array.isArray(r):"[object Array]"===objectToString(r)}function isBoolean(r){return"boolean"==typeof r}function isNull(r){return null===r}function isNullOrUndefined(r){return null==r}function isNumber(r){return"number"==typeof r}function isString(r){return"string"==typeof r}function isSymbol(r){return"symbol"==typeof r}function isUndefined(r){return void 0===r}function isRegExp(r){return"[object RegExp]"===objectToString(r)}function isObject(r){return"object"==typeof r&&null!==r}function isDate(r){return"[object Date]"===objectToString(r)}function isError(r){return"[object Error]"===objectToString(r)||r instanceof Error}function isFunction(r){return"function"==typeof r}function isPrimitive(r){return null===r||"boolean"==typeof r||"number"==typeof r||"string"==typeof r||"symbol"==typeof r||"undefined"==typeof r}function objectToString(r){return Object.prototype.toString.call(r)}exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=Buffer.isBuffer;
}).call(this,{"isBuffer":require("../../../../../../../../is-buffer/index.js")})

},{"../../../../../../../../is-buffer/index.js":99}],456:[function(require,module,exports){
arguments[4][98][0].apply(exports,arguments)
},{"dup":98}],457:[function(require,module,exports){
arguments[4][100][0].apply(exports,arguments)
},{"dup":100}],458:[function(require,module,exports){
(function (process){
"use strict";function nextTick(e){for(var s=new Array(arguments.length-1),n=0;n<s.length;)s[n++]=arguments[n];process.nextTick(function(){e.apply(null,s)})}!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?module.exports=nextTick:module.exports=process.nextTick;
}).call(this,require('_process'))

},{"_process":425}],459:[function(require,module,exports){
arguments[4][268][0].apply(exports,arguments)
},{"buffer":42,"dup":268}],460:[function(require,module,exports){
(function (global){
function deprecate(r,e){function o(){if(!t){if(config("throwDeprecation"))throw new Error(e);config("traceDeprecation")?console.trace(e):console.warn(e),t=!0}return r.apply(this,arguments)}if(config("noDeprecation"))return r;var t=!1;return o}function config(r){try{if(!global.localStorage)return!1}catch(e){return!1}var o=global.localStorage[r];return null==o?!1:"true"===String(o).toLowerCase()}module.exports=deprecate;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],461:[function(require,module,exports){
arguments[4][270][0].apply(exports,arguments)
},{"dup":270}],462:[function(require,module,exports){
(function (Buffer){
function CombinedStream(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null}var util=require("util"),Stream=require("stream").Stream,DelayedStream=require("delayed-stream");module.exports=CombinedStream,util.inherits(CombinedStream,Stream),CombinedStream.create=function(t){var e=new this;t=t||{};for(var i in t)e[i]=t[i];return e},CombinedStream.isStreamLike=function(t){return"function"!=typeof t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t&&!Buffer.isBuffer(t)},CombinedStream.prototype.append=function(t){var e=CombinedStream.isStreamLike(t);if(e){if(!(t instanceof DelayedStream)){var i=DelayedStream.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=i}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this},CombinedStream.prototype.pipe=function(t,e){return Stream.prototype.pipe.call(this,t,e),this.resume(),t},CombinedStream.prototype._getNext=function(){this._currentStream=null;var t=this._streams.shift();if("undefined"==typeof t)return void this.end();if("function"!=typeof t)return void this._pipeNext(t);var e=t;e(function(t){var e=CombinedStream.isStreamLike(t);e&&(t.on("data",this._checkDataSize.bind(this)),this._handleErrors(t)),this._pipeNext(t)}.bind(this))},CombinedStream.prototype._pipeNext=function(t){this._currentStream=t;var e=CombinedStream.isStreamLike(t);if(e)return t.on("end",this._getNext.bind(this)),void t.pipe(this,{end:!1});var i=t;this.write(i),this._getNext()},CombinedStream.prototype._handleErrors=function(t){var e=this;t.on("error",function(t){e._emitError(t)})},CombinedStream.prototype.write=function(t){this.emit("data",t)},CombinedStream.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},CombinedStream.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},CombinedStream.prototype.end=function(){this._reset(),this.emit("end")},CombinedStream.prototype.destroy=function(){this._reset(),this.emit("close")},CombinedStream.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},CombinedStream.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}},CombinedStream.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},CombinedStream.prototype._emitError=function(t){this._reset(),this.emit("error",t)};
}).call(this,{"isBuffer":require("../../../../is-buffer/index.js")})

},{"../../../../is-buffer/index.js":99,"delayed-stream":463,"stream":573,"util":594}],463:[function(require,module,exports){
arguments[4][272][0].apply(exports,arguments)
},{"dup":272,"stream":573,"util":594}],464:[function(require,module,exports){
arguments[4][273][0].apply(exports,arguments)
},{"dup":273}],465:[function(require,module,exports){
arguments[4][274][0].apply(exports,arguments)
},{"dup":274,"http":92,"https":95,"net":35,"tls":35,"util":594}],466:[function(require,module,exports){
arguments[4][275][0].apply(exports,arguments)
},{"dup":275}],467:[function(require,module,exports){
arguments[4][276][0].apply(exports,arguments)
},{"dup":276}],468:[function(require,module,exports){
arguments[4][277][0].apply(exports,arguments)
},{"./runner":469,"./schemas":477,"dup":277,"pinkie-promise":493}],469:[function(require,module,exports){
arguments[4][278][0].apply(exports,arguments)
},{"./error":467,"./schemas":477,"dup":278,"is-my-json-valid":487}],470:[function(require,module,exports){
arguments[4][279][0].apply(exports,arguments)
},{"dup":279}],471:[function(require,module,exports){
arguments[4][280][0].apply(exports,arguments)
},{"dup":280}],472:[function(require,module,exports){
arguments[4][281][0].apply(exports,arguments)
},{"dup":281}],473:[function(require,module,exports){
arguments[4][282][0].apply(exports,arguments)
},{"dup":282}],474:[function(require,module,exports){
arguments[4][283][0].apply(exports,arguments)
},{"dup":283}],475:[function(require,module,exports){
arguments[4][284][0].apply(exports,arguments)
},{"dup":284}],476:[function(require,module,exports){
arguments[4][285][0].apply(exports,arguments)
},{"dup":285}],477:[function(require,module,exports){
arguments[4][286][0].apply(exports,arguments)
},{"./cache.json":470,"./cacheEntry.json":471,"./content.json":472,"./cookie.json":473,"./creator.json":474,"./entry.json":475,"./har.json":476,"./log.json":478,"./page.json":479,"./pageTimings.json":480,"./postData.json":481,"./record.json":482,"./request.json":483,"./response.json":484,"./timings.json":485,"dup":286}],478:[function(require,module,exports){
arguments[4][287][0].apply(exports,arguments)
},{"dup":287}],479:[function(require,module,exports){
arguments[4][288][0].apply(exports,arguments)
},{"dup":288}],480:[function(require,module,exports){
arguments[4][289][0].apply(exports,arguments)
},{"dup":289}],481:[function(require,module,exports){
arguments[4][290][0].apply(exports,arguments)
},{"dup":290}],482:[function(require,module,exports){
arguments[4][291][0].apply(exports,arguments)
},{"dup":291}],483:[function(require,module,exports){
arguments[4][292][0].apply(exports,arguments)
},{"dup":292}],484:[function(require,module,exports){
arguments[4][293][0].apply(exports,arguments)
},{"dup":293}],485:[function(require,module,exports){
arguments[4][294][0].apply(exports,arguments)
},{"dup":294}],486:[function(require,module,exports){
arguments[4][295][0].apply(exports,arguments)
},{"dup":295}],487:[function(require,module,exports){
arguments[4][296][0].apply(exports,arguments)
},{"./formats":486,"dup":296,"generate-function":488,"generate-object-property":489,"jsonpointer":491,"xtend":492}],488:[function(require,module,exports){
arguments[4][297][0].apply(exports,arguments)
},{"dup":297,"util":594}],489:[function(require,module,exports){
arguments[4][298][0].apply(exports,arguments)
},{"dup":298,"is-property":490}],490:[function(require,module,exports){
arguments[4][299][0].apply(exports,arguments)
},{"dup":299}],491:[function(require,module,exports){
arguments[4][300][0].apply(exports,arguments)
},{"dup":300}],492:[function(require,module,exports){
arguments[4][301][0].apply(exports,arguments)
},{"dup":301}],493:[function(require,module,exports){
(function (global){
"use strict";module.exports=global.Promise||require("pinkie");
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"pinkie":494}],494:[function(require,module,exports){
(function (process){
"use strict";function asyncFlush(){for(var e=0;e<asyncQueue.length;e++)asyncQueue[e][0](asyncQueue[e][1]);asyncQueue=[],asyncTimer=!1}function asyncCall(e,t){asyncQueue.push([e,t]),asyncTimer||(asyncTimer=!0,asyncSetTimer(asyncFlush,0))}function invokeResolver(e,t){function n(e){resolve(t,e)}function o(e){reject(t,e)}try{e(n,o)}catch(r){o(r)}}function invokeCallback(e){var t=e.owner,n=t._state,o=t._data,r=e[n],i=e.then;if("function"==typeof r){n=FULFILLED;try{o=r(o)}catch(s){reject(i,s)}}handleThenable(i,o)||(n===FULFILLED&&resolve(i,o),n===REJECTED&&reject(i,o))}function handleThenable(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"==typeof t)){var o=t.then;if("function"==typeof o)return o.call(t,function(o){n||(n=!0,t===o?fulfill(e,o):resolve(e,o))},function(t){n||(n=!0,reject(e,t))}),!0}}catch(r){return n||reject(e,r),!0}return!1}function resolve(e,t){e!==t&&handleThenable(e,t)||fulfill(e,t)}function fulfill(e,t){e._state===PENDING&&(e._state=SETTLED,e._data=t,asyncCall(publishFulfillment,e))}function reject(e,t){e._state===PENDING&&(e._state=SETTLED,e._data=t,asyncCall(publishRejection,e))}function publish(e){e._then=e._then.forEach(invokeCallback)}function publishFulfillment(e){e._state=FULFILLED,publish(e)}function publishRejection(e){e._state=REJECTED,publish(e),!e._handled&&isNode&&process.emit("unhandledRejection",e._data,e)}function notifyRejectionHandled(e){process.emit("rejectionHandled",e)}function Promise(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof Promise==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],invokeResolver(e,this)}var PENDING="pending",SETTLED="settled",FULFILLED="fulfilled",REJECTED="rejected",NOOP=function(){},isNode="undefined"!=typeof process&&"function"==typeof process.emit,asyncSetTimer="undefined"==typeof setImmediate?setTimeout:setImmediate,asyncQueue=[],asyncTimer;Promise.prototype={constructor:Promise,_state:PENDING,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(NOOP),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===REJECTED&&isNode&&asyncCall(notifyRejectionHandled,this)),this._state===FULFILLED||this._state===REJECTED?asyncCall(invokeCallback,n):this._then.push(n),n.then},"catch":function(e){return this.then(null,e)}},Promise.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new Promise(function(t,n){function o(e){return s++,function(n){i[e]=n,--s||t(i)}}for(var r,i=[],s=0,c=0;c<e.length;c++)r=e[c],r&&"function"==typeof r.then?r.then(o(c),n):i[c]=r;s||t(i)})},Promise.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new Promise(function(t,n){for(var o,r=0;r<e.length;r++)o=e[r],o&&"function"==typeof o.then?o.then(t,n):t(o)})},Promise.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Promise?e:new Promise(function(t){t(e)})},Promise.reject=function(e){return new Promise(function(t,n){n(e)})},module.exports=Promise;
}).call(this,require('_process'))

},{"_process":425}],495:[function(require,module,exports){
arguments[4][304][0].apply(exports,arguments)
},{"dup":304}],496:[function(require,module,exports){
arguments[4][305][0].apply(exports,arguments)
},{"./parser":497,"./signer":498,"./utils":499,"./verify":500,"dup":305}],497:[function(require,module,exports){
arguments[4][306][0].apply(exports,arguments)
},{"./utils":499,"assert-plus":501,"dup":306,"util":594}],498:[function(require,module,exports){
(function (Buffer){
function MissingHeaderError(r){HttpSignatureError.call(this,r,MissingHeaderError)}function StrictParsingError(r){HttpSignatureError.call(this,r,StrictParsingError)}function RequestSigner(r){assert.object(r,"options");var e=[];if(void 0!==r.algorithm&&(assert.string(r.algorithm,"options.algorithm"),e=validateAlgorithm(r.algorithm)),this.rs_alg=e,void 0!==r.sign)assert.func(r.sign,"options.sign"),this.rs_signFunc=r.sign;else if("hmac"===e[0]&&void 0!==r.key){if(assert.string(r.keyId,"options.keyId"),this.rs_keyId=r.keyId,"string"!=typeof r.key&&!Buffer.isBuffer(r.key))throw new TypeError("options.key for HMAC must be a string or Buffer");this.rs_signer=crypto.createHmac(e[1].toUpperCase(),r.key),this.rs_signer.sign=function(){var r=this.digest("base64");return{hashAlgorithm:e[1],toString:function(){return r}}}}else{if(void 0===r.key)throw new TypeError("options.sign (func) or options.key is required");var t=r.key;if(("string"==typeof t||Buffer.isBuffer(t))&&(t=sshpk.parsePrivateKey(t)),assert.ok(sshpk.PrivateKey.isPrivateKey(t,[1,2]),"options.key must be a sshpk.PrivateKey"),this.rs_key=t,assert.string(r.keyId,"options.keyId"),this.rs_keyId=r.keyId,!PK_ALGOS[t.type])throw new InvalidAlgorithmError(t.type.toUpperCase()+" type keys are not supported");if(void 0!==e[0]&&t.type!==e[0])throw new InvalidAlgorithmError("options.key must be a "+e[0].toUpperCase()+" key, was given a "+t.type.toUpperCase()+" key instead");this.rs_signer=t.createSign(e[1])}this.rs_headers=[],this.rs_lines=[]}var assert=require("assert-plus"),crypto=require("crypto"),http=require("http"),util=require("util"),sshpk=require("sshpk"),jsprim=require("jsprim"),utils=require("./utils"),sprintf=require("util").format,HASH_ALGOS=utils.HASH_ALGOS,PK_ALGOS=utils.PK_ALGOS,InvalidAlgorithmError=utils.InvalidAlgorithmError,HttpSignatureError=utils.HttpSignatureError,validateAlgorithm=utils.validateAlgorithm,AUTHZ_FMT='Signature keyId="%s",algorithm="%s",headers="%s",signature="%s"';util.inherits(MissingHeaderError,HttpSignatureError),util.inherits(StrictParsingError,HttpSignatureError),RequestSigner.prototype.writeHeader=function(r,e){if(assert.string(r,"header"),r=r.toLowerCase(),assert.string(e,"value"),this.rs_headers.push(r),this.rs_signFunc)this.rs_lines.push(r+": "+e);else{var t=r+": "+e;this.rs_headers.length>0&&(t="\n"+t),this.rs_signer.update(t)}return e},RequestSigner.prototype.writeDateHeader=function(){return this.writeHeader("date",jsprim.rfc1123(new Date))},RequestSigner.prototype.writeTarget=function(r,e){assert.string(r,"method"),assert.string(e,"path"),r=r.toLowerCase(),this.writeHeader("(request-target)",r+" "+e)},RequestSigner.prototype.sign=function(r){if(assert.func(r,"callback"),this.rs_headers.length<1)throw new Error("At least one header must be signed");var e,t;if(this.rs_signFunc){var s=this.rs_lines.join("\n"),i=this;this.rs_signFunc(s,function(s,a){if(s)return void r(s);try{assert.object(a,"signature"),assert.string(a.keyId,"signature.keyId"),assert.string(a.algorithm,"signature.algorithm"),assert.string(a.signature,"signature.signature"),e=validateAlgorithm(a.algorithm),t=sprintf(AUTHZ_FMT,a.keyId,a.algorithm,i.rs_headers.join(" "),a.signature)}catch(o){return void r(o)}r(null,t)})}else{try{var a=this.rs_signer.sign()}catch(o){return void r(o)}e=(this.rs_alg[0]||this.rs_key.type)+"-"+a.hashAlgorithm;var n=a.toString();t=sprintf(AUTHZ_FMT,this.rs_keyId,e,this.rs_headers.join(" "),n),r(null,t)}},module.exports={isSigner:function(r){return"object"==typeof r&&r instanceof RequestSigner?!0:!1},createSigner:function(r){return new RequestSigner(r)},signRequest:function(r,e){assert.object(r,"request"),assert.object(e,"options"),assert.optionalString(e.algorithm,"options.algorithm"),assert.string(e.keyId,"options.keyId"),assert.optionalArrayOfString(e.headers,"options.headers"),assert.optionalString(e.httpVersion,"options.httpVersion"),r.getHeader("Date")||r.setHeader("Date",jsprim.rfc1123(new Date)),e.headers||(e.headers=["date"]),e.httpVersion||(e.httpVersion="1.1");var t=[];e.algorithm&&(e.algorithm=e.algorithm.toLowerCase(),t=validateAlgorithm(e.algorithm));var s,i="";for(s=0;s<e.headers.length;s++){if("string"!=typeof e.headers[s])throw new TypeError("options.headers must be an array of Strings");var a=e.headers[s].toLowerCase();if("request-line"===a){if(e.strict)throw new StrictParsingError("request-line is not a valid header with strict parsing enabled.");i+=r.method+" "+r.path+" HTTP/"+e.httpVersion}else if("(request-target)"===a)i+="(request-target): "+r.method.toLowerCase()+" "+r.path;else{var o=r.getHeader(a);if(void 0===o||""===o)throw new MissingHeaderError(a+" was not in the request");i+=a+": "+o}s+1<e.headers.length&&(i+="\n")}var n;if("hmac"===t[0]){if("string"!=typeof e.key&&!Buffer.isBuffer(e.key))throw new TypeError("options.key must be a string or Buffer");var h=crypto.createHmac(t[1].toUpperCase(),e.key);h.update(i),n=h.digest("base64")}else{var g=e.key;if(("string"==typeof g||Buffer.isBuffer(g))&&(g=sshpk.parsePrivateKey(e.key)),assert.ok(sshpk.PrivateKey.isPrivateKey(g,[1,2]),"options.key must be a sshpk.PrivateKey"),!PK_ALGOS[g.type])throw new InvalidAlgorithmError(g.type.toUpperCase()+" type keys are not supported");if(void 0!==t[0]&&g.type!==t[0])throw new InvalidAlgorithmError("options.key must be a "+t[0].toUpperCase()+" key, was given a "+g.type.toUpperCase()+" key instead");var p=g.createSign(t[1]);p.update(i);var u=p.sign();if(!HASH_ALGOS[u.hashAlgorithm])throw new InvalidAlgorithmError(u.hashAlgorithm.toUpperCase()+" is not a supported hash algorithm");e.algorithm=g.type+"-"+u.hashAlgorithm,n=u.toString(),assert.notStrictEqual(n,"","empty signature produced")}return r.setHeader("Authorization",sprintf(AUTHZ_FMT,e.keyId,e.algorithm,e.headers.join(" "),n)),!0}};
}).call(this,{"isBuffer":require("../../../../is-buffer/index.js")})

},{"../../../../is-buffer/index.js":99,"./utils":499,"assert-plus":501,"crypto":52,"http":92,"jsprim":502,"sshpk":518,"util":594}],499:[function(require,module,exports){
arguments[4][308][0].apply(exports,arguments)
},{"assert-plus":501,"dup":308,"sshpk":518,"util":594}],500:[function(require,module,exports){
(function (Buffer){
var assert=require("assert-plus"),crypto=require("crypto"),sshpk=require("sshpk"),utils=require("./utils"),HASH_ALGOS=utils.HASH_ALGOS,PK_ALGOS=utils.PK_ALGOS,InvalidAlgorithmError=utils.InvalidAlgorithmError,HttpSignatureError=utils.HttpSignatureError,validateAlgorithm=utils.validateAlgorithm;module.exports={verifySignature:function(r,e){assert.object(r,"parsedSignature"),("string"==typeof e||Buffer.isBuffer(e))&&(e=sshpk.parseKey(e)),assert.ok(sshpk.Key.isKey(e,[1,1]),"pubkey must be a sshpk.Key");var t=validateAlgorithm(r.algorithm);if("hmac"===t[0]||t[0]!==e.type)return!1;var a=e.createVerify(t[1]);return a.update(r.signingString),a.verify(r.params.signature,"base64")},verifyHMAC:function(r,e){assert.object(r,"parsedHMAC"),assert.string(e,"secret");var t=validateAlgorithm(r.algorithm);if("hmac"!==t[0])return!1;var a=t[1].toUpperCase(),i=crypto.createHmac(a,e);i.update(r.signingString);var s=crypto.createHmac(a,e);s.update(i.digest()),s=s.digest();var u=crypto.createHmac(a,e);return u.update(new Buffer(r.params.signature,"base64")),u=u.digest(),"string"==typeof s?s===u:Buffer.isBuffer(s)&&!s.equals?s.toString("binary")===u.toString("binary"):s.equals(u)}};
}).call(this,require("buffer").Buffer)

},{"./utils":499,"assert-plus":501,"buffer":42,"crypto":52,"sshpk":518}],501:[function(require,module,exports){
(function (Buffer,process){
function capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}function uncapitalize(e){return e.charAt(0).toLowerCase()+e.slice(1)}function _(){return util.format.apply(util,arguments)}function _assert(e,r,t,a){if(!NDEBUG){t=t||r,a=a||_assert.caller;var n=typeof e;if(n!==r)throw new assert.AssertionError({message:_(TYPE_REQUIRED,t,r),actual:n,expected:r,operator:"===",stackStartFunction:a})}}function _instanceof(e,r,t,a){if(!(NDEBUG||(t=t||r,a=a||_instanceof.caller,e instanceof r)))throw new assert.AssertionError({message:_(TYPE_REQUIRED,t,r.name),actual:_getClass(e),expected:r.name,operator:"instanceof",stackStartFunction:a})}function _getClass(e){return Object.prototype.toString.call(e).slice(8,-1)}function array(e,r,t){if(!NDEBUG){if(t=t||r,!Array.isArray(e))throw new assert.AssertionError({message:_(ARRAY_TYPE_REQUIRED,t,r),actual:typeof e,expected:"array",operator:"Array.isArray",stackStartFunction:array.caller});for(var a=0;a<e.length;a++)_assert(e[a],r,t,array)}}function bool(e,r){_assert(e,"boolean",r,bool)}function buffer(e,r){if(!Buffer.isBuffer(e))throw new assert.AssertionError({message:_(TYPE_REQUIRED,r||"","Buffer"),actual:typeof e,expected:"buffer",operator:"Buffer.isBuffer",stackStartFunction:buffer})}function func(e,r){_assert(e,"function",r)}function number(e,r){if(_assert(e,"number",r),!NDEBUG&&(isNaN(e)||!isFinite(e)))throw new assert.AssertionError({message:_(TYPE_REQUIRED,r,"number"),actual:e,expected:"number",operator:"isNaN",stackStartFunction:number})}function object(e,r){_assert(e,"object",r)}function stream(e,r){_instanceof(e,Stream,r)}function date(e,r){_instanceof(e,Date,r)}function regexp(e,r){_instanceof(e,RegExp,r)}function string(e,r){_assert(e,"string",r)}function uuid(e,r){if(string(e,r),!NDEBUG&&!UUID_REGEXP.test(e))throw new assert.AssertionError({message:_(TYPE_REQUIRED,r,"uuid"),actual:"string",expected:"uuid",operator:"test",stackStartFunction:uuid})}var assert=require("assert"),Stream=require("stream").Stream,util=require("util"),NDEBUG=process.env.NODE_NDEBUG||!1,UUID_REGEXP=/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/,ARRAY_TYPE_REQUIRED="%s ([%s]) required",TYPE_REQUIRED="%s (%s) is required";module.exports={bool:bool,buffer:buffer,date:date,func:func,number:number,object:object,regexp:regexp,stream:stream,string:string,uuid:uuid},Object.keys(module.exports).forEach(function(e){if("buffer"!==e){var r="arrayOf"+capitalize(e);"bool"===e&&(e="boolean"),"func"===e&&(e="function"),module.exports[r]=function(r,t){array(r,e,t)}}}),Object.keys(module.exports).forEach(function(e){var r="optional"+capitalize(e),t=uncapitalize(e.replace("arrayOf",""));"bool"===t&&(t="boolean"),"func"===t&&(t="function"),-1!==e.indexOf("arrayOf")?module.exports[r]=function(e,r){NDEBUG||void 0===e||array(e,t,r)}:module.exports[r]=function(e,r){NDEBUG||void 0===e||_assert(e,t,r)}}),Object.keys(assert).forEach(function(e){return"AssertionError"===e?void(module.exports[e]=assert[e]):void(module.exports[e]=function(){NDEBUG||assert[e].apply(assert[e],arguments)})});
}).call(this,{"isBuffer":require("../../../../../is-buffer/index.js")},require('_process'))

},{"../../../../../is-buffer/index.js":99,"_process":425,"assert":2,"stream":573,"util":594}],502:[function(require,module,exports){
arguments[4][311][0].apply(exports,arguments)
},{"assert":2,"dup":311,"extsprintf":503,"json-schema":504,"util":594,"verror":505}],503:[function(require,module,exports){
arguments[4][312][0].apply(exports,arguments)
},{"assert":2,"dup":312,"util":594}],504:[function(require,module,exports){
arguments[4][313][0].apply(exports,arguments)
},{"dup":313}],505:[function(require,module,exports){
arguments[4][314][0].apply(exports,arguments)
},{"assert":2,"dup":314,"extsprintf":503,"util":594}],506:[function(require,module,exports){
(function (Buffer){
var algInfo={dsa:{parts:["p","q","g","y"],sizePart:"p"},rsa:{parts:["e","n"],sizePart:"n"},ecdsa:{parts:["curve","Q"],sizePart:"Q"},ed25519:{parts:["R"],normalize:!1,sizePart:"R"}};algInfo.curve25519=algInfo.ed25519;var algPrivInfo={dsa:{parts:["p","q","g","y","x"]},rsa:{parts:["n","e","d","iqmp","p","q"]},ecdsa:{parts:["curve","Q","d"]},ed25519:{parts:["R","r"],normalize:!1}};algPrivInfo.curve25519=algPrivInfo.ed25519;var hashAlgs={md5:!0,sha1:!0,sha256:!0,sha384:!0,sha512:!0},curves={nistp256:{size:256,pkcs8oid:"1.2.840.10045.3.1.7",p:new Buffer("00ffffffff 00000001 00000000 0000000000000000 ffffffff ffffffff ffffffff".replace(/ /g,""),"hex"),a:new Buffer("00FFFFFFFF 00000001 00000000 0000000000000000 FFFFFFFF FFFFFFFF FFFFFFFC".replace(/ /g,""),"hex"),b:new Buffer("5ac635d8 aa3a93e7 b3ebbd55 769886bc651d06b0 cc53b0f6 3bce3c3e 27d2604b".replace(/ /g,""),"hex"),s:new Buffer("00c49d3608 86e70493 6a6678e1 139d26b7819f7e90".replace(/ /g,""),"hex"),n:new Buffer("00ffffffff 00000000 ffffffff ffffffffbce6faad a7179e84 f3b9cac2 fc632551".replace(/ /g,""),"hex"),G:new Buffer("046b17d1f2 e12c4247 f8bce6e5 63a440f277037d81 2deb33a0 f4a13945 d898c2964fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e162bce3357 6b315ece cbb64068 37bf51f5".replace(/ /g,""),"hex")},nistp384:{size:384,pkcs8oid:"1.3.132.0.34",p:new Buffer("00ffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffffeffffffff 00000000 00000000 ffffffff".replace(/ /g,""),"hex"),a:new Buffer("00FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFEFFFFFFFF 00000000 00000000 FFFFFFFC".replace(/ /g,""),"hex"),b:new Buffer("b3312fa7 e23ee7e4 988e056b e3f82d19181d9c6e fe814112 0314088f 5013875ac656398d 8a2ed19d 2a85c8ed d3ec2aef".replace(/ /g,""),"hex"),s:new Buffer("00a335926a a319a27a 1d00896a 6773a4827acdac73".replace(/ /g,""),"hex"),n:new Buffer("00ffffffff ffffffff ffffffff ffffffffffffffff ffffffff c7634d81 f4372ddf581a0db2 48b0a77a ecec196a ccc52973".replace(/ /g,""),"hex"),G:new Buffer("04aa87ca22 be8b0537 8eb1c71e f320ad746e1d3b62 8ba79b98 59f741e0 82542a385502f25d bf55296c 3a545e38 72760ab73617de4a 96262c6f 5d9e98bf 9292dc29f8f41dbd 289a147c e9da3113 b5f0b8c00a60b1ce 1d7e819d 7a431d7c 90ea0e5f".replace(/ /g,""),"hex")},nistp521:{size:521,pkcs8oid:"1.3.132.0.35",p:new Buffer("01ffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffff".replace(/ /g,""),"hex"),a:new Buffer("01FFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFC".replace(/ /g,""),"hex"),b:new Buffer("51953eb961 8e1c9a1f 929a21a0 b68540eea2da725b 99b315f3 b8b48991 8ef109e156193951 ec7e937b 1652c0bd 3bb1bf073573df88 3d2c34f1 ef451fd4 6b503f00".replace(/ /g,""),"hex"),s:new Buffer("00d09e8800 291cb853 96cc6717 393284aaa0da64ba".replace(/ /g,""),"hex"),n:new Buffer("01ffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffffa51868783 bf2f966b 7fcc0148 f709a5d03bb5c9b8 899c47ae bb6fb71e 91386409".replace(/ /g,""),"hex"),G:new Buffer("0400c6 858e06b7 0404e9cd 9e3ecb66 2395b4429c648139 053fb521 f828af60 6b4d3dbaa14b5e77 efe75928 fe1dc127 a2ffa8de3348b3c1 856a429b f97e7e31 c2e5bd660118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd998f54449 579b4468 17afbd17 273e662c97ee7299 5ef42640 c550b901 3fad0761353c7086 a272c240 88be9476 9fd16650".replace(/ /g,""),"hex")}};module.exports={info:algInfo,privInfo:algPrivInfo,hashAlgs:hashAlgs,curves:curves};
}).call(this,require("buffer").Buffer)

},{"buffer":42}],507:[function(require,module,exports){
(function (Buffer){
function DiffieHellman(e){if(utils.assertCompatible(e,Key,[1,4],"key"),this._isPriv=PrivateKey.isPrivateKey(e,[1,3]),this._algo=e.type,this._curve=e.curve,this._key=e,"dsa"===e.type){if(!CRYPTO_HAVE_ECDH)throw new Error("Due to bugs in the node 0.10 crypto API, node 0.12.x or later is required to use DH");this._dh=crypto.createDiffieHellman(e.part.p.data,void 0,e.part.g.data,void 0),this._p=e.part.p,this._g=e.part.g,this._isPriv&&this._dh.setPrivateKey(e.part.x.data),this._dh.setPublicKey(e.part.y.data)}else if("ecdsa"===e.type){if(!CRYPTO_HAVE_ECDH)return void 0===ecdh&&(ecdh=require("ecc-jsbn")),void 0===ec&&(ec=require("ecc-jsbn/lib/ec")),void 0===jsbn&&(jsbn=require("jsbn").BigInteger),this._ecParams=new X9ECParameters(this._curve),void(this._isPriv&&(this._priv=new ECPrivate(this._ecParams,e.part.d.data)));var t={nistp256:"prime256v1",nistp384:"secp384r1",nistp521:"secp521r1"}[e.curve];if(this._dh=crypto.createECDH(t),"object"!=typeof this._dh||"function"!=typeof this._dh.setPrivateKey)return CRYPTO_HAVE_ECDH=!1,void DiffieHellman.call(this,e);this._isPriv&&this._dh.setPrivateKey(e.part.d.data),this._dh.setPublicKey(e.part.Q.data)}else{if("curve25519"!==e.type)throw new Error("DH not supported for "+e.type+" keys");void 0===ed&&(ed=require("jodid25519")),this._isPriv&&(this._priv=e.part.r.data,0===this._priv[0]&&(this._priv=this._priv.slice(1)),this._priv=this._priv.slice(0,32))}}function X9ECParameters(e){var t=algs.curves[e];assert.object(t);var i=new jsbn(t.p),r=new jsbn(t.a),a=new jsbn(t.b),s=new jsbn(t.n),h=jsbn.ONE,n=new ec.ECCurveFp(i,r,a),p=n.decodePointHex(t.G.toString("hex"));this.curve=n,this.g=p,this.n=s,this.h=h}function ECPublic(e,t){this._params=e,0===t[0]&&(t=t.slice(1)),this._pub=e.getCurve().decodePointHex(t.toString("hex"))}function ECPrivate(e,t){this._params=e,this._priv=new jsbn(utils.mpNormalize(t))}module.exports=DiffieHellman;var assert=require("assert-plus"),crypto=require("crypto"),algs=require("./algs"),utils=require("./utils"),ed,Key=require("./key"),PrivateKey=require("./private-key"),CRYPTO_HAVE_ECDH=void 0!==crypto.createECDH,ecdh,ec,jsbn;DiffieHellman.prototype.getPublicKey=function(){return this._isPriv?this._key.toPublic():this._key},DiffieHellman.prototype.getPrivateKey=function(){return this._isPriv?this._key:void 0},DiffieHellman.prototype.getKey=DiffieHellman.prototype.getPrivateKey,DiffieHellman.prototype._keyCheck=function(e,t){if(assert.object(e,"key"),t||utils.assertCompatible(e,PrivateKey,[1,3],"key"),utils.assertCompatible(e,Key,[1,4],"key"),e.type!==this._algo)throw new Error("A "+e.type+" key cannot be used in "+this._algo+" Diffie-Hellman");if(e.curve!==this._curve)throw new Error("A key from the "+e.curve+" curve cannot be used with a "+this._curve+" Diffie-Hellman");"dsa"===e.type&&(assert.deepEqual(e.part.p,this._p,"DSA key prime does not match"),assert.deepEqual(e.part.g,this._g,"DSA key generator does not match"))},DiffieHellman.prototype.setKey=function(e){this._keyCheck(e),"dsa"===e.type?(this._dh.setPrivateKey(e.part.x.data),this._dh.setPublicKey(e.part.y.data)):"ecdsa"===e.type?CRYPTO_HAVE_ECDH?(this._dh.setPrivateKey(e.part.d.data),this._dh.setPublicKey(e.part.Q.data)):this._priv=new ECPrivate(this._ecParams,e.part.d.data):"curve25519"===e.type&&(this._priv=e.part.r.data,0===this._priv[0]&&(this._priv=this._priv.slice(1)),this._priv=this._priv.slice(0,32)),this._key=e,this._isPriv=!0},DiffieHellman.prototype.setPrivateKey=DiffieHellman.prototype.setKey,DiffieHellman.prototype.computeSecret=function(e){if(this._keyCheck(e,!0),!this._isPriv)throw new Error("DH exchange has not been initialized with a private key yet");var t;if("dsa"===this._algo)return this._dh.computeSecret(e.part.y.data);if("ecdsa"===this._algo)return CRYPTO_HAVE_ECDH?this._dh.computeSecret(e.part.Q.data):(t=new ECPublic(this._ecParams,e.part.Q.data),this._priv.deriveSharedSecret(t));if("curve25519"===this._algo){t=e.part.R.data,0===t[0]&&(t=t.slice(1));var i=ed.dh.computeKey(this._priv.toString("binary"),t.toString("binary"));return new Buffer(i,"binary")}throw new Error("Invalid algorithm: "+this._algo)},DiffieHellman.prototype.generateKey=function(){var e,t,i=[];if("dsa"===this._algo)return this._dh.generateKeys(),i.push({name:"p",data:this._p.data}),i.push({name:"q",data:this._key.part.q.data}),i.push({name:"g",data:this._g.data}),i.push({name:"y",data:this._dh.getPublicKey()}),i.push({name:"x",data:this._dh.getPrivateKey()}),this._key=new PrivateKey({type:"dsa",parts:i}),this._isPriv=!0,this._key;if("ecdsa"===this._algo){if(CRYPTO_HAVE_ECDH)return this._dh.generateKeys(),i.push({name:"curve",data:new Buffer(this._curve)}),i.push({name:"Q",data:this._dh.getPublicKey()}),i.push({name:"d",data:this._dh.getPrivateKey()}),this._key=new PrivateKey({type:"ecdsa",curve:this._curve,parts:i}),this._isPriv=!0,this._key;var r=this._ecParams.getN(),a=new jsbn(crypto.randomBytes(r.bitLength())),s=r.subtract(jsbn.ONE);return e=a.mod(s).add(jsbn.ONE),t=this._ecParams.getG().multiply(e),e=new Buffer(e.toByteArray()),t=new Buffer(this._ecParams.getCurve().encodePointHex(t),"hex"),this._priv=new ECPrivate(this._ecParams,e),i.push({name:"curve",data:new Buffer(this._curve)}),i.push({name:"Q",data:t}),i.push({name:"d",data:e}),this._key=new PrivateKey({type:"ecdsa",curve:this._curve,parts:i}),this._isPriv=!0,this._key}if("curve25519"===this._algo)return e=ed.dh.generateKey(),t=ed.dh.publicKey(e),this._priv=e=new Buffer(e,"binary"),t=new Buffer(t,"binary"),i.push({name:"R",data:t}),i.push({name:"r",data:Buffer.concat([e,t])}),this._key=new PrivateKey({type:"curve25519",parts:i}),this._isPriv=!0,this._key;throw new Error("Invalid algorithm: "+this._algo)},DiffieHellman.prototype.generateKeys=DiffieHellman.prototype.generateKey,X9ECParameters.prototype.getCurve=function(){return this.curve},X9ECParameters.prototype.getG=function(){return this.g},X9ECParameters.prototype.getN=function(){return this.n},X9ECParameters.prototype.getH=function(){return this.h},ECPrivate.prototype.deriveSharedSecret=function(e){assert.ok(e instanceof ECPublic);var t=e._pub.multiply(this._priv);return new Buffer(t.getX().toBigInteger().toByteArray())};
}).call(this,require("buffer").Buffer)

},{"./algs":506,"./key":519,"./private-key":520,"./utils":523,"assert-plus":530,"buffer":42,"crypto":52,"ecc-jsbn":531,"ecc-jsbn/lib/ec":532,"jodid25519":534,"jsbn":540}],508:[function(require,module,exports){
(function (Buffer){
function Verifier(e,r){if(void 0===nacl&&(nacl=require("tweetnacl")),"sha512"!==r.toLowerCase())throw new Error("ED25519 only supports the use of SHA-512 hashes");this.key=e,this.chunks=[],stream.Writable.call(this,{})}function Signer(e,r){if(void 0===nacl&&(nacl=require("tweetnacl")),"sha512"!==r.toLowerCase())throw new Error("ED25519 only supports the use of SHA-512 hashes");this.key=e,this.chunks=[],stream.Writable.call(this,{})}module.exports={Verifier:Verifier,Signer:Signer};var nacl,stream=require("stream"),util=require("util"),assert=require("assert-plus"),Signature=require("./signature");util.inherits(Verifier,stream.Writable),Verifier.prototype._write=function(e,r,t){this.chunks.push(e),t()},Verifier.prototype.update=function(e){"string"==typeof e&&(e=new Buffer(e,"binary")),this.chunks.push(e)},Verifier.prototype.verify=function(e,r){var t;if(Signature.isSignature(e,[2,0])){if("ed25519"!==e.type)return!1;t=e.toBuffer("raw")}else if("string"==typeof e)t=new Buffer(e,"base64");else if(Signature.isSignature(e,[1,0]))throw new Error("signature was created by too old a version of sshpk and cannot be verified");return assert.buffer(t),nacl.sign.detached.verify(new Uint8Array(Buffer.concat(this.chunks)),new Uint8Array(t),new Uint8Array(this.key.part.R.data))},util.inherits(Signer,stream.Writable),Signer.prototype._write=function(e,r,t){this.chunks.push(e),t()},Signer.prototype.update=function(e){"string"==typeof e&&(e=new Buffer(e,"binary")),this.chunks.push(e)},Signer.prototype.sign=function(){var e=nacl.sign.detached(new Uint8Array(Buffer.concat(this.chunks)),new Uint8Array(this.key.part.r.data)),r=new Buffer(e),t=Signature.parse(r,"ed25519","raw");return t.hashAlgorithm="sha512",t};
}).call(this,require("buffer").Buffer)

},{"./signature":521,"assert-plus":530,"buffer":42,"stream":573,"tweetnacl":541,"util":594}],509:[function(require,module,exports){
arguments[4][318][0].apply(exports,arguments)
},{"assert-plus":530,"dup":318,"util":594}],510:[function(require,module,exports){
(function (Buffer){
function Fingerprint(r){if(assert.object(r,"options"),assert.buffer(r.hash,"options.hash"),assert.string(r.algorithm,"options.algorithm"),this.algorithm=r.algorithm.toLowerCase(),algs.hashAlgs[this.algorithm]!==!0)throw new InvalidAlgorithmError(this.algorithm);this.hash=r.hash}function addColons(r){return r.replace(/(.{2})(?=.)/g,"$1:")}function base64Strip(r){return r.replace(/=*$/,"")}function sshBase64Format(r,t){return r.toUpperCase()+":"+base64Strip(t)}module.exports=Fingerprint;var assert=require("assert-plus"),algs=require("./algs"),crypto=require("crypto"),errs=require("./errors"),Key=require("./key"),utils=require("./utils"),FingerprintFormatError=errs.FingerprintFormatError,InvalidAlgorithmError=errs.InvalidAlgorithmError;Fingerprint.prototype.toString=function(r){switch(void 0===r&&(r="md5"===this.algorithm?"hex":"base64"),assert.string(r),r){case"hex":return addColons(this.hash.toString("hex"));case"base64":return sshBase64Format(this.algorithm,this.hash.toString("base64"));default:throw new FingerprintFormatError(void 0,r)}},Fingerprint.prototype.matches=function(r){assert.object(r,"key"),utils.assertCompatible(r,Key,[1,0],"key");var t=r.hash(this.algorithm),e=crypto.createHash(this.algorithm).update(t).digest("base64");return void 0===this.hash2&&(this.hash2=crypto.createHash(this.algorithm).update(this.hash).digest("base64")),this.hash2===e},Fingerprint.parse=function(r,t){assert.string(r,"fingerprint");var e,i;assert.optionalArrayOfString(t,"algorithms");var s=r.split(":");if(2==s.length){e=s[0].toLowerCase();var o=/^[A-Za-z0-9+\/=]+$/;if(!o.test(s[1]))throw new FingerprintFormatError(r);try{i=new Buffer(s[1],"base64")}catch(n){throw new FingerprintFormatError(r)}}else if(s.length>2){e="md5","md5"===s[0].toLowerCase()&&(s=s.slice(1)),s=s.join("");var a=/^[a-fA-F0-9]+$/;if(!a.test(s))throw new FingerprintFormatError(r);try{i=new Buffer(s,"hex")}catch(n){throw new FingerprintFormatError(r)}}if(void 0===e)throw new FingerprintFormatError(r);if(void 0===algs.hashAlgs[e])throw new InvalidAlgorithmError(e);if(void 0!==t&&(t=t.map(function(r){return r.toLowerCase()}),-1===t.indexOf(e)))throw new InvalidAlgorithmError(e);return new Fingerprint({algorithm:e,hash:i})},Fingerprint.isFingerprint=function(r,t){return utils.isCompatible(r,Fingerprint,t)},Fingerprint.prototype._sshpkApiVersion=[1,1],Fingerprint._oldVersionDetect=function(r){return assert.func(r.toString),assert.func(r.matches),[1,0]};
}).call(this,require("buffer").Buffer)

},{"./algs":506,"./errors":509,"./key":519,"./utils":523,"assert-plus":530,"buffer":42,"crypto":52}],511:[function(require,module,exports){
(function (Buffer){
function read(e){if("string"==typeof e){if(e.trim().match(/^[-]+[ ]*BEGIN/))return pem.read(e);if(e.match(/^\s*ssh-[a-z]/))return ssh.read(e);if(e.match(/^\s*ecdsa-/))return ssh.read(e);e=new Buffer(e,"binary")}else{if(assert.buffer(e),findPEMHeader(e))return pem.read(e);if(findSSHHeader(e))return ssh.read(e)}if(e.readUInt32BE(0)<e.length)return rfc4253.read(e);throw new Error("Failed to auto-detect format of key")}function findSSHHeader(e){for(var r=0;r<e.length&&(32===e[r]||10===e[r]||9===e[r]);)++r;return r+4<=e.length&&"ssh-"===e.slice(r,r+4).toString("ascii")?!0:r+6<=e.length&&"ecdsa-"===e.slice(r,r+6).toString("ascii")?!0:!1}function findPEMHeader(e){for(var r=0;r<e.length&&(32===e[r]||10===e[r]);)++r;if(45!==e[r])return!1;for(;r<e.length&&45===e[r];)++r;for(;r<e.length&&32===e[r];)++r;return r+5>e.length||"BEGIN"!==e.slice(r,r+5).toString("ascii")?!1:!0}function write(e){throw new Error('"auto" format cannot be used for writing')}module.exports={read:read,write:write};var assert=require("assert-plus"),utils=require("../utils"),Key=require("../key"),PrivateKey=require("../private-key"),pem=require("./pem"),ssh=require("./ssh"),rfc4253=require("./rfc4253");
}).call(this,require("buffer").Buffer)

},{"../key":519,"../private-key":520,"../utils":523,"./pem":512,"./rfc4253":515,"./ssh":517,"assert-plus":530,"buffer":42}],512:[function(require,module,exports){
(function (Buffer){
function read(e,r){var s=e;"string"!=typeof e&&(assert.buffer(e,"buf"),e=e.toString("ascii"));var t=e.trim().split("\n"),a=t[0].match(/[-]+[ ]*BEGIN ([A-Z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);assert.ok(a,"invalid PEM header");var i=t[t.length-1].match(/[-]+[ ]*END ([A-Z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);assert.ok(i,"invalid PEM footer"),assert.equal(a[2],i[2]);var c,n=a[2].toLowerCase();a[1]&&(assert.equal(a[1],i[1],"PEM header and footer mismatch"),c=a[1].trim());for(var o={};;){if(t=t.slice(1),a=t[0].match(/^([A-Za-z0-9-]+): (.+)$/),!a)break;o[a[1].toLowerCase()]=a[2]}if(o["proc-type"]){var p=o["proc-type"].split(",");if("4"===p[0]&&"ENCRYPTED"===p[1])throw new Error("PEM key is encrypted (password-protected). Please use the SSH agent or decrypt the key.")}if(t=t.slice(0,-1).join(""),e=new Buffer(t,"base64"),c&&"openssh"===c.toLowerCase())return sshpriv.readSSHPrivate(n,e);if(c&&"ssh2"===c.toLowerCase())return rfc4253.readType(n,e);var u=new asn1.BerReader(e);return u.originalInput=s,u.readSequence(),c?(r&&assert.strictEqual(r,"pkcs1"),pkcs1.readPkcs1(c,n,u)):(r&&assert.strictEqual(r,"pkcs8"),pkcs8.readPkcs8(c,n,u))}function write(e,r){assert.object(e);var s,t={ecdsa:"EC",rsa:"RSA",dsa:"DSA"}[e.type],a=new asn1.BerWriter;if(PrivateKey.isPrivateKey(e))r&&"pkcs8"===r?(s="PRIVATE KEY",pkcs8.writePkcs8(a,e)):(r&&assert.strictEqual(r,"pkcs1"),s=t+" PRIVATE KEY",pkcs1.writePkcs1(a,e));else{if(!Key.isKey(e))throw new Error("key is not a Key or PrivateKey");r&&"pkcs1"===r?(s=t+" PUBLIC KEY",pkcs1.writePkcs1(a,e)):(r&&assert.strictEqual(r,"pkcs8"),s="PUBLIC KEY",pkcs8.writePkcs8(a,e))}var i=a.buffer.toString("base64"),c=i.length+i.length/64+18+16+2*s.length+10,n=new Buffer(c),o=0;o+=n.write("-----BEGIN "+s+"-----\n",o);for(var p=0;p<i.length;){var u=p+64;u>i.length&&(u=i.length),o+=n.write(i.slice(p,u),o),n[o++]=10,p=u}return o+=n.write("-----END "+s+"-----\n",o),n.slice(0,o)}module.exports={read:read,write:write};var assert=require("assert-plus"),asn1=require("asn1"),algs=require("../algs"),utils=require("../utils"),Key=require("../key"),PrivateKey=require("../private-key"),pkcs1=require("./pkcs1"),pkcs8=require("./pkcs8"),sshpriv=require("./ssh-private"),rfc4253=require("./rfc4253");
}).call(this,require("buffer").Buffer)

},{"../algs":506,"../key":519,"../private-key":520,"../utils":523,"./pkcs1":513,"./pkcs8":514,"./rfc4253":515,"./ssh-private":516,"asn1":529,"assert-plus":530,"buffer":42}],513:[function(require,module,exports){
(function (Buffer){
function read(e){return pem.read(e,"pkcs1")}function write(e){return pem.write(e,"pkcs1")}function readMPInt(e,r){return assert.strictEqual(e.peek(),asn1.Ber.Integer,r+" is not an Integer"),utils.mpNormalize(e.readString(asn1.Ber.Integer,!0))}function readPkcs1(e,r,a){switch(e){case"RSA":if("public"===r)return readPkcs1RSAPublic(a);if("private"===r)return readPkcs1RSAPrivate(a);throw new Error("Unknown key type: "+r);case"DSA":if("public"===r)return readPkcs1DSAPublic(a);if("private"===r)return readPkcs1DSAPrivate(a);throw new Error("Unknown key type: "+r);case"EC":case"ECDSA":if("private"===r)return readPkcs1ECDSAPrivate(a);if("public"===r)return readPkcs1ECDSAPublic(a);throw new Error("Unknown key type: "+r);default:throw new Error("Unknown key algo: "+e)}}function readPkcs1RSAPublic(e){var r=readMPInt(e,"modulus"),a=readMPInt(e,"exponent"),t={type:"rsa",parts:[{name:"e",data:a},{name:"n",data:r}]};return new Key(t)}function readPkcs1RSAPrivate(e){var r=readMPInt(e,"version");assert.strictEqual(r[0],0);var a=readMPInt(e,"modulus"),t=readMPInt(e,"public exponent"),n=readMPInt(e,"private exponent"),i=readMPInt(e,"prime1"),s=readMPInt(e,"prime2"),d=readMPInt(e,"exponent1"),u=readMPInt(e,"exponent2"),c=readMPInt(e,"iqmp"),p={type:"rsa",parts:[{name:"n",data:a},{name:"e",data:t},{name:"d",data:n},{name:"iqmp",data:c},{name:"p",data:i},{name:"q",data:s},{name:"dmodp",data:d},{name:"dmodq",data:u}]};return new PrivateKey(p)}function readPkcs1DSAPrivate(e){var r=readMPInt(e,"version");assert.strictEqual(r.readUInt8(0),0);var a=readMPInt(e,"p"),t=readMPInt(e,"q"),n=readMPInt(e,"g"),i=readMPInt(e,"y"),s=readMPInt(e,"x"),d={type:"dsa",parts:[{name:"p",data:a},{name:"q",data:t},{name:"g",data:n},{name:"y",data:i},{name:"x",data:s}]};return new PrivateKey(d)}function readPkcs1DSAPublic(e){var r=readMPInt(e,"y"),a=readMPInt(e,"p"),t=readMPInt(e,"q"),n=readMPInt(e,"g"),i={type:"dsa",parts:[{name:"y",data:r},{name:"p",data:a},{name:"q",data:t},{name:"g",data:n}]};return new Key(i)}function readPkcs1ECDSAPublic(e){e.readSequence();var r=e.readOID();assert.strictEqual(r,"1.2.840.10045.2.1","must be ecPublicKey");for(var a,t=e.readOID(),n=Object.keys(algs.curves),i=0;i<n.length;++i){var s=n[i],d=algs.curves[s];if(d.pkcs8oid===t){a=s;break}}assert.string(a,"a known ECDSA named curve");var u=e.readString(asn1.Ber.BitString,!0);u=utils.ecNormalize(u);var c={type:"ecdsa",parts:[{name:"curve",data:new Buffer(a)},{name:"Q",data:u}]};return new Key(c)}function readPkcs1ECDSAPrivate(e){var r=readMPInt(e,"version");assert.strictEqual(r.readUInt8(0),1);var a=e.readString(asn1.Ber.OctetString,!0);e.readSequence(160);var t=readECDSACurve(e);assert.string(t,"a known elliptic curve"),e.readSequence(161);var n=e.readString(asn1.Ber.BitString,!0);n=utils.ecNormalize(n);var i={type:"ecdsa",parts:[{name:"curve",data:new Buffer(t)},{name:"Q",data:n},{name:"d",data:a}]};return new PrivateKey(i)}function writePkcs1(e,r){switch(e.startSequence(),r.type){case"rsa":PrivateKey.isPrivateKey(r)?writePkcs1RSAPrivate(e,r):writePkcs1RSAPublic(e,r);break;case"dsa":PrivateKey.isPrivateKey(r)?writePkcs1DSAPrivate(e,r):writePkcs1DSAPublic(e,r);break;case"ecdsa":PrivateKey.isPrivateKey(r)?writePkcs1ECDSAPrivate(e,r):writePkcs1ECDSAPublic(e,r);break;default:throw new Error("Unknown key algo: "+r.type)}e.endSequence()}function writePkcs1RSAPublic(e,r){e.writeBuffer(r.part.n.data,asn1.Ber.Integer),e.writeBuffer(r.part.e.data,asn1.Ber.Integer)}function writePkcs1RSAPrivate(e,r){var a=new Buffer(1);a[0]=0,e.writeBuffer(a,asn1.Ber.Integer),e.writeBuffer(r.part.n.data,asn1.Ber.Integer),e.writeBuffer(r.part.e.data,asn1.Ber.Integer),e.writeBuffer(r.part.d.data,asn1.Ber.Integer),e.writeBuffer(r.part.p.data,asn1.Ber.Integer),e.writeBuffer(r.part.q.data,asn1.Ber.Integer),r.part.dmodp&&r.part.dmodq||utils.addRSAMissing(r),e.writeBuffer(r.part.dmodp.data,asn1.Ber.Integer),e.writeBuffer(r.part.dmodq.data,asn1.Ber.Integer),e.writeBuffer(r.part.iqmp.data,asn1.Ber.Integer)}function writePkcs1DSAPrivate(e,r){var a=new Buffer(1);a[0]=0,e.writeBuffer(a,asn1.Ber.Integer),e.writeBuffer(r.part.p.data,asn1.Ber.Integer),e.writeBuffer(r.part.q.data,asn1.Ber.Integer),e.writeBuffer(r.part.g.data,asn1.Ber.Integer),e.writeBuffer(r.part.y.data,asn1.Ber.Integer),e.writeBuffer(r.part.x.data,asn1.Ber.Integer)}function writePkcs1DSAPublic(e,r){e.writeBuffer(r.part.y.data,asn1.Ber.Integer),e.writeBuffer(r.part.p.data,asn1.Ber.Integer),e.writeBuffer(r.part.q.data,asn1.Ber.Integer),e.writeBuffer(r.part.g.data,asn1.Ber.Integer)}function writePkcs1ECDSAPublic(e,r){e.startSequence(),e.writeOID("1.2.840.10045.2.1");var a=r.part.curve.data.toString(),t=algs.curves[a].pkcs8oid;assert.string(t,"a known ECDSA named curve"),e.writeOID(t),e.endSequence();var n=utils.ecNormalize(r.part.Q.data,!0);e.writeBuffer(n,asn1.Ber.BitString)}function writePkcs1ECDSAPrivate(e,r){var a=new Buffer(1);a[0]=1,e.writeBuffer(a,asn1.Ber.Integer),e.writeBuffer(r.part.d.data,asn1.Ber.OctetString),e.startSequence(160);var t=r.part.curve.data.toString(),n=algs.curves[t].pkcs8oid;assert.string(n,"a known ECDSA named curve"),e.writeOID(n),e.endSequence(),e.startSequence(161);var i=utils.ecNormalize(r.part.Q.data,!0);e.writeBuffer(i,asn1.Ber.BitString),e.endSequence()}module.exports={read:read,readPkcs1:readPkcs1,write:write,writePkcs1:writePkcs1};var assert=require("assert-plus"),asn1=require("asn1"),algs=require("../algs"),utils=require("../utils"),Key=require("../key"),PrivateKey=require("../private-key"),pem=require("./pem"),pkcs8=require("./pkcs8"),readECDSACurve=pkcs8.readECDSACurve;
}).call(this,require("buffer").Buffer)

},{"../algs":506,"../key":519,"../private-key":520,"../utils":523,"./pem":512,"./pkcs8":514,"asn1":529,"assert-plus":530,"buffer":42}],514:[function(require,module,exports){
(function (Buffer){
function read(e){return pem.read(e,"pkcs8")}function write(e){return pem.write(e,"pkcs8")}function readMPInt(e,r){return assert.strictEqual(e.peek(),asn1.Ber.Integer,r+" is not an Integer"),utils.mpNormalize(e.readString(asn1.Ber.Integer,!0))}function readPkcs8(e,r,t){t.peek()===asn1.Ber.Integer&&(assert.strictEqual(r,"private","unexpected Integer at start of public key"),t.readString(asn1.Ber.Integer,!0)),t.readSequence();var a=t.readOID();switch(a){case"1.2.840.113549.1.1.1":return"public"===r?readPkcs8RSAPublic(t):readPkcs8RSAPrivate(t);case"1.2.840.10040.4.1":return"public"===r?readPkcs8DSAPublic(t):readPkcs8DSAPrivate(t);case"1.2.840.10045.2.1":return"public"===r?readPkcs8ECDSAPublic(t):readPkcs8ECDSAPrivate(t);default:throw new Error("Unknown key type OID "+a)}}function readPkcs8RSAPublic(e){e.readByte(),e.readByte(),e.readSequence(asn1.Ber.BitString),e.readByte(),e.readSequence();var r=readMPInt(e,"modulus"),t=readMPInt(e,"exponent"),a={type:"rsa",source:e.originalInput,parts:[{name:"e",data:t},{name:"n",data:r}]};return new Key(a)}function readPkcs8RSAPrivate(e){e.readByte(),e.readByte(),e.readSequence(asn1.Ber.OctetString),e.readSequence();var r=readMPInt(e,"version");assert.equal(r[0],0,"unknown RSA private key version");var t=readMPInt(e,"modulus"),a=readMPInt(e,"public exponent"),n=readMPInt(e,"private exponent"),i=readMPInt(e,"prime1"),s=readMPInt(e,"prime2"),u=readMPInt(e,"exponent1"),d=readMPInt(e,"exponent2"),c=readMPInt(e,"iqmp"),S={type:"rsa",parts:[{name:"n",data:t},{name:"e",data:a},{name:"d",data:n},{name:"iqmp",data:c},{name:"p",data:i},{name:"q",data:s},{name:"dmodp",data:u},{name:"dmodq",data:d}]};return new PrivateKey(S)}function readPkcs8DSAPublic(e){e.readSequence();var r=readMPInt(e,"p"),t=readMPInt(e,"q"),a=readMPInt(e,"g");e.readSequence(asn1.Ber.BitString),e.readByte();var n=readMPInt(e,"y"),i={type:"dsa",parts:[{name:"p",data:r},{name:"q",data:t},{name:"g",data:a},{name:"y",data:n}]};return new Key(i)}function readPkcs8DSAPrivate(e){e.readSequence();var r=readMPInt(e,"p"),t=readMPInt(e,"q"),a=readMPInt(e,"g");e.readSequence(asn1.Ber.OctetString);var n=readMPInt(e,"x"),i=utils.calculateDSAPublic(a,r,n),s={type:"dsa",parts:[{name:"p",data:r},{name:"q",data:t},{name:"g",data:a},{name:"y",data:i},{name:"x",data:n}]};return new PrivateKey(s)}function readECDSACurve(e){var r,t,a,n,i;if(e.peek()===asn1.Ber.OID){var s=e.readOID();for(t=Object.keys(algs.curves),a=0;a<t.length;++a)if(n=t[a],i=algs.curves[n],i.pkcs8oid===s){r=n;break}}else{e.readSequence();var u=e.readString(asn1.Ber.Integer,!0);assert.strictEqual(u[0],1,"ECDSA key not version 1");var d={};e.readSequence();var c=e.readOID();assert.strictEqual(c,"1.2.840.10045.1.1","ECDSA key is not from a prime-field");var S=d.p=utils.mpNormalize(e.readString(asn1.Ber.Integer,!0));d.size=8*S.length-utils.countZeros(S),e.readSequence(),d.a=utils.mpNormalize(e.readString(asn1.Ber.OctetString,!0)),d.b=utils.mpNormalize(e.readString(asn1.Ber.OctetString,!0)),e.peek()===asn1.Ber.BitString&&(d.s=e.readString(asn1.Ber.BitString,!0)),d.G=e.readString(asn1.Ber.OctetString,!0),assert.strictEqual(d.G[0],4,"uncompressed G is required"),d.n=utils.mpNormalize(e.readString(asn1.Ber.Integer,!0)),d.h=utils.mpNormalize(e.readString(asn1.Ber.Integer,!0)),assert.strictEqual(d.h[0],1,"a cofactor=1 curve is required"),t=Object.keys(algs.curves);var f=Object.keys(d);for(a=0;a<t.length;++a){n=t[a],i=algs.curves[n];for(var B=!0,p=0;p<f.length;++p){var g=f[p];if(void 0!==i[g])if("object"==typeof i[g]&&void 0!==i[g].equals){if(!i[g].equals(d[g])){B=!1;break}}else if(Buffer.isBuffer(i[g])){if(i[g].toString("binary")!==d[g].toString("binary")){B=!1;break}}else if(i[g]!==d[g]){B=!1;break}}if(B){r=n;break}}}return r}function readPkcs8ECDSAPrivate(e){var r=readECDSACurve(e);assert.string(r,"a known elliptic curve"),e.readSequence(asn1.Ber.OctetString),e.readSequence();var t=readMPInt(e,"version");assert.equal(t[0],1,"unknown version of ECDSA key");var a=e.readString(asn1.Ber.OctetString,!0);e.readSequence(161);var n=e.readString(asn1.Ber.BitString,!0);n=utils.ecNormalize(n);var i={type:"ecdsa",parts:[{name:"curve",data:new Buffer(r)},{name:"Q",data:n},{name:"d",data:a}]};return new PrivateKey(i)}function readPkcs8ECDSAPublic(e){var r=readECDSACurve(e);assert.string(r,"a known elliptic curve");var t=e.readString(asn1.Ber.BitString,!0);t=utils.ecNormalize(t);var a={type:"ecdsa",parts:[{name:"curve",data:new Buffer(r)},{name:"Q",data:t}]};return new Key(a)}function writePkcs8(e,r){if(e.startSequence(),PrivateKey.isPrivateKey(r)){var t=new Buffer(1);t[0]=0,e.writeBuffer(t,asn1.Ber.Integer)}switch(e.startSequence(),r.type){case"rsa":e.writeOID("1.2.840.113549.1.1.1"),PrivateKey.isPrivateKey(r)?writePkcs8RSAPrivate(r,e):writePkcs8RSAPublic(r,e);break;case"dsa":e.writeOID("1.2.840.10040.4.1"),PrivateKey.isPrivateKey(r)?writePkcs8DSAPrivate(r,e):writePkcs8DSAPublic(r,e);break;case"ecdsa":e.writeOID("1.2.840.10045.2.1"),PrivateKey.isPrivateKey(r)?writePkcs8ECDSAPrivate(r,e):writePkcs8ECDSAPublic(r,e);break;default:throw new Error("Unsupported key type: "+r.type)}e.endSequence()}function writePkcs8RSAPrivate(e,r){r.writeNull(),r.endSequence(),r.startSequence(asn1.Ber.OctetString),r.startSequence();var t=new Buffer(1);t[0]=0,r.writeBuffer(t,asn1.Ber.Integer),r.writeBuffer(e.part.n.data,asn1.Ber.Integer),r.writeBuffer(e.part.e.data,asn1.Ber.Integer),r.writeBuffer(e.part.d.data,asn1.Ber.Integer),r.writeBuffer(e.part.p.data,asn1.Ber.Integer),r.writeBuffer(e.part.q.data,asn1.Ber.Integer),e.part.dmodp&&e.part.dmodq||utils.addRSAMissing(e),r.writeBuffer(e.part.dmodp.data,asn1.Ber.Integer),r.writeBuffer(e.part.dmodq.data,asn1.Ber.Integer),r.writeBuffer(e.part.iqmp.data,asn1.Ber.Integer),r.endSequence(),r.endSequence()}function writePkcs8RSAPublic(e,r){r.writeNull(),r.endSequence(),r.startSequence(asn1.Ber.BitString),r.writeByte(0),r.startSequence(),r.writeBuffer(e.part.n.data,asn1.Ber.Integer),r.writeBuffer(e.part.e.data,asn1.Ber.Integer),r.endSequence(),r.endSequence()}function writePkcs8DSAPrivate(e,r){r.startSequence(),r.writeBuffer(e.part.p.data,asn1.Ber.Integer),r.writeBuffer(e.part.q.data,asn1.Ber.Integer),r.writeBuffer(e.part.g.data,asn1.Ber.Integer),r.endSequence(),r.endSequence(),r.startSequence(asn1.Ber.OctetString),r.writeBuffer(e.part.x.data,asn1.Ber.Integer),r.endSequence()}function writePkcs8DSAPublic(e,r){r.startSequence(),r.writeBuffer(e.part.p.data,asn1.Ber.Integer),r.writeBuffer(e.part.q.data,asn1.Ber.Integer),r.writeBuffer(e.part.g.data,asn1.Ber.Integer),r.endSequence(),r.endSequence(),r.startSequence(asn1.Ber.BitString),r.writeByte(0),r.writeBuffer(e.part.y.data,asn1.Ber.Integer),r.endSequence()}function writeECDSACurve(e,r){var t=algs.curves[e.curve];if(t.pkcs8oid)r.writeOID(t.pkcs8oid);else{r.startSequence();var a=new Buffer(1);a.writeUInt8(1,0),r.writeBuffer(a,asn1.Ber.Integer),r.startSequence(),r.writeOID("1.2.840.10045.1.1"),r.writeBuffer(t.p,asn1.Ber.Integer),r.endSequence(),r.startSequence();var n=t.p;0===n[0]&&(n=n.slice(1)),r.writeBuffer(n,asn1.Ber.OctetString),r.writeBuffer(t.b,asn1.Ber.OctetString),r.writeBuffer(t.s,asn1.Ber.BitString),r.endSequence(),r.writeBuffer(t.G,asn1.Ber.OctetString),r.writeBuffer(t.n,asn1.Ber.Integer);var i=t.h;i||(i=new Buffer(1),i[0]=1),r.writeBuffer(i,asn1.Ber.Integer),r.endSequence()}}function writePkcs8ECDSAPublic(e,r){writeECDSACurve(e,r),r.endSequence();var t=utils.ecNormalize(e.part.Q.data,!0);r.writeBuffer(t,asn1.Ber.BitString)}function writePkcs8ECDSAPrivate(e,r){writeECDSACurve(e,r),r.endSequence(),r.startSequence(asn1.Ber.OctetString),r.startSequence();var t=new Buffer(1);t[0]=1,r.writeBuffer(t,asn1.Ber.Integer),r.writeBuffer(e.part.d.data,asn1.Ber.OctetString),r.startSequence(161);var a=utils.ecNormalize(e.part.Q.data,!0);r.writeBuffer(a,asn1.Ber.BitString),r.endSequence(),r.endSequence(),r.endSequence()}module.exports={read:read,readPkcs8:readPkcs8,write:write,writePkcs8:writePkcs8,readECDSACurve:readECDSACurve,writeECDSACurve:writeECDSACurve};var assert=require("assert-plus"),asn1=require("asn1"),algs=require("../algs"),utils=require("../utils"),Key=require("../key"),PrivateKey=require("../private-key"),pem=require("./pem");
}).call(this,require("buffer").Buffer)

},{"../algs":506,"../key":519,"../private-key":520,"../utils":523,"./pem":512,"asn1":529,"assert-plus":530,"buffer":42}],515:[function(require,module,exports){
(function (Buffer){
function algToKeyType(e){if(assert.string(e),"ssh-dss"===e)return"dsa";if("ssh-rsa"===e)return"rsa";if("ssh-ed25519"===e)return"ed25519";if("ssh-curve25519"===e)return"curve25519";if(e.match(/^ecdsa-sha2-/))return"ecdsa";throw new Error("Unknown algorithm "+e)}function keyTypeToAlg(e){if(assert.object(e),"dsa"===e.type)return"ssh-dss";if("rsa"===e.type)return"ssh-rsa";if("ed25519"===e.type)return"ssh-ed25519";if("curve25519"===e.type)return"ssh-curve25519";if("ecdsa"===e.type)return"ecdsa-sha2-"+e.part.curve.data.toString();throw new Error("Unknown key type "+e.type)}function read(e,r,t){"string"==typeof t&&(t=new Buffer(t)),assert.buffer(t,"buf");var a={},s=a.parts=[],n=new SSHBuffer({buffer:t}),i=n.readString();assert.ok(!n.atEnd(),"key must have at least one part"),a.type=algToKeyType(i);var o=algs.info[a.type].parts.length;for(r&&"private"===r&&(o=algs.privInfo[a.type].parts.length);!n.atEnd()&&s.length<o;)s.push(n.readPart());for(;!e&&!n.atEnd();)s.push(n.readPart());assert.ok(s.length>=1,"key must have at least one part"),assert.ok(e||n.atEnd(),"leftover bytes at end of key");var f=Key,u=algs.info[a.type];if(("private"===r||u.parts.length!==s.length)&&(u=algs.privInfo[a.type],f=PrivateKey),assert.strictEqual(u.parts.length,s.length),"ecdsa"===a.type){var p=/^ecdsa-sha2-(.+)$/.exec(i);assert.ok(null!==p),assert.strictEqual(p[1],s[0].data.toString())}for(var d=!0,y=0;y<u.parts.length;++y)if(s[y].name=u.parts[y],"curve"!==s[y].name&&u.normalize!==!1){var l=s[y],g=utils.mpNormalize(l.data);g!==l.data&&(l.data=g,d=!1)}return d&&(a._rfc4253Cache=n.toBuffer()),e&&"object"==typeof e&&(e.remainder=n.remainder(),e.consumed=n._offset),new f(a)}function write(e){assert.object(e);var r,t=keyTypeToAlg(e),a=algs.info[e.type];PrivateKey.isPrivateKey(e)&&(a=algs.privInfo[e.type]);var s=a.parts,n=new SSHBuffer({});for(n.writeString(t),r=0;r<s.length;++r){var i=e.part[s[r]].data;i=utils.mpNormalize(i),n.writeBuffer(i)}return n.toBuffer()}module.exports={read:read.bind(void 0,!1,void 0),readType:read.bind(void 0,!1),write:write,readPartial:read.bind(void 0,!0),readInternal:read,keyTypeToAlg:keyTypeToAlg,algToKeyType:algToKeyType};var assert=require("assert-plus"),algs=require("../algs"),utils=require("../utils"),Key=require("../key"),PrivateKey=require("../private-key"),SSHBuffer=require("../ssh-buffer");
}).call(this,require("buffer").Buffer)

},{"../algs":506,"../key":519,"../private-key":520,"../ssh-buffer":522,"../utils":523,"assert-plus":530,"buffer":42}],516:[function(require,module,exports){
(function (Buffer){
function read(e){return pem.read(e)}function readSSHPrivate(e,r){r=new SSHBuffer({buffer:r});var t=r.readCString();assert.strictEqual(t,MAGIC,"bad magic string");var a=r.readString(),i=r.readString();if("none"!==a||"none"!==i)throw new Error("OpenSSH-format key is encrypted (password-protected). Please use the SSH agent or decrypt the key.");r.readString();var n=r.readInt();if(1!==n)throw new Error("OpenSSH-format key file contains multiple keys: this is unsupported.");var f=r.readBuffer();if("public"===e)return assert.ok(r.atEnd(),"excess bytes left after key"),rfc4253.read(f);var s=r.readBuffer();assert.ok(r.atEnd(),"excess bytes left after key"),r=new SSHBuffer({buffer:s});var u=r.readInt(),o=r.readInt();assert.strictEqual(u,o,"checkints do not match");var S={},d=rfc4253.readInternal(S,"private",r.remainder());r.skip(S.consumed);var v=r.readString();return d.comment=v,d}function write(e){var r;r=PrivateKey.isPrivateKey(e)?e.toPublic():e;var t;if(PrivateKey.isPrivateKey(e)){t=new SSHBuffer({});var a=crypto.randomBytes(4).readUInt32BE(0);t.writeInt(a),t.writeInt(a),t.write(e.toBuffer("rfc4253")),t.writeString(e.comment||"");for(var i=1;t._offset%8!==0;)t.writeChar(i++)}var n=new SSHBuffer({});n.writeCString(MAGIC),n.writeString("none"),n.writeString("none"),n.writeBuffer(new Buffer(0)),n.writeInt(1),n.writeBuffer(r.toBuffer("rfc4253")),t&&n.writeBuffer(t.toBuffer()),n=n.toBuffer();var f;f=PrivateKey.isPrivateKey(e)?"OPENSSH PRIVATE KEY":"OPENSSH PUBLIC KEY";var s=n.toString("base64"),u=s.length+s.length/70+18+16+2*f.length+10;n=new Buffer(u);var o=0;o+=n.write("-----BEGIN "+f+"-----\n",o);for(var S=0;S<s.length;){var d=S+70;d>s.length&&(d=s.length),o+=n.write(s.slice(S,d),o),n[o++]=10,S=d}return o+=n.write("-----END "+f+"-----\n",o),n.slice(0,o)}module.exports={read:read,readSSHPrivate:readSSHPrivate,write:write};var assert=require("assert-plus"),asn1=require("asn1"),algs=require("../algs"),utils=require("../utils"),crypto=require("crypto"),Key=require("../key"),PrivateKey=require("../private-key"),pem=require("./pem"),rfc4253=require("./rfc4253"),SSHBuffer=require("../ssh-buffer"),MAGIC="openssh-key-v1";
}).call(this,require("buffer").Buffer)

},{"../algs":506,"../key":519,"../private-key":520,"../ssh-buffer":522,"../utils":523,"./pem":512,"./rfc4253":515,"asn1":529,"assert-plus":530,"buffer":42,"crypto":52}],517:[function(require,module,exports){
(function (Buffer){
function read(e){"string"!=typeof e&&(assert.buffer(e,"buf"),e=e.toString("ascii"));var r=e.trim().replace(/[\\\r]/g,""),t=r.match(SSHKEY_RE);t||(t=r.match(SSHKEY_RE2)),assert.ok(t,"key must match regex");var a,s=rfc4253.algToKeyType(t[1]),c=new Buffer(t[2],"base64"),i={};if(t[4])try{a=rfc4253.read(c)}catch(u){t=r.match(SSHKEY_RE2),assert.ok(t,"key must match regex"),c=new Buffer(t[2],"base64"),a=rfc4253.readInternal(i,"public",c)}else a=rfc4253.readInternal(i,"public",c);if(assert.strictEqual(s,a.type),t[4]&&t[4].length>0)a.comment=t[4];else if(i.consumed){var n=t[2]+t[3],f=4*Math.ceil(i.consumed/3);n=n.slice(0,f-2).replace(/[^a-zA-Z0-9+\/=]/g,"")+n.slice(f-2);var l=i.consumed%3;for(l>0&&"="!==n.slice(f-1,f)&&f--;"="===n.slice(f,f+1);)f++;var o=n.slice(f);o=o.replace(/[\r\n]/g," ").replace(/^\s+/,""),o.match(/^[a-zA-Z0-9]/)&&(a.comment=o)}return a}function write(e){if(assert.object(e),!Key.isKey(e))throw new Error("Must be a public key");var r=[],t=rfc4253.keyTypeToAlg(e);r.push(t);var a=rfc4253.write(e);return r.push(a.toString("base64")),e.comment&&r.push(e.comment),new Buffer(r.join(" "))}module.exports={read:read,write:write};var assert=require("assert-plus"),rfc4253=require("./rfc4253"),utils=require("../utils"),Key=require("../key"),PrivateKey=require("../private-key"),sshpriv=require("./ssh-private"),SSHKEY_RE=/^([a-z0-9-]+)[ \t]+([a-zA-Z0-9+\/]+[=]*)([\n \t]+([^\n]+))?$/,SSHKEY_RE2=/^([a-z0-9-]+)[ \t]+([a-zA-Z0-9+\/ \t\n]+[=]*)(.*)$/;
}).call(this,require("buffer").Buffer)

},{"../key":519,"../private-key":520,"../utils":523,"./rfc4253":515,"./ssh-private":516,"assert-plus":530,"buffer":42}],518:[function(require,module,exports){
arguments[4][327][0].apply(exports,arguments)
},{"./errors":509,"./fingerprint":510,"./key":519,"./private-key":520,"./signature":521,"dup":327}],519:[function(require,module,exports){
(function (Buffer){
function Key(r){assert.object(r,"options"),assert.arrayOfObject(r.parts,"options.parts"),assert.string(r.type,"options.type"),assert.optionalString(r.comment,"options.comment");var t=algs.info[r.type];if("object"!=typeof t)throw new InvalidAlgorithmError(r.type);for(var e={},s=0;s<r.parts.length;++s){var i=r.parts[s];e[i.name]=i}this.type=r.type,this.parts=r.parts,this.part=e,this.comment=void 0,this.source=r.source,this._rfc4253Cache=r._rfc4253Cache,this._hashCache={};var a;if(this.curve=void 0,"ecdsa"===this.type){var o=this.part.curve.data.toString();this.curve=o,a=algs.curves[o].size}else if("ed25519"===this.type)a=256,this.curve="curve25519";else{var n=this.part[t.sizePart];a=n.data.length,a=8*a-utils.countZeros(n.data)}this.size=a}module.exports=Key;var assert=require("assert-plus"),algs=require("./algs"),crypto=require("crypto"),Fingerprint=require("./fingerprint"),Signature=require("./signature"),DiffieHellman=require("./dhe"),errs=require("./errors"),utils=require("./utils"),PrivateKey=require("./private-key"),edCompat;try{edCompat=require("./ed-compat")}catch(e){}var InvalidAlgorithmError=errs.InvalidAlgorithmError,KeyParseError=errs.KeyParseError,formats={};formats.auto=require("./formats/auto"),formats.pem=require("./formats/pem"),formats.pkcs1=require("./formats/pkcs1"),formats.pkcs8=require("./formats/pkcs8"),formats.rfc4253=require("./formats/rfc4253"),formats.ssh=require("./formats/ssh"),formats["ssh-private"]=require("./formats/ssh-private"),formats.openssh=formats["ssh-private"],Key.formats=formats,Key.prototype.toBuffer=function(r){return void 0===r&&(r="ssh"),assert.string(r,"format"),assert.object(formats[r],"formats[format]"),"rfc4253"===r?(void 0===this._rfc4253Cache&&(this._rfc4253Cache=formats.rfc4253.write(this)),this._rfc4253Cache):formats[r].write(this)},Key.prototype.toString=function(r){return this.toBuffer(r).toString()},Key.prototype.hash=function(r){if(assert.string(r,"algorithm"),r=r.toLowerCase(),void 0===algs.hashAlgs[r])throw new InvalidAlgorithmError(r);if(this._hashCache[r])return this._hashCache[r];var t=crypto.createHash(r).update(this.toBuffer("rfc4253")).digest();return"string"==typeof t&&(t=new Buffer(t,"binary")),this._hashCache[r]=t,t},Key.prototype.fingerprint=function(r){void 0===r&&(r="sha256"),assert.string(r,"algorithm");var t={hash:this.hash(r),algorithm:r};return new Fingerprint(t)},Key.prototype.defaultHashAlgorithm=function(){var r="sha1";return"rsa"===this.type&&(r="sha256"),"dsa"===this.type&&this.size>1024&&(r="sha256"),"ed25519"===this.type&&(r="sha512"),"ecdsa"===this.type&&(r=this.size<=256?"sha256":this.size<=384?"sha384":"sha512"),r},Key.prototype.createVerify=function(r){if(void 0===r&&(r=this.defaultHashAlgorithm()),assert.string(r,"hash algorithm"),"ed25519"===this.type&&void 0!==edCompat)return new edCompat.Verifier(this,r);if("curve25519"===this.type)throw new Error("Curve25519 keys are not suitable for signing or verification");var t,e,s;try{e=this.type.toUpperCase()+"-","ecdsa"===this.type&&(e="ecdsa-with-"),e+=r.toUpperCase(),t=crypto.createVerify(e)}catch(i){s=i}(void 0===t||s instanceof Error&&s.message.match(/Unknown message digest/))&&(e="RSA-",e+=r.toUpperCase(),t=crypto.createVerify(e)),assert.ok(t,"failed to create verifier");var a=t.verify.bind(t),o=this.toBuffer("pkcs8"),n=this;return t.verify=function(t,e){if(Signature.isSignature(t,[2,0]))return t.type!==n.type?!1:t.hashAlgorithm&&t.hashAlgorithm!==r?!1:a(o,t.toBuffer("asn1"));if("string"==typeof t||Buffer.isBuffer(t))return a(o,t,e);throw Signature.isSignature(t,[1,0])?new Error("signature was created by too old a version of sshpk and cannot be verified"):new TypeError("signature must be a string, Buffer, or Signature object")},t},Key.prototype.createDiffieHellman=function(){if("rsa"===this.type)throw new Error("RSA keys do not support Diffie-Hellman");return new DiffieHellman(this)},Key.prototype.createDH=Key.prototype.createDiffieHellman,Key.parse=function(r,t,e){"string"!=typeof r&&assert.buffer(r,"data"),void 0===t&&(t="auto"),assert.string(t,"format"),void 0===e&&(e="(unnamed)"),assert.object(formats[t],"formats[format]");try{var s=formats[t].read(r);return s instanceof PrivateKey&&(s=s.toPublic()),s.comment||(s.comment=e),s}catch(i){throw new KeyParseError(e,t,i)}},Key.isKey=function(r,t){return utils.isCompatible(r,Key,t)},Key.prototype._sshpkApiVersion=[1,5],Key._oldVersionDetect=function(r){return assert.func(r.toBuffer),assert.func(r.fingerprint),r.createDH?[1,4]:r.defaultHashAlgorithm?[1,3]:r.formats.auto?[1,2]:r.formats.pkcs1?[1,1]:[1,0]};
}).call(this,require("buffer").Buffer)

},{"./algs":506,"./dhe":507,"./ed-compat":508,"./errors":509,"./fingerprint":510,"./formats/auto":511,"./formats/pem":512,"./formats/pkcs1":513,"./formats/pkcs8":514,"./formats/rfc4253":515,"./formats/ssh":517,"./formats/ssh-private":516,"./private-key":520,"./signature":521,"./utils":523,"assert-plus":530,"buffer":42,"crypto":52}],520:[function(require,module,exports){
(function (Buffer){
function PrivateKey(e){assert.object(e,"options"),Key.call(this,e),this._pubCache=void 0}module.exports=PrivateKey;var assert=require("assert-plus"),algs=require("./algs"),crypto=require("crypto"),Fingerprint=require("./fingerprint"),Signature=require("./signature"),errs=require("./errors"),util=require("util"),utils=require("./utils"),edCompat,ed;try{edCompat=require("./ed-compat")}catch(e){}var Key=require("./key"),InvalidAlgorithmError=errs.InvalidAlgorithmError,KeyParseError=errs.KeyParseError,formats={};formats.auto=require("./formats/auto"),formats.pem=require("./formats/pem"),formats.pkcs1=require("./formats/pkcs1"),formats.pkcs8=require("./formats/pkcs8"),formats.rfc4253=require("./formats/rfc4253"),formats["ssh-private"]=require("./formats/ssh-private"),formats.openssh=formats["ssh-private"],formats.ssh=formats["ssh-private"],util.inherits(PrivateKey,Key),PrivateKey.formats=formats,PrivateKey.prototype.toBuffer=function(e){return void 0===e&&(e="pkcs1"),assert.string(e,"format"),assert.object(formats[e],"formats[format]"),formats[e].write(this)},PrivateKey.prototype.hash=function(e){return this.toPublic().hash(e)},PrivateKey.prototype.toPublic=function(){if(this._pubCache)return this._pubCache;for(var e=algs.info[this.type],r=[],t=0;t<e.parts.length;++t){var i=e.parts[t];r.push(this.part[i])}return this._pubCache=new Key({type:this.type,source:this,parts:r}),this.comment&&(this._pubCache.comment=this.comment),this._pubCache},PrivateKey.prototype.derive=function(e,r){assert.string(e,"type"),assert.optionalNumber(r,"size");var t,i;if("ed25519"===this.type&&"curve25519"===e)return void 0===ed&&(ed=require("jodid25519")),t=this.part.r.data,0===t[0]&&(t=t.slice(1)),t=t.slice(0,32),i=ed.dh.publicKey(t),t=utils.mpNormalize(Buffer.concat([t,i])),new PrivateKey({type:"curve25519",parts:[{name:"R",data:utils.mpNormalize(i)},{name:"r",data:t}]});if("curve25519"===this.type&&"ed25519"===e)return void 0===ed&&(ed=require("jodid25519")),t=this.part.r.data,0===t[0]&&(t=t.slice(1)),t=t.slice(0,32),i=ed.eddsa.publicKey(t.toString("binary")),i=new Buffer(i,"binary"),t=utils.mpNormalize(Buffer.concat([t,i])),new PrivateKey({type:"ed25519",parts:[{name:"R",data:utils.mpNormalize(i)},{name:"r",data:t}]});throw new Error("Key derivation not supported from "+this.type+" to "+e)},PrivateKey.prototype.createVerify=function(e){return this.toPublic().createVerify(e)},PrivateKey.prototype.createSign=function(e){if(void 0===e&&(e=this.defaultHashAlgorithm()),assert.string(e,"hash algorithm"),"ed25519"===this.type&&void 0!==edCompat)return new edCompat.Signer(this,e);if("curve25519"===this.type)throw new Error("Curve25519 keys are not suitable for signing or verification");var r,t,i;try{t=this.type.toUpperCase()+"-","ecdsa"===this.type&&(t="ecdsa-with-"),t+=e.toUpperCase(),r=crypto.createSign(t)}catch(a){i=a}(void 0===r||i instanceof Error&&i.message.match(/Unknown message digest/))&&(t="RSA-",t+=e.toUpperCase(),r=crypto.createSign(t)),assert.ok(r,"failed to create verifier");var s=r.sign.bind(r),o=this.toBuffer("pkcs1"),n=this.type;return r.sign=function(){var r=s(o);return"string"==typeof r&&(r=new Buffer(r,"binary")),r=Signature.parse(r,n,"asn1"),r.hashAlgorithm=e,r},r},PrivateKey.parse=function(e,r,t){"string"!=typeof e&&assert.buffer(e,"data"),void 0===r&&(r="auto"),assert.string(r,"format"),void 0===t&&(t="(unnamed)"),assert.object(formats[r],"formats[format]");try{var i=formats[r].read(e);return assert.ok(i instanceof PrivateKey,"key is not a private key"),i.comment||(i.comment=t),i}catch(a){throw new KeyParseError(t,r,a)}},PrivateKey.isPrivateKey=function(e,r){return utils.isCompatible(e,PrivateKey,r)},PrivateKey.prototype._sshpkApiVersion=[1,4],PrivateKey._oldVersionDetect=function(e){return assert.func(e.toPublic),assert.func(e.createSign),e.derive?[1,3]:e.defaultHashAlgorithm?[1,2]:e.formats.auto?[1,1]:[1,0]};
}).call(this,require("buffer").Buffer)

},{"./algs":506,"./ed-compat":508,"./errors":509,"./fingerprint":510,"./formats/auto":511,"./formats/pem":512,"./formats/pkcs1":513,"./formats/pkcs8":514,"./formats/rfc4253":515,"./formats/ssh-private":516,"./key":519,"./signature":521,"./utils":523,"assert-plus":530,"buffer":42,"crypto":52,"jodid25519":534,"util":594}],521:[function(require,module,exports){
(function (Buffer){
function Signature(r){assert.object(r,"options"),assert.arrayOfObject(r.parts,"options.parts"),assert.string(r.type,"options.type");for(var e={},t=0;t<r.parts.length;++t){var a=r.parts[t];e[a.name]=a}this.type=r.type,this.hashAlgorithm=r.hashAlgo,this.parts=r.parts,this.part=e}function parseOneNum(r,e,t,a,s){if("ssh"===t){try{var n=new SSHBuffer({buffer:r}),i=n.readString()}catch(u){}if(i===s){var f=n.readPart();return assert.ok(n.atEnd(),"extra trailing bytes"),f.name="sig",a.parts.push(f),new Signature(a)}}return a.parts.push({name:"sig",data:r}),new Signature(a)}function parseDSAasn1(r,e,t,a){var s=new asn1.BerReader(r);s.readSequence();var n=s.readString(asn1.Ber.Integer,!0),i=s.readString(asn1.Ber.Integer,!0);return a.parts.push({name:"r",data:utils.mpNormalize(n)}),a.parts.push({name:"s",data:utils.mpNormalize(i)}),new Signature(a)}function parseDSA(r,e,t,a){if(40!=r.length){var s=new SSHBuffer({buffer:r}),n=s.readBuffer();"ssh-dss"===n.toString("ascii")&&(n=s.readBuffer()),assert.ok(s.atEnd(),"extra trailing bytes"),assert.strictEqual(n.length,40,"invalid inner length"),r=n}return a.parts.push({name:"r",data:r.slice(0,20)}),a.parts.push({name:"s",data:r.slice(20,40)}),new Signature(a)}function parseECDSA(r,e,t,a){var s,n,i=new SSHBuffer({buffer:r}),u=i.readBuffer();return u.toString("ascii").match(/^ecdsa-/)?(u=i.readBuffer(),assert.ok(i.atEnd(),"extra trailing bytes on outer"),i=new SSHBuffer({buffer:u}),s=i.readPart()):s={data:u},n=i.readPart(),assert.ok(i.atEnd(),"extra trailing bytes"),s.name="r",n.name="s",a.parts.push(s),a.parts.push(n),new Signature(a)}module.exports=Signature;var assert=require("assert-plus"),algs=require("./algs"),crypto=require("crypto"),errs=require("./errors"),utils=require("./utils"),asn1=require("asn1"),SSHBuffer=require("./ssh-buffer"),InvalidAlgorithmError=errs.InvalidAlgorithmError,SignatureParseError=errs.SignatureParseError;Signature.prototype.toBuffer=function(r){void 0===r&&(r="asn1"),assert.string(r,"format");var e;switch(this.type){case"rsa":case"ed25519":return"ssh"===r?(e=new SSHBuffer({}),e.writeString("ssh-"+this.type),e.writePart(this.part.sig),e.toBuffer()):this.part.sig.data;case"dsa":case"ecdsa":var t,a;if("asn1"===r){var s=new asn1.BerWriter;return s.startSequence(),t=utils.mpNormalize(this.part.r.data),a=utils.mpNormalize(this.part.s.data),s.writeBuffer(t,asn1.Ber.Integer),s.writeBuffer(a,asn1.Ber.Integer),s.endSequence(),s.buffer}if("ssh"===r&&"dsa"===this.type)return e=new SSHBuffer({}),e.writeString("ssh-dss"),t=this.part.r.data,0===t[0]&&(t=t.slice(1)),a=this.part.s.data,e.writeBuffer(Buffer.concat([t,a])),e.toBuffer();if("ssh"===r&&"ecdsa"===this.type){var n=new SSHBuffer({});t=this.part.r,0===t[0]&&(t=t.slice(1)),n.writePart(t),n.writePart(this.part.s),e=new SSHBuffer({});var i,u=8*this.part.r.data.length;return 256===u?i="nistp256":384===u?i="nistp384":528===u&&(i="nistp521"),e.writeString("ecdsa-sha2-"+i),e.writeBuffer(n.toBuffer()),e.toBuffer()}throw new Error("Invalid signature format");default:throw new Error("Invalid signature data")}},Signature.prototype.toString=function(r){return assert.optionalString(r,"format"),this.toBuffer(r).toString("base64")},Signature.parse=function(r,e,t){"string"==typeof r&&(r=new Buffer(r,"base64")),assert.buffer(r,"data"),assert.string(t,"format"),assert.string(e,"type");var a={};a.type=e.toLowerCase(),a.parts=[];try{switch(assert.ok(r.length>0,"signature must not be empty"),a.type){case"rsa":return parseOneNum(r,e,t,a,"ssh-rsa");case"ed25519":return parseOneNum(r,e,t,a,"ssh-ed25519");case"dsa":case"ecdsa":return"asn1"===t?parseDSAasn1(r,e,t,a):"dsa"===a.type?parseDSA(r,e,t,a):parseECDSA(r,e,t,a);default:throw new InvalidAlgorithmError(e)}}catch(s){if(s instanceof InvalidAlgorithmError)throw s;throw new SignatureParseError(e,t,s)}},Signature.isSignature=function(r,e){return utils.isCompatible(r,Signature,e)},Signature.prototype._sshpkApiVersion=[2,1],Signature._oldVersionDetect=function(r){return assert.func(r.toBuffer),r.hasOwnProperty("hashAlgorithm")?[2,0]:[1,0]};
}).call(this,require("buffer").Buffer)

},{"./algs":506,"./errors":509,"./ssh-buffer":522,"./utils":523,"asn1":529,"assert-plus":530,"buffer":42,"crypto":52}],522:[function(require,module,exports){
(function (Buffer){
function SSHBuffer(t){assert.object(t,"options"),void 0!==t.buffer&&assert.buffer(t.buffer,"options.buffer"),this._size=t.buffer?t.buffer.length:1024,this._buffer=t.buffer||new Buffer(this._size),this._offset=0}module.exports=SSHBuffer;var assert=require("assert-plus");SSHBuffer.prototype.toBuffer=function(){return this._buffer.slice(0,this._offset)},SSHBuffer.prototype.atEnd=function(){return this._offset>=this._buffer.length},SSHBuffer.prototype.remainder=function(){return this._buffer.slice(this._offset)},SSHBuffer.prototype.skip=function(t){this._offset+=t},SSHBuffer.prototype.expand=function(){this._size*=2;var t=new Buffer(this._size);this._buffer.copy(t,0),this._buffer=t},SSHBuffer.prototype.readPart=function(){return{data:this.readBuffer()}},SSHBuffer.prototype.readBuffer=function(){var t=this._buffer.readUInt32BE(this._offset);this._offset+=4,assert.ok(this._offset+t<=this._buffer.length,"length out of bounds at +0x"+this._offset.toString(16)+" (data truncated?)");var f=this._buffer.slice(this._offset,this._offset+t);return this._offset+=t,f},SSHBuffer.prototype.readString=function(){return this.readBuffer().toString()},SSHBuffer.prototype.readCString=function(){for(var t=this._offset;t<this._buffer.length&&0!==this._buffer[t];)t++;assert.ok(t<this._buffer.length,"c string does not terminate");var f=this._buffer.slice(this._offset,t).toString();return this._offset=t+1,f},SSHBuffer.prototype.readInt=function(){var t=this._buffer.readUInt32BE(this._offset);return this._offset+=4,t},SSHBuffer.prototype.readChar=function(){var t=this._buffer[this._offset++];return t},SSHBuffer.prototype.writeBuffer=function(t){for(;this._offset+4+t.length>this._size;)this.expand();this._buffer.writeUInt32BE(t.length,this._offset),this._offset+=4,t.copy(this._buffer,this._offset),this._offset+=t.length},SSHBuffer.prototype.writeString=function(t){this.writeBuffer(new Buffer(t,"utf8"))},SSHBuffer.prototype.writeCString=function(t){for(;this._offset+1+t.length>this._size;)this.expand();this._buffer.write(t,this._offset),this._offset+=t.length,this._buffer[this._offset++]=0},SSHBuffer.prototype.writeInt=function(t){for(;this._offset+4>this._size;)this.expand();this._buffer.writeUInt32BE(t,this._offset),this._offset+=4},SSHBuffer.prototype.writeChar=function(t){for(;this._offset+1>this._size;)this.expand();this._buffer[this._offset++]=t},SSHBuffer.prototype.writePart=function(t){this.writeBuffer(t.data)},SSHBuffer.prototype.write=function(t){for(;this._offset+t.length>this._size;)this.expand();t.copy(this._buffer,this._offset),this._offset+=t.length};
}).call(this,require("buffer").Buffer)

},{"assert-plus":530,"buffer":42}],523:[function(require,module,exports){
(function (Buffer){
function isCompatible(e,r,t){if(null===e||"object"!=typeof e)return!1;if(void 0===t&&(t=r.prototype._sshpkApiVersion),e instanceof r&&r.prototype._sshpkApiVersion[0]==t[0])return!0;for(var o=Object.getPrototypeOf(e),a=0;o.constructor.name!==r.name;)if(o=Object.getPrototypeOf(o),!o||++a>MAX_CLASS_DEPTH)return!1;if(o.constructor.name!==r.name)return!1;var i=o._sshpkApiVersion;return void 0===i&&(i=r._oldVersionDetect(e)),i[0]!=t[0]||i[1]<t[1]?!1:!0}function assertCompatible(e,r,t,o){if(void 0===o&&(o="object"),assert.ok(e,o+" must not be null"),assert.object(e,o+" must be an object"),void 0===t&&(t=r.prototype._sshpkApiVersion),!(e instanceof r&&r.prototype._sshpkApiVersion[0]==t[0])){for(var a=Object.getPrototypeOf(e),i=0;a.constructor.name!==r.name;)a=Object.getPrototypeOf(a),assert.ok(a&&++i<=MAX_CLASS_DEPTH,o+" must be a "+r.name+" instance");assert.strictEqual(a.constructor.name,r.name,o+" must be a "+r.name+" instance");var s=a._sshpkApiVersion;void 0===s&&(s=r._oldVersionDetect(e)),assert.ok(s[0]==t[0]&&s[1]>=t[1],o+" must be compatible with "+r.name+" klass version "+t[0]+"."+t[1])}}function countZeros(e){for(var r=0,t=8;r<e.length;){var o=1<<t;if((e[r]&o)===o)break;t--,0>t&&(r++,t=8)}return 8*r+(8-t)-1}function bufferSplit(e,r){assert.buffer(e),assert.string(r);for(var t=[],o=0,a=0,i=0;i<e.length;++i)if(e[i]===r.charCodeAt(a)?++a:a=e[i]===r.charCodeAt(0)?1:0,a>=r.length){var s=i+1;t.push(e.slice(o,s-a)),o=s,a=0}return o<=e.length&&t.push(e.slice(o,e.length)),t}function ecNormalize(e,r){if(assert.buffer(e),0===e[0]&&4===e[1])return r?e:e.slice(1);if(4===e[0]){if(!r)return e}else{for(;0===e[0];)e=e.slice(1);if(2===e[0]||3===e[0])throw new Error("Compressed elliptic curve points are not supported");if(4!==e[0])throw new Error("Not a valid elliptic curve point");if(!r)return e}var t=new Buffer(e.length+1);return t[0]=0,e.copy(t,1),t}function mpNormalize(e){for(assert.buffer(e);e.length>1&&0===e[0]&&0===(128&e[1]);)e=e.slice(1);if(128===(128&e[0])){var r=new Buffer(e.length+1);r[0]=0,e.copy(r,1),e=r}return e}function bigintToMpBuf(e){var r=new Buffer(e.toByteArray());return r=mpNormalize(r)}function calculateDSAPublic(e,r,t){assert.buffer(e),assert.buffer(r),assert.buffer(t);try{var o=require("jsbn").BigInteger}catch(a){throw new Error("To load a PKCS#8 format DSA private key, the node jsbn library is required.")}e=new o(e),r=new o(r),t=new o(t);var i=e.modPow(t,r),s=bigintToMpBuf(i);return s}function addRSAMissing(e){assert.object(e),assertCompatible(e,PrivateKey,[1,1]);try{var r=require("jsbn").BigInteger}catch(t){throw new Error("To write a PEM private key from this source, the node jsbn lib is required.")}var o,a=new r(e.part.d.data);if(!e.part.dmodp){var i=new r(e.part.p.data),s=a.mod(i.subtract(1));o=bigintToMpBuf(s),e.part.dmodp={name:"dmodp",data:o},e.parts.push(e.part.dmodp)}if(!e.part.dmodq){var n=new r(e.part.q.data),p=a.mod(n.subtract(1));o=bigintToMpBuf(p),e.part.dmodq={name:"dmodq",data:o},e.parts.push(e.part.dmodq)}}module.exports={bufferSplit:bufferSplit,addRSAMissing:addRSAMissing,calculateDSAPublic:calculateDSAPublic,mpNormalize:mpNormalize,ecNormalize:ecNormalize,countZeros:countZeros,assertCompatible:assertCompatible,isCompatible:isCompatible};var assert=require("assert-plus"),PrivateKey=require("./private-key"),MAX_CLASS_DEPTH=3;
}).call(this,require("buffer").Buffer)

},{"./private-key":520,"assert-plus":530,"buffer":42,"jsbn":540}],524:[function(require,module,exports){
arguments[4][333][0].apply(exports,arguments)
},{"dup":333}],525:[function(require,module,exports){
arguments[4][334][0].apply(exports,arguments)
},{"./errors":524,"./reader":526,"./types":527,"./writer":528,"dup":334}],526:[function(require,module,exports){
(function (Buffer){
function Reader(e){if(!e||!Buffer.isBuffer(e))throw new TypeError("data must be a node Buffer");this._buf=e,this._size=e.length,this._len=0,this._offset=0}var assert=require("assert"),ASN1=require("./types"),errors=require("./errors"),newInvalidAsn1Error=errors.newInvalidAsn1Error;Object.defineProperty(Reader.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(Reader.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(Reader.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(Reader.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),Reader.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var t=255&this._buf[this._offset];return e||(this._offset+=1),t},Reader.prototype.peek=function(){return this.readByte(!0)},Reader.prototype.readLength=function(e){if(void 0===e&&(e=this._offset),e>=this._size)return null;var t=255&this._buf[e++];if(null===t)return null;if(128==(128&t)){if(t&=127,0==t)throw newInvalidAsn1Error("Indefinite length not supported");if(t>4)throw newInvalidAsn1Error("encoding too long");if(this._size-e<t)return null;this._len=0;for(var r=0;t>r;r++)this._len=(this._len<<8)+(255&this._buf[e++])}else this._len=t;return e},Reader.prototype.readSequence=function(e){var t=this.peek();if(null===t)return null;if(void 0!==e&&e!==t)throw newInvalidAsn1Error("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);return null===r?null:(this._offset=r,t)},Reader.prototype.readInt=function(){return this._readTag(ASN1.Integer)},Reader.prototype.readBoolean=function(){return 0===this._readTag(ASN1.Boolean)?!1:!0},Reader.prototype.readEnumeration=function(){return this._readTag(ASN1.Enumeration)},Reader.prototype.readString=function(e,t){e||(e=ASN1.OctetString);var r=this.peek();if(null===r)return null;if(r!==e)throw newInvalidAsn1Error("Expected 0x"+e.toString(16)+": got 0x"+r.toString(16));var n=this.readLength(this._offset+1);if(null===n)return null;if(this.length>this._size-n)return null;if(this._offset=n,0===this.length)return t?new Buffer(0):"";var i=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,t?i:i.toString("utf8")},Reader.prototype.readOID=function(e){e||(e=ASN1.OID);var t=this.readString(e,!0);if(null===t)return null;for(var r=[],n=0,i=0;i<t.length;i++){var o=255&t[i];n<<=7,n+=127&o,0==(128&o)&&(r.push(n),n=0)}return n=r.shift(),r.unshift(n%40),r.unshift(n/40>>0),r.join(".")},Reader.prototype._readTag=function(e){assert.ok(void 0!==e);var t=this.peek();if(null===t)return null;if(t!==e)throw newInvalidAsn1Error("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);if(null===r)return null;if(this.length>4)throw newInvalidAsn1Error("Integer too long: "+this.length);if(this.length>this._size-r)return null;this._offset=r;for(var n=this._buf[this._offset],i=0,o=0;o<this.length;o++)i<<=8,i|=255&this._buf[this._offset++];return 128==(128&n)&&4!==o&&(i-=1<<8*o),i>>0},module.exports=Reader;
}).call(this,require("buffer").Buffer)

},{"./errors":524,"./types":527,"assert":2,"buffer":42}],527:[function(require,module,exports){
arguments[4][336][0].apply(exports,arguments)
},{"dup":336}],528:[function(require,module,exports){
(function (Buffer){
function merge(t,e){assert.ok(t),assert.equal(typeof t,"object"),assert.ok(e),assert.equal(typeof e,"object");var r=Object.getOwnPropertyNames(t);return r.forEach(function(r){if(!e[r]){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,s)}}),e}function Writer(t){t=merge(DEFAULT_OPTS,t||{}),this._buf=new Buffer(t.size||1024),this._size=this._buf.length,this._offset=0,this._options=t,this._seq=[]}var assert=require("assert"),ASN1=require("./types"),errors=require("./errors"),newInvalidAsn1Error=errors.newInvalidAsn1Error,DEFAULT_OPTS={size:1024,growthFactor:8};Object.defineProperty(Writer.prototype,"buffer",{get:function(){if(this._seq.length)throw new InvalidAsn1Error(this._seq.length+" unended sequence(s)");return this._buf.slice(0,this._offset)}}),Writer.prototype.writeByte=function(t){if("number"!=typeof t)throw new TypeError("argument must be a Number");this._ensure(1),this._buf[this._offset++]=t},Writer.prototype.writeInt=function(t,e){if("number"!=typeof t)throw new TypeError("argument must be a Number");"number"!=typeof e&&(e=ASN1.Integer);for(var r=4;(0===(4286578688&t)||-8388608===(4286578688&t))&&r>1;)r--,t<<=8;if(r>4)throw new InvalidAsn1Error("BER ints cannot be > 0xffffffff");for(this._ensure(2+r),this._buf[this._offset++]=e,this._buf[this._offset++]=r;r-- >0;)this._buf[this._offset++]=(4278190080&t)>>>24,t<<=8},Writer.prototype.writeNull=function(){this.writeByte(ASN1.Null),this.writeByte(0)},Writer.prototype.writeEnumeration=function(t,e){if("number"!=typeof t)throw new TypeError("argument must be a Number");return"number"!=typeof e&&(e=ASN1.Enumeration),this.writeInt(t,e)},Writer.prototype.writeBoolean=function(t,e){if("boolean"!=typeof t)throw new TypeError("argument must be a Boolean");"number"!=typeof e&&(e=ASN1.Boolean),this._ensure(3),this._buf[this._offset++]=e,this._buf[this._offset++]=1,this._buf[this._offset++]=t?255:0},Writer.prototype.writeString=function(t,e){if("string"!=typeof t)throw new TypeError("argument must be a string (was: "+typeof t+")");"number"!=typeof e&&(e=ASN1.OctetString);var r=Buffer.byteLength(t);this.writeByte(e),this.writeLength(r),r&&(this._ensure(r),this._buf.write(t,this._offset),this._offset+=r)},Writer.prototype.writeBuffer=function(t,e){if("number"!=typeof e)throw new TypeError("tag must be a number");if(!Buffer.isBuffer(t))throw new TypeError("argument must be a buffer");this.writeByte(e),this.writeLength(t.length),this._ensure(t.length),t.copy(this._buf,this._offset,0,t.length),this._offset+=t.length},Writer.prototype.writeStringArray=function(t){if(!t instanceof Array)throw new TypeError("argument must be an Array[String]");var e=this;t.forEach(function(t){e.writeString(t)})},Writer.prototype.writeOID=function(t,e){function r(t,e){128>e?t.push(e):16384>e?(t.push(e>>>7|128),t.push(127&e)):2097152>e?(t.push(e>>>14|128),t.push(255&(e>>>7|128)),t.push(127&e)):268435456>e?(t.push(e>>>21|128),t.push(255&(e>>>14|128)),t.push(255&(e>>>7|128)),t.push(127&e)):(t.push(255&(e>>>28|128)),t.push(255&(e>>>21|128)),t.push(255&(e>>>14|128)),t.push(255&(e>>>7|128)),t.push(127&e))}if("string"!=typeof t)throw new TypeError("argument must be a string");if("number"!=typeof e&&(e=ASN1.OID),!/^([0-9]+\.){3,}[0-9]+$/.test(t))throw new Error("argument is not a valid OID string");var s=t.split("."),i=[];i.push(40*parseInt(s[0],10)+parseInt(s[1],10)),s.slice(2).forEach(function(t){r(i,parseInt(t,10))});var f=this;this._ensure(2+i.length),this.writeByte(e),this.writeLength(i.length),i.forEach(function(t){f.writeByte(t)})},Writer.prototype.writeLength=function(t){if("number"!=typeof t)throw new TypeError("argument must be a Number");if(this._ensure(4),127>=t)this._buf[this._offset++]=t;else if(255>=t)this._buf[this._offset++]=129,this._buf[this._offset++]=t;else if(65535>=t)this._buf[this._offset++]=130,this._buf[this._offset++]=t>>8,this._buf[this._offset++]=t;else{if(!(16777215>=t))throw new InvalidAsn1ERror("Length too long (> 4 bytes)");this._buf[this._offset++]=131,this._buf[this._offset++]=t>>16,this._buf[this._offset++]=t>>8,this._buf[this._offset++]=t}},Writer.prototype.startSequence=function(t){"number"!=typeof t&&(t=ASN1.Sequence|ASN1.Constructor),this.writeByte(t),this._seq.push(this._offset),this._ensure(3),this._offset+=3},Writer.prototype.endSequence=function(){var t=this._seq.pop(),e=t+3,r=this._offset-e;if(127>=r)this._shift(e,r,-2),this._buf[t]=r;else if(255>=r)this._shift(e,r,-1),this._buf[t]=129,this._buf[t+1]=r;else if(65535>=r)this._buf[t]=130,this._buf[t+1]=r>>8,this._buf[t+2]=r;else{if(!(16777215>=r))throw new InvalidAsn1Error("Sequence too long");this._shift(e,r,1),this._buf[t]=131,this._buf[t+1]=r>>16,this._buf[t+2]=r>>8,this._buf[t+3]=r}},Writer.prototype._shift=function(t,e,r){assert.ok(void 0!==t),assert.ok(void 0!==e),assert.ok(r),this._buf.copy(this._buf,t+r,t,t+e),this._offset+=r},Writer.prototype._ensure=function(t){if(assert.ok(t),this._size-this._offset<t){var e=this._size*this._options.growthFactor;e-this._offset<t&&(e+=t);var r=new Buffer(e);this._buf.copy(r,0,0,this._offset),this._buf=r,this._size=e}},module.exports=Writer;
}).call(this,require("buffer").Buffer)

},{"./errors":524,"./types":527,"assert":2,"buffer":42}],529:[function(require,module,exports){
arguments[4][338][0].apply(exports,arguments)
},{"./ber/index":525,"dup":338}],530:[function(require,module,exports){
(function (Buffer,process){
function _capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}function _toss(t,r,e,o,n){throw new assert.AssertionError({message:util.format("%s (%s) is required",t,r),actual:void 0===n?typeof o:n(o),expected:r,operator:e||"===",stackStartFunction:_toss.caller})}function _getClass(t){return Object.prototype.toString.call(t).slice(8,-1)}function noop(){}function _setExports(t){var r,e=Object.keys(types);return r=process.env.NODE_NDEBUG?noop:function(t,r){t||_toss(r,"true",t)},e.forEach(function(e){if(t)return void(r[e]=noop);var o=types[e];r[e]=function(t,r){o.check(t)||_toss(r,e,o.operator,t,o.actual)}}),e.forEach(function(e){var o="optional"+_capitalize(e);if(t)return void(r[o]=noop);var n=types[e];r[o]=function(t,r){void 0!==t&&null!==t&&(n.check(t)||_toss(r,e,n.operator,t,n.actual))}}),e.forEach(function(e){var o="arrayOf"+_capitalize(e);if(t)return void(r[o]=noop);var n=types[e],a="["+e+"]";r[o]=function(t,r){Array.isArray(t)||_toss(r,a,n.operator,t,n.actual);var e;for(e=0;e<t.length;e++)n.check(t[e])||_toss(r,a,n.operator,t,n.actual)}}),e.forEach(function(e){var o="optionalArrayOf"+_capitalize(e);if(t)return void(r[o]=noop);var n=types[e],a="["+e+"]";r[o]=function(t,r){if(void 0!==t&&null!==t){Array.isArray(t)||_toss(r,a,n.operator,t,n.actual);var e;for(e=0;e<t.length;e++)n.check(t[e])||_toss(r,a,n.operator,t,n.actual)}}}),Object.keys(assert).forEach(function(e){return"AssertionError"===e?void(r[e]=assert[e]):t?void(r[e]=noop):void(r[e]=assert[e])}),r._setExports=_setExports,r}var assert=require("assert"),Stream=require("stream").Stream,util=require("util"),UUID_REGEXP=/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/,types={bool:{check:function(t){return"boolean"==typeof t}},func:{check:function(t){return"function"==typeof t}},string:{check:function(t){return"string"==typeof t}},object:{check:function(t){return"object"==typeof t&&null!==t}},number:{check:function(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}},buffer:{check:function(t){return Buffer.isBuffer(t)},operator:"Buffer.isBuffer"},array:{check:function(t){return Array.isArray(t)},operator:"Array.isArray"},stream:{check:function(t){return t instanceof Stream},operator:"instanceof",actual:_getClass},date:{check:function(t){return t instanceof Date},operator:"instanceof",actual:_getClass},regexp:{check:function(t){return t instanceof RegExp},operator:"instanceof",actual:_getClass},uuid:{check:function(t){return"string"==typeof t&&UUID_REGEXP.test(t)},operator:"isUUID"}};module.exports=_setExports(process.env.NODE_NDEBUG);
}).call(this,{"isBuffer":require("../../../../../../../is-buffer/index.js")},require('_process'))

},{"../../../../../../../is-buffer/index.js":99,"_process":425,"assert":2,"stream":573,"util":594}],531:[function(require,module,exports){
(function (Buffer){
function unstupid(e,t){return e.length>=t?e:unstupid("0"+e,t)}var crypto=require("crypto"),BigInteger=require("jsbn").BigInteger,ECPointFp=require("./lib/ec.js").ECPointFp;exports.ECCurves=require("./lib/sec.js"),exports.ECKey=function(e,t,r){var i,n=e(),u=n.getN(),g=Math.floor(u.bitLength()/8);if(t)if(r){var e=n.getCurve();this.P=e.decodePointHex(t.toString("hex"))}else{if(t.length!=g)return!1;i=new BigInteger(t.toString("hex"),16)}else{var o=u.subtract(BigInteger.ONE),s=new BigInteger(crypto.randomBytes(u.bitLength()));i=s.mod(o).add(BigInteger.ONE),this.P=n.getG().multiply(i)}this.P&&(this.PublicKey=new Buffer(n.getCurve().encodeCompressedPointHex(this.P),"hex")),i&&(this.PrivateKey=new Buffer(unstupid(i.toString(16),2*g),"hex"),this.deriveSharedSecret=function(e){if(!e||!e.P)return!1;var t=e.P.multiply(i);return new Buffer(unstupid(t.getX().toBigInteger().toString(16),2*g),"hex")})};
}).call(this,require("buffer").Buffer)

},{"./lib/ec.js":532,"./lib/sec.js":533,"buffer":42,"crypto":52,"jsbn":540}],532:[function(require,module,exports){
arguments[4][341][0].apply(exports,arguments)
},{"dup":341,"jsbn":540}],533:[function(require,module,exports){
arguments[4][342][0].apply(exports,arguments)
},{"./ec.js":532,"dup":342,"jsbn":540}],534:[function(require,module,exports){
arguments[4][343][0].apply(exports,arguments)
},{"./lib/curve255":536,"./lib/dh":537,"./lib/eddsa":538,"./lib/utils":539,"dup":343}],535:[function(require,module,exports){
arguments[4][344][0].apply(exports,arguments)
},{"crypto":52,"dup":344}],536:[function(require,module,exports){
arguments[4][345][0].apply(exports,arguments)
},{"./core":535,"./utils":539,"dup":345}],537:[function(require,module,exports){
(function (Buffer){
"use strict";function _toString(r){var e=new Uint16Array(r);return new Buffer(new Uint8Array(e.buffer))}function _fromString(r){if(Buffer.isBuffer(r)){var e=new Uint8Array(r);return new Uint16Array(e.buffer)}for(var n=new Array(16),t=0,u=0;t<r.length;t+=2)n[u]=r.charCodeAt(t+1)<<8|r.charCodeAt(t),u++;return n}var core=require("./core"),utils=require("./utils"),curve255=require("./curve255"),ns={};ns.computeKey=function(r,e){return _toString(e?curve255.curve25519(_fromString(r),_fromString(e)):curve255.curve25519(_fromString(r)))},ns.publicKey=function(r){return _toString(curve255.curve25519(_fromString(r)))},ns.generateKey=function(){return core.generateKey(!0)},module.exports=ns;
}).call(this,require("buffer").Buffer)

},{"./core":535,"./curve255":536,"./utils":539,"buffer":42}],538:[function(require,module,exports){
(function (Buffer){
"use strict";function _bi255(t){if(!(this instanceof _bi255))return new _bi255(t);if("undefined"==typeof t)return _ZERO;var n=t.constructor;if(n!==Array&&n!==Uint16Array&&n!==Uint32Array||16!==t.length)if(n===Array&&32===t.length)this.n=_bytes2bi255(t).n;else if(n===String)this.n=utils.hexDecode(t);else if(n===Number)this.n=[65535&t,t>>16,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else{if(!(t instanceof _bi255))throw"Bad argument for bignum: "+t;this.n=t.n.slice(0)}else this.n=t}function _shiftL(t,n){for(var e=0,i=0;16>i;i++){var r=t[i]>>16-n;t[i]=t[i]<<n&65535|e,e=r}return t}function _shiftR(t,n){for(var e=0,i=15;i>=0;i--){var r=t[i]<<16-n&65535;t[i]=t[i]>>n|e,e=r}return t}function _bi255_bytes(t){t=_bi255(t);for(var n=new Array(32),e=31;e>=0;e--)n[e]=255&t.n[0],t.shiftRight(8);return n}function _bytes2bi255(t){for(var n=_ZERO,e=0;32>e;e++)n.shiftLeft(8),n=n.plus(_bi255(t[e]));return n}function _pow(t,n){for(var e=core.ONE(),i=0;256>i;i++)1===core.getbit(n,i)&&(e=core.mulmodp(e,t)),t=core.sqrmodp(t);return e}function _modq(t){return core.reduce(t.n),t.cmp(_Q)>=0?_modq(t.minus(_Q)):-1===t.cmp(_ZERO)?_modq(t.plus(_Q)):t}function _isoncurve(t){var n=t[0],e=t[1],i=n.sqr(),r=e.sqr(),_=_D.times(i).times(r);return r.minus(i).minus(_ONE).minus(_).modq().equals(_ZERO)}function _xrecover(t){var n=t.sqr(),e=n.minus(_ONE).divide(_ONE.plus(_D.times(n))),i=e.pow(_RECOVERY_EXPONENT);return i.times(i).minus(e).equals(_ZERO)||(i=i.times(_I)),i.isOdd()&&(i=_Q.minus(i)),i}function _x_pt_add(t,n){var e=t[0],i=t[1],r=t[2],_=t[3],s=n[0],u=n[1],o=n[2],f=n[3],c=i.minus(e).times(u.plus(s)),a=i.plus(e).times(u.minus(s)),b=r.times(_TWO).times(f),d=_.times(_TWO).times(o),m=d.plus(b),h=a.minus(c),p=a.plus(c),l=d.minus(b);return[m.times(h),p.times(l),h.times(p),m.times(l)]}function _xpt_double(t){var n=t[0],e=t[1],i=t[2],r=n.times(n),_=e.times(e),s=_TWO.times(i).times(i),u=_Q.minus(r),o=n.plus(e),f=o.times(o).minus(r).minus(_),c=u.plus(_),a=c.minus(s),b=u.minus(_);return[f.times(a),c.times(b),a.times(c),f.times(b)]}function _xpt_mult(t,n){if(n.equals(_ZERO))return[_ZERO,_ONE,_ONE,_ZERO];var e=n.isOdd();n.shiftRight(1);var i=_xpt_double(_xpt_mult(t,n));return e?_x_pt_add(i,t):i}function _pt_xform(t){var n=t[0],e=t[1];return[n,e,_ONE,n.times(e)]}function _pt_unxform(t){var n=t[0],e=t[1],i=t[2],r=i.inv();return[n.times(r),e.times(r)]}function _scalarmult(t,n){return _pt_unxform(_xpt_mult(_pt_xform(t),n))}function _bytesgetbit(t,n){return t[t.length-(n>>>3)-1]>>(7&n)&1}function _xpt_mult_bytes(t,n){for(var e=[_ZERO,_ONE,_ONE,_ZERO],i=(n.length<<3)-1;i>=0;i--)e=_xpt_double(e),1===_bytesgetbit(n,i)&&(e=_x_pt_add(e,t));return e}function _scalarmultBytes(t,n){return _pt_unxform(_xpt_mult_bytes(_pt_xform(t),n))}function _encodeint(t){return t.bytes(32).reverse()}function _decodeint(t){return _bi255(t.slice(0).reverse())}function _encodepoint(t){var n=_encodeint(t[1]);return t[0].isOdd()&&(n[31]|=128),n}function _decodepoint(t){t=t.slice(0);var n=t[31]>>7;t[31]&=127;var e=_decodeint(t),i=_xrecover(e);(1&i.n[0])!==n&&(i=_Q.minus(i));var r=[i,e];if(!_isoncurve(r))throw"Point is not on curve";return r}function _bi(t,n){if(void 0!==n)return 256===n?_bi(utils.string2bytes(t)):new BigInteger(t,n);if("string"==typeof t)return new BigInteger(t,10);if(t instanceof Array||t instanceof Uint8Array||Buffer.isBuffer(t))return new BigInteger(t);if("number"==typeof t)return new BigInteger(t.toString(),10);throw"Can't convert "+t+" to BigInteger"}function _bi2bytes(t,n){void 0===n&&(n=t.bitLength()+7>>>3);for(var e=new Array(n),i=n-1;i>=0;i--)e[i]=255&t[0],t=t.shiftRight(8);return e}function _bytehash(t){var n=crypto.createHash("sha512").update(t).digest();return _bi2bytes(_bi(n),64).reverse()}function _stringhash(t){var n=crypto.createHash("sha512").update(t).digest();return _map(_chr,_bi2bytes(_bi(n),64)).join("")}function _inthash(t){return _bi([0].concat(_bytehash(t)))}function _inthash_lo(t){return _bi255(_bytehash(t).slice(32,64))}function _inthash_mod_l(t){return _inthash(t).mod(_L_BI)}function _get_a(t){var n=_inthash_lo(t);return n.n[0]&=65528,n.n[15]&=16383,n.n[15]|=16384,n}function _publickey(t){return _encodepoint(_scalarmult(_bp,_get_a(t)))}function _map(t,n){for(var e=new Array(n.length),i=0;i<n.length;i++)e[i]=t(n[i]);return e}function _chr(t){return String.fromCharCode(t)}function _ord(t){return t.charCodeAt(0)}function _pt_add(t,n){return _pt_unxform(_x_pt_add(_pt_xform(t),_pt_xform(n)))}var core=require("./core"),curve255=require("./curve255"),utils=require("./utils"),BigInteger=require("jsbn").BigInteger,crypto=require("crypto"),ns={};_bi255.prototype={toString:function(){return utils.hexEncode(this.n)},toSource:function(){return"_"+utils.hexEncode(this.n)},plus:function(t){return _bi255(core.bigintadd(this.n,t.n))},minus:function(t){return _bi255(core.bigintsub(this.n,t.n)).modq()},times:function(t){return _bi255(core.mulmodp(this.n,t.n))},divide:function(t){return this.times(t.inv())},sqr:function(){return _bi255(core.sqrmodp(this.n))},cmp:function(t){return core.bigintcmp(this.n,t.n)},equals:function(t){return 0===this.cmp(t)},isOdd:function(){return 1===(1&this.n[0])},shiftLeft:function(t){return _shiftL(this.n,t),this},shiftRight:function(t){return _shiftR(this.n,t),this},inv:function(){return _bi255(core.invmodp(this.n))},pow:function(t){return _bi255(_pow(this.n,t.n))},modq:function(){return _modq(this)},bytes:function(){return _bi255_bytes(this)}};var _ZERO=_bi255(0),_ONE=_bi255(1),_TWO=_bi255(2),_Q=_bi255([65517,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,65535,32767]),_RECOVERY_EXPONENT=_bi255("0ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe"),_D=_bi255("52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),_I=_bi255("2b8324804fc1df0b2b4d00993dfbd7a72f431806ad2fe478c4ee1b274a0ea0b0"),_L=_bi255("1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),_L_BI=_bi("1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed",16),_by=_bi255(4).divide(_bi255(5)),_bx=_xrecover(_by),_bp=[_bx,_by];BigInteger.prototype.bytes=function(t){return _bi2bytes(this,t)},ns.isOnCurve=function(t){try{_isoncurve(_decodepoint(utils.string2bytes(t)))}catch(n){if("Point is not on curve"===n)return!1;throw n}return!0},ns.publicKey=function(t){return utils.bytes2string(_publickey(t))},ns.sign=function(t,n,e){e=void 0===e?_publickey(n):utils.string2bytes(e);var i=_bi(_get_a(n).toString(),16),r=_stringhash(n),_=_bytehash(r.slice(32,64)+t),s=_scalarmultBytes(_bp,_),u=_encodepoint(s);_=_bi(_).mod(_bi(1,10).shiftLeft(512));var o=_map(_chr,u).join("")+_map(_chr,e).join("")+t;return o=_inthash_mod_l(o).multiply(i).add(_).mod(_L_BI),utils.bytes2string(u.concat(_encodeint(o)))},ns.verify=function(t,n,e){t=utils.string2bytes(t.slice(0,64)),e=utils.string2bytes(e);var i=t.slice(0,32),r=_decodepoint(i),_=_decodepoint(e),s=_decodeint(t.slice(32,64)),u=_inthash(utils.bytes2string(i.concat(e))+n),o=_scalarmult(_bp,s),f=_scalarmultBytes(_,_bi2bytes(u)),c=_pt_add(r,f);return o[0].equals(c[0])&&o[1].equals(c[1])},ns.generateKeySeed=function(){return core.generateKey(!1)},module.exports=ns;
}).call(this,{"isBuffer":require("../../../../../../../../is-buffer/index.js")})

},{"../../../../../../../../is-buffer/index.js":99,"./core":535,"./curve255":536,"./utils":539,"crypto":52,"jsbn":540}],539:[function(require,module,exports){
arguments[4][348][0].apply(exports,arguments)
},{"./core":535,"dup":348}],540:[function(require,module,exports){
arguments[4][349][0].apply(exports,arguments)
},{"dup":349}],541:[function(require,module,exports){
(function (Buffer){
!function(r){"use strict";function t(r,t,n,e){r[t]=n>>24&255,r[t+1]=n>>16&255,r[t+2]=n>>8&255,r[t+3]=255&n,r[t+4]=e>>24&255,r[t+5]=e>>16&255,r[t+6]=e>>8&255,r[t+7]=255&e}function n(r,t,n,e,o){var i,h=0;for(i=0;o>i;i++)h|=r[t+i]^n[e+i];return(1&h-1>>>8)-1}function e(r,t,e,o){return n(r,t,e,o,16)}function o(r,t,e,o){return n(r,t,e,o,32)}function i(r,t,n,e){for(var o,i=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,s=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,c=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,y=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,l=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,w=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,b=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,d=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,A=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,_=i,U=h,E=a,x=f,M=s,m=u,B=c,S=y,K=l,T=w,Y=p,k=g,L=v,C=b,R=d,z=A,P=0;20>P;P+=2)o=_+L|0,M^=o<<7|o>>>25,o=M+_|0,K^=o<<9|o>>>23,o=K+M|0,L^=o<<13|o>>>19,o=L+K|0,_^=o<<18|o>>>14,o=m+U|0,T^=o<<7|o>>>25,o=T+m|0,C^=o<<9|o>>>23,o=C+T|0,U^=o<<13|o>>>19,o=U+C|0,m^=o<<18|o>>>14,o=Y+B|0,R^=o<<7|o>>>25,o=R+Y|0,E^=o<<9|o>>>23,o=E+R|0,B^=o<<13|o>>>19,o=B+E|0,Y^=o<<18|o>>>14,o=z+k|0,x^=o<<7|o>>>25,o=x+z|0,S^=o<<9|o>>>23,o=S+x|0,k^=o<<13|o>>>19,o=k+S|0,z^=o<<18|o>>>14,o=_+x|0,U^=o<<7|o>>>25,o=U+_|0,E^=o<<9|o>>>23,o=E+U|0,x^=o<<13|o>>>19,o=x+E|0,_^=o<<18|o>>>14,o=m+M|0,B^=o<<7|o>>>25,o=B+m|0,S^=o<<9|o>>>23,o=S+B|0,M^=o<<13|o>>>19,o=M+S|0,m^=o<<18|o>>>14,o=Y+T|0,k^=o<<7|o>>>25,o=k+Y|0,K^=o<<9|o>>>23,o=K+k|0,T^=o<<13|o>>>19,o=T+K|0,Y^=o<<18|o>>>14,o=z+R|0,L^=o<<7|o>>>25,o=L+z|0,C^=o<<9|o>>>23,o=C+L|0,R^=o<<13|o>>>19,o=R+C|0,z^=o<<18|o>>>14;_=_+i|0,U=U+h|0,E=E+a|0,x=x+f|0,M=M+s|0,m=m+u|0,B=B+c|0,S=S+y|0,K=K+l|0,T=T+w|0,Y=Y+p|0,k=k+g|0,L=L+v|0,C=C+b|0,R=R+d|0,z=z+A|0,r[0]=_>>>0&255,r[1]=_>>>8&255,r[2]=_>>>16&255,r[3]=_>>>24&255,r[4]=U>>>0&255,r[5]=U>>>8&255,r[6]=U>>>16&255,r[7]=U>>>24&255,r[8]=E>>>0&255,r[9]=E>>>8&255,r[10]=E>>>16&255,r[11]=E>>>24&255,r[12]=x>>>0&255,r[13]=x>>>8&255,r[14]=x>>>16&255,r[15]=x>>>24&255,r[16]=M>>>0&255,r[17]=M>>>8&255,r[18]=M>>>16&255,r[19]=M>>>24&255,r[20]=m>>>0&255,r[21]=m>>>8&255,r[22]=m>>>16&255,r[23]=m>>>24&255,r[24]=B>>>0&255,r[25]=B>>>8&255,r[26]=B>>>16&255,r[27]=B>>>24&255,r[28]=S>>>0&255,r[29]=S>>>8&255,r[30]=S>>>16&255,r[31]=S>>>24&255,r[32]=K>>>0&255,r[33]=K>>>8&255,r[34]=K>>>16&255,r[35]=K>>>24&255,r[36]=T>>>0&255,r[37]=T>>>8&255,r[38]=T>>>16&255,r[39]=T>>>24&255,r[40]=Y>>>0&255,r[41]=Y>>>8&255,r[42]=Y>>>16&255,r[43]=Y>>>24&255,r[44]=k>>>0&255,r[45]=k>>>8&255,r[46]=k>>>16&255,r[47]=k>>>24&255,r[48]=L>>>0&255,r[49]=L>>>8&255,r[50]=L>>>16&255,r[51]=L>>>24&255,r[52]=C>>>0&255,r[53]=C>>>8&255,r[54]=C>>>16&255,r[55]=C>>>24&255,r[56]=R>>>0&255,r[57]=R>>>8&255,r[58]=R>>>16&255,r[59]=R>>>24&255,r[60]=z>>>0&255,r[61]=z>>>8&255,r[62]=z>>>16&255,r[63]=z>>>24&255}function h(r,t,n,e){for(var o,i=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,h=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,f=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,s=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,c=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,y=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,l=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,w=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,b=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,d=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,A=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,_=i,U=h,E=a,x=f,M=s,m=u,B=c,S=y,K=l,T=w,Y=p,k=g,L=v,C=b,R=d,z=A,P=0;20>P;P+=2)o=_+L|0,M^=o<<7|o>>>25,o=M+_|0,K^=o<<9|o>>>23,o=K+M|0,L^=o<<13|o>>>19,o=L+K|0,_^=o<<18|o>>>14,o=m+U|0,T^=o<<7|o>>>25,o=T+m|0,C^=o<<9|o>>>23,o=C+T|0,U^=o<<13|o>>>19,o=U+C|0,m^=o<<18|o>>>14,o=Y+B|0,R^=o<<7|o>>>25,o=R+Y|0,E^=o<<9|o>>>23,o=E+R|0,B^=o<<13|o>>>19,o=B+E|0,Y^=o<<18|o>>>14,o=z+k|0,x^=o<<7|o>>>25,o=x+z|0,S^=o<<9|o>>>23,o=S+x|0,k^=o<<13|o>>>19,o=k+S|0,z^=o<<18|o>>>14,o=_+x|0,U^=o<<7|o>>>25,o=U+_|0,E^=o<<9|o>>>23,o=E+U|0,x^=o<<13|o>>>19,o=x+E|0,_^=o<<18|o>>>14,o=m+M|0,B^=o<<7|o>>>25,o=B+m|0,S^=o<<9|o>>>23,o=S+B|0,M^=o<<13|o>>>19,o=M+S|0,m^=o<<18|o>>>14,o=Y+T|0,k^=o<<7|o>>>25,o=k+Y|0,K^=o<<9|o>>>23,o=K+k|0,T^=o<<13|o>>>19,o=T+K|0,Y^=o<<18|o>>>14,o=z+R|0,L^=o<<7|o>>>25,o=L+z|0,C^=o<<9|o>>>23,o=C+L|0,R^=o<<13|o>>>19,o=R+C|0,z^=o<<18|o>>>14;r[0]=_>>>0&255,r[1]=_>>>8&255,r[2]=_>>>16&255,r[3]=_>>>24&255,r[4]=m>>>0&255,r[5]=m>>>8&255,r[6]=m>>>16&255,r[7]=m>>>24&255,r[8]=Y>>>0&255,r[9]=Y>>>8&255,r[10]=Y>>>16&255,r[11]=Y>>>24&255,r[12]=z>>>0&255,r[13]=z>>>8&255,r[14]=z>>>16&255,r[15]=z>>>24&255,r[16]=B>>>0&255,r[17]=B>>>8&255,r[18]=B>>>16&255,r[19]=B>>>24&255,r[20]=S>>>0&255,r[21]=S>>>8&255,r[22]=S>>>16&255,r[23]=S>>>24&255,r[24]=K>>>0&255,r[25]=K>>>8&255,r[26]=K>>>16&255,r[27]=K>>>24&255,r[28]=T>>>0&255,r[29]=T>>>8&255,r[30]=T>>>16&255,r[31]=T>>>24&255}function a(r,t,n,e){i(r,t,n,e)}function f(r,t,n,e){h(r,t,n,e)}function s(r,t,n,e,o,i,h){var f,s,u=new Uint8Array(16),c=new Uint8Array(64);for(s=0;16>s;s++)u[s]=0;for(s=0;8>s;s++)u[s]=i[s];for(;o>=64;){for(a(c,u,h,cr),s=0;64>s;s++)r[t+s]=n[e+s]^c[s];for(f=1,s=8;16>s;s++)f=f+(255&u[s])|0,u[s]=255&f,f>>>=8;o-=64,t+=64,e+=64}if(o>0)for(a(c,u,h,cr),s=0;o>s;s++)r[t+s]=n[e+s]^c[s];return 0}function u(r,t,n,e,o){var i,h,f=new Uint8Array(16),s=new Uint8Array(64);for(h=0;16>h;h++)f[h]=0;for(h=0;8>h;h++)f[h]=e[h];for(;n>=64;){for(a(s,f,o,cr),h=0;64>h;h++)r[t+h]=s[h];for(i=1,h=8;16>h;h++)i=i+(255&f[h])|0,f[h]=255&i,i>>>=8;n-=64,t+=64}if(n>0)for(a(s,f,o,cr),h=0;n>h;h++)r[t+h]=s[h];return 0}function c(r,t,n,e,o){var i=new Uint8Array(32);f(i,e,o,cr);for(var h=new Uint8Array(8),a=0;8>a;a++)h[a]=e[a+16];return u(r,t,n,h,i)}function y(r,t,n,e,o,i,h){var a=new Uint8Array(32);f(a,i,h,cr);for(var u=new Uint8Array(8),c=0;8>c;c++)u[c]=i[c+16];return s(r,t,n,e,o,u,a)}function l(r,t,n,e,o,i){var h=new yr(i);return h.update(n,e,o),h.finish(r,t),0}function w(r,t,n,o,i,h){var a=new Uint8Array(16);return l(a,0,n,o,i,h),e(r,t,a,0)}function p(r,t,n,e,o){var i;if(32>n)return-1;for(y(r,0,t,0,n,e,o),l(r,16,r,32,n-32,r),i=0;16>i;i++)r[i]=0;return 0}function g(r,t,n,e,o){var i,h=new Uint8Array(32);if(32>n)return-1;if(c(h,0,32,e,o),0!==w(t,16,t,32,n-32,h))return-1;for(y(r,0,t,0,n,e,o),i=0;32>i;i++)r[i]=0;return 0}function v(r,t){var n;for(n=0;16>n;n++)r[n]=0|t[n]}function b(r){var t,n,e=1;for(t=0;16>t;t++)n=r[t]+e+65535,e=Math.floor(n/65536),r[t]=n-65536*e;r[0]+=e-1+37*(e-1)}function d(r,t,n){for(var e,o=~(n-1),i=0;16>i;i++)e=o&(r[i]^t[i]),r[i]^=e,t[i]^=e}function A(r,t){var n,e,o,i=$(),h=$();for(n=0;16>n;n++)h[n]=t[n];for(b(h),b(h),b(h),e=0;2>e;e++){for(i[0]=h[0]-65517,n=1;15>n;n++)i[n]=h[n]-65535-(i[n-1]>>16&1),i[n-1]&=65535;i[15]=h[15]-32767-(i[14]>>16&1),o=i[15]>>16&1,i[14]&=65535,d(h,i,1-o)}for(n=0;16>n;n++)r[2*n]=255&h[n],r[2*n+1]=h[n]>>8}function _(r,t){var n=new Uint8Array(32),e=new Uint8Array(32);return A(n,r),A(e,t),o(n,0,e,0)}function U(r){var t=new Uint8Array(32);return A(t,r),1&t[0]}function E(r,t){var n;for(n=0;16>n;n++)r[n]=t[2*n]+(t[2*n+1]<<8);r[15]&=32767}function x(r,t,n){for(var e=0;16>e;e++)r[e]=t[e]+n[e]}function M(r,t,n){for(var e=0;16>e;e++)r[e]=t[e]-n[e]}function m(r,t,n){var e,o,i=0,h=0,a=0,f=0,s=0,u=0,c=0,y=0,l=0,w=0,p=0,g=0,v=0,b=0,d=0,A=0,_=0,U=0,E=0,x=0,M=0,m=0,B=0,S=0,K=0,T=0,Y=0,k=0,L=0,C=0,R=0,z=n[0],P=n[1],O=n[2],N=n[3],F=n[4],I=n[5],j=n[6],G=n[7],Z=n[8],V=n[9],q=n[10],X=n[11],D=n[12],H=n[13],J=n[14],Q=n[15];e=t[0],i+=e*z,h+=e*P,a+=e*O,f+=e*N,s+=e*F,u+=e*I,c+=e*j,y+=e*G,l+=e*Z,w+=e*V,p+=e*q,g+=e*X,v+=e*D,b+=e*H,d+=e*J,A+=e*Q,e=t[1],h+=e*z,a+=e*P,f+=e*O,s+=e*N,u+=e*F,c+=e*I,y+=e*j,l+=e*G,w+=e*Z,p+=e*V,g+=e*q,v+=e*X,b+=e*D,d+=e*H,A+=e*J,_+=e*Q,e=t[2],a+=e*z,f+=e*P,s+=e*O,u+=e*N,c+=e*F,y+=e*I,l+=e*j,w+=e*G,p+=e*Z,g+=e*V,v+=e*q,b+=e*X,d+=e*D,A+=e*H,_+=e*J,U+=e*Q,e=t[3],f+=e*z,s+=e*P,u+=e*O,c+=e*N,y+=e*F,l+=e*I,w+=e*j,p+=e*G,g+=e*Z,v+=e*V,b+=e*q,d+=e*X,A+=e*D,_+=e*H,U+=e*J,E+=e*Q,e=t[4],s+=e*z,u+=e*P,c+=e*O,y+=e*N,l+=e*F,w+=e*I,p+=e*j,g+=e*G,v+=e*Z,b+=e*V,d+=e*q,A+=e*X,_+=e*D,U+=e*H,E+=e*J,x+=e*Q,e=t[5],u+=e*z,c+=e*P,y+=e*O,l+=e*N,w+=e*F,p+=e*I,g+=e*j,v+=e*G,b+=e*Z,d+=e*V,A+=e*q,_+=e*X,U+=e*D,E+=e*H,x+=e*J,M+=e*Q,e=t[6],c+=e*z,y+=e*P,l+=e*O,w+=e*N,p+=e*F,g+=e*I,v+=e*j,b+=e*G,d+=e*Z,A+=e*V,_+=e*q,U+=e*X,E+=e*D,x+=e*H,M+=e*J,m+=e*Q,e=t[7],y+=e*z,l+=e*P,w+=e*O,p+=e*N,g+=e*F,v+=e*I,b+=e*j,d+=e*G,A+=e*Z,_+=e*V,U+=e*q,E+=e*X,x+=e*D,M+=e*H,m+=e*J,B+=e*Q,e=t[8],l+=e*z,w+=e*P,p+=e*O,g+=e*N,v+=e*F,b+=e*I,d+=e*j,A+=e*G,_+=e*Z,U+=e*V,E+=e*q,x+=e*X,M+=e*D,m+=e*H,B+=e*J,S+=e*Q,e=t[9],w+=e*z,p+=e*P,g+=e*O,v+=e*N,b+=e*F,d+=e*I,A+=e*j,_+=e*G,U+=e*Z,E+=e*V,x+=e*q,M+=e*X,m+=e*D,B+=e*H,S+=e*J,K+=e*Q,e=t[10],p+=e*z,g+=e*P,v+=e*O,b+=e*N,d+=e*F,A+=e*I,_+=e*j,U+=e*G,E+=e*Z,x+=e*V,M+=e*q,m+=e*X,B+=e*D,S+=e*H,K+=e*J,T+=e*Q,e=t[11],g+=e*z,v+=e*P,b+=e*O,d+=e*N,A+=e*F,_+=e*I,U+=e*j,E+=e*G,x+=e*Z,M+=e*V,m+=e*q,B+=e*X,S+=e*D,K+=e*H,T+=e*J,Y+=e*Q,e=t[12],v+=e*z,b+=e*P,d+=e*O,A+=e*N,_+=e*F,U+=e*I,E+=e*j,x+=e*G,M+=e*Z,m+=e*V,B+=e*q,S+=e*X,K+=e*D,T+=e*H,Y+=e*J,k+=e*Q,e=t[13],b+=e*z,d+=e*P,A+=e*O,_+=e*N,U+=e*F,E+=e*I,x+=e*j,M+=e*G,m+=e*Z,B+=e*V,S+=e*q,K+=e*X,T+=e*D,Y+=e*H,k+=e*J,L+=e*Q,e=t[14],d+=e*z,A+=e*P,_+=e*O,U+=e*N,E+=e*F,x+=e*I,M+=e*j,m+=e*G,B+=e*Z,S+=e*V,K+=e*q,T+=e*X,Y+=e*D,k+=e*H,L+=e*J,C+=e*Q,e=t[15],A+=e*z,_+=e*P,U+=e*O,E+=e*N,x+=e*F,M+=e*I,m+=e*j,B+=e*G,S+=e*Z,K+=e*V,T+=e*q,Y+=e*X,k+=e*D,L+=e*H,C+=e*J,R+=e*Q,i+=38*_,h+=38*U,a+=38*E,f+=38*x,s+=38*M,u+=38*m,c+=38*B,y+=38*S,l+=38*K,w+=38*T,p+=38*Y,g+=38*k,v+=38*L,b+=38*C,d+=38*R,o=1,e=i+o+65535,o=Math.floor(e/65536),i=e-65536*o,e=h+o+65535,o=Math.floor(e/65536),h=e-65536*o,e=a+o+65535,o=Math.floor(e/65536),a=e-65536*o,e=f+o+65535,o=Math.floor(e/65536),f=e-65536*o,e=s+o+65535,o=Math.floor(e/65536),s=e-65536*o,e=u+o+65535,o=Math.floor(e/65536),u=e-65536*o,e=c+o+65535,o=Math.floor(e/65536),c=e-65536*o,e=y+o+65535,o=Math.floor(e/65536),y=e-65536*o,e=l+o+65535,o=Math.floor(e/65536),l=e-65536*o,e=w+o+65535,o=Math.floor(e/65536),w=e-65536*o,e=p+o+65535,o=Math.floor(e/65536),p=e-65536*o,e=g+o+65535,o=Math.floor(e/65536),g=e-65536*o,e=v+o+65535,o=Math.floor(e/65536),v=e-65536*o,e=b+o+65535,o=Math.floor(e/65536),b=e-65536*o,e=d+o+65535,o=Math.floor(e/65536),d=e-65536*o,e=A+o+65535,o=Math.floor(e/65536),A=e-65536*o,i+=o-1+37*(o-1),o=1,e=i+o+65535,o=Math.floor(e/65536),i=e-65536*o,e=h+o+65535,o=Math.floor(e/65536),h=e-65536*o,e=a+o+65535,o=Math.floor(e/65536),a=e-65536*o,e=f+o+65535,o=Math.floor(e/65536),f=e-65536*o,e=s+o+65535,o=Math.floor(e/65536),s=e-65536*o,e=u+o+65535,o=Math.floor(e/65536),u=e-65536*o,e=c+o+65535,o=Math.floor(e/65536),c=e-65536*o,e=y+o+65535,o=Math.floor(e/65536),y=e-65536*o,e=l+o+65535,o=Math.floor(e/65536),l=e-65536*o,e=w+o+65535,o=Math.floor(e/65536),w=e-65536*o,e=p+o+65535,o=Math.floor(e/65536),p=e-65536*o,e=g+o+65535,o=Math.floor(e/65536),g=e-65536*o,e=v+o+65535,o=Math.floor(e/65536),v=e-65536*o,e=b+o+65535,o=Math.floor(e/65536),b=e-65536*o,e=d+o+65535,o=Math.floor(e/65536),d=e-65536*o,e=A+o+65535,o=Math.floor(e/65536),A=e-65536*o,i+=o-1+37*(o-1),r[0]=i,r[1]=h,r[2]=a,r[3]=f,r[4]=s,r[5]=u,r[6]=c,r[7]=y,r[8]=l,r[9]=w,r[10]=p,r[11]=g,r[12]=v,r[13]=b,r[14]=d,r[15]=A}function B(r,t){m(r,t,t)}function S(r,t){var n,e=$();for(n=0;16>n;n++)e[n]=t[n];for(n=253;n>=0;n--)B(e,e),2!==n&&4!==n&&m(e,e,t);for(n=0;16>n;n++)r[n]=e[n]}function K(r,t){var n,e=$();for(n=0;16>n;n++)e[n]=t[n];for(n=250;n>=0;n--)B(e,e),1!==n&&m(e,e,t);for(n=0;16>n;n++)r[n]=e[n]}function T(r,t,n){var e,o,i=new Uint8Array(32),h=new Float64Array(80),a=$(),f=$(),s=$(),u=$(),c=$(),y=$();for(o=0;31>o;o++)i[o]=t[o];for(i[31]=127&t[31]|64,i[0]&=248,E(h,n),o=0;16>o;o++)f[o]=h[o],u[o]=a[o]=s[o]=0;for(a[0]=u[0]=1,o=254;o>=0;--o)e=i[o>>>3]>>>(7&o)&1,d(a,f,e),d(s,u,e),x(c,a,s),M(a,a,s),x(s,f,u),M(f,f,u),B(u,c),B(y,a),m(a,s,a),m(s,f,c),x(c,a,s),M(a,a,s),B(f,a),M(s,u,y),m(a,s,ir),x(a,a,u),m(s,s,a),m(a,u,y),m(u,f,h),B(f,c),d(a,f,e),d(s,u,e);for(o=0;16>o;o++)h[o+16]=a[o],h[o+32]=s[o],h[o+48]=f[o],h[o+64]=u[o];var l=h.subarray(32),w=h.subarray(16);return S(l,l),m(w,w,l),A(r,w),0}function Y(r,t){return T(r,t,nr)}function k(r,t){return rr(t,32),Y(r,t)}function L(r,t,n){var e=new Uint8Array(32);return T(e,n,t),f(r,tr,e,cr)}function C(r,t,n,e,o,i){var h=new Uint8Array(32);return L(h,o,i),lr(r,t,n,e,h)}function R(r,t,n,e,o,i){var h=new Uint8Array(32);return L(h,o,i),wr(r,t,n,e,h)}function z(r,t,n,e){for(var o,i,h,a,f,s,u,c,y,l,w,p,g,v,b,d,A,_,U,E,x,M,m,B,S,K,T=new Int32Array(16),Y=new Int32Array(16),k=r[0],L=r[1],C=r[2],R=r[3],z=r[4],P=r[5],O=r[6],N=r[7],F=t[0],I=t[1],j=t[2],G=t[3],Z=t[4],V=t[5],q=t[6],X=t[7],D=0;e>=128;){for(U=0;16>U;U++)E=8*U+D,T[U]=n[E+0]<<24|n[E+1]<<16|n[E+2]<<8|n[E+3],Y[U]=n[E+4]<<24|n[E+5]<<16|n[E+6]<<8|n[E+7];for(U=0;80>U;U++)if(o=k,i=L,h=C,a=R,f=z,s=P,u=O,c=N,y=F,l=I,w=j,p=G,g=Z,v=V,b=q,d=X,x=N,M=X,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=(z>>>14|Z<<18)^(z>>>18|Z<<14)^(Z>>>9|z<<23),M=(Z>>>14|z<<18)^(Z>>>18|z<<14)^(z>>>9|Z<<23),m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,x=z&P^~z&O,M=Z&V^~Z&q,m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,x=pr[2*U],M=pr[2*U+1],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,x=T[U%16],M=Y[U%16],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,A=65535&S|K<<16,_=65535&m|B<<16,x=A,M=_,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=(k>>>28|F<<4)^(F>>>2|k<<30)^(F>>>7|k<<25),M=(F>>>28|k<<4)^(k>>>2|F<<30)^(k>>>7|F<<25),m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,x=k&L^k&C^L&C,M=F&I^F&j^I&j,m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,c=65535&S|K<<16,d=65535&m|B<<16,x=a,M=p,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=A,M=_,m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,a=65535&S|K<<16,p=65535&m|B<<16,L=o,C=i,R=h,z=a,P=f,O=s,N=u,k=c,I=y,j=l,G=w,Z=p,V=g,q=v,X=b,F=d,U%16===15)for(E=0;16>E;E++)x=T[E],M=Y[E],m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=T[(E+9)%16],M=Y[(E+9)%16],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,A=T[(E+1)%16],_=Y[(E+1)%16],x=(A>>>1|_<<31)^(A>>>8|_<<24)^A>>>7,M=(_>>>1|A<<31)^(_>>>8|A<<24)^(_>>>7|A<<25),m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,A=T[(E+14)%16],_=Y[(E+14)%16],x=(A>>>19|_<<13)^(_>>>29|A<<3)^A>>>6,M=(_>>>19|A<<13)^(A>>>29|_<<3)^(_>>>6|A<<26),m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,T[E]=65535&S|K<<16,Y[E]=65535&m|B<<16;x=k,M=F,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=r[0],M=t[0],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,r[0]=k=65535&S|K<<16,t[0]=F=65535&m|B<<16,x=L,M=I,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=r[1],M=t[1],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,r[1]=L=65535&S|K<<16,t[1]=I=65535&m|B<<16,x=C,M=j,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=r[2],M=t[2],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,r[2]=C=65535&S|K<<16,t[2]=j=65535&m|B<<16,x=R,M=G,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=r[3],M=t[3],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,r[3]=R=65535&S|K<<16,t[3]=G=65535&m|B<<16,x=z,M=Z,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=r[4],M=t[4],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,r[4]=z=65535&S|K<<16,t[4]=Z=65535&m|B<<16,x=P,M=V,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=r[5],M=t[5],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,r[5]=P=65535&S|K<<16,t[5]=V=65535&m|B<<16,x=O,M=q,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=r[6],M=t[6],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,r[6]=O=65535&S|K<<16,t[6]=q=65535&m|B<<16,x=N,M=X,m=65535&M,B=M>>>16,S=65535&x,K=x>>>16,x=r[7],M=t[7],m+=65535&M,B+=M>>>16,S+=65535&x,K+=x>>>16,B+=m>>>16,S+=B>>>16,K+=S>>>16,r[7]=N=65535&S|K<<16,t[7]=X=65535&m|B<<16,D+=128,e-=128}return e}function P(r,n,e){var o,i=new Int32Array(8),h=new Int32Array(8),a=new Uint8Array(256),f=e;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,h[0]=4089235720,h[1]=2227873595,h[2]=4271175723,h[3]=1595750129,h[4]=2917565137,h[5]=725511199,h[6]=4215389547,h[7]=327033209,z(i,h,n,e),e%=128,o=0;e>o;o++)a[o]=n[f-e+o];for(a[e]=128,e=256-128*(112>e?1:0),a[e-9]=0,t(a,e-8,f/536870912|0,f<<3),z(i,h,a,e),o=0;8>o;o++)t(r,8*o,i[o],h[o]);return 0}function O(r,t){var n=$(),e=$(),o=$(),i=$(),h=$(),a=$(),f=$(),s=$(),u=$();M(n,r[1],r[0]),M(u,t[1],t[0]),m(n,n,u),x(e,r[0],r[1]),x(u,t[0],t[1]),m(e,e,u),m(o,r[3],t[3]),m(o,o,ar),m(i,r[2],t[2]),x(i,i,i),M(h,e,n),M(a,i,o),x(f,i,o),x(s,e,n),m(r[0],h,a),m(r[1],s,f),m(r[2],f,a),m(r[3],h,s)}function N(r,t,n){var e;for(e=0;4>e;e++)d(r[e],t[e],n)}function F(r,t){var n=$(),e=$(),o=$();S(o,t[2]),m(n,t[0],o),m(e,t[1],o),A(r,e),r[31]^=U(n)<<7}function I(r,t,n){var e,o;for(v(r[0],er),v(r[1],or),v(r[2],or),v(r[3],er),o=255;o>=0;--o)e=n[o/8|0]>>(7&o)&1,N(r,t,e),O(t,r),O(r,r),N(r,t,e)}function j(r,t){var n=[$(),$(),$(),$()];v(n[0],fr),v(n[1],sr),v(n[2],or),m(n[3],fr,sr),I(r,n,t)}function G(r,t,n){var e,o=new Uint8Array(64),i=[$(),$(),$(),$()];for(n||rr(t,32),P(o,t,32),o[0]&=248,o[31]&=127,o[31]|=64,j(i,o),F(r,i),e=0;32>e;e++)t[e+32]=r[e];return 0}function Z(r,t){var n,e,o,i;for(e=63;e>=32;--e){for(n=0,o=e-32,i=e-12;i>o;++o)t[o]+=n-16*t[e]*gr[o-(e-32)],n=t[o]+128>>8,t[o]-=256*n;t[o]+=n,t[e]=0}for(n=0,o=0;32>o;o++)t[o]+=n-(t[31]>>4)*gr[o],n=t[o]>>8,t[o]&=255;for(o=0;32>o;o++)t[o]-=n*gr[o];for(e=0;32>e;e++)t[e+1]+=t[e]>>8,r[e]=255&t[e]}function V(r){var t,n=new Float64Array(64);for(t=0;64>t;t++)n[t]=r[t];for(t=0;64>t;t++)r[t]=0;Z(r,n)}function q(r,t,n,e){var o,i,h=new Uint8Array(64),a=new Uint8Array(64),f=new Uint8Array(64),s=new Float64Array(64),u=[$(),$(),$(),$()];P(h,e,32),h[0]&=248,h[31]&=127,h[31]|=64;var c=n+64;for(o=0;n>o;o++)r[64+o]=t[o];for(o=0;32>o;o++)r[32+o]=h[32+o];for(P(f,r.subarray(32),n+32),V(f),j(u,f),F(r,u),o=32;64>o;o++)r[o]=e[o];for(P(a,r,n+64),V(a),o=0;64>o;o++)s[o]=0;for(o=0;32>o;o++)s[o]=f[o];for(o=0;32>o;o++)for(i=0;32>i;i++)s[o+i]+=a[o]*h[i];return Z(r.subarray(32),s),c}function X(r,t){var n=$(),e=$(),o=$(),i=$(),h=$(),a=$(),f=$();return v(r[2],or),E(r[1],t),B(o,r[1]),m(i,o,hr),M(o,o,r[2]),x(i,r[2],i),B(h,i),B(a,h),m(f,a,h),m(n,f,o),m(n,n,i),K(n,n),m(n,n,o),m(n,n,i),m(n,n,i),m(r[0],n,i),B(e,r[0]),m(e,e,i),_(e,o)&&m(r[0],r[0],ur),B(e,r[0]),m(e,e,i),_(e,o)?-1:(U(r[0])===t[31]>>7&&M(r[0],er,r[0]),m(r[3],r[0],r[1]),0)}function D(r,t,n,e){var i,h,a=new Uint8Array(32),f=new Uint8Array(64),s=[$(),$(),$(),$()],u=[$(),$(),$(),$()];if(h=-1,64>n)return-1;if(X(u,e))return-1;for(i=0;n>i;i++)r[i]=t[i];for(i=0;32>i;i++)r[i+32]=e[i];if(P(f,r,n),V(f),I(s,u,f),j(u,t.subarray(32)),O(s,u),F(a,s),n-=64,o(t,0,a,0)){for(i=0;n>i;i++)r[i]=0;return-1}for(i=0;n>i;i++)r[i]=t[i+64];return h=n}function H(r,t){if(r.length!==vr)throw new Error("bad key size");if(t.length!==br)throw new Error("bad nonce size")}function J(r,t){if(r.length!==Er)throw new Error("bad public key size");if(t.length!==xr)throw new Error("bad secret key size")}function Q(){var r,t;for(t=0;t<arguments.length;t++)if("[object Uint8Array]"!==(r=Object.prototype.toString.call(arguments[t])))throw new TypeError("unexpected type "+r+", use Uint8Array")}function W(r){for(var t=0;t<r.length;t++)r[t]=0}var $=function(r){var t,n=new Float64Array(16);if(r)for(t=0;t<r.length;t++)n[t]=r[t];return n},rr=function(){throw new Error("no PRNG")},tr=new Uint8Array(16),nr=new Uint8Array(32);nr[0]=9;var er=$(),or=$([1]),ir=$([56129,1]),hr=$([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),ar=$([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),fr=$([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),sr=$([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),ur=$([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),cr=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),yr=function(r){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var t,n,e,o,i,h,a,f;t=255&r[0]|(255&r[1])<<8,this.r[0]=8191&t,n=255&r[2]|(255&r[3])<<8,this.r[1]=8191&(t>>>13|n<<3),e=255&r[4]|(255&r[5])<<8,this.r[2]=7939&(n>>>10|e<<6),o=255&r[6]|(255&r[7])<<8,this.r[3]=8191&(e>>>7|o<<9),i=255&r[8]|(255&r[9])<<8,this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,h=255&r[10]|(255&r[11])<<8,this.r[6]=8191&(i>>>14|h<<2),a=255&r[12]|(255&r[13])<<8,this.r[7]=8065&(h>>>11|a<<5),f=255&r[14]|(255&r[15])<<8,this.r[8]=8191&(a>>>8|f<<8),this.r[9]=f>>>5&127,this.pad[0]=255&r[16]|(255&r[17])<<8,this.pad[1]=255&r[18]|(255&r[19])<<8,this.pad[2]=255&r[20]|(255&r[21])<<8,this.pad[3]=255&r[22]|(255&r[23])<<8,this.pad[4]=255&r[24]|(255&r[25])<<8,this.pad[5]=255&r[26]|(255&r[27])<<8,this.pad[6]=255&r[28]|(255&r[29])<<8,this.pad[7]=255&r[30]|(255&r[31])<<8};yr.prototype.blocks=function(r,t,n){for(var e,o,i,h,a,f,s,u,c,y,l,w,p,g,v,b,d,A,_,U=this.fin?0:2048,E=this.h[0],x=this.h[1],M=this.h[2],m=this.h[3],B=this.h[4],S=this.h[5],K=this.h[6],T=this.h[7],Y=this.h[8],k=this.h[9],L=this.r[0],C=this.r[1],R=this.r[2],z=this.r[3],P=this.r[4],O=this.r[5],N=this.r[6],F=this.r[7],I=this.r[8],j=this.r[9];n>=16;)e=255&r[t+0]|(255&r[t+1])<<8,E+=8191&e,o=255&r[t+2]|(255&r[t+3])<<8,x+=8191&(e>>>13|o<<3),i=255&r[t+4]|(255&r[t+5])<<8,M+=8191&(o>>>10|i<<6),h=255&r[t+6]|(255&r[t+7])<<8,m+=8191&(i>>>7|h<<9),a=255&r[t+8]|(255&r[t+9])<<8,B+=8191&(h>>>4|a<<12),S+=a>>>1&8191,f=255&r[t+10]|(255&r[t+11])<<8,K+=8191&(a>>>14|f<<2),s=255&r[t+12]|(255&r[t+13])<<8,T+=8191&(f>>>11|s<<5),u=255&r[t+14]|(255&r[t+15])<<8,Y+=8191&(s>>>8|u<<8),k+=u>>>5|U,c=0,y=c,y+=E*L,y+=x*(5*j),y+=M*(5*I),y+=m*(5*F),y+=B*(5*N),c=y>>>13,y&=8191,y+=S*(5*O),y+=K*(5*P),y+=T*(5*z),y+=Y*(5*R),y+=k*(5*C),c+=y>>>13,y&=8191,l=c,l+=E*C,l+=x*L,l+=M*(5*j),l+=m*(5*I),l+=B*(5*F),c=l>>>13,l&=8191,l+=S*(5*N),l+=K*(5*O),l+=T*(5*P),l+=Y*(5*z),l+=k*(5*R),c+=l>>>13,l&=8191,w=c,w+=E*R,w+=x*C,w+=M*L,w+=m*(5*j),w+=B*(5*I),c=w>>>13,w&=8191,w+=S*(5*F),w+=K*(5*N),w+=T*(5*O),w+=Y*(5*P),w+=k*(5*z),c+=w>>>13,w&=8191,p=c,p+=E*z,p+=x*R,p+=M*C,p+=m*L,p+=B*(5*j),c=p>>>13,p&=8191,p+=S*(5*I),p+=K*(5*F),p+=T*(5*N),p+=Y*(5*O),p+=k*(5*P),c+=p>>>13,p&=8191,g=c,g+=E*P,g+=x*z,g+=M*R,g+=m*C,g+=B*L,c=g>>>13,g&=8191,g+=S*(5*j),g+=K*(5*I),g+=T*(5*F),g+=Y*(5*N),g+=k*(5*O),c+=g>>>13,g&=8191,v=c,v+=E*O,v+=x*P,v+=M*z,v+=m*R,v+=B*C,c=v>>>13,v&=8191,v+=S*L,v+=K*(5*j),v+=T*(5*I),v+=Y*(5*F),v+=k*(5*N),c+=v>>>13,v&=8191,b=c,b+=E*N,b+=x*O,b+=M*P,b+=m*z,b+=B*R,c=b>>>13,b&=8191,b+=S*C,b+=K*L,b+=T*(5*j),b+=Y*(5*I),b+=k*(5*F),c+=b>>>13,b&=8191,d=c,d+=E*F,d+=x*N,d+=M*O,d+=m*P,d+=B*z,c=d>>>13,d&=8191,d+=S*R,d+=K*C,d+=T*L,d+=Y*(5*j),d+=k*(5*I),c+=d>>>13,d&=8191,A=c,A+=E*I,A+=x*F,A+=M*N,A+=m*O,A+=B*P,c=A>>>13,A&=8191,A+=S*z,A+=K*R,A+=T*C,A+=Y*L,A+=k*(5*j),c+=A>>>13,A&=8191,_=c,_+=E*j,_+=x*I,_+=M*F,_+=m*N,_+=B*O,c=_>>>13,_&=8191,_+=S*P,_+=K*z,_+=T*R,_+=Y*C,_+=k*L,c+=_>>>13,_&=8191,c=(c<<2)+c|0,c=c+y|0,y=8191&c,c>>>=13,l+=c,E=y,x=l,M=w,m=p,B=g,S=v,K=b,T=d,Y=A,k=_,t+=16,n-=16;this.h[0]=E,this.h[1]=x,this.h[2]=M,this.h[3]=m,this.h[4]=B,this.h[5]=S,this.h[6]=K,this.h[7]=T,this.h[8]=Y,this.h[9]=k},yr.prototype.finish=function(r,t){var n,e,o,i,h=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;16>i;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,i=2;10>i;i++)this.h[i]+=n,n=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,h[0]=this.h[0]+5,n=h[0]>>>13,h[0]&=8191,i=1;10>i;i++)h[i]=this.h[i]+n,n=h[i]>>>13,h[i]&=8191;for(h[9]-=8192,e=(h[9]>>>15)-1,i=0;10>i;i++)h[i]&=e;for(e=~e,i=0;10>i;i++)this.h[i]=this.h[i]&e|h[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,i=1;8>i;i++)o=(this.h[i]+this.pad[i]|0)+(o>>>16)|0,this.h[i]=65535&o;r[t+0]=this.h[0]>>>0&255,r[t+1]=this.h[0]>>>8&255,r[t+2]=this.h[1]>>>0&255,r[t+3]=this.h[1]>>>8&255,r[t+4]=this.h[2]>>>0&255,r[t+5]=this.h[2]>>>8&255,r[t+6]=this.h[3]>>>0&255,r[t+7]=this.h[3]>>>8&255,r[t+8]=this.h[4]>>>0&255,r[t+9]=this.h[4]>>>8&255,r[t+10]=this.h[5]>>>0&255,r[t+11]=this.h[5]>>>8&255,r[t+12]=this.h[6]>>>0&255,r[t+13]=this.h[6]>>>8&255,r[t+14]=this.h[7]>>>0&255,r[t+15]=this.h[7]>>>8&255},yr.prototype.update=function(r,t,n){var e,o;if(this.leftover){for(o=16-this.leftover,o>n&&(o=n),e=0;o>e;e++)this.buffer[this.leftover+e]=r[t+e];if(n-=o,t+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(o=n-n%16,this.blocks(r,t,o),t+=o,n-=o),n){for(e=0;n>e;e++)this.buffer[this.leftover+e]=r[t+e];this.leftover+=n}};var lr=p,wr=g,pr=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],gr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),vr=32,br=24,dr=32,Ar=16,_r=32,Ur=32,Er=32,xr=32,Mr=32,mr=br,Br=dr,Sr=Ar,Kr=64,Tr=32,Yr=64,kr=32,Lr=64;r.lowlevel={crypto_core_hsalsa20:f,crypto_stream_xor:y,crypto_stream:c,crypto_stream_salsa20_xor:s,crypto_stream_salsa20:u,crypto_onetimeauth:l,crypto_onetimeauth_verify:w,crypto_verify_16:e,crypto_verify_32:o,crypto_secretbox:p,crypto_secretbox_open:g,crypto_scalarmult:T,crypto_scalarmult_base:Y,crypto_box_beforenm:L,crypto_box_afternm:lr,crypto_box:C,crypto_box_open:R,crypto_box_keypair:k,crypto_hash:P,crypto_sign:q,crypto_sign_keypair:G,crypto_sign_open:D,crypto_secretbox_KEYBYTES:vr,crypto_secretbox_NONCEBYTES:br,crypto_secretbox_ZEROBYTES:dr,crypto_secretbox_BOXZEROBYTES:Ar,crypto_scalarmult_BYTES:_r,crypto_scalarmult_SCALARBYTES:Ur,crypto_box_PUBLICKEYBYTES:Er,crypto_box_SECRETKEYBYTES:xr,crypto_box_BEFORENMBYTES:Mr,crypto_box_NONCEBYTES:mr,crypto_box_ZEROBYTES:Br,crypto_box_BOXZEROBYTES:Sr,crypto_sign_BYTES:Kr,crypto_sign_PUBLICKEYBYTES:Tr,crypto_sign_SECRETKEYBYTES:Yr,crypto_sign_SEEDBYTES:kr,crypto_hash_BYTES:Lr},r.util={},r.util.decodeUTF8=function(r){var t,n=unescape(encodeURIComponent(r)),e=new Uint8Array(n.length);for(t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e},r.util.encodeUTF8=function(r){var t,n=[];for(t=0;t<r.length;t++)n.push(String.fromCharCode(r[t]));return decodeURIComponent(escape(n.join("")))},r.util.encodeBase64=function(r){if("undefined"==typeof btoa)return new Buffer(r).toString("base64");var t,n=[],e=r.length;for(t=0;e>t;t++)n.push(String.fromCharCode(r[t]));return btoa(n.join(""))},r.util.decodeBase64=function(r){if("undefined"==typeof atob)return new Uint8Array(Array.prototype.slice.call(new Buffer(r,"base64"),0));var t,n=atob(r),e=new Uint8Array(n.length);for(t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return e},r.randomBytes=function(r){var t=new Uint8Array(r);return rr(t,r),t},r.secretbox=function(r,t,n){Q(r,t,n),H(n,t);for(var e=new Uint8Array(dr+r.length),o=new Uint8Array(e.length),i=0;i<r.length;i++)e[i+dr]=r[i];return p(o,e,e.length,t,n),o.subarray(Ar)},r.secretbox.open=function(r,t,n){Q(r,t,n),H(n,t);for(var e=new Uint8Array(Ar+r.length),o=new Uint8Array(e.length),i=0;i<r.length;i++)e[i+Ar]=r[i];return e.length<32?!1:0!==g(o,e,e.length,t,n)?!1:o.subarray(dr)},r.secretbox.keyLength=vr,r.secretbox.nonceLength=br,r.secretbox.overheadLength=Ar,r.scalarMult=function(r,t){if(Q(r,t),r.length!==Ur)throw new Error("bad n size");if(t.length!==_r)throw new Error("bad p size");var n=new Uint8Array(_r);return T(n,r,t),n},r.scalarMult.base=function(r){if(Q(r),r.length!==Ur)throw new Error("bad n size");var t=new Uint8Array(_r);return Y(t,r),t},r.scalarMult.scalarLength=Ur,r.scalarMult.groupElementLength=_r,r.box=function(t,n,e,o){var i=r.box.before(e,o);return r.secretbox(t,n,i)},r.box.before=function(r,t){Q(r,t),J(r,t);var n=new Uint8Array(Mr);return L(n,r,t),n},r.box.after=r.secretbox,r.box.open=function(t,n,e,o){var i=r.box.before(e,o);return r.secretbox.open(t,n,i)},r.box.open.after=r.secretbox.open,r.box.keyPair=function(){var r=new Uint8Array(Er),t=new Uint8Array(xr);return k(r,t),{publicKey:r,secretKey:t}},r.box.keyPair.fromSecretKey=function(r){if(Q(r),r.length!==xr)throw new Error("bad secret key size");var t=new Uint8Array(Er);return Y(t,r),{publicKey:t,secretKey:new Uint8Array(r)}},r.box.publicKeyLength=Er,r.box.secretKeyLength=xr,r.box.sharedKeyLength=Mr,r.box.nonceLength=mr,r.box.overheadLength=r.secretbox.overheadLength,r.sign=function(r,t){if(Q(r,t),t.length!==Yr)throw new Error("bad secret key size");var n=new Uint8Array(Kr+r.length);return q(n,r,r.length,t),n},r.sign.open=function(r,t){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(Q(r,t),t.length!==Tr)throw new Error("bad public key size");var n=new Uint8Array(r.length),e=D(n,r,r.length,t);if(0>e)return null;for(var o=new Uint8Array(e),i=0;i<o.length;i++)o[i]=n[i];return o},r.sign.detached=function(t,n){for(var e=r.sign(t,n),o=new Uint8Array(Kr),i=0;i<o.length;i++)o[i]=e[i];return o},r.sign.detached.verify=function(r,t,n){if(Q(r,t,n),t.length!==Kr)throw new Error("bad signature size");if(n.length!==Tr)throw new Error("bad public key size");var e,o=new Uint8Array(Kr+r.length),i=new Uint8Array(Kr+r.length);for(e=0;Kr>e;e++)o[e]=t[e];for(e=0;e<r.length;e++)o[e+Kr]=r[e];return D(i,o,o.length,n)>=0},r.sign.keyPair=function(){var r=new Uint8Array(Tr),t=new Uint8Array(Yr);return G(r,t),{publicKey:r,secretKey:t}},r.sign.keyPair.fromSecretKey=function(r){if(Q(r),r.length!==Yr)throw new Error("bad secret key size");for(var t=new Uint8Array(Tr),n=0;n<t.length;n++)t[n]=r[32+n];
return{publicKey:t,secretKey:new Uint8Array(r)}},r.sign.keyPair.fromSeed=function(r){if(Q(r),r.length!==kr)throw new Error("bad seed size");for(var t=new Uint8Array(Tr),n=new Uint8Array(Yr),e=0;32>e;e++)n[e]=r[e];return G(t,n,!0),{publicKey:t,secretKey:n}},r.sign.publicKeyLength=Tr,r.sign.secretKeyLength=Yr,r.sign.seedLength=kr,r.sign.signatureLength=Kr,r.hash=function(r){Q(r);var t=new Uint8Array(Lr);return P(t,r,r.length),t},r.hash.hashLength=Lr,r.verify=function(r,t){return Q(r,t),0===r.length||0===t.length?!1:r.length!==t.length?!1:0===n(r,0,t,0,r.length)?!0:!1},r.setPRNG=function(r){rr=r},function(){var t;"undefined"!=typeof window?(window.crypto&&window.crypto.getRandomValues?t=window.crypto:window.msCrypto&&window.msCrypto.getRandomValues&&(t=window.msCrypto),t&&r.setPRNG(function(r,n){var e,o=new Uint8Array(n);for(t.getRandomValues(o),e=0;n>e;e++)r[e]=o[e];W(o)})):"undefined"!=typeof require&&(t=require("crypto"),t&&r.setPRNG(function(r,n){var e,o=t.randomBytes(n);for(e=0;n>e;e++)r[e]=o[e];W(o)}))}()}("undefined"!=typeof module&&module.exports?module.exports:window.nacl=window.nacl||{});
}).call(this,require("buffer").Buffer)

},{"buffer":6,"crypto":6}],542:[function(require,module,exports){
arguments[4][351][0].apply(exports,arguments)
},{"dup":351}],543:[function(require,module,exports){
arguments[4][352][0].apply(exports,arguments)
},{"dup":352,"stream":573}],544:[function(require,module,exports){
arguments[4][353][0].apply(exports,arguments)
},{"dup":353}],545:[function(require,module,exports){
arguments[4][354][0].apply(exports,arguments)
},{"dup":354,"mime-db":547,"path":423}],546:[function(require,module,exports){
arguments[4][355][0].apply(exports,arguments)
},{"dup":355}],547:[function(require,module,exports){
arguments[4][356][0].apply(exports,arguments)
},{"./db.json":546,"dup":356}],548:[function(require,module,exports){
(function (Buffer){
!function(n){"use strict";function e(){var e=n.crypto||n.msCrypto;if(!f&&e&&e.getRandomValues)try{var r=new Uint8Array(16);s=f=function(){return e.getRandomValues(r),r},f()}catch(o){}if(!f){var t=new Array(16);i=f=function(){for(var n,e=0;16>e;e++)0===(3&e)&&(n=4294967296*Math.random()),t[e]=n>>>((3&e)<<3)&255;return t},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function r(){if("function"==typeof require)try{var n=require("crypto").randomBytes;c=f=n&&function(){return n(16)},f()}catch(e){}}function o(n,e,r){var o=e&&r||0,t=0;for(e=e||[],n.toLowerCase().replace(/[0-9a-f]{2}/g,function(n){16>t&&(e[o+t++]=y[n])});16>t;)e[o+t++]=0;return e}function t(n,e){var r=e||0,o=v;return o[n[r++]]+o[n[r++]]+o[n[r++]]+o[n[r++]]+"-"+o[n[r++]]+o[n[r++]]+"-"+o[n[r++]]+o[n[r++]]+"-"+o[n[r++]]+o[n[r++]]+"-"+o[n[r++]]+o[n[r++]]+o[n[r++]]+o[n[r++]]+o[n[r++]]+o[n[r++]]}function u(n,e,r){var o=e&&r||0,u=e||[];n=n||{};var a=null!=n.clockseq?n.clockseq:g,f=null!=n.msecs?n.msecs:(new Date).getTime(),i=null!=n.nsecs?n.nsecs:C+1,c=f-h+(i-C)/1e4;if(0>c&&null==n.clockseq&&(a=a+1&16383),(0>c||f>h)&&null==n.nsecs&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=f,C=i,g=a,f+=122192928e5;var s=(1e4*(268435455&f)+i)%4294967296;u[o++]=s>>>24&255,u[o++]=s>>>16&255,u[o++]=s>>>8&255,u[o++]=255&s;var l=f/4294967296*1e4&268435455;u[o++]=l>>>8&255,u[o++]=255&l,u[o++]=l>>>24&15|16,u[o++]=l>>>16&255,u[o++]=a>>>8|128,u[o++]=255&a;for(var d=n.node||w,v=0;6>v;v++)u[o+v]=d[v];return e?e:t(u)}function a(n,e,r){var o=e&&r||0;"string"==typeof n&&(e="binary"===n?new d(16):null,n=null),n=n||{};var u=n.random||(n.rng||f)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,e)for(var a=0;16>a;a++)e[o+a]=u[a];return e||t(u)}var f,i,c,s,l;n?e():r();for(var d="function"==typeof Buffer?Buffer:Array,v=[],y={},m=0;256>m;m++)v[m]=(m+256).toString(16).substr(1),y[v[m]]=m;var p=f(),w=[1|p[0],p[1],p[2],p[3],p[4],p[5]],g=16383&(p[6]<<8|p[7]),h=0,C=0,R=a;R.v1=u,R.v4=a,R.parse=o,R.unparse=t,R.BufferClass=d,R._rng=f,R._mathRNG=i,R._nodeRNG=c,R._whatwgRNG=s,"undefined"!=typeof module&&module.exports?module.exports=R:"function"==typeof define&&define.amd?define(function(){return R}):(l=n.uuid,R.noConflict=function(){return n.uuid=l,R},n.uuid=R)}("undefined"!=typeof window?window:null);
}).call(this,require("buffer").Buffer)

},{"buffer":42,"crypto":52}],549:[function(require,module,exports){
arguments[4][358][0].apply(exports,arguments)
},{"crypto":52,"dup":358,"querystring":436}],550:[function(require,module,exports){
arguments[4][145][0].apply(exports,arguments)
},{"./parse":551,"./stringify":552,"dup":145}],551:[function(require,module,exports){
arguments[4][360][0].apply(exports,arguments)
},{"./utils":553,"dup":360}],552:[function(require,module,exports){
arguments[4][361][0].apply(exports,arguments)
},{"./utils":553,"dup":361}],553:[function(require,module,exports){
arguments[4][362][0].apply(exports,arguments)
},{"dup":362}],554:[function(require,module,exports){
(function (Buffer){
function StringStream(t,e){return this instanceof StringStream?(Stream.call(this),null==t&&(t="utf8"),this.readable=this.writable=!0,this.paused=!1,this.toEncoding=null==e?t:e,this.fromEncoding=null==e?"":t,void(this.decoder=new AlignedStringDecoder(this.toEncoding))):new StringStream(t,e)}function AlignedStringDecoder(t){switch(StringDecoder.call(this,t),this.encoding){case"base64":this.write=alignedWrite,this.alignedBuffer=new Buffer(3),this.alignedBytes=0}}function alignedWrite(t){var e=(this.alignedBytes+t.length)%this.alignedBuffer.length;if(!e&&!this.alignedBytes)return t.toString(this.encoding);var i=new Buffer(this.alignedBytes+t.length-e);return this.alignedBuffer.copy(i,0,0,this.alignedBytes),t.copy(i,this.alignedBytes,0,t.length-e),t.copy(this.alignedBuffer,0,t.length-e,t.length),this.alignedBytes=e,i.toString(this.encoding)}var util=require("util"),Stream=require("stream"),StringDecoder=require("string_decoder").StringDecoder;module.exports=StringStream,module.exports.AlignedStringDecoder=AlignedStringDecoder,util.inherits(StringStream,Stream),StringStream.prototype.write=function(t){if(!this.writable){var e=new Error("stream not writable");return e.code="EPIPE",this.emit("error",e),!1}this.fromEncoding&&(Buffer.isBuffer(t)&&(t=t.toString()),t=new Buffer(t,this.fromEncoding));var i=this.decoder.write(t);return i.length&&this.emit("data",i),!this.paused},StringStream.prototype.flush=function(){if(this.decoder.flush){var t=this.decoder.flush();t.length&&this.emit("data",t)}},StringStream.prototype.end=function(){(this.writable||this.readable)&&(this.flush(),this.emit("end"),this.writable=this.readable=!1,this.destroy())},StringStream.prototype.destroy=function(){this.decoder=null,this.writable=this.readable=!1,this.emit("close")},StringStream.prototype.pause=function(){this.paused=!0},StringStream.prototype.resume=function(){this.paused&&this.emit("drain"),this.paused=!1},util.inherits(AlignedStringDecoder,StringDecoder),AlignedStringDecoder.prototype.flush=function(){if(!this.alignedBuffer||!this.alignedBytes)return"";var t=this.alignedBuffer.toString(this.encoding,0,this.alignedBytes);return this.alignedBytes=0,t};
}).call(this,require("buffer").Buffer)

},{"buffer":42,"stream":573,"string_decoder":584,"util":594}],555:[function(require,module,exports){
arguments[4][364][0].apply(exports,arguments)
},{"../package.json":561,"./memstore":556,"./pathMatch":557,"./permuteDomain":558,"./pubsuffix":559,"./store":560,"dup":364,"net":35,"punycode":433,"url":592}],556:[function(require,module,exports){
arguments[4][365][0].apply(exports,arguments)
},{"./pathMatch":557,"./permuteDomain":558,"./store":560,"dup":365,"util":594}],557:[function(require,module,exports){
arguments[4][366][0].apply(exports,arguments)
},{"dup":366}],558:[function(require,module,exports){
arguments[4][367][0].apply(exports,arguments)
},{"./pubsuffix":559,"dup":367}],559:[function(require,module,exports){
arguments[4][368][0].apply(exports,arguments)
},{"dup":368,"punycode":433}],560:[function(require,module,exports){
arguments[4][369][0].apply(exports,arguments)
},{"dup":369}],561:[function(require,module,exports){
arguments[4][370][0].apply(exports,arguments)
},{"dup":370}],562:[function(require,module,exports){
(function (process,Buffer){
"use strict";function httpOverHttp(e){var t=new TunnelingAgent(e);return t.request=http.request,t}function httpsOverHttp(e){var t=new TunnelingAgent(e);return t.request=http.request,t.createSocket=createSecureSocket,t.defaultPort=443,t}function httpOverHttps(e){var t=new TunnelingAgent(e);return t.request=https.request,t}function httpsOverHttps(e){var t=new TunnelingAgent(e);return t.request=https.request,t.createSocket=createSecureSocket,t.defaultPort=443,t}function TunnelingAgent(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||http.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(e,n,r){for(var s=0,o=t.requests.length;o>s;++s){var u=t.requests[s];if(u.host===n&&u.port===r)return t.requests.splice(s,1),void u.request.onSocket(e)}e.destroy(),t.removeSocket(e)})}function createSecureSocket(e,t){var n=this;TunnelingAgent.prototype.createSocket.call(n,e,function(r){var s=tls.connect(0,mergeOptions({},n.options,{servername:e.host,socket:r}));n.sockets[n.sockets.indexOf(r)]=s,t(s)})}function mergeOptions(e){for(var t=1,n=arguments.length;n>t;++t){var r=arguments[t];if("object"==typeof r)for(var s=Object.keys(r),o=0,u=s.length;u>o;++o){var i=s[o];void 0!==r[i]&&(e[i]=r[i])}}return e}var net=require("net"),tls=require("tls"),http=require("http"),https=require("https"),events=require("events"),assert=require("assert"),util=require("util");exports.httpOverHttp=httpOverHttp,exports.httpsOverHttp=httpsOverHttp,exports.httpOverHttps=httpOverHttps,exports.httpsOverHttps=httpsOverHttps,util.inherits(TunnelingAgent,events.EventEmitter),TunnelingAgent.prototype.addRequest=function(e,t){var n=this;return"string"==typeof t&&(t={host:t,port:arguments[2],path:arguments[3]}),n.sockets.length>=this.maxSockets?void n.requests.push({host:t.host,port:t.port,request:e}):void n.createConnection({host:t.host,port:t.port,request:e})},TunnelingAgent.prototype.createConnection=function(e){var t=this;t.createSocket(e,function(n){function r(){t.emit("free",n,e.host,e.port)}function s(e){t.removeSocket(n),n.removeListener("free",r),n.removeListener("close",s),n.removeListener("agentRemove",s)}n.on("free",r),n.on("close",s),n.on("agentRemove",s),e.request.onSocket(n)})},TunnelingAgent.prototype.createSocket=function(e,t){function n(e){e.upgrade=!0}function r(e,t,n){process.nextTick(function(){s(e,t,n)})}function s(n,r,s){if(a.removeAllListeners(),r.removeAllListeners(),200===n.statusCode)assert.equal(s.length,0),debug("tunneling connection has established"),u.sockets[u.sockets.indexOf(i)]=r,t(r);else{debug("tunneling socket could not be established, statusCode=%d",n.statusCode);var o=new Error("tunneling socket could not be established, statusCode="+n.statusCode);o.code="ECONNRESET",e.request.emit("error",o),u.removeSocket(i)}}function o(t){a.removeAllListeners(),debug("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var n=new Error("tunneling socket could not be established, cause="+t.message);n.code="ECONNRESET",e.request.emit("error",n),u.removeSocket(i)}var u=this,i={};u.sockets.push(i);var c=mergeOptions({},u.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1});c.proxyAuth&&(c.headers=c.headers||{},c.headers["Proxy-Authorization"]="Basic "+new Buffer(c.proxyAuth).toString("base64")),debug("making CONNECT request");var a=u.request(c);a.useChunkedEncodingByDefault=!1,a.once("response",n),a.once("upgrade",r),a.once("connect",s),a.once("error",o),a.end()},TunnelingAgent.prototype.removeSocket=function(e){var t=this.sockets.indexOf(e);if(-1!==t){this.sockets.splice(t,1);var n=this.requests.shift();n&&this.createConnection(n)}};var debug;debug=process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments);"string"==typeof e[0]?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:function(){},exports.debug=debug;
}).call(this,require('_process'),require("buffer").Buffer)

},{"_process":425,"assert":2,"buffer":42,"events":84,"http":92,"https":95,"net":35,"tls":35,"util":594}],563:[function(require,module,exports){
(function (process,Buffer){
"use strict";function filterForNonReserved(e,t){var r={};for(var o in t){var n=-1===e.indexOf(o);n&&(r[o]=t[o])}return r}function filterOutReservedFunctions(e,t){var r={};for(var o in t){var n=!(-1===e.indexOf(o)),i="function"==typeof t[o];n&&i||(r[o]=t[o])}return r}function connectionErrorHandler(e){var t=this;t.res?t.res.request?t.res.request.emit("error",e):t.res.emit("error",e):t._httpMessage.emit("error",e)}function requestToJSON(){var e=this;return{uri:e.uri,method:e.method,headers:e.headers}}function responseToJSON(){var e=this;return{statusCode:e.statusCode,body:e.body,headers:e.headers,request:requestToJSON.call(e.request)}}function Request(e){var t=this;e.har&&(t._har=new Har(t),e=t._har.options(e)),stream.Stream.call(t);var r=Object.keys(Request.prototype),o=filterForNonReserved(r,e);util._extend(t,o),e=filterOutReservedFunctions(r,e),t.readable=!0,t.writable=!0,e.method&&(t.explicitMethod=!0),t._qs=new Querystring(t),t._auth=new Auth(t),t._oauth=new OAuth(t),t._multipart=new Multipart(t),t._redirect=new Redirect(t),t._tunnel=new Tunnel(t),t.init(e)}function debug(){Request.debug&&console.error("REQUEST %s",util.format.apply(util,arguments))}var http=require("http"),https=require("https"),url=require("url"),util=require("util"),stream=require("stream"),zlib=require("zlib"),bl=require("bl"),hawk=require("hawk"),aws=require("aws-sign2"),httpSignature=require("http-signature"),mime=require("mime-types"),stringstream=require("stringstream"),caseless=require("caseless"),ForeverAgent=require("forever-agent"),FormData=require("form-data"),isTypedArray=require("is-typedarray").strict,helpers=require("./lib/helpers"),cookies=require("./lib/cookies"),getProxyFromURI=require("./lib/getProxyFromURI"),Querystring=require("./lib/querystring").Querystring,Har=require("./lib/har").Har,Auth=require("./lib/auth").Auth,OAuth=require("./lib/oauth").OAuth,Multipart=require("./lib/multipart").Multipart,Redirect=require("./lib/redirect").Redirect,Tunnel=require("./lib/tunnel").Tunnel,safeStringify=helpers.safeStringify,isReadStream=helpers.isReadStream,toBase64=helpers.toBase64,defer=helpers.defer,copy=helpers.copy,version=helpers.version,globalCookieJar=cookies.jar(),globalPool={};util.inherits(Request,stream.Stream),Request.debug=process.env.NODE_DEBUG&&/\brequest\b/.test(process.env.NODE_DEBUG),Request.prototype.debug=debug,Request.prototype.init=function(e){function t(){if(isTypedArray(r.body)&&(r.body=new Buffer(r.body)),!r.hasHeader("content-length")){var e;e="string"==typeof r.body?Buffer.byteLength(r.body):Array.isArray(r.body)?r.body.reduce(function(e,t){return e+t.length},0):r.body.length,e?r.setHeader("content-length",e):r.emit("error",new Error("Argument error, options.body."))}}var r=this;e||(e={}),r.headers=r.headers?copy(r.headers):{};for(var o in r.headers)"undefined"==typeof r.headers[o]&&delete r.headers[o];if(caseless.httpify(r,r.headers),r.method||(r.method=e.method||"GET"),r.localAddress||(r.localAddress=e.localAddress),r._qs.init(e),debug(e),r.pool||r.pool===!1||(r.pool=globalPool),r.dests=r.dests||[],r.__isRequestRequest=!0,!r._callback&&r.callback&&(r._callback=r.callback,r.callback=function(){r._callbackCalled||(r._callbackCalled=!0,r._callback.apply(r,arguments))},r.on("error",r.callback.bind()),r.on("complete",r.callback.bind(r,null))),!r.uri&&r.url&&(r.uri=r.url,delete r.url),r.baseUrl){if("string"!=typeof r.baseUrl)return r.emit("error",new Error("options.baseUrl must be a string"));if("string"!=typeof r.uri)return r.emit("error",new Error("options.uri must be a string when using options.baseUrl"));if(0===r.uri.indexOf("//")||-1!==r.uri.indexOf("://"))return r.emit("error",new Error("options.uri must be a path when using options.baseUrl"));var n=r.baseUrl.lastIndexOf("/")===r.baseUrl.length-1,i=0===r.uri.indexOf("/");n&&i?r.uri=r.baseUrl+r.uri.slice(1):n||i?r.uri=r.baseUrl+r.uri:""===r.uri?r.uri=r.baseUrl:r.uri=r.baseUrl+"/"+r.uri,delete r.baseUrl}if(!r.uri)return r.emit("error",new Error("options.uri is a required argument"));if("string"==typeof r.uri&&(r.uri=url.parse(r.uri)),r.uri.href||(r.uri.href=url.format(r.uri)),"unix:"===r.uri.protocol)return r.emit("error",new Error("`unix://` URL scheme is no longer supported. Please use the format `http://unix:SOCKET:PATH`"));if("unix"===r.uri.host&&r.enableUnixSocket(),r.strictSSL===!1&&(r.rejectUnauthorized=!1),r.uri.pathname||(r.uri.pathname="/"),!(r.uri.host||r.uri.hostname&&r.uri.port||r.uri.isUnix)){var s=url.format(r.uri),a='Invalid URI "'+s+'"';return 0===Object.keys(e).length&&(a+=". This can be caused by a crappy redirection."),r.abort(),r.emit("error",new Error(a))}if(r.hasOwnProperty("proxy")||(r.proxy=getProxyFromURI(r.uri)),r.tunnel=r._tunnel.isEnabled(),r.proxy&&r._tunnel.setup(e),r._redirect.onRequest(e),r.setHost=!1,!r.hasHeader("host")){var u=r.originalHostHeaderName||"host";r.setHeader(u,r.uri.hostname),r.uri.port&&(80===r.uri.port&&"http:"===r.uri.protocol||443===r.uri.port&&"https:"===r.uri.protocol||r.setHeader(u,r.getHeader("host")+(":"+r.uri.port))),r.setHost=!0}if(r.jar(r._jar||e.jar),r.uri.port||("http:"===r.uri.protocol?r.uri.port=80:"https:"===r.uri.protocol&&(r.uri.port=443)),r.proxy&&!r.tunnel?(r.port=r.proxy.port,r.host=r.proxy.hostname):(r.port=r.uri.port,r.host=r.uri.hostname),e.form&&r.form(e.form),e.formData){var p=e.formData,d=r.form(),c=function(e,t){t.hasOwnProperty("value")&&t.hasOwnProperty("options")?d.append(e,t.value,t.options):d.append(e,t)};for(var h in p)if(p.hasOwnProperty(h)){var l=p[h];if(l instanceof Array)for(var f=0;f<l.length;f++)c(h,l[f]);else c(h,l)}}if(e.qs&&r.qs(e.qs),r.uri.path?r.path=r.uri.path:r.path=r.uri.pathname+(r.uri.search||""),0===r.path.length&&(r.path="/"),e.aws&&r.aws(e.aws),e.hawk&&r.hawk(e.hawk),e.httpSignature&&r.httpSignature(e.httpSignature),e.auth&&(Object.prototype.hasOwnProperty.call(e.auth,"username")&&(e.auth.user=e.auth.username),Object.prototype.hasOwnProperty.call(e.auth,"password")&&(e.auth.pass=e.auth.password),r.auth(e.auth.user,e.auth.pass,e.auth.sendImmediately,e.auth.bearer)),r.gzip&&!r.hasHeader("accept-encoding")&&r.setHeader("accept-encoding","gzip"),r.uri.auth&&!r.hasHeader("authorization")){var m=r.uri.auth.split(":").map(function(e){return r._qs.unescape(e)});r.auth(m[0],m.slice(1).join(":"),!0)}if(!r.tunnel&&r.proxy&&r.proxy.auth&&!r.hasHeader("proxy-authorization")){var g=r.proxy.auth.split(":").map(function(e){return r._qs.unescape(e)}),y="Basic "+toBase64(g.join(":"));r.setHeader("proxy-authorization",y)}r.proxy&&!r.tunnel&&(r.path=r.uri.protocol+"//"+r.uri.host+r.path),e.json&&r.json(e.json),e.multipart&&r.multipart(e.multipart),e.time&&(r.timing=!0,r.elapsedTime=r.elapsedTime||0),r.body&&t(),e.oauth?r.oauth(e.oauth):r._oauth.params&&r.hasHeader("authorization")&&r.oauth(r._oauth.params);var b=r.proxy&&!r.tunnel?r.proxy.protocol:r.uri.protocol,q={"http:":http,"https:":https},v=r.httpModules||{};if(r.httpModule=v[b]||q[b],!r.httpModule)return r.emit("error",new Error("Invalid protocol: "+b));if(e.ca&&(r.ca=e.ca),!r.agent)if(e.agentOptions&&(r.agentOptions=e.agentOptions),e.agentClass)r.agentClass=e.agentClass;else if(e.forever){var _=version();0===_.major&&_.minor<=10?r.agentClass="http:"===b?ForeverAgent:ForeverAgent.SSL:(r.agentClass=r.httpModule.Agent,r.agentOptions=r.agentOptions||{},r.agentOptions.keepAlive=!0)}else r.agentClass=r.httpModule.Agent;r.pool===!1?r.agent=!1:r.agent=r.agent||r.getNewAgent(),r.on("pipe",function(e){if(r.ntick&&r._started&&r.emit("error",new Error("You cannot pipe to this stream after the outbound request has started.")),r.src=e,isReadStream(e))r.hasHeader("content-type")||r.setHeader("content-type",mime.lookup(e.path));else{if(e.headers)for(var t in e.headers)r.hasHeader(t)||r.setHeader(t,e.headers[t]);r._json&&!r.hasHeader("content-type")&&r.setHeader("content-type","application/json"),e.method&&!r.explicitMethod&&(r.method=e.method)}}),defer(function(){if(!r._aborted){var e=function(){if(r._form&&(r._auth.hasAuth?r._auth.hasAuth&&r._auth.sentAuth&&r._form.pipe(r):r._form.pipe(r)),r._multipart&&r._multipart.chunked&&r._multipart.body.pipe(r),r.body)t(),Array.isArray(r.body)?r.body.forEach(function(e){r.write(e)}):r.write(r.body),r.end();else if(r.requestBodyStream)console.warn("options.requestBodyStream is deprecated, please pass the request object to stream.pipe."),r.requestBodyStream.pipe(r);else if(!r.src){if(r._auth.hasAuth&&!r._auth.sentAuth)return void r.end();"GET"!==r.method&&"undefined"!=typeof r.method&&r.setHeader("content-length",0),r.end()}};r._form&&!r.hasHeader("content-length")?(r.setHeader(r._form.getHeaders(),!0),r._form.getLength(function(t,o){t||r.setHeader("content-length",o),e()})):e(),r.ntick=!0}})},Request.prototype.getNewAgent=function(){var e=this,t=e.agentClass,r={};if(e.agentOptions)for(var o in e.agentOptions)r[o]=e.agentOptions[o];e.ca&&(r.ca=e.ca),e.ciphers&&(r.ciphers=e.ciphers),e.secureProtocol&&(r.secureProtocol=e.secureProtocol),e.secureOptions&&(r.secureOptions=e.secureOptions),"undefined"!=typeof e.rejectUnauthorized&&(r.rejectUnauthorized=e.rejectUnauthorized),e.cert&&e.key&&(r.key=e.key,r.cert=e.cert),e.pfx&&(r.pfx=e.pfx),e.passphrase&&(r.passphrase=e.passphrase);var n="";t!==e.httpModule.Agent&&(n+=t.name);var i=e.proxy;"string"==typeof i&&(i=url.parse(i));var s=i&&"https:"===i.protocol||"https:"===this.uri.protocol;return s&&(r.ca&&(n&&(n+=":"),n+=r.ca),"undefined"!=typeof r.rejectUnauthorized&&(n&&(n+=":"),n+=r.rejectUnauthorized),r.cert&&(n&&(n+=":"),n+=r.cert.toString("ascii")+r.key.toString("ascii")),r.pfx&&(n&&(n+=":"),n+=r.pfx.toString("ascii")),r.ciphers&&(n&&(n+=":"),n+=r.ciphers),r.secureProtocol&&(n&&(n+=":"),n+=r.secureProtocol),r.secureOptions&&(n&&(n+=":"),n+=r.secureOptions)),e.pool===globalPool&&!n&&0===Object.keys(r).length&&e.httpModule.globalAgent?e.httpModule.globalAgent:(n=e.uri.protocol+n,e.pool[n]||(e.pool[n]=new t(r),e.pool.maxSockets&&(e.pool[n].maxSockets=e.pool.maxSockets)),e.pool[n])},Request.prototype.start=function(){var e=this;if(!e._aborted){e._started=!0,e.method=e.method||"GET",e.href=e.uri.href,e.src&&e.src.stat&&e.src.stat.size&&!e.hasHeader("content-length")&&e.setHeader("content-length",e.src.stat.size),e._aws&&e.aws(e._aws,!0);var t=copy(e);if(delete t.auth,debug("make request",e.uri.href),e.req=e.httpModule.request(t),e.timing&&(e.startTime=(new Date).getTime()),e.timeout&&!e.timeoutTimer){var r=e.timeout<0?0:e.timeout;e.timeoutTimer=setTimeout(function(){var t=e.req.socket&&e.req.socket.readable===!1;e.abort();var r=new Error("ETIMEDOUT");r.code="ETIMEDOUT",r.connect=t,e.emit("error",r)},r),e.req.setTimeout&&e.req.setTimeout(r,function(){if(e.req){e.req.abort();var t=new Error("ESOCKETTIMEDOUT");t.code="ESOCKETTIMEDOUT",t.connect=!1,e.emit("error",t)}})}e.req.on("response",e.onRequestResponse.bind(e)),e.req.on("error",e.onRequestError.bind(e)),e.req.on("drain",function(){e.emit("drain")}),e.req.on("socket",function(t){e.emit("socket",t)}),e.on("end",function(){e.req.connection&&e.req.connection.removeListener("error",connectionErrorHandler)}),e.emit("request",e.req)}},Request.prototype.onRequestError=function(e){var t=this;if(!t._aborted){if(t.req&&t.req._reusedSocket&&"ECONNRESET"===e.code&&t.agent.addRequestNoreuse)return t.agent={addRequest:t.agent.addRequestNoreuse.bind(t.agent)},t.start(),void t.req.end();t.timeout&&t.timeoutTimer&&(clearTimeout(t.timeoutTimer),t.timeoutTimer=null),t.emit("error",e)}},Request.prototype.onRequestResponse=function(e){var t=this;if(debug("onRequestResponse",t.uri.href,e.statusCode,e.headers),e.on("end",function(){t.timing&&(t.elapsedTime+=(new Date).getTime()-t.startTime,debug("elapsed time",t.elapsedTime),e.elapsedTime=t.elapsedTime),debug("response end",t.uri.href,e.statusCode,e.headers)}),e.connection&&-1===e.connection.listeners("error").indexOf(connectionErrorHandler)&&(e.connection.setMaxListeners(0),e.connection.once("error",connectionErrorHandler)),t._aborted)return debug("aborted",t.uri.href),void e.resume();if(t.response=e,e.request=t,e.toJSON=responseToJSON,t.httpModule===https&&t.strictSSL&&(!e.hasOwnProperty("socket")||!e.socket.authorized)){debug("strict ssl error",t.uri.href);var r=e.hasOwnProperty("socket")?e.socket.authorizationError:t.uri.href+" does not support SSL";return void t.emit("error",new Error("SSL Error: "+r))}t.originalHost=t.getHeader("host"),t.originalHostHeaderName||(t.originalHostHeaderName=t.hasHeader("host")),t.setHost&&t.removeHeader("host"),t.timeout&&t.timeoutTimer&&(clearTimeout(t.timeoutTimer),t.timeoutTimer=null);var o=t._jar&&t._jar.setCookie?t._jar:globalCookieJar,n=function(e){try{o.setCookie(e,t.uri.href,{ignoreError:!0})}catch(r){t.emit("error",r)}};if(e.caseless=caseless(e.headers),e.caseless.has("set-cookie")&&!t._disableCookies){var i=e.caseless.has("set-cookie");Array.isArray(e.headers[i])?e.headers[i].forEach(n):n(e.headers[i])}if(!t._redirect.onResponse(e)){e.on("close",function(){t._ended||t.response.emit("end")}),e.on("end",function(){t._ended=!0});var s;if(t.gzip){var a=e.headers["content-encoding"]||"identity";a=a.trim().toLowerCase(),"gzip"===a?(s=zlib.createGunzip(),e.pipe(s)):("identity"!==a&&debug("ignoring unrecognized Content-Encoding "+a),s=e)}else s=e;t.encoding&&(0!==t.dests.length?console.error("Ignoring encoding parameter as this stream is being piped to another stream which makes the encoding option invalid."):s.setEncoding?s.setEncoding(t.encoding):s=s.pipe(stringstream(t.encoding))),t._paused&&s.pause(),t.responseContent=s,t.emit("response",e),t.dests.forEach(function(e){t.pipeDest(e)}),s.on("data",function(e){t._destdata=!0,t.emit("data",e)}),s.on("end",function(e){t.emit("end",e)}),s.on("error",function(e){t.emit("error",e)}),s.on("close",function(){t.emit("close")}),t.callback?t.readResponseBody(e):t.on("end",function(){return t._aborted?void debug("aborted",t.uri.href):void t.emit("complete",e)}),debug("finish init function",t.uri.href)}},Request.prototype.readResponseBody=function(e){var t=this;debug("reading response's body");var r=bl(),o=[];t.on("data",function(e){Buffer.isBuffer(e)?r.append(e):o.push(e)}),t.on("end",function(){if(debug("end event",t.uri.href),t._aborted)return void debug("aborted",t.uri.href);if(r.length?(debug("has body",t.uri.href,r.length),null===t.encoding?e.body=r.slice():e.body=r.toString(t.encoding)):o.length&&("utf8"===t.encoding&&o[0].length>0&&"\ufeff"===o[0][0]&&(o[0]=o[0].substring(1)),e.body=o.join("")),t._json)try{e.body=JSON.parse(e.body,t._jsonReviver)}catch(n){debug("invalid JSON received",t.uri.href)}debug("emitting complete",t.uri.href),"undefined"!=typeof e.body||t._json||(e.body=null===t.encoding?new Buffer(0):""),t.emit("complete",e,e.body)})},Request.prototype.abort=function(){var e=this;e._aborted=!0,e.req?e.req.abort():e.response&&e.response.abort(),e.emit("abort")},Request.prototype.pipeDest=function(e){var t=this,r=t.response;if(e.headers&&!e.headersSent){if(r.caseless.has("content-type")){var o=r.caseless.has("content-type");e.setHeader?e.setHeader(o,r.headers[o]):e.headers[o]=r.headers[o]}if(r.caseless.has("content-length")){var n=r.caseless.has("content-length");e.setHeader?e.setHeader(n,r.headers[n]):e.headers[n]=r.headers[n]}}if(e.setHeader&&!e.headersSent){for(var i in r.headers)t.gzip&&"content-encoding"===i||e.setHeader(i,r.headers[i]);e.statusCode=r.statusCode}t.pipefilter&&t.pipefilter(r,e)},Request.prototype.qs=function(e,t){var r,o=this;r=!t&&o.uri.query?o._qs.parse(o.uri.query):{};for(var n in e)r[n]=e[n];var i=o._qs.stringify(r);return""===i?o:(o.uri=url.parse(o.uri.href.split("?")[0]+"?"+i),o.url=o.uri,o.path=o.uri.path,"unix"===o.uri.host&&o.enableUnixSocket(),o)},Request.prototype.form=function(e){var t=this;return e?(/^application\/x-www-form-urlencoded\b/.test(t.getHeader("content-type"))||t.setHeader("content-type","application/x-www-form-urlencoded"),t.body="string"==typeof e?t._qs.rfc3986(e.toString("utf8")):t._qs.stringify(e).toString("utf8"),t):(t._form=new FormData,t._form.on("error",function(e){e.message="form-data: "+e.message,t.emit("error",e),t.abort()}),t._form)},Request.prototype.multipart=function(e){var t=this;return t._multipart.onRequest(e),t._multipart.chunked||(t.body=t._multipart.body),t},Request.prototype.json=function(e){var t=this;return t.hasHeader("accept")||t.setHeader("accept","application/json"),t._json=!0,"boolean"==typeof e?void 0!==t.body&&(/^application\/x-www-form-urlencoded\b/.test(t.getHeader("content-type"))?t.body=t._qs.rfc3986(t.body):t.body=safeStringify(t.body),t.hasHeader("content-type")||t.setHeader("content-type","application/json")):(t.body=safeStringify(e),t.hasHeader("content-type")||t.setHeader("content-type","application/json")),"function"==typeof t.jsonReviver&&(t._jsonReviver=t.jsonReviver),t},Request.prototype.getHeader=function(e,t){var r,o,n,i=this;return t||(t=i.headers),Object.keys(t).forEach(function(i){i.length===e.length&&(o=new RegExp(e,"i"),n=i.match(o),n&&(r=t[i]))}),r},Request.prototype.enableUnixSocket=function(){var e=this.uri.path.split(":"),t=e[0],r=e[1];this.socketPath=t,this.uri.pathname=r,this.uri.path=r,this.uri.host=t,this.uri.hostname=t,this.uri.isUnix=!0},Request.prototype.auth=function(e,t,r,o){var n=this;return n._auth.onRequest(e,t,r,o),n},Request.prototype.aws=function(e,t){var r=this;if(!t)return r._aws=e,r;var o=new Date;r.setHeader("date",o.toUTCString());var n={key:e.key,secret:e.secret,verb:r.method.toUpperCase(),date:o,contentType:r.getHeader("content-type")||"",md5:r.getHeader("content-md5")||"",amazonHeaders:aws.canonicalizeHeaders(r.headers)},i=r.uri.path;return e.bucket&&i?n.resource="/"+e.bucket+i:e.bucket&&!i?n.resource="/"+e.bucket:!e.bucket&&i?n.resource=i:e.bucket||i||(n.resource="/"),n.resource=aws.canonicalizeResource(n.resource),r.setHeader("authorization",aws.authorization(n)),r},Request.prototype.httpSignature=function(e){var t=this;return httpSignature.signRequest({getHeader:function(e){return t.getHeader(e,t.headers)},setHeader:function(e,r){t.setHeader(e,r)},method:t.method,path:t.path},e),debug("httpSignature authorization",t.getHeader("authorization")),t},Request.prototype.hawk=function(e){var t=this;t.setHeader("Authorization",hawk.client.header(t.uri,t.method,e).field)},Request.prototype.oauth=function(e){var t=this;return t._oauth.onRequest(e),t},Request.prototype.jar=function(e){var t,r=this;if(0===r._redirect.redirectsFollowed&&(r.originalCookieHeader=r.getHeader("cookie")),e){var o=e&&e.getCookieString?e:globalCookieJar,n=r.uri.href;o&&(t=o.getCookieString(n))}else t=!1,r._disableCookies=!0;return t&&t.length&&(r.originalCookieHeader?r.setHeader("cookie",r.originalCookieHeader+"; "+t):r.setHeader("cookie",t)),r._jar=e,r},Request.prototype.pipe=function(e,t){var r=this;if(!r.response)return r.dests.push(e),stream.Stream.prototype.pipe.call(r,e,t),e;if(r._destdata)r.emit("error",new Error("You cannot pipe after data has been emitted from the response."));else{if(!r._ended)return stream.Stream.prototype.pipe.call(r,e,t),r.pipeDest(e),e;r.emit("error",new Error("You cannot pipe after the response has been ended."))}},Request.prototype.write=function(){var e=this;if(!e._aborted)return e._started||e.start(),e.req.write.apply(e.req,arguments)},Request.prototype.end=function(e){var t=this;t._aborted||(e&&t.write(e),t._started||t.start(),t.req.end())},Request.prototype.pause=function(){var e=this;e.responseContent?e.responseContent.pause.apply(e.responseContent,arguments):e._paused=!0},Request.prototype.resume=function(){var e=this;e.responseContent?e.responseContent.resume.apply(e.responseContent,arguments):e._paused=!1},Request.prototype.destroy=function(){var e=this;e._ended?e.response&&e.response.destroy():e.end()},Request.defaultProxyHeaderWhiteList=Tunnel.defaultProxyHeaderWhiteList.slice(),Request.defaultProxyHeaderExclusiveList=Tunnel.defaultProxyHeaderExclusiveList.slice(),Request.prototype.toJSON=requestToJSON,module.exports=Request;
}).call(this,require('_process'),require("buffer").Buffer)

},{"./lib/auth":439,"./lib/cookies":440,"./lib/getProxyFromURI":441,"./lib/har":442,"./lib/helpers":443,"./lib/multipart":444,"./lib/oauth":445,"./lib/querystring":446,"./lib/redirect":447,"./lib/tunnel":448,"_process":425,"aws-sign2":449,"bl":450,"buffer":42,"caseless":461,"forever-agent":465,"form-data":466,"hawk":495,"http":92,"http-signature":496,"https":95,"is-typedarray":542,"mime-types":545,"stream":573,"stringstream":554,"url":592,"util":594,"zlib":34}],564:[function(require,module,exports){
(function (Buffer){
function bytesToWords(r){for(var f=[],n=0,t=0;n<r.length;n++,t+=8)f[t>>>5]|=r[n]<<24-t%32;return f}function wordsToBytes(r){for(var f=[],n=0;n<32*r.length;n+=8)f.push(r[n>>>5]>>>24-n%32&255);return f}function processBlock(r,f,n){for(var t=0;16>t;t++){var o=n+t,e=f[o];f[o]=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8)}var u,l,s,h,c,i,a,v,d,p;i=u=r[0],a=l=r[1],v=s=r[2],d=h=r[3],p=c=r[4];var g;for(t=0;80>t;t+=1)g=u+f[n+zl[t]]|0,g+=16>t?f1(l,s,h)+hl[0]:32>t?f2(l,s,h)+hl[1]:48>t?f3(l,s,h)+hl[2]:64>t?f4(l,s,h)+hl[3]:f5(l,s,h)+hl[4],g=0|g,g=rotl(g,sl[t]),g=g+c|0,u=c,c=h,h=rotl(s,10),s=l,l=g,g=i+f[n+zr[t]]|0,g+=16>t?f5(a,v,d)+hr[0]:32>t?f4(a,v,d)+hr[1]:48>t?f3(a,v,d)+hr[2]:64>t?f2(a,v,d)+hr[3]:f1(a,v,d)+hr[4],g=0|g,g=rotl(g,sr[t]),g=g+p|0,i=p,p=d,d=rotl(v,10),v=a,a=g;g=r[1]+s+d|0,r[1]=r[2]+h+p|0,r[2]=r[3]+c+i|0,r[3]=r[4]+u+a|0,r[4]=r[0]+l+v|0,r[0]=g}function f1(r,f,n){return r^f^n}function f2(r,f,n){return r&f|~r&n}function f3(r,f,n){return(r|~f)^n}function f4(r,f,n){return r&n|f&~n}function f5(r,f,n){return r^(f|~n)}function rotl(r,f){return r<<f|r>>>32-f}function ripemd160(r){var f=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof r&&(r=new Buffer(r,"utf8"));var n=bytesToWords(r),t=8*r.length,o=8*r.length;n[t>>>5]|=128<<24-t%32,n[(t+64>>>9<<4)+14]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);for(var e=0;e<n.length;e+=16)processBlock(f,n,e);for(e=0;5>e;e++){var u=f[e];f[e]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var l=wordsToBytes(f);return new Buffer(l)}var zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];module.exports=ripemd160;
}).call(this,require("buffer").Buffer)

},{"buffer":42}],565:[function(require,module,exports){
(function (Buffer){
function Hash(t,i){this._block=new Buffer(t),this._finalSize=i,this._blockSize=t,this._len=0,this._s=0}Hash.prototype.update=function(t,i){"string"==typeof t&&(i=i||"utf8",t=new Buffer(t,i));for(var s=this._len+=t.length,e=this._s||0,h=0,o=this._block;s>e;){for(var l=Math.min(t.length,h+this._blockSize-e%this._blockSize),_=l-h,n=0;_>n;n++)o[e%this._blockSize+n]=t[n+h];e+=_,h+=_,e%this._blockSize===0&&this._update(o)}return this._s=e,this},Hash.prototype.digest=function(t){var i=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),i%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(i,this._blockSize-4);var s=this._update(this._block)||this._hash();return t?s.toString(t):s},Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")},module.exports=Hash;
}).call(this,require("buffer").Buffer)

},{"buffer":42}],566:[function(require,module,exports){
var exports=module.exports=function(e){e=e.toLowerCase();var r=exports[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};exports.sha=require("./sha"),exports.sha1=require("./sha1"),exports.sha224=require("./sha224"),exports.sha256=require("./sha256"),exports.sha384=require("./sha384"),exports.sha512=require("./sha512");
},{"./sha":567,"./sha1":568,"./sha224":569,"./sha256":570,"./sha384":571,"./sha512":572}],567:[function(require,module,exports){
(function (Buffer){
function Sha(){this.init(),this._w=W,Hash.call(this,64,56)}function rol(t,i){return t<<i|t>>>32-i}var inherits=require("inherits"),Hash=require("./hash"),W=new Array(80);inherits(Sha,Hash),Sha.prototype.init=function(){return this._a=1732584193,this._b=-271733879,this._c=-1732584194,this._d=271733878,this._e=-1009589776,this},Sha.prototype._update=function(t){function i(){return s[u-3]^s[u-8]^s[u-14]^s[u-16]}function h(t,i){s[u]=t;var h=rol(e,5)+i+o+t+r;o=a,a=_,_=rol(n,30),n=e,e=h,u++}var r,s=this._w,e=this._a,n=this._b,_=this._c,a=this._d,o=this._e,u=0;for(r=1518500249;16>u;)h(t.readInt32BE(4*u),n&_|~n&a);for(;20>u;)h(i(),n&_|~n&a);for(r=1859775393;40>u;)h(i(),n^_^a);for(r=-1894007588;60>u;)h(i(),n&_|n&a|_&a);for(r=-899497514;80>u;)h(i(),n^_^a);this._a=e+this._a|0,this._b=n+this._b|0,this._c=_+this._c|0,this._d=a+this._d|0,this._e=o+this._e|0},Sha.prototype._hash=function(){var t=new Buffer(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},module.exports=Sha;
}).call(this,require("buffer").Buffer)

},{"./hash":565,"buffer":42,"inherits":98}],568:[function(require,module,exports){
(function (Buffer){
function Sha1(){this.init(),this._w=W,Hash.call(this,64,56)}function rol(t,i){return t<<i|t>>>32-i}var inherits=require("inherits"),Hash=require("./hash"),W=new Array(80);inherits(Sha1,Hash),Sha1.prototype.init=function(){return this._a=1732584193,this._b=-271733879,this._c=-1732584194,this._d=271733878,this._e=-1009589776,this},Sha1.prototype._update=function(t){function i(){return rol(s[u-3]^s[u-8]^s[u-14]^s[u-16],1)}function h(t,i){s[u]=t;var h=rol(e,5)+i+o+t+r;o=a,a=_,_=rol(n,30),n=e,e=h,u++}var r,s=this._w,e=this._a,n=this._b,_=this._c,a=this._d,o=this._e,u=0;for(r=1518500249;16>u;)h(t.readInt32BE(4*u),n&_|~n&a);for(;20>u;)h(i(),n&_|~n&a);for(r=1859775393;40>u;)h(i(),n^_^a);for(r=-1894007588;60>u;)h(i(),n&_|n&a|_&a);for(r=-899497514;80>u;)h(i(),n^_^a);this._a=e+this._a|0,this._b=n+this._b|0,this._c=_+this._c|0,this._d=a+this._d|0,this._e=o+this._e|0},Sha1.prototype._hash=function(){var t=new Buffer(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},module.exports=Sha1;
}).call(this,require("buffer").Buffer)

},{"./hash":565,"buffer":42,"inherits":98}],569:[function(require,module,exports){
(function (Buffer){
function Sha224(){this.init(),this._w=W,Hash.call(this,64,56)}var inherits=require("inherits"),Sha256=require("./sha256"),Hash=require("./hash"),W=new Array(64);inherits(Sha224,Sha256),Sha224.prototype.init=function(){return this._a=-1056596264,this._b=914150663,this._c=812702999,this._d=-150054599,this._e=-4191439,this._f=1750603025,this._g=1694076839,this._h=-1090891868,this},Sha224.prototype._hash=function(){var t=new Buffer(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},module.exports=Sha224;
}).call(this,require("buffer").Buffer)

},{"./hash":565,"./sha256":570,"buffer":42,"inherits":98}],570:[function(require,module,exports){
(function (Buffer){
function Sha256(){this.init(),this._w=W,Hash.call(this,64,56)}function Ch(t,i,h){return h^t&(i^h)}function Maj(t,i,h){return t&i|h&(t|i)}function Sigma0(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Sigma1(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Gamma0(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function Gamma1(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}var inherits=require("inherits"),Hash=require("./hash"),K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W=new Array(64);inherits(Sha256,Hash),Sha256.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this},Sha256.prototype._update=function(t){function i(){return Gamma1(s[c-2])+s[c-7]+Gamma0(s[c-15])+s[c-16]}function h(t){s[c]=t;var i=f+Sigma1(a)+Ch(a,u,o)+K[c]+t,h=Sigma0(n)+Maj(n,r,_);f=o,o=u,u=a,a=e+i,e=_,_=r,r=n,n=i+h,c++}for(var s=this._w,n=0|this._a,r=0|this._b,_=0|this._c,e=0|this._d,a=0|this._e,u=0|this._f,o=0|this._g,f=0|this._h,c=0;16>c;)h(t.readInt32BE(4*c));for(;64>c;)h(i());this._a=n+this._a|0,this._b=r+this._b|0,this._c=_+this._c|0,this._d=e+this._d|0,this._e=a+this._e|0,this._f=u+this._f|0,this._g=o+this._g|0,this._h=f+this._h|0},Sha256.prototype._hash=function(){var t=new Buffer(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},module.exports=Sha256;
}).call(this,require("buffer").Buffer)

},{"./hash":565,"buffer":42,"inherits":98}],571:[function(require,module,exports){
(function (Buffer){
function Sha384(){this.init(),this._w=W,Hash.call(this,128,112)}var inherits=require("inherits"),SHA512=require("./sha512"),Hash=require("./hash"),W=new Array(160);inherits(Sha384,SHA512),Sha384.prototype.init=function(){return this._a=-876896931,this._b=1654270250,this._c=-1856437926,this._d=355462360,this._e=1731405415,this._f=-1900787065,this._g=-619958771,this._h=1203062813,this._al=-1056596264,this._bl=914150663,this._cl=812702999,this._dl=-150054599,this._el=-4191439,this._fl=1750603025,this._gl=1694076839,this._hl=-1090891868,this},Sha384.prototype._hash=function(){function t(t,h,s){i.writeInt32BE(t,s),i.writeInt32BE(h,s+4)}var i=new Buffer(48);return t(this._a,this._al,0),t(this._b,this._bl,8),t(this._c,this._cl,16),t(this._d,this._dl,24),t(this._e,this._el,32),t(this._f,this._fl,40),i},module.exports=Sha384;
}).call(this,require("buffer").Buffer)

},{"./hash":565,"./sha512":572,"buffer":42,"inherits":98}],572:[function(require,module,exports){
(function (Buffer){
function Sha512(){this.init(),this._w=W,Hash.call(this,128,112)}function Ch(t,i,h){return h^t&(i^h)}function Maj(t,i,h){return t&i|h&(t|i)}function Sigma0(t,i){return(t>>>28|i<<4)^(i>>>2|t<<30)^(i>>>7|t<<25)}function Sigma1(t,i){return(t>>>14|i<<18)^(t>>>18|i<<14)^(i>>>9|t<<23)}function Gamma0(t,i){return(t>>>1|i<<31)^(t>>>8|i<<24)^t>>>7}function Gamma0l(t,i){return(t>>>1|i<<31)^(t>>>8|i<<24)^(t>>>7|i<<25)}function Gamma1(t,i){return(t>>>19|i<<13)^(i>>>29|t<<3)^t>>>6}function Gamma1l(t,i){return(t>>>19|i<<13)^(i>>>29|t<<3)^(t>>>6|i<<26)}var inherits=require("inherits"),Hash=require("./hash"),K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W=new Array(160);inherits(Sha512,Hash),Sha512.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this},Sha512.prototype._update=function(t){function i(){var t=a[B-30],i=a[B-30+1],h=Gamma0(t,i),l=Gamma0l(i,t);t=a[B-4],i=a[B-4+1];var n=Gamma1(t,i),r=Gamma1l(i,t),e=a[B-14],f=a[B-14+1],u=a[B-32],c=a[B-32+1];_=l+f,s=h+e+(l>>>0>_>>>0?1:0),_+=r,s=s+n+(r>>>0>_>>>0?1:0),_+=c,s=s+u+(c>>>0>_>>>0?1:0)}function h(){a[B]=s,a[B+1]=_;var t=Maj(l,n,r),i=Maj(m,g,d),h=Sigma0(l,m),y=Sigma0(m,l),E=Sigma1(f,b),I=Sigma1(b,f),j=K[B],C=K[B+1],H=Ch(f,u,c),M=Ch(b,p,G),q=v+I,W=o+E+(v>>>0>q>>>0?1:0);q+=M,W=W+H+(M>>>0>q>>>0?1:0),q+=C,W=W+j+(C>>>0>q>>>0?1:0),q+=_,W=W+s+(_>>>0>q>>>0?1:0);var x=y+i,A=h+t+(y>>>0>x>>>0?1:0);o=c,v=G,c=u,G=p,u=f,p=b,b=S+q|0,f=e+W+(S>>>0>b>>>0?1:0)|0,e=r,S=d,r=n,d=g,n=l,g=m,m=q+x|0,l=W+A+(q>>>0>m>>>0?1:0)|0,w++,B+=2}for(var s,_,a=this._w,l=0|this._a,n=0|this._b,r=0|this._c,e=0|this._d,f=0|this._e,u=0|this._f,c=0|this._g,o=0|this._h,m=0|this._al,g=0|this._bl,d=0|this._cl,S=0|this._dl,b=0|this._el,p=0|this._fl,G=0|this._gl,v=0|this._hl,w=0,B=0;16>w;)s=t.readInt32BE(4*B),_=t.readInt32BE(4*B+4),h();for(;80>w;)i(),h();this._al=this._al+m|0,this._bl=this._bl+g|0,this._cl=this._cl+d|0,this._dl=this._dl+S|0,this._el=this._el+b|0,this._fl=this._fl+p|0,this._gl=this._gl+G|0,this._hl=this._hl+v|0,this._a=this._a+l+(this._al>>>0<m>>>0?1:0)|0,this._b=this._b+n+(this._bl>>>0<g>>>0?1:0)|0,this._c=this._c+r+(this._cl>>>0<d>>>0?1:0)|0,this._d=this._d+e+(this._dl>>>0<S>>>0?1:0)|0,this._e=this._e+f+(this._el>>>0<b>>>0?1:0)|0,this._f=this._f+u+(this._fl>>>0<p>>>0?1:0)|0,this._g=this._g+c+(this._gl>>>0<G>>>0?1:0)|0,this._h=this._h+o+(this._hl>>>0<v>>>0?1:0)|0},Sha512.prototype._hash=function(){function t(t,h,s){i.writeInt32BE(t,s),i.writeInt32BE(h,s+4)}var i=new Buffer(64);return t(this._a,this._al,0),t(this._b,this._bl,8),t(this._c,this._cl,16),t(this._d,this._dl,24),t(this._e,this._el,32),t(this._f,this._fl,40),t(this._g,this._gl,48),t(this._h,this._hl,56),i},module.exports=Sha512;
}).call(this,require("buffer").Buffer)

},{"./hash":565,"buffer":42,"inherits":98}],573:[function(require,module,exports){
function Stream(){EE.call(this)}module.exports=Stream;var EE=require("events").EventEmitter,inherits=require("inherits");inherits(Stream,EE),Stream.Readable=require("readable-stream/readable.js"),Stream.Writable=require("readable-stream/writable.js"),Stream.Duplex=require("readable-stream/duplex.js"),Stream.Transform=require("readable-stream/transform.js"),Stream.PassThrough=require("readable-stream/passthrough.js"),Stream.Stream=Stream,Stream.prototype.pipe=function(e,r){function t(r){e.writable&&!1===e.write(r)&&m.pause&&m.pause()}function n(){m.readable&&m.resume&&m.resume()}function a(){u||(u=!0,e.end())}function o(){u||(u=!0,"function"==typeof e.destroy&&e.destroy())}function i(e){if(s(),0===EE.listenerCount(this,"error"))throw e}function s(){m.removeListener("data",t),e.removeListener("drain",n),m.removeListener("end",a),m.removeListener("close",o),m.removeListener("error",i),e.removeListener("error",i),m.removeListener("end",s),m.removeListener("close",s),e.removeListener("close",s)}var m=this;m.on("data",t),e.on("drain",n),e._isStdio||r&&r.end===!1||(m.on("end",a),m.on("close",o));var u=!1;return m.on("error",i),e.on("error",i),m.on("end",s),m.on("close",s),e.on("close",s),e.emit("pipe",m),e};
},{"events":84,"inherits":98,"readable-stream/duplex.js":574,"readable-stream/passthrough.js":580,"readable-stream/readable.js":581,"readable-stream/transform.js":582,"readable-stream/writable.js":583}],574:[function(require,module,exports){
arguments[4][260][0].apply(exports,arguments)
},{"./lib/_stream_duplex.js":575,"dup":260}],575:[function(require,module,exports){
(function (process){
function Duplex(e){return this instanceof Duplex?(Readable.call(this,e),Writable.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(e)}function onend(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}function forEach(e,t){for(var i=0,r=e.length;r>i;i++)t(e[i],i)}module.exports=Duplex;var objectKeys=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t},util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable"),Writable=require("./_stream_writable");util.inherits(Duplex,Readable),forEach(objectKeys(Writable.prototype),function(e){Duplex.prototype[e]||(Duplex.prototype[e]=Writable.prototype[e])});
}).call(this,require('_process'))

},{"./_stream_readable":577,"./_stream_writable":579,"_process":425,"core-util-is":45,"inherits":98}],576:[function(require,module,exports){
function PassThrough(r){return this instanceof PassThrough?void Transform.call(this,r):new PassThrough(r)}module.exports=PassThrough;var Transform=require("./_stream_transform"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(r,s,i){i(null,r)};
},{"./_stream_transform":578,"core-util-is":45,"inherits":98}],577:[function(require,module,exports){
(function (process){
function ReadableState(e,t){var n=require("./_stream_duplex");e=e||{};var r=e.highWaterMark,i=e.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this.decoder=new StringDecoder(e.encoding),this.encoding=e.encoding)}function Readable(e){require("./_stream_duplex");return this instanceof Readable?(this._readableState=new ReadableState(e,this),this.readable=!0,void Stream.call(this)):new Readable(e)}function readableAddChunk(e,t,n,r,i){var a=chunkInvalid(t,n);if(a)e.emit("error",a);else if(util.isNullOrUndefined(n))t.reading=!1,t.ended||onEofChunk(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var d=new Error("stream.push() after EOF");e.emit("error",d)}else if(t.endEmitted&&i){var d=new Error("stream.unshift() after end event");e.emit("error",d)}else!t.decoder||i||r||(n=t.decoder.write(n)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&emitReadable(e)),maybeReadMore(e,t);else i||(t.reading=!1);return needMoreData(t)}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function roundUpToNextPowerOf2(e){if(e>=MAX_HWM)e=MAX_HWM;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function howMuchToRead(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||util.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=roundUpToNextPowerOf2(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function chunkInvalid(e,t){var n=null;return util.isBuffer(t)||util.isString(t)||util.isNullOrUndefined(t)||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function onEofChunk(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,emitReadable(e)}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(debug("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?process.nextTick(function(){emitReadable_(e)}):emitReadable_(e))}function emitReadable_(e){debug("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(function(){maybeReadMore_(e,t)}))}function maybeReadMore_(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(debug("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;debug("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&EE.listenerCount(e,"data")&&(t.flowing=!0,flow(e))}}function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(function(){resume_(e,t)}))}function resume_(e,t){t.resumeScheduled=!1,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;if(debug("flow",t.flowing),t.flowing)do var n=e.read();while(null!==n&&t.flowing)}function fromList(e,t){var n,r=t.buffer,i=t.length,a=!!t.decoder,d=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(d)n=r.shift();else if(!e||e>=i)n=a?r.join(""):Buffer.concat(r,i),r.length=0;else if(e<r[0].length){var o=r[0];n=o.slice(0,e),r[0]=o.slice(e)}else if(e===r[0].length)n=r.shift();else{n=a?"":new Buffer(e);for(var l=0,u=0,s=r.length;s>u&&e>l;u++){var o=r[0],h=Math.min(e-l,o.length);a?n+=o.slice(0,h):o.copy(n,l,0,h),h<o.length?r[0]=o.slice(h):r.shift(),l+=h}}return n}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,process.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function forEach(e,t){for(var n=0,r=e.length;r>n;n++)t(e[n],n)}function indexOf(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}module.exports=Readable;var isArray=require("isarray"),Buffer=require("buffer").Buffer;Readable.ReadableState=ReadableState;var EE=require("events").EventEmitter;EE.listenerCount||(EE.listenerCount=function(e,t){return e.listeners(t).length});var Stream=require("stream"),util=require("core-util-is");util.inherits=require("inherits");var StringDecoder,debug=require("util");debug=debug&&debug.debuglog?debug.debuglog("stream"):function(){},util.inherits(Readable,Stream),Readable.prototype.push=function(e,t){var n=this._readableState;return util.isString(e)&&!n.objectMode&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=new Buffer(e,t),t="")),readableAddChunk(this,n,e,t,!1)},Readable.prototype.unshift=function(e){var t=this._readableState;return readableAddChunk(this,t,e,"",!0)},Readable.prototype.setEncoding=function(e){return StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this._readableState.decoder=new StringDecoder(e),this._readableState.encoding=e,this};var MAX_HWM=8388608;Readable.prototype.read=function(e){debug("read",e);var t=this._readableState,n=e;if((!util.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return debug("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(e=howMuchToRead(e,t),0===e&&t.ended)return 0===t.length&&endReadable(this),null;var r=t.needReadable;debug("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,debug("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,debug("reading or ended",r)),r&&(debug("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=howMuchToRead(n,t));var i;return i=e>0?fromList(e,t):null,util.isNull(i)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&endReadable(this),util.isNull(i)||this.emit("data",i),i},Readable.prototype._read=function(e){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(e,t){function n(e){debug("onunpipe"),e===s&&i()}function r(){debug("onend"),e.end()}function i(){debug("cleanup"),e.removeListener("close",o),e.removeListener("finish",l),e.removeListener("drain",g),e.removeListener("error",d),e.removeListener("unpipe",n),s.removeListener("end",r),s.removeListener("end",i),s.removeListener("data",a),!h.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function a(t){debug("ondata");var n=e.write(t);!1===n&&(debug("false write response, pause",s._readableState.awaitDrain),s._readableState.awaitDrain++,s.pause())}function d(t){debug("onerror",t),u(),e.removeListener("error",d),0===EE.listenerCount(e,"error")&&e.emit("error",t)}function o(){e.removeListener("finish",l),u()}function l(){debug("onfinish"),e.removeListener("close",o),u()}function u(){debug("unpipe"),s.unpipe(e)}var s=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,debug("pipe count=%d opts=%j",h.pipesCount,t);var f=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,b=f?r:i;h.endEmitted?process.nextTick(b):s.once("end",b),e.on("unpipe",n);var g=pipeOnDrain(s);return e.on("drain",g),s.on("data",a),e._events&&e._events.error?isArray(e._events.error)?e._events.error.unshift(d):e._events.error=[d,e._events.error]:e.on("error",d),e.once("close",o),e.once("finish",l),e.emit("pipe",s),h.flowing||(debug("pipe resume"),s.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;r>i;i++)n[i].emit("unpipe",this);return this}var i=indexOf(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},Readable.prototype.on=function(e,t){var n=Stream.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var r=this._readableState;if(!r.readableListening)if(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading)r.length&&emitReadable(this,r);else{var i=this;process.nextTick(function(){debug("readable nexttick read 0"),i.read(0)})}}return n},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug("resume"),e.flowing=!0,e.reading||(debug("resume read 0"),this.read(0)),resume(this,e)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(debug("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(debug("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)){var a=r.push(i);a||(n=!0,e.pause())}});for(var i in e)util.isFunction(e[i])&&util.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var a=["error","close","destroy","pause","resume"];return forEach(a,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){debug("wrapped _read",t),n&&(n=!1,e.resume())},r},Readable._fromList=fromList;
}).call(this,require('_process'))

},{"./_stream_duplex":575,"_process":425,"buffer":42,"core-util-is":45,"events":84,"inherits":98,"isarray":100,"stream":573,"string_decoder/":584,"util":6}],578:[function(require,module,exports){
arguments[4][38][0].apply(exports,arguments)
},{"./_stream_duplex":575,"core-util-is":45,"dup":38,"inherits":98}],579:[function(require,module,exports){
(function (process){
function WriteReq(e,i,t){this.chunk=e,this.encoding=i,this.callback=t}function WritableState(e,i){var t=require("./_stream_duplex");e=e||{};var r=e.highWaterMark,n=e.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.objectMode=!!e.objectMode,i instanceof t&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=e.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(i,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function Writable(e){var i=require("./_stream_duplex");return this instanceof Writable||this instanceof i?(this._writableState=new WritableState(e,this),this.writable=!0,void Stream.call(this)):new Writable(e)}function writeAfterEnd(e,i,t){var r=new Error("write after end");e.emit("error",r),process.nextTick(function(){t(r)})}function validChunk(e,i,t,r){var n=!0;if(!(util.isBuffer(t)||util.isString(t)||util.isNullOrUndefined(t)||i.objectMode)){var o=new TypeError("Invalid non-string/buffer chunk");e.emit("error",o),process.nextTick(function(){r(o)}),n=!1}return n}function decodeChunk(e,i,t){return!e.objectMode&&e.decodeStrings!==!1&&util.isString(i)&&(i=new Buffer(i,t)),i}function writeOrBuffer(e,i,t,r,n){t=decodeChunk(i,t,r),util.isBuffer(t)&&(r="buffer");var o=i.objectMode?1:t.length;i.length+=o;var f=i.length<i.highWaterMark;return f||(i.needDrain=!0),i.writing||i.corked?i.buffer.push(new WriteReq(t,r,n)):doWrite(e,i,!1,o,t,r,n),f}function doWrite(e,i,t,r,n,o,f){i.writelen=r,i.writecb=f,i.writing=!0,i.sync=!0,t?e._writev(n,i.onwrite):e._write(n,o,i.onwrite),i.sync=!1}function onwriteError(e,i,t,r,n){t?process.nextTick(function(){i.pendingcb--,n(r)}):(i.pendingcb--,n(r)),e._writableState.errorEmitted=!0,e.emit("error",r)}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,i){var t=e._writableState,r=t.sync,n=t.writecb;if(onwriteStateUpdate(t),i)onwriteError(e,t,r,i,n);else{var o=needFinish(e,t);o||t.corked||t.bufferProcessing||!t.buffer.length||clearBuffer(e,t),r?process.nextTick(function(){afterWrite(e,t,o,n)}):afterWrite(e,t,o,n)}}function afterWrite(e,i,t,r){t||onwriteDrain(e,i),i.pendingcb--,r(),finishMaybe(e,i)}function onwriteDrain(e,i){0===i.length&&i.needDrain&&(i.needDrain=!1,e.emit("drain"))}function clearBuffer(e,i){if(i.bufferProcessing=!0,e._writev&&i.buffer.length>1){for(var t=[],r=0;r<i.buffer.length;r++)t.push(i.buffer[r].callback);i.pendingcb++,doWrite(e,i,!0,i.length,i.buffer,"",function(e){for(var r=0;r<t.length;r++)i.pendingcb--,t[r](e)}),i.buffer=[]}else{for(var r=0;r<i.buffer.length;r++){var n=i.buffer[r],o=n.chunk,f=n.encoding,u=n.callback,s=i.objectMode?1:o.length;if(doWrite(e,i,!1,s,o,f,u),i.writing){r++;break}}r<i.buffer.length?i.buffer=i.buffer.slice(r):i.buffer.length=0}i.bufferProcessing=!1}function needFinish(e,i){return i.ending&&0===i.length&&!i.finished&&!i.writing}function prefinish(e,i){i.prefinished||(i.prefinished=!0,e.emit("prefinish"))}function finishMaybe(e,i){var t=needFinish(e,i);return t&&(0===i.pendingcb?(prefinish(e,i),i.finished=!0,e.emit("finish")):prefinish(e,i)),t}function endWritable(e,i,t){i.ending=!0,finishMaybe(e,i),t&&(i.finished?process.nextTick(t):e.once("finish",t)),i.ended=!0}module.exports=Writable;var Buffer=require("buffer").Buffer;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var Stream=require("stream");util.inherits(Writable,Stream),Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},Writable.prototype.write=function(e,i,t){var r=this._writableState,n=!1;return util.isFunction(i)&&(t=i,i=null),util.isBuffer(e)?i="buffer":i||(i=r.defaultEncoding),util.isFunction(t)||(t=function(){}),r.ended?writeAfterEnd(this,r,t):validChunk(this,r,e,t)&&(r.pendingcb++,n=writeOrBuffer(this,r,e,i,t)),n},Writable.prototype.cork=function(){var e=this._writableState;e.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||clearBuffer(this,e))},Writable.prototype._write=function(e,i,t){t(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,i,t){var r=this._writableState;util.isFunction(e)?(t=e,e=null,i=null):util.isFunction(i)&&(t=i,i=null),util.isNullOrUndefined(e)||this.write(e,i),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||endWritable(this,r,t)};
}).call(this,require('_process'))

},{"./_stream_duplex":575,"_process":425,"buffer":42,"core-util-is":45,"inherits":98,"stream":573}],580:[function(require,module,exports){
module.exports=require("./lib/_stream_passthrough.js");
},{"./lib/_stream_passthrough.js":576}],581:[function(require,module,exports){
exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=require("stream"),exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js");
},{"./lib/_stream_duplex.js":575,"./lib/_stream_passthrough.js":576,"./lib/_stream_readable.js":577,"./lib/_stream_transform.js":578,"./lib/_stream_writable.js":579,"stream":573}],582:[function(require,module,exports){
arguments[4][40][0].apply(exports,arguments)
},{"./lib/_stream_transform.js":578,"dup":40}],583:[function(require,module,exports){
module.exports=require("./lib/_stream_writable.js");
},{"./lib/_stream_writable.js":579}],584:[function(require,module,exports){
arguments[4][268][0].apply(exports,arguments)
},{"buffer":42,"dup":268}],585:[function(require,module,exports){
(function (__dirname){
function Client(e,r){r=r||{};var t=r.overridePath||"/api",i=url.parse(e);if(i.protocol)if("http+unix:"===i.protocol)this.apiUrl=util.format("http://unix:%s:/%s",i.pathname,t);else{if("http:"!==i.protocol)throw Error("Unknown protocol: "+i.protocol+"//");this.apiUrl=urlDefaults(e,{host:"127.0.0.1",port:8701},{path:t})}else this.apiUrl=util.format("http://unix:%s:%s",path.resolve(e),t);debug("connecting to %s",this.apiUrl);var o=loopback();o.dataSource("remote",{connector:"remote",url:this.apiUrl}),boot(o,{appId:r.appBrowserifyId||"meshClient",appRootDir:__dirname}),o.set("apiUrl",this.apiUrl),this.loopback=o,this.models=o.models,this.apiVersion=require("../package.json").apiVersion,o.models(),serverService(o.models.ServerService),serviceInstance(o.models.ServiceInstance)}function checkRemoteApiSemver(e){var r=this;r.apiInfo(function(t,i){if(t)return debug("apiInfo error:",t),404===t.statusCode?e(new Error("incompatible remote API v5 or earlier")):e();var o=r.apiVersion.split(".")[0],n=i.apiVersion.split(".")[0];return debug("local %s %s.x remote %s %s.x",r.apiVersion,o,i.apiVersion,n),o!==n?e(new Error("incompatible remote API v"+i.apiVersion)):e()})}function serviceFindOrCreate(e,r,t){var i=this;i.serviceFind(e,function(o,n){return o&&404!==o.statusCode?t(o):n?t(null,n):void i.serviceCreate(e,r,t)})}function serviceCreate(e,r,t){var i=this.models.ServerService;null==r&&(r=1);var o={name:e,_groups:[{id:1,name:"default",scale:r}]};return i.create(o,t),this}function serviceList(e){var r=this.models.ServerService;return r.find({order:["id ASC"]},e)}function serviceDestroy(e,r){var t=this.models.ServerService,i={where:{or:[{name:e},{id:e}]}};return t.findOne(i,function(e,i){return e||!i?r(e,i):void t.deleteById(i.id,r)}),this}function serviceFind(e,r){var t=this.models.ServerService,i={order:["id ASC"]};e&&(i.where={or:[{name:e},{id:e}]}),t.findOne(i,r)}function groupCreate(e,r,t,i){var o=this.models.ServerService,n={where:{or:[{name:e},{id:e}]}};return o.findOne(n,function(e,o){if(!o)return i(e,o);debug("groupCreate before: %j",o);var n=_.find(o._groups,{name:r});n?n.scale=t:o._groups.push({name:r,scale:t}),debug("groupCreate after: %j",o),o.save(function(e,r){e||assert(r),i(e,o)})}),this}function instanceList(e,r){var t=this.models.ServerService,i=this.models.ServiceInstance,o={where:{or:[{name:e},{id:e}]}};t.findOne(o,function(e,t){if(e||!t)return r(e,t);var o={where:{serverServiceId:t.id},order:["id ASC"]};i.find(o,r)})}function instanceFind(e,r){var t=this.models.ServiceInstance;t.findById(e,function(e,t){return e||!t?r(e):void r(null,t)})}function getApi(){return this.models.Api}function resolveTarget(e,r){function t(e,t){if(e)return r(e);if(!t)return r(Error("Service not found"));var o={order:["id ASC"]};c&&(o.where={id:c}),d.findOne(o,i.bind(null,t))}function i(e,t,i){if(t)return r(t);if(!i)return r(Error("Service not found"));var n={where:{serverServiceId:e.id,executorId:i.id}};a.findOne(n,o.bind(null,e,i))}function o(e,t,i,o){if(i)return r(i);if(!o)return r(Error("Service not deployed"));var s={limit:1,where:{or:[{pid:n},{workerId:n}],stopReason:""}};o.processes(s,function(i,n){if(i)return r(i);if(1!==n.length)return r("Unable to find process");var s=n[0];debug("Target resolved to: %j",{proc:s.pid,serv:e.id,exec:t.id,inst:o.id}),r(i,e,t,o,s)})}e=e.split(".").slice(0,3);var n=e.pop(),s=e.shift(),c=e.pop();debug("Target input to: %j",{proc:n,serv:s||"?",exec:c||"?"});var a=this.models.ServiceInstance,u=this.models.ServerService,d=this.models.Executor,p={order:["id ASC"]};return s&&(p.where={or:[{name:s},{id:s}]}),u.findOne(p,t)}function resolveInstance(e,r){function t(e,t){if(e)return r(e);if(!t)return r(Error("Service not found"));var o={order:["id ASC"]};n&&(o.where={id:n}),a.findOne(o,i.bind(null,t))}function i(e,t,i){if(t)return r(t);if(!i)return r(Error("Service not found"));var o={where:{serverServiceId:e.id,executorId:i.id}};s.findOne(o,function(t,o){return t?r(t):(debug("Instance resolved to: %j",{serv:e.id,exec:i.id,inst:o.id}),void r(t,e,i,o))})}e=e.split(".").slice(0,3);var o=e.shift(),n=e.pop();debug("Instance input to: %j",{serv:o||"?",exec:n||"?"});var s=this.models.ServiceInstance,c=this.models.ServerService,a=this.models.Executor,u={order:["id ASC"]};return o&&(u.where={or:[{name:o},{id:o}]}),c.findOne(u,t)}function apiInfo(e){var r=this.models.Api;r.apiInfo(e)}function dailyExpressMetricsSummary(e){this.models.ExpressUsageRecord.dailySummary(e)}function hourlyExpressMetricsSummary(e,r){this.models.ExpressUsageRecord.hourlySummary(e,r)}function expressMetricsEndpointDetail(e,r,t){this.models.ExpressUsageRecord.endpointDetail(e,r,t)}function executorCreate(e,r){this.models.Executor.create({driver:e||"executor"},r)}function executorList(e){this.models.Executor.find({},e)}function executorDestroy(e,r){this.models.Executor.deleteById(e,r)}var _=require("lodash"),assert=require("assert"),boot=require("loopback-boot"),debug=require("debug")("strong-mesh-models:client"),loopback=require("loopback"),serverService=require("./models/server-service"),serviceInstance=require("./models/service-instance"),url=require("url"),urlDefaults=require("strong-url-defaults"),util=require("util"),path=require("path");module.exports=Client,Client.prototype.checkRemoteApiSemver=checkRemoteApiSemver,Client.prototype.serviceFindOrCreate=serviceFindOrCreate,Client.prototype.serviceCreate=serviceCreate,Client.prototype.serviceList=serviceList,Client.prototype.serviceDestroy=serviceDestroy,Client.prototype.serviceFind=serviceFind,Client.prototype.groupCreate=groupCreate,Client.prototype.instanceList=instanceList,Client.prototype.instanceFind=instanceFind,Client.prototype.getApi=getApi,Client.prototype.resolveTarget=resolveTarget,Client.prototype.resolveInstance=resolveInstance,Client.prototype.apiInfo=apiInfo,Client.prototype.dailyExpressMetricsSummary=dailyExpressMetricsSummary,Client.prototype.hourlyExpressMetricsSummary=hourlyExpressMetricsSummary,Client.prototype.expressMetricsEndpointDetail=expressMetricsEndpointDetail,Client.prototype.executorCreate=executorCreate,Client.prototype.executorList=executorList,Client.prototype.executorDestroy=executorDestroy;
}).call(this,"/..\\node_modules\\strong-mesh-models\\client")

},{"../package.json":587,"./models/server-service":"loopback-boot#models#client\\models\\server-service.js","./models/service-instance":586,"assert":2,"debug":53,"lodash":101,"loopback":172,"loopback-boot":102,"path":423,"strong-url-defaults":591,"url":592,"util":594}],586:[function(require,module,exports){
var request=require("request"),util=require("util");module.exports=function(r){function e(r,e,t){return this._appCommand({cmd:"patch",target:r,patch:e},t)}function t(e,t){var o=r.app.models.ServerService;o.findById(this.serverServiceId,function(o,n){return o?t(o):void n.profileDatas.findById(e,function(o,i){if(o)return t(o);if(!i)return t(Error("Profile "+e+" not found"));var u=util.format("%s/services/%s/profileDatas/%s/download",r.app.get("apiUrl"),n.id,i.id),a=request.get(u);a.on("response",function(r){t&&t(null,r),t=null}),a.on("error",function(r){t&&t(r),t=null})})})}r.prototype.applyPatch=e,r.prototype.downloadProfile=t};
},{"request":438,"util":594}],587:[function(require,module,exports){
module.exports={"_args":[["strong-mesh-models@^7.0.0","c:\\Users\\mx²\\kb\\knotbeard\\node_modules\\strong-mesh-client"]],"_from":"strong-mesh-models@>=7.0.0 <8.0.0","_id":"strong-mesh-models@7.1.1","_inCache":true,"_installable":true,"_location":"/strong-mesh-client/strong-mesh-models","_nodeVersion":"2.3.1","_npmUser":{"email":"r.m.graham@gmail.com","name":"rmg"},"_npmVersion":"2.11.3","_phantomChildren":{},"_requested":{"name":"strong-mesh-models","raw":"strong-mesh-models@^7.0.0","rawSpec":"^7.0.0","scope":null,"spec":">=7.0.0 <8.0.0","type":"range"},"_requiredBy":["/strong-mesh-client"],"_resolved":"https://registry.npmjs.org/strong-mesh-models/-/strong-mesh-models-7.1.1.tgz","_shasum":"0b2b421bf8ea29ef442c4627517f7d747e1f1498","_shrinkwrap":null,"_spec":"strong-mesh-models@^7.0.0","_where":"c:\\Users\\mx²\\kb\\knotbeard\\node_modules\\strong-mesh-client","apiVersion":"6.1.0","author":{"name":"engineering@strongloop.com"},"bin":{"sl-meshadm":"./bin/sl-meshadm.js","sl-meshctl":"./bin/sl-meshctl.js"},"bugs":{"url":"https://github.com/strongloop/strong-mesh-models/issues"},"dependencies":{"async":"^0.9.0","compression":"^1.4.0","concat-stream":"^1.4.7","debug":"^2.1.1","errorhandler":"^1.3.0","http-auth":"^2.2.6","lodash":"^3.3.1","loopback":"^2.12.0","loopback-boot":"^2.6.0","loopback-datasource-juggler":"^2.18.0","loopback-explorer":"^1.7.0","osenv":"^0.1.0","posix-getopt":"^1.1.0","request":"^2.53.0","serve-favicon":"^2.2.0","sprintf":"^0.1.5","strong-npm-ls":"^1.0.5","strong-tunnel":"^1.0.0","strong-url-defaults":"^1.0.0","text-table":"^0.2.0","user-home":"^1.1.1"},"description":"Loopback models for communicating over REST with strong-pm and strong-scheduler","devDependencies":{"eslint":"^0.20.0","istanbul":"^0.3.0","jscs":"^1.11.3","tap":"^1.0.4","temporary":"0.0.8"},"directories":{},"dist":{"shasum":"0b2b421bf8ea29ef442c4627517f7d747e1f1498","tarball":"http://registry.npmjs.org/strong-mesh-models/-/strong-mesh-models-7.1.1.tgz"},"gitHead":"8b899e027ca4e9d7203b7406ca26e91ca233296d","homepage":"https://github.com/strongloop/strong-mesh-models#readme","keywords":["StrongLoop","dependencies"],"license":{"name":"StrongLoop","url":"https://github.com/strongloop/strong-mesh-models/blob/master/LICENSE.md"},"main":"index.js","maintainers":[{"name":"kraman","email":"kraman@strongloop.com"},{"name":"octet","email":"sam@strongloop.com"},{"name":"strongloop","email":"callback@strongloop.com"},{"name":"rmg","email":"r.m.graham@gmail.com"},{"name":"setogit","email":"setogit@gmail.com"}],"name":"strong-mesh-models","optionalDependencies":{},"readme":"ERROR: No README data found!","repository":{"type":"git","url":"git+https://github.com/strongloop/strong-mesh-models.git"},"scripts":{"cover":"test/cover.sh","lint":"eslint . && jscs .","pretest":"eslint . && jscs .","test":"tap --bail --timeout=300 test/test-*.js"},"version":"7.1.1"}
},{}],588:[function(require,module,exports){
function makeAuthMiddleware(e){var t=parseAuth(e);return authMethods[t.scheme](t.user,t.realm,t.pass)}function parseAuth(e){var t=AUTH_REGEXP.exec(e)||AUTH_REGEXP.exec("basic:"+e),a={scheme:t?t[1]:"none",user:t&&t[2],pass:t&&t[3],realm:"strong-pm"};return a.normalized=fmt("%s:%s:%s",a.scheme,a.user,a.pass),a}function makeNoAuth(){return function(e,t,a){a()}}function makeBasicAuth(e,t,a){function r(t,r,u){u(t===e&&r===a)}console.log("Enabling HTTP authentication (Basic)");var u=auth.basic({realm:t},r);return auth.connect(u)}function makeDigestAuth(e,t,a){function r(t,a){a(t===e?u:null)}console.log("Enabling HTTP authentication (Digest)");var u=md5(fmt("%s:%s:%s",e,t,a)),n=auth.digest({realm:t},r);return auth.connect(n)}function md5(e){var t=crypto.createHash("md5");return t.update(e),t.digest("hex")}var auth=require("http-auth"),crypto=require("crypto"),fmt=require("util").format;module.exports=makeAuthMiddleware,module.exports.parse=parseAuth;var authMethods={basic:makeBasicAuth,digest:makeDigestAuth,none:makeNoAuth},AUTH_REGEXP=/^(basic|digest):(.+):(.+)$/;
},{"crypto":52,"http-auth":35,"util":594}],589:[function(require,module,exports){
(function (process,__dirname){
function server(e,r,t){var a=module.exports=loopback();a.serviceManager=e,t=t||{};var s=864e5;t["ExpressUsageRecord.deleteWindow"]=t["ExpressUsageRecord.deleteWindow"]||String(s);for(var o in t)t.hasOwnProperty(o)&&a.set(o,t[o]);return a.minkelite=r,boot(a,__dirname),a.start=function(e){a._server=a.listen(function(){var r=this.address();return a.emit("started",r.port),console.log("Web server listening at port: %s",r.port),e?e(null,r.port):void 0})},a.stop=function(e){function r(){a.emit("stopped"),e&&e()}return this.minkelite&&this.minkelite.shutdown(),this._server?void this._server.close(r):r()},a.handleModelUpdate=function(e,r,t){t||(t=assert.ifError);var s=a.models.AgentTrace,o=a.models.ExpressUsageRecord,i=a.models.ProfileData,c=a.models.ServiceInstance,n=a.models.ServiceMetric,d=a.models.ServiceProcess;switch(r.cmd){case"started":c.recordInstanceInfo(e,r,function(a){return a?t(a):void d.recordFork(e,r,t)});break;case"fork":d.recordFork(e,r,t);break;case"exit":d.recordExit(e,r,t);break;case"listening":d.recordListeningEndpoint(e,r,t);break;case"object-tracking":case"cpu-profiling":case"heap-snapshot":d.recordProfilingState(e,r,t);break;case"status":c.recordStatusUpdate(e,r,t);break;case"metrics":n.recordMetrics(e,r,t);break;case"agent:trace":s.recordTrace(e,r,t);break;case"trace:object":if(!a.minkelite)return t();var p=JSON.parse(r.record);a.minkelite.postRawPieces(p.version,p.packet.metadata.account_key,p.packet,t);break;case"express:usage-record":o.recordUsage(e,r,t);break;case"cpu:profile-data":i.recordProfileData(e,r,t);break;case"status:wd":d.recordStatusWdUpdate(e,r,function(a){return a?t(a):r.appName?void c.recordStatusWdUpdate(e,r,t):process.nextTick(t)});break;default:debug("Unknown request: %j",r),t()}},a.setServiceCommit=function(e,r,t){var s=a.models.ServerService;s.setServiceCommit(e,r,t)},a}var ServiceManager=require("./service-manager"),assert=require("assert"),boot=require("loopback-boot"),debug=require("debug")("strong-mesh-models:server"),loopback=require("loopback");if(require.main===module){var appServer=server(new ServiceManager);appServer.start()}module.exports=server;
}).call(this,require('_process'),"/..\\node_modules\\strong-mesh-models\\server")

},{"./service-manager":590,"_process":425,"assert":2,"debug":53,"loopback":172,"loopback-boot":102}],590:[function(require,module,exports){
function ServiceManager(){debug("ServiceManager created")}function onServiceUpdate(e,t,n){debug("onServiceUpdate(%j, %s)",e,t),setImmediate(n)}function onServiceDestroy(e,t){debug("onServiceDestroy(%j)",e),setImmediate(t)}function onExecutorUpdate(e,t,n){debug("onExecutorUpdate(%j, %s)",e,t),setImmediate(n)}function onInstanceUpdate(e,t,n){debug("onInstanceUpdate(%j)",e),setImmediate(n)}function onInstanceDestroy(e,t){debug("onInstanceDestroy(%j)",e),setImmediate(t)}function onDeployment(e,t,n){debug("onDeployment(%j)",e),n.end("hi")}function getDeployment(e,t,n){debug("getDeployment(%j)",e),n.end("hi")}function onCtlRequest(e,t,n,o){debug("onCtlRequest(%j, %j, %j)",e,t,n),o(null,{error:"Control request not implemented"})}function onApiRequest(e,t){debug("onApiRequest(%j)",e),t(Error("API request not implemented"))}function getApiVersionInfo(e){e(Error("API version info request not implemented"))}var debug=require("debug")("strong-mesh-models:server:service-manager");ServiceManager.prototype.onServiceUpdate=onServiceUpdate,ServiceManager.prototype.onServiceDestroy=onServiceDestroy,ServiceManager.prototype.onExecutorUpdate=onExecutorUpdate,ServiceManager.prototype.onInstanceUpdate=onInstanceUpdate,ServiceManager.prototype.onInstanceDestroy=onInstanceDestroy,ServiceManager.prototype.onDeployment=onDeployment,ServiceManager.prototype.getDeployment=getDeployment,ServiceManager.prototype.onCtlRequest=onCtlRequest,ServiceManager.prototype.onApiRequest=onApiRequest,ServiceManager.prototype.getApiVersionInfo=getApiVersionInfo,module.exports=ServiceManager;
},{"debug":53}],591:[function(require,module,exports){
"use strict";function normalize(e,r,t){function a(e,a){e in t?o[a]=t[e]:o[a]=o[a]||r[e]}var o=parse(e);return t=t||{},"/"===o.pathname&&delete o.pathname,a("path","pathname"),a("host","hostname"),a("port","port"),a("protocol","protocol"),a("auth","auth"),o.slashes=!0,delete o.host,format(o)}var parse=require("url").parse,format=require("url").format;module.exports=normalize;
},{"url":592}],592:[function(require,module,exports){
function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(t,s,e){if(t&&isObject(t)&&t instanceof Url)return t;var h=new Url;return h.parse(t,s,e),h}function urlFormat(t){return isString(t)&&(t=urlParse(t)),t instanceof Url?t.format():Url.prototype.format.call(t)}function urlResolve(t,s){return urlParse(t,!1,!0).resolve(s)}function urlResolveObject(t,s){return t?urlParse(t,!1,!0).resolveObject(s):s}function isString(t){return"string"==typeof t}function isObject(t){return"object"==typeof t&&null!==t}function isNull(t){return null===t}function isNullOrUndefined(t){return null==t}var punycode=require("punycode");exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,delims=["<",">",'"',"`"," ","\r","\n","	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");Url.prototype.parse=function(t,s,e){if(!isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var h=t;h=h.trim();var r=protocolPattern.exec(h);if(r){r=r[0];var o=r.toLowerCase();this.protocol=o,h=h.substr(r.length)}if(e||r||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===h.substr(0,2);!a||r&&hostlessProtocol[r]||(h=h.substr(2),this.slashes=!0)}if(!hostlessProtocol[r]&&(a||r&&!slashedProtocol[r])){for(var n=-1,i=0;i<hostEndingChars.length;i++){var l=h.indexOf(hostEndingChars[i]);-1!==l&&(-1===n||n>l)&&(n=l)}var c,u;u=-1===n?h.lastIndexOf("@"):h.lastIndexOf("@",n),-1!==u&&(c=h.slice(0,u),h=h.slice(u+1),this.auth=decodeURIComponent(c)),n=-1;for(var i=0;i<nonHostChars.length;i++){var l=h.indexOf(nonHostChars[i]);-1!==l&&(-1===n||n>l)&&(n=l)}-1===n&&(n=h.length),this.host=h.slice(0,n),h=h.slice(n),this.parseHost(),this.hostname=this.hostname||"";var p="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!p)for(var f=this.hostname.split(/\./),i=0,m=f.length;m>i;i++){var v=f[i];if(v&&!v.match(hostnamePartPattern)){for(var g="",y=0,d=v.length;d>y;y++)g+=v.charCodeAt(y)>127?"x":v[y];if(!g.match(hostnamePartPattern)){var P=f.slice(0,i),b=f.slice(i+1),j=v.match(hostnamePartStart);j&&(P.push(j[1]),b.unshift(j[2])),b.length&&(h="/"+b.join(".")+h),this.hostname=P.join(".");break}}}if(this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),!p){for(var O=this.hostname.split("."),q=[],i=0;i<O.length;++i){var x=O[i];q.push(x.match(/[^A-Za-z0-9_-]/)?"xn--"+punycode.encode(x):x)}this.hostname=q.join(".")}var U=this.port?":"+this.port:"",C=this.hostname||"";this.host=C+U,this.href+=this.host,p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==h[0]&&(h="/"+h))}if(!unsafeProtocol[o])for(var i=0,m=autoEscape.length;m>i;i++){var A=autoEscape[i],E=encodeURIComponent(A);E===A&&(E=escape(A)),h=h.split(A).join(E)}var w=h.indexOf("#");-1!==w&&(this.hash=h.substr(w),h=h.slice(0,w));var R=h.indexOf("?");if(-1!==R?(this.search=h.substr(R),this.query=h.substr(R+1),s&&(this.query=querystring.parse(this.query)),h=h.slice(0,R)):s&&(this.search="",this.query={}),h&&(this.pathname=h),slashedProtocol[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",x=this.search||"";this.path=U+x}return this.href=this.format(),this},Url.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var s=this.protocol||"",e=this.pathname||"",h=this.hash||"",r=!1,o="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&isObject(this.query)&&Object.keys(this.query).length&&(o=querystring.stringify(this.query));var a=this.search||o&&"?"+o||"";return s&&":"!==s.substr(-1)&&(s+=":"),this.slashes||(!s||slashedProtocol[s])&&r!==!1?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),h&&"#"!==h.charAt(0)&&(h="#"+h),a&&"?"!==a.charAt(0)&&(a="?"+a),e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),s+r+e+a+h},Url.prototype.resolve=function(t){return this.resolveObject(urlParse(t,!1,!0)).format()},Url.prototype.resolveObject=function(t){if(isString(t)){var s=new Url;s.parse(t,!1,!0),t=s}var e=new Url;if(Object.keys(this).forEach(function(t){e[t]=this[t]},this),e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(s){"protocol"!==s&&(e[s]=t[s])}),slashedProtocol[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e;if(t.protocol&&t.protocol!==e.protocol){if(!slashedProtocol[t.protocol])return Object.keys(t).forEach(function(s){e[s]=t[s]}),e.href=e.format(),e;if(e.protocol=t.protocol,t.host||hostlessProtocol[t.protocol])e.pathname=t.pathname;else{for(var h=(t.pathname||"").split("/");h.length&&!(t.host=h.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),e.pathname=h.join("/")}if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var r=e.pathname||"",o=e.search||"";e.path=r+o}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var a=e.pathname&&"/"===e.pathname.charAt(0),n=t.host||t.pathname&&"/"===t.pathname.charAt(0),i=n||a||e.host&&t.pathname,l=i,c=e.pathname&&e.pathname.split("/")||[],h=t.pathname&&t.pathname.split("/")||[],u=e.protocol&&!slashedProtocol[e.protocol];if(u&&(e.hostname="",e.port=null,e.host&&(""===c[0]?c[0]=e.host:c.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===h[0]?h[0]=t.host:h.unshift(t.host)),t.host=null),i=i&&(""===h[0]||""===c[0])),n)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,c=h;else if(h.length)c||(c=[]),c.pop(),c=c.concat(h),e.search=t.search,e.query=t.query;else if(!isNullOrUndefined(t.search)){if(u){e.hostname=e.host=c.shift();var p=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;p&&(e.auth=p.shift(),e.host=e.hostname=p.shift())}return e.search=t.search,e.query=t.query,isNull(e.pathname)&&isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!c.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var f=c.slice(-1)[0],m=(e.host||t.host)&&("."===f||".."===f)||""===f,v=0,g=c.length;g>=0;g--)f=c[g],"."==f?c.splice(g,1):".."===f?(c.splice(g,1),v++):v&&(c.splice(g,1),v--);if(!i&&!l)for(;v--;v)c.unshift("..");!i||""===c[0]||c[0]&&"/"===c[0].charAt(0)||c.unshift(""),m&&"/"!==c.join("/").substr(-1)&&c.push("");var y=""===c[0]||c[0]&&"/"===c[0].charAt(0);if(u){e.hostname=e.host=y?"":c.length?c.shift():"";var p=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;p&&(e.auth=p.shift(),e.host=e.hostname=p.shift())}return i=i||e.host&&c.length,i&&!y&&c.unshift(""),c.length?e.pathname=c.join("/"):(e.pathname=null,e.path=null),isNull(e.pathname)&&isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},Url.prototype.parseHost=function(){var t=this.host,s=portPattern.exec(t);s&&(s=s[0],":"!==s&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};
},{"punycode":433,"querystring":436}],593:[function(require,module,exports){
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};
},{}],594:[function(require,module,exports){
(function (process,global){
function inspect(e,r){var t={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),isBoolean(r)?t.showHidden=r:r&&exports._extend(t,r),isUndefined(t.showHidden)&&(t.showHidden=!1),isUndefined(t.depth)&&(t.depth=2),isUndefined(t.colors)&&(t.colors=!1),isUndefined(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=stylizeWithColor),formatValue(t,e,t.depth)}function stylizeWithColor(e,r){var t=inspect.styles[r];return t?"["+inspect.colors[t][0]+"m"+e+"["+inspect.colors[t][1]+"m":e}function stylizeNoColor(e,r){return e}function arrayToHash(e){var r={};return e.forEach(function(e,t){r[e]=!0}),r}function formatValue(e,r,t){if(e.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==exports.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(t,e);return isString(n)||(n=formatValue(e,n,t)),n}var i=formatPrimitive(e,r);if(i)return i;var o=Object.keys(r),s=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),isError(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(r);if(0===o.length){if(isFunction(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(isRegExp(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return e.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var a="",c=!1,l=["{","}"];if(isArray(r)&&(c=!0,l=["[","]"]),isFunction(r)){var p=r.name?": "+r.name:"";a=" [Function"+p+"]"}if(isRegExp(r)&&(a=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(a=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(a=" "+formatError(r)),0===o.length&&(!c||0==r.length))return l[0]+a+l[1];if(0>t)return isRegExp(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var f;return f=c?formatArray(e,r,t,s,o):o.map(function(n){return formatProperty(e,r,t,s,n,c)}),e.seen.pop(),reduceToSingleString(f,a,l)}function formatPrimitive(e,r){if(isUndefined(r))return e.stylize("undefined","undefined");if(isString(r)){var t="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}return isNumber(r)?e.stylize(""+r,"number"):isBoolean(r)?e.stylize(""+r,"boolean"):isNull(r)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,r,t,n,i){for(var o=[],s=0,u=r.length;u>s;++s)hasOwnProperty(r,String(s))?o.push(formatProperty(e,r,t,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,r,t,n,i,!0))}),o}function formatProperty(e,r,t,n,i,o){var s,u,a;if(a=Object.getOwnPropertyDescriptor(r,i)||{value:r[i]},a.get?u=a.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):a.set&&(u=e.stylize("[Setter]","special")),hasOwnProperty(n,i)||(s="["+i+"]"),u||(e.seen.indexOf(a.value)<0?(u=isNull(t)?formatValue(e,a.value,null):formatValue(e,a.value,t-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),isUndefined(s)){if(o&&i.match(/^\d+$/))return u;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function reduceToSingleString(e,r,t){var n=0,i=e.reduce(function(e,r){return n++,r.indexOf("\n")>=0&&n++,e+r.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(""===r?"":r+"\n ")+" "+e.join(",\n  ")+" "+t[1]:t[0]+r+" "+e.join(", ")+" "+t[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return 10>e?"0"+e.toString(10):e.toString(10)}function timestamp(){var e=new Date,r=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],r].join(" ")}function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var formatRegExp=/%[sdj%]/g;exports.format=function(e){if(!isString(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(inspect(arguments[t]));return r.join(" ")}for(var t=1,n=arguments,i=n.length,o=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(t>=i)return e;switch(e){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch(r){return"[Circular]"}default:return e}}),s=n[t];i>t;s=n[++t])o+=isNull(s)||!isObject(s)?" "+s:" "+inspect(s);return o},exports.deprecate=function(e,r){function t(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(e,r).apply(this,arguments)};if(process.noDeprecation===!0)return e;var n=!1;return t};var debugs={},debugEnviron;exports.debuglog=function(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){var r=process.pid;debugs[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else debugs[e]=function(){};return debugs[e]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,r){if(!r||!isObject(r))return e;for(var t=Object.keys(r),n=t.length;n--;)e[t[n]]=r[t[n]];return e};
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./support/isBuffer":593,"_process":425,"inherits":98}],595:[function(require,module,exports){
function Context(){}var indexOf=require("indexof"),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(e){return this instanceof Script?void(this.code=e):new Script(e)};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,o=r.execScript;!n&&o&&(o.call(r,"null"),n=r.eval),forEach(Object_keys(e),function(t){r[t]=e[t]}),forEach(globals,function(t){e[t]&&(r[t]=e[t])});var c=Object_keys(r),i=n.call(r,this.code);return forEach(Object_keys(r),function(t){(t in e||-1===indexOf(c,t))&&(e[t]=r[t])}),forEach(globals,function(t){t in e||defineProp(e,t,r[t])}),document.body.removeChild(t),i},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return forEach(Object_keys(t),function(r){e[r]=t[r]}),r},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(r){t[r]=e[r]}),t};
},{"indexof":97}],"loopback-boot#instructions-meshClient":[function(require,module,exports){
module.exports={"env":"production","config":{},"dataSources":{"memory":{"name":"memory","connector":"memory"}},"models":[{"name":"Api","config":{"dataSource":"remote"},"definition":{"name":"Api","plural":"Api","base":"Model","description":"API","properties":{"version":{"type":"string","required":true,"description":"Version of this server"},"serverPid":{"type":"number","required":true,"description":"Operating system PID of the server process"},"apiPort":{"type":"number","required":true,"description":"Port that this server is listening on"},"apiVersion":{"type":"string","required":true,"description":"Version of the REST API"},"driverType":{"type":"string","required":true,"description":"The driver type run by this server"},"driverStatus":{"type":"string","required":true,"description":"The hostname of this executor"}},"validations":[],"relations":{},"acls":[],"methods":[]},"sourceFile":"loopback-boot#models#common\\models\\api.js"},{"name":"User","config":{"dataSource":"remote"}},{"name":"AccessToken","config":{"dataSource":"memory","public":false}},{"name":"ACL","config":{"dataSource":"memory","public":false}},{"name":"RoleMapping","config":{"dataSource":"memory","public":false}},{"name":"Role","config":{"dataSource":"memory","public":false}},{"name":"Service","definition":{"name":"Service","plural":"Services","base":"PersistedModel","indexes":{"name":{"keys":{"name":1},"options":{"unique":true}}},"options":{"hidden":["startTime","_group"]},"description":"Represents a Service","properties":{"name":{"type":"string","required":true,"index":1,"description":"The name of the service. This may be different from the name in the package.json"},"startTime":{"type":"date","description":"The timestamp for the last time this service was started"},"started":{"type":"boolean","description":"Indicates if the service should be running or stopped"},"deploymentInfo":{"type":"object","description":"Information about the node application deployed for this service"},"env":{"type":"object","default":{},"description":"List of environment variables set for the node application"}},"validations":[],"relations":{"executors":{"type":"hasMany","model":"Executor","through":"ServiceInstance","description":"List of executors the service is running on"},"instances":{"type":"hasMany","model":"ServiceInstance","description":"List of instances that run this service"},"profileDatas":{"type":"hasMany","model":"ProfileData","description":"List of cpuprofile or heapdumps gathered for this service"},"groups":{"type":"embedsMany","model":"Group","description":"List of groups used for routing or partitioning"}},"acls":[],"methods":[]},"sourceFile":"loopback-boot#models#common\\models\\service.js"},{"name":"ServerService","config":{"dataSource":"remote","public":true},"definition":{"name":"ServerService","plural":"Services","base":"Service","properties":{},"options":{},"relations":{},"indexes":{},"acls":[],"models":["Group","Service"]},"sourceFile":"loopback-boot#models#client\\models\\server-service.js"},{"name":"Group","config":{"dataSource":"remote","public":false},"definition":{"name":"Group","base":"PersistedModel","description":"Represents an abstract set of service instances that may be used for routing and partitioning","properties":{"name":{"type":"string","required":true,"description":"Name of the group"},"scale":{"type":"number","required":true,"description":"Number of service instance that should be in the group"}},"validations":[],"relations":{},"acls":[],"methods":[]}},{"name":"Executor","config":{"dataSource":"remote","public":true},"definition":{"name":"Executor","base":"PersistedModel","description":"Represents an Executor VM or bare-metal machine, which can host multiple service instances","properties":{"address":{"type":"string","description":"The IP address on which the API server and gateway can access this executor"},"hostname":{"type":"string","description":"The hostname of this executor"},"APIPort":{"type":"string","description":"The port this executor is listening on for API commands. (deprecated)"},"metadata":{"type":"object","description":"Driver and connection metadata for remote host","default":{}},"token":{"type":"string","description":"Authentication token for executor to connect to central"},"driver":{"type":"string","description":"The driver used to connect to this executor"},"totalCapacity":{"type":"number","description":"The number of containers/service instances that this executor can support"},"remainingCapacity":{"type":"number","default":-1,"description":"Currently allocated number of instances"}},"validations":[],"relations":{"instances":{"type":"hasMany","model":"ServiceInstance"},"services":{"type":"hasMany","model":"ServerService","through":"ServiceInstance"}},"acls":[],"methods":[]},"sourceFile":"loopback-boot#models#common\\models\\executor.js"},{"name":"ServiceInstance","config":{"dataSource":"remote","public":true},"definition":{"name":"ServiceInstance","base":"PersistedModel","description":"Represents an instance of a service running on an executor","properties":{"executorId":{"type":"number","index":1,"description":"The ID of the executor on which this instance is running"},"serverServiceId":{"type":"number","index":1,"description":"The ID of the service this executor belongs to"},"groupId":{"type":"number","index":1,"description":"The ID of the service group this executor belongs to"},"currentDeploymentId":{"type":"string","description":"The SHA1 hash of the package deployed to this instance. This ties back to the value of Service.deploymentInfo.hash"},"startTime":{"type":"date","description":"The ID of the service group this executor belongs to"},"restartCount":{"type":"number","description":"The number of time the supervisor process for this instance was killed or has crashed and had to be restarted"},"stats":{"type":"object"},"PMPort":{"type":"number","description":"The API port the process manager is available on"},"containerVersionInfo":{"type":"object","description":"Information about the host, operating system, node version and container technology hosting this instance"},"token":{"type":"string","description":"Authentication token for executor to connect to central"},"started":{"type":"boolean","default":false,"description":"Indicates if this instance should be running or stopped"},"setSize":{"type":"number","default":0,"description":"The currently configured number of node processes that the instance should be running"},"cpus":{"type":"string","description":"The number of cpus to use when starting the service on this instance"},"tracingEnabled":{"type":"boolean","default":false,"description":"Indicates if tracing is enabled on this instance"},"applicationName":{"type":"string","description":"The application name that strong-agent uses to report its metrics"},"npmModules":{"type":"object","description":"NPM package and sub-module information"},"agentVersion":{"type":"string","description":"The version of strong-agent running on this instance"}},"validations":[],"relations":{"actions":{"type":"hasMany","model":"InstanceAction"},"processes":{"type":"hasMany","model":"ServiceProcess"},"executor":{"type":"belongsTo","model":"Executor"},"serverService":{"type":"belongsTo","model":"ServerService"}},"acls":[],"methods":[]},"sourceFile":"loopback-boot#models#common\\models\\service-instance.js"},{"name":"ServiceProcess","config":{"dataSource":"remote","public":true},"definition":{"name":"ServiceProcess","base":"PersistedModel","description":"Represents a since OS process running on the Instance","properties":{"parentPid":{"type":"number","required":true,"index":true,"description":"The OS process ID of the parent of this process (eg: *NIX PPID)"},"pid":{"type":"number","required":true,"index":true,"description":"The OS process ID of this process (eg: *NIX PID)"},"workerId":{"type":"number","required":true,"description":"The cluster worker ID"},"listeningSockets":{"type":["object"],"default":[],"description":"List of addresses/ports this process is listening on"},"isTrackingObjects":{"type":"boolean","required":true,"default":false,"description":"Indicates if object-tracking is turned on for this process"},"isProfiling":{"type":"boolean","required":true,"default":false,"description":"Indicates if cpu-profiling is turned on for this process"},"isTracing":{"type":"boolean","required":true,"default":false,"description":"Indicates if tracing is turned on for this process"},"watchdogTimeout":{"type":"number","default":0,"description":"Watchdog timeout, in milliseconds. (0 = watchdog disabled)"},"watchdogStallout":{"type":"number","default":0,"description":"Watchdog stallout, in stall counts. (0 = stall disabled)"},"isSnapshotting":{"type":"boolean","required":true,"default":false,"description":"Indicates if a heap-dump is being performed on this process"},"startTime":{"type":"date","description":"Timestamp when this process was started"},"stopTime":{"type":"date","description":"Timestamp when this process was stopped or killed"},"stopReason":{"type":"string","description":"The signal or reason this process exited","default":""}},"validations":[],"relations":{"serviceInstance":{"type":"belongsTo","model":"ServiceInstance"}},"acls":[],"methods":[]},"sourceFile":"loopback-boot#models#common\\models\\service-process.js"},{"name":"ServiceMetric","config":{"dataSource":"remote","public":true},"definition":{"name":"ServiceMetric","base":"PersistedModel","properties":{"processId":{"type":"number","required":true,"description":"id of ServiceProcess, not the pid"},"workerId":{"type":"number","required":true},"timeStamp":{"type":"date","required":true},"counters":{"type":"object"},"timers":{"type":"object"},"gauges":{"type":"object"}},"validations":[],"relations":{},"acls":[],"methods":[]}},{"name":"AgentTrace","config":{"dataSource":"remote","public":true},"definition":{"name":"AgentTrace","base":"PersistedModel","properties":{"processId":{"type":"number","description":"id of ServiceProcess, not the pid","required":true},"workerId":{"type":"number","required":true},"timeStamp":{"type":"date","required":true},"trace":{"type":"object"}},"validations":[],"relations":{},"acls":[],"methods":[]}},{"name":"ExpressUsageRecord","config":{"dataSource":"remote","public":true},"definition":{"name":"ExpressUsageRecord","base":"PersistedModel","properties":{"processId":{"type":"number","description":"id of ServiceProcess, not the pid","required":true},"workerId":{"type":"number","required":true},"timeStamp":{"type":"date","required":true},"requestMethod":{"type":"string"},"requestUrl":{"type":"string"},"clientAddress":{"type":"string"},"clientUsername":{"type":"string"},"clientId":{"type":"string"},"clientDetail":{"type":"object"},"lbModelName":{"type":"string"},"lbInstanceId":{"type":"string"},"lbRemoteMethod":{"type":"string"},"detail":{"type":"object"},"responseDuration":{"type":"number"},"responseSize":{"type":"number"},"statusCode":{"type":"number"}},"validations":[],"relations":{},"acls":[],"methods":[]},"sourceFile":"loopback-boot#models#common\\models\\express-usage-record.js"},{"name":"ProfileData","config":{"dataSource":"remote","public":false},"definition":{"name":"ProfileData","plural":"ProfileDatas","base":"PersistedModel","options":{"hidden":["executorId"]},"description":"Represents a cpu profile or heap dump gathered from a node process","properties":{"executorId":{"type":"number","index":1,"description":"The ID of the Executor instance the process was running on"},"serverServiceId":{"type":"number","index":1,"description":"The ID of the Service the process was running"},"instanceId":{"type":"number","index":1,"description":"The ID of the Service instance the process was part of"},"serviceProcessId":{"type":"number","do we need? required":true,"index":1,"description":"The ID of the ServiceProcess"},"type":{"type":"string","required":true,"description":"The type of captured data: 'cpuprofile' or 'heapsnapshot'"},"targetId":{"type":"number","required":true,"description":"The OS Process ID or cluster worker ID of the process.","_comment1":"UNUSED? you can start on a pid, and stop on a wid","_comment2":"so field is unreliable, and appears without possible use"},"startTime":{"type":"date","required":true,"description":"Timestamp the cpu profile or heap dump was started"},"completed":{"type":"boolean","default":false,"description":"Indicates if the profile generation is still in progress"},"fileName":{"type":"string","description":"The name of the file on the Executor"},"errored":{"type":"string","description":"If an error occurred, this contains the error message"}},"validations":[],"relations":{"executor":{"type":"belongsTo","model":"Executor"},"serverService":{"type":"belongsTo","model":"ServerService"}},"acls":[],"methods":[]}},{"name":"Action","definition":{"name":"Action","base":"PersistedModel","description":"Represents an action to perform on an instance","properties":{"request":{"type":"object","required":true,"description":"Command, optional subcommand and target to perform an action on"},"timestamp":{"type":"date","description":"Timestamp when the action was submitted to the API"},"result":{"type":"object","description":"The result or output of the action"}},"validations":[],"relations":{"serviceInstance":{"type":"belongsTo","model":"ServiceInstance"}},"acls":[],"methods":[]}},{"name":"InstanceAction","config":{"dataSource":"remote","public":false},"definition":{"name":"InstanceAction","base":"Action","properties":{},"validations":[],"relations":{},"acls":[],"methods":[]}}],"components":[],"mixins":[],"files":{"boot":[]},"appId":"meshClient"}
},{}],"loopback-boot#instructions":[function(require,module,exports){
module.exports={"env":"production","config":{},"dataSources":{},"models":[{"name":"ManagerHost","config":{"dataSource":"proxy"},"definition":{"name":"ManagerHost","base":"PersistedModel","idInjection":true,"properties":{"id":{"type":"string","id":true},"host":{"type":"string","required":true},"port":{"type":"number","required":true},"error":{"type":"object"},"errorType":{"type":"string"},"app":{"type":"object"},"actions":{"type":["string"]},"processes":{"type":"object"},"credentials":{"type":"object"}},"validations":[],"relations":{},"acls":[],"methods":[]},"sourceFile":"loopback-boot#models#manager-host.js"},{"name":"LoadBalancer","config":{"dataSource":"proxy"},"definition":{"name":"LoadBalancer","base":"PersistedModel","idInjection":true,"properties":{"protocol":{"type":"string","default":"http"},"host":{"type":"string"},"port":{"type":"number"},"credentials":{"type":"object"}},"validations":[],"relations":{},"acls":[],"methods":[]},"sourceFile":"loopback-boot#models#load-balancer.js"}],"components":[],"mixins":[],"files":{"boot":[]}}
},{}],"loopback-boot#models#client\\models\\server-service.js":[function(require,module,exports){
var async=require("async"),request=require("request"),util=require("util");module.exports=function(n){function e(){var e=n.app.get("apiUrl");return util.format("%s/services/%s/deploy",e,this.id)}function r(n,e){var r=this.getDeployEndpoint(),t=request.put(r,{headers:{"content-type":n}});return t.on("response",function(n){e&&e(null,n),e=null}),t.on("error",function(n){e&&e(n),e=null}),t}function t(e){var r=n.app.get("apiUrl"),t=util.format("%s/services/%s/pack",r,this.id),i=request.get(t);i.on("response",function(n){e&&e(null,n),e=null}),i.on("error",function(n){e&&e(n),e=null})}function i(e){n.findById(this.id,e)}function s(n){function e(n,e){var r={order:["stopTime DESC","serviceInstanceId ASC","workerId ASC"]};n.processes(r,function(r,t){function i(e,r){e.displayId=util.format("%s.%s.%s",n.serverServiceId,n.executorId,e.pid),r(null,e)}return r?e(r):async.map(t,i,function(r,t){return r?e(r):void e(null,{instanceId:n.id,processes:t})})})}var r={};r.clientApiVersion=require("../../package.json").apiVersion,r.env=this.env,r.name=this.name,r.id=this.id,this.instances(function(t,i){if(t)return n(t);r.instances={};for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];if(o.containerVersionInfo){var a=o.containerVersionInfo.container;r.instances[o.id]={version:a.version,apiVersion:a.apiVersion,port:o.PMPort,restartCount:o.restartCount,agentVersion:o.agentVersion,nodeVersion:o.containerVersionInfo.node,driverMeta:o.containerVersionInfo.driverMeta,clusterSize:o.setSize}}}async.map(i,e,function(e,t){if(e)return n(e);r.processes=[];for(var i in t)t.hasOwnProperty(i)&&r.instances[t[i].instanceId]&&(r.processes=r.processes.concat(t[i].processes),r.instances[t[i].instanceId].numProcesses=t[i].processes.length);n(null,r)})})}function o(n){this.instances({limit:1},function(e,r){if(e)return n(e);if(1!==r.length)return n(Error("Unable to find instance"));var t=r[0];t.npmModuleList(n)})}n.prototype.getDeployEndpoint=e,n.prototype.deploy=r,n.prototype.getPack=t,n.prototype.refresh=i,n.prototype.getStatusSummary=s,n.prototype.npmModuleList=o};
},{"../../package.json":587,"async":3,"request":438,"util":594}],"loopback-boot#models#common\\models\\api.js":[function(require,module,exports){
module.exports=function(t){t.remoteMethod("shutdown",{http:{path:"/shutdown",verb:"post"},isStatic:!0,accepts:[],returns:{arg:"response",type:"object",root:!0},description:"Shutdown this server."}),t.remoteMethod("apiInfo",{http:{path:"/",verb:"get"},isStatic:!0,accepts:[],returns:{arg:"response",type:"Api",root:!0},description:"Get API information"})};
},{}],"loopback-boot#models#common\\models\\executor.js":[function(require,module,exports){
var os=require("os");module.exports=function(n){function e(){return os.hostname()}n.observe("before save",function(n,e){n.instance&&n.isNewInstance&&-1===n.instance.remainingCapacity&&(n.instance.remainingCapacity=n.instance.totalCapacity),e()}),n.definition.properties.hostname["default"]=e};
},{"os":392}],"loopback-boot#models#common\\models\\express-usage-record.js":[function(require,module,exports){
module.exports=function(t){t.remoteMethod("dailySummary",{isStatic:!0,http:{path:"/dailySummary",verb:"get"},accepts:[],returns:{arg:"summary",type:"object",root:!0},description:"Daily summary by endpoint"}),t.remoteMethod("hourlySummary",{isStatic:!0,http:{path:"/hourlySummary",verb:"get"},accepts:[{arg:"modelOrUri",required:!0,type:"string"}],returns:{arg:"summary",type:"object",root:!0},description:"Number of calls to endpoint/method summarized by hour for one day"}),t.remoteMethod("endpointDetail",{isStatic:!0,http:{path:"/endpointDetail",verb:"get"},accepts:[{arg:"modelOrUri",required:!0,type:"string"},{arg:"windowStartTime",required:!0,type:"date"}],returns:{arg:"summary",type:"object",root:!0},description:"Endpoint details for one hour"})};
},{}],"loopback-boot#models#common\\models\\service-instance.js":[function(require,module,exports){
module.exports=function(t){t.remoteMethod("statusSummary",{http:{path:"/status",verb:"get"},isStatic:!1,accepts:[],returns:{arg:"status",type:"object",root:!0},description:"Retrieve a summary status of the instance"}),t.remoteMethod("start",{http:{path:"/start",verb:"post"},isStatic:!1,accepts:[],returns:{arg:"response",type:"object",root:!0},description:"Start the application on the instance."}),t.remoteMethod("stop",{http:{path:"/stop",verb:"post"},isStatic:!1,accepts:[{arg:"options",required:!0,type:"object",http:{source:"body"}}],returns:{arg:"response",type:"object",root:!0},description:"Stop the application on the instance."}),t.remoteMethod("restart",{http:{path:"/restart",verb:"post"},isStatic:!1,accepts:[{arg:"options",required:!0,type:"object",http:{source:"body"}}],returns:{arg:"response",type:"object",root:!0},description:"Restart the application on the instance."}),t.remoteMethod("clusterSizeSet",{http:{path:"/resizeCluster",verb:"post"},isStatic:!1,accepts:[{arg:"options",required:!0,type:"object",http:{source:"body"}}],returns:{arg:"response",type:"object",root:!0},description:"Set cluster size to N workers."}),t.remoteMethod("objectTrackingStart",{http:{path:"/objectTrackingStart",verb:"post"},isStatic:!1,accepts:[{arg:"target",required:!0,type:"string",http:{source:"body"}}],returns:{arg:"response",type:"object",root:!0},description:"Start tracking objects on a worker."}),t.remoteMethod("objectTrackingStop",{http:{path:"/objectTrackingStop",verb:"post"},isStatic:!1,accepts:[{arg:"target",required:!0,type:"string",http:{source:"body"}}],returns:{arg:"response",type:"object",root:!0},description:"Stop tracking objects on a worker."}),t.remoteMethod("tracingStart",{http:{path:"/tracingStart",verb:"post"},isStatic:!1,returns:{arg:"response",type:"object",root:!0},description:"Restart all workers with tracing on."}),t.remoteMethod("tracingStop",{http:{path:"/tracingStop",verb:"post"},isStatic:!1,returns:{arg:"response",type:"object",root:!0},description:"Restart all workers with tracing off."}),t.remoteMethod("npmModuleList",{http:{path:"/npmModuleList",verb:"post"},isStatic:!1,accepts:[],returns:{arg:"response",type:"object",root:!0},description:"List npm modules"})};
},{}],"loopback-boot#models#common\\models\\service-process.js":[function(require,module,exports){
module.exports=function(t){t.remoteMethod("getMetaTransactions",{http:{path:"/getMetaTransactions",verb:"get"},isStatic:!1,returns:{arg:"metaTransactions",type:["string"],root:!0},description:"Retrieve a list of transaction endpoints"}),t.remoteMethod("getTransaction",{http:{path:"/getTransaction/:metaTransactionId",verb:"get"},isStatic:!1,accepts:[{arg:"metaTransactionId",required:!0,type:"string",http:{source:"path"}}],returns:{arg:"transaction",type:"object",root:!0},description:"Retrieve transaction data"}),t.remoteMethod("getTimeline",{http:{path:"/getTimeline/",verb:"get"},isStatic:!1,accepts:[],returns:{arg:"timeline",type:"object",root:!0},description:"Retrieve time line data"}),t.remoteMethod("getTrace",{http:{path:"/getTrace/:pfKey",verb:"get"},isStatic:!1,accepts:[{arg:"pfKey",required:!0,type:"string",http:{source:"path"}}],returns:{arg:"trace",type:"object",root:!0},description:"Retrieve trace data for a profile key (pfKey)"}),t.remoteMethod("stopObjectTracking",{http:{path:"/stopObjectTracking",verb:"post"},isStatic:!1,accepts:[],returns:{arg:"response",type:"object",root:!0},description:"Stop tracking objects on a process."}),t.remoteMethod("startObjectTracking",{http:{path:"/startObjectTracking",verb:"post"},isStatic:!1,accepts:[],returns:{arg:"response",type:"object",root:!0},description:"Start tracking objects on a process."}),t.remoteMethod("startCpuProfiling",{http:{path:"/startCpuProfiling",verb:"post"},isStatic:!1,accepts:[{arg:"options",required:!1,type:"object",http:{source:"body"},root:!0}],returns:{arg:"response",type:"object",root:!0},description:"Start CPU profiling on a process."}),t.remoteMethod("stopCpuProfiling",{http:{path:"/stopCpuProfiling",verb:"post"},isStatic:!1,accepts:[],returns:{arg:"response",type:"object",root:!0},description:"Stop CPU profiling on a process."}),t.remoteMethod("heapSnapshot",{http:{path:"/heapSnapshot",verb:"post"},isStatic:!1,accepts:[],returns:{arg:"response",type:"object",root:!0},description:"Take a snapshot of the HEAP for a process."}),t.remoteMethod("applyPatch",{http:{path:"/applyPatch",verb:"post"},isStatic:!1,accepts:[{arg:"patchData",required:!0,type:"object",http:{source:"body"},root:!0}],returns:{arg:"response",type:"object",root:!0},description:"Take a snapshot of the HEAP for a process."})};
},{}],"loopback-boot#models#common\\models\\service.js":[function(require,module,exports){
var debug=require("debug")("strong-mesh-models:common:service");module.exports=function(e){e.beforeRemote("create",function(e,t,s){debug("create with %j",e.args.data),delete e.args.data.deploymentInfo,delete e.args.data.startTime,s()}),e.setup=function(){e.base.setup.call(this),this.remoteMethod("deploy",{isStatic:!1,http:[{path:"/deploy/*",verb:"get"},{path:"/deploy/*",verb:"post"},{path:"/deploy/*",verb:"put"},{path:"/deploy",verb:"get"},{path:"/deploy",verb:"post"},{path:"/deploy",verb:"put"}],accepts:[{arg:"req",http:{source:"req"}},{arg:"res",http:{source:"res"}}],description:"Deploy service"}),this.remoteMethod("setEnv",{isStatic:!1,http:{path:"/env/:name",verb:"put"},accepts:[{arg:"name",type:"string",http:{source:"path"}},{arg:"value",required:!0,type:"string",http:{source:"body"}}],returns:{arg:"env",type:"object"},description:"Set environment variables"}),this.remoteMethod("setEnvs",{isStatic:!1,http:{path:"/env/",verb:"put"},accepts:[{arg:"env",required:!0,type:"object",http:{source:"body"},root:!0,description:"Key-value describing environment variables to add. A null value causes the variable to be removed"}],returns:{arg:"env",type:"object"},description:"Set multiple environment variables."}),this.remoteMethod("unsetEnv",{isStatic:!1,http:{path:"/env/:name",verb:"delete"},accepts:[{arg:"name",required:!0,type:"string",http:{source:"path"}}],returns:{arg:"env",type:"object"},description:"Unset environment variables"}),this.remoteMethod("getPack",{isStatic:!1,http:[{path:"/pack",verb:"get"}],accepts:{arg:"ctx",http:{source:"context"}}}),this.remoteMethod("downloadProfile",{isStatic:!1,http:{path:"/profileDatas/:profileId/download",verb:"get"},accepts:[{arg:"ctx",http:{source:"context"}}],description:"Download service profiling information"}),this.remoteMethod("start",{http:{path:"/start",verb:"post"},isStatic:!1,accepts:[],returns:{arg:"response",type:"object",root:!0},description:"Start the application on the instance."}),this.remoteMethod("stop",{http:{path:"/stop",verb:"post"},isStatic:!1,accepts:[{arg:"options",required:!0,type:"object",http:{source:"body"}}],returns:{arg:"response",type:"object",root:!0},description:"Stop the application on the instance."}),this.remoteMethod("restart",{http:{path:"/restart",verb:"post"},isStatic:!1,accepts:[{arg:"options",required:!0,type:"object",http:{source:"body"}}],returns:{arg:"response",type:"object",root:!0},description:"Restart the application on the instance."}),this.remoteMethod("logDump",{http:{path:"/logs",verb:"post"},isStatic:!1,accepts:[],returns:{arg:"response",type:"object",root:!0},description:"Retrieve logs for the application."}),this.remoteMethod("setClusterSize",{http:{path:"/setClusterSize",verb:"post"},isStatic:!1,accepts:[{arg:"size",required:!0,type:"any"},{arg:"persist",required:!0,type:"boolean"}],returns:{arg:"response",type:"object",root:!0},description:"Set cluster size"}),this.disableRemoteMethod("__delete__actions"),this.disableRemoteMethod("__destroyById__actions"),this.disableRemoteMethod("__updateById__actions"),this.disableRemoteMethod("__delete__instances"),this.disableRemoteMethod("__create__instances"),this.disableRemoteMethod("__destroyById__instances"),this.disableRemoteMethod("__updateById__instances"),this.disableRemoteMethod("__delete__executors"),this.disableRemoteMethod("__create__executors"),this.disableRemoteMethod("__destroyById__executors"),this.disableRemoteMethod("__updateById__executors"),this.disableRemoteMethod("__unlink__executors"),this.disableRemoteMethod("__link__executors"),this.disableRemoteMethod("__exists__executors"),this.disableRemoteMethod("__delete__profileDatas"),this.disableRemoteMethod("__create__profileDatas"),this.disableRemoteMethod("__destroyById__profileDatas"),this.disableRemoteMethod("__updateById__profileDatas"),this.disableRemoteMethod("__delete__groups"),this.disableRemoteMethod("__create__groups"),this.disableRemoteMethod("__destroyById__groups"),this.disableRemoteMethod("__updateById__groups")}};
},{"debug":53}],"loopback-boot#models#load-balancer.js":[function(require,module,exports){
module.exports=function(o){};
},{}],"loopback-boot#models#manager-host.js":[function(require,module,exports){
var PMClient=require("strong-mesh-models").Client;module.exports=function(t){t.remoteMethod("action",{isStatic:!1,accepts:[{arg:"request",type:"object"}],returns:{arg:"result",type:"object",root:!0}}),t.prototype.toURL=function(){return this.protocol+"://"+this.host+":"+this.port},t.prototype.getPMClient=function(){return new PMClient(this.toURL(),{appBrowserifyId:"meshClient"})}};
},{"strong-mesh-models":"strong-mesh-models"}],"strong-mesh-client":[function(require,module,exports){
(function (__dirname){
var loopback=require("loopback"),boot=require("loopback-boot"),EventEmitter=require("events").EventEmitter;module.exports=function(e,t){var o=loopback();t=t||{},o.dataSource("proxy",{connector:"remote",url:e});var r=Primus.connect(e,t.primus),n=o.notifications=new EventEmitter;return r.on("data",function(e){e.event&&n.emit(e.event,e.data)}),boot(o,__dirname),o};
}).call(this,"/")

},{"events":84,"loopback":172,"loopback-boot":102}],"strong-mesh-models":[function(require,module,exports){
exports.Client=require("./client/client"),exports.meshServer=require("./server/server"),exports.ServiceManager=require("./server/service-manager"),exports.auth=require("./server/auth");
},{"./client/client":585,"./server/auth":588,"./server/server":589,"./server/service-manager":590}]},{},[])


//# sourceMappingURL=./client.map.json