start
  = waterfall*

waterfall
  = (node / leaf)
  / wait

wait
 = '~' { return 'wait' }

leaf
  = '<' id:id '>' { return {id: id} }

node
  = '<' id:id inner:(node / leaf)+ id '>' { return {id: id, children: inner}}

id
  = id:baseid visit* { return id }

visit
  = '{' [0-9]+ '}'

baseid
  = letters:([0-9] / [a-z])+ { return letters.join('');}
